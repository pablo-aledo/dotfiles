snippet 3d 3d-cone
	% 3D Cone
	% Author: Gene Ressler. Adapted to TikZ by Kjell Magne Fauske.
	% See http://www.frontiernet.net/~eugene.ressler/ for more details.
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: 3D cone
	:Tags: 3D, Transparency
	
	An annotated three dimensional drawing with transparency effects. The code has been
	generated using Sketch_. Sketch is a small, simple system for producing line drawings 
	of two- or three-dimensional solid objects and scenes. Sketch accepts a tiny scene 
	description language and generates PGF/TikZ or PSTricks code. 
	Sketch also supports hidden surface removal and its easy to embed TikZ and LaTeX code 
	in your drawings.
	
	The Sketch code used to generate the drawing is available for download_. 
	A detailed description_ of the code can be found in the Sketch manual_.
	
	**Update:** Read more about Sketch in my notebook entry: `An introduction to Sketch 3D 
	for PGF and TikZ users`__. 
	
	.. __: http://www.fauskes.net/nb/introduction-to-sketch/
	
	:Author: Gene Ressler. Adapted to TikZ by Kjell Magne Fauske.
	
	.. _Sketch: http://www.frontiernet.net/~eugene.ressler/
	.. _description: http://www.frontiernet.net/~eugene.ressler/manual.html#A-technical-drawing
	.. _manual: http://www.frontiernet.net/~eugene.ressler/manual.html
	.. _download: http://www.fauskes.net/media/pgftikzexamples/data/cone.sk
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	% The following code is generated by Sketch. I have edited it a bit
	% to make it easier to read.
	\begin{tikzpicture}[join=round]
	    \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
	    \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
	    \tikzstyle{ghostfill} = [fill=white]
	         \tikzstyle{ghostdraw} = [draw=black!50]
	    \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
	                        --(-.183,2.067)--cycle;
	    \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
	                        --(.516,2.016)--cycle;
	    \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
	                        --(.913,1.8)--cycle;
	    \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
	                        --(-.775,1.922)--cycle;
	    \draw(1.461,.107)--(1.734,.127);
	    \draw[arrows=<->](1.643,1.853)--(1.643,.12);
	    \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
	                        --(.775,1.545)--cycle;
	    \draw[arrows=->,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
	    \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
	    \draw[arrows=->,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
	    \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
	                        --(-.913,1.667)--cycle;
	    \draw(-1.369,.073)--(-1.369,2.76);
	    \draw(1.004,1.807)--(1.734,1.86);
	    \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
	                        --(.183,1.4)--cycle;
	    \draw[arrows=<->](0,2.34)--(-.913,2.273);
	    \draw(-.913,1.84)--(-.913,2.447);
	    \draw[arrows=<->](0,2.687)--(-1.369,2.587);
	    \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
	                        --(-.516,1.45)--cycle;
	    \draw[arrows=<-,line width=.4pt](.42,-.767)--(.274,-.5);
	    \node[ann] at (-.456,2.307) {$r_0$};
	    \node[ann] at (-.685,2.637) {$r_1$};
	    \node[ann] at (1.643,.987) {$h$};
	    \path (.42,-.767) node[below] {$x$}
	        (0,2.86) node[above] {$y$}
	        (-2.1,-.153) node[left] {$z$};
	    % Second version of the cone
	    \begin{scope}[xshift=3.5cm]
	    \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
	                                   --(-.183,2.067)--cycle;
	    \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424) 
	                                   --(.516,2.016)--cycle;
	    \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
	                                   --(.913,1.8)--cycle;
	    \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
	                                   --(-.775,1.922)--cycle;
	    \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
	                                   --(.775,1.545)--cycle;
	    \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
	                                   --(-.913,1.667)--cycle;
	    \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
	                                   --(.183,1.4)--cycle;
	    \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
	                                         --(.183,1.4)--cycle;
	    \fill(-.775,-.424) circle (2pt);
	    \fill(.274,-.5) circle (2pt);
	    \fill(-.516,1.45) circle (2pt);
	    \fill(.183,1.4) circle (2pt);
	    \path[font=\footnotesize]
	            (.913,1.8) node[right] {$i\hbox{$=$}0$}
	            (1.369,.1) node[right] {$i\hbox{$=$}1$};
	    \path[font=\footnotesize]
	            (-.645,.513) node[left] {$j$}
	            (.228,.45) node[right] {$j\hbox{$+$}1$};
	    \draw (-.209,.482)+(-60:.25) [yscale=1.3,->] arc(-60:240:.25);
	    \fill[black,font=\footnotesize]
	                    (-.516,1.45) node [above] {$P_{00}$}
	                    (-.775,-.424) node [below] {$P_{10}$}
	                    (.183,1.4) node [above] {$P_{01}$}
	                    (.274,-.5) node [below] {$P_{11}$};
	    \end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet 3d 3d-graph-model
	% Author: Andreas Menge
	\documentclass[10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: A simple graph-model in 3D
	:slug: 3d-graph-model
	
	A simple graph-model in 3D with a helping grid but not with a rotation of 45 degrees to avoid overlapping edges. The graph lines are drawn with a white background to visualize the ones closer to the viewer and hence improve the 3D-view. Code duplication is reduced.
	\end{comment}
	
	%transforms all coordinates the same way when used (use it within a scope!)
	%(rotation is not 45 degress to avoid overlapping edges)
	% Input: point of origins x and y coordinate
	\newcommand{\myGlobalTransformation}[2]
	{
	    \pgftransformcm{1}{0}{0.4}{0.5}{\pgfpoint{#1cm}{#2cm}}
	}
	
	% draw a 4x4 helper grid in 3D
	% Input: point of origins x and y coordinate and additional drawing-parameters
	\newcommand{\gridThreeD}[3]
	{
	    \begin{scope}
	        \myGlobalTransformation{#1}{#2};
	        \draw [#3,step=2cm] grid (8,8);
	    \end{scope}
	}
	
	\tikzstyle myBG=[line width=3pt,opacity=1.0]
	
	% draws lines with white background to show which lines are closer to the
	% viewer (Hint: draw from bottom up and from back to front)
	%Input: start and end point
	\newcommand{\drawLinewithBG}[2]
	{
	    \draw[white,myBG]  (#1) -- (#2);
	    \draw[black,very thick] (#1) -- (#2);
	}
	
	% draws all horizontal graph lines within grid
	\newcommand{\graphLinesHorizontal}
	{
	    \drawLinewithBG{1,1}{7,1};
	    \drawLinewithBG{1,3}{7,3};
	    \drawLinewithBG{1,5}{7,5};
	    \drawLinewithBG{1,7}{7,7};
	}
	
	% draws all vertical graph lines within grid
	\newcommand{\graphLinesVertical}
	{
	    %swaps x and y coordinate (hence vertical lines):
	    \pgftransformcm{0}{1}{1}{0}{\pgfpoint{0cm}{0cm}}
	    \graphLinesHorizontal;
	}
	
	%draws nodes of the grid
	%Input: point of origins x and y coordinate
	\newcommand{\graphThreeDnodes}[2]
	{
	    \begin{scope}
	        \myGlobalTransformation{#1}{#2};
	        \foreach \x in {1,3,5,7} {
	            \foreach \y in {1,3,5,7} {
	                \node at (\x,\y) [circle,fill=black] {};
	                %this way circle of nodes will not be transformed
	            }
	        }
	    \end{scope}
	}
	
	
	\begin{document}
	\pagestyle{empty}
	
	
	\begin{tikzpicture}
	
	    %draws helper-grid:
	    \gridThreeD{0}{0}{black!50};
	    \gridThreeD{0}{4.25}{black!50};
	
	    %draws lower graph lines and those in z-direction:
	    \begin{scope}
	        \myGlobalTransformation{0}{0};
	        \graphLinesHorizontal;
	
	        %draws all graph lines in z-direction (reset transformation first!):
	        \foreach \x in {1,3,5,7} {
	            \foreach \y in {1,3,5,7} {
	                \node (thisNode) at (\x,\y) {};
	                {
	                    \pgftransformreset
	                    \draw[white,myBG]  (thisNode) -- ++(0,4.25);
	                    \draw[black,very thick] (thisNode) -- ++(0,4.25);
	                }
	            }
	        }
	    \end{scope}
	
	    %draws upper graph-lines:
	    \begin{scope}
	        \myGlobalTransformation{0}{4.25};
	        \graphLinesVertical;
	    \end{scope}
	
	    % draws all graph nodes:
	    \graphThreeDnodes{0}{0};
	    \graphThreeDnodes{0}{4.25};
	
	\end{tikzpicture}
	
	\end{document}
snippet circuitikz 4-bit-counter
	% Synchronous 4-bit counter circuit using JK-flip-flops
	% Author: Henri Menke
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Synchronous 4-Bit counter circuit using JK-flip-flops
	:Tags: Circuitikz;Electrical Engineering
	:Author: Henri Menke
	:Slug: 4-bit-counter
	
	The circuitikz package provides macros for typesetting electrical and
	electronical networks. Here it's used to draw a 4-bit counter
	circuit. It's a synchronous counter, i.e. the circuit is synchronized by a
	clock signal. The counter is built using JK-flip-flops. A flip-flop is is a
	circuit with two stable states, useful for storing state information.
	\end{comment}
	\usetikzlibrary{calc,arrows}
	\usepackage[european]{circuitikz}
	\begin{document}
	\def\JKFF(#1)#2#3{%
	  \begin{scope}[shift={(#1)}]
	    \draw (0,0) rectangle (1,1);
	    \draw (0.5,1) -- (0.5,0);
	    \draw (0.5,0.5) -- (1,0.5);
	    \node at (0.75,0.75) {$Q$};
	    \node at (0.75,0.25) {$\bar{Q}$};
	    \draw (1,0.8) -- +(0.25,0) coordinate (#2 Q);
	    \draw (0,0.2) node[right] {$K$} -- +(-0.25,0) coordinate (#2 K);
	    \draw (0,0.5) node[right] {$T$} -- +(-0.25,0) coordinate (#2 T);
	    \draw (0,0.8) node[right] {$J$} -- +(-0.25,0) coordinate (#2 J);
	  \end{scope}
	}
	\begin{tikzpicture}[every path/.style={},>=triangle 45]
	    % Place the JK-Flip-Flops
	  \JKFF(0,0){a}{$Q_0$}
	  \JKFF(2,0){b}{$Q_1$}
	  \JKFF(5.5,0){c}{$Q_2$}
	  \JKFF(9,0){d}{$Q_3$}
	  % Connect all the K and J ports
	  \draw (a K) to[short,-*] (a J);
	  \draw (b K) to[short,-*] (b J);
	  \draw (c K) to[short,-*] (c J);
	  \draw (d K) to[short,-*] (d J);
	  % Connect the T ports to the incoming signal
	  \draw (-1,-1) node[ocirc,label={left:$E$}] (E) {};
	  \draw (a T) -- ++(-0.2,0) coordinate (inter) -|
	    (E -| inter) node[circ] {};
	  \draw (b T) -- ++(-0.2,0) coordinate (inter) -|
	    (E -| inter) node[circ] {};
	  \draw (c T) -- ++(-0.2,0) coordinate (inter) -|
	    (E -| inter) node[circ] {};
	  \draw (d T) -- ++(-0.2,0) coordinate (inter) -|
	    (E -| inter) node[circ] {} -- (E);
	  % Place the bits and the +
	  \draw[->] (a J) -- ++(0,1) node[left] {$+$};
	  \draw (a Q) to[short] ++(0,2) node[ocirc,label={left:Bit 0}] (bit0) {};
	  \draw (b Q) to[short] ++(0,2) node[ocirc,label={left:Bit 1}] (bit1) {};
	  \draw (c Q) to[short] ++(0,2) node[ocirc,label={left:Bit 2}] (bit2) {};
	  \draw (d Q) to[short] ++(0,2) node[ocirc,label={left:Bit 3}] (bit3) {};
	  % AND ports
	  \draw (c J) |- ++(-0.2,0.5) node[and port] (c and) {};
	  \draw (d J) |- ++(-0.2,1.5) node[and port] (d and) {};
	  % Output connections
	  \draw (b J) to[short,-*] (a Q);
	  \draw (c and.in 2) to[short,-*] (c and.in 2 -| bit1);
	  \draw (c and.in 1) to[short,-*] (c and.in 1 -| bit0);
	  \draw (d and.in 2) to[short,-*] (d and.in 2 -| bit2);
	  \draw (d and.in 1) to[short,-*] (d and.in 1 -| bit0);
	  % I had to guess this connection, because the and port doesn't
	  % have additional anchors
	  \draw ($(d and.in 2)!0.5!(d and.in 1)+(0.4,0)$) coordinate (help)
	    to[short,-*] (help -| bit1);
	\end{tikzpicture}
	\end{document}
snippet calendar a-calender-for-doublesided-din-a4
	% DIN-A4 doublesided year calendar
	% Author: Robert Krause
	% License : Creative Commons attribution license
	% Submitted to TeXample.net on 13 July 2012
	\documentclass[landscape,a4paper, ngerman, 10pt]{scrartcl}
	\usepackage[utf8]{inputenc}
	\usepackage[ngerman]{babel}
	\usepackage[T1]{fontenc}
	\usepackage{tikz} 			% Use the calendar.sty style
	
	\usepackage{translator}	% German Month and Day names
	\usepackage{fancyhdr}		% header and footer
	\usepackage{fix-cm}		% Large year in header
	
	\usepackage[landscape, headheight = 2cm, margin=.5cm,
	  top = 3.2cm, nofoot]{geometry}
	\usetikzlibrary{calc}
	\usetikzlibrary{calendar}
	%%%<
	\usepackage{verbatim}
	\usepackage[tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A calender for doublesided DIN-A4
	Tags: Calendar library;Calendars
	:Author: Robert Krause
	
	An example how the calendar package can be used to provide
	an doublesided calendar for the whole year.
	\end{comment}
	
	\renewcommand*\familydefault{\sfdefault}
	
	% User defined
	\def\year{2013}
	% Names of Holidays are inserted by employing this macro
	\def\termin#1#2{
	  \node [anchor=north west, text width= 3.4cm] at
	    ($(cal-#1.north west)+(3em, 0em)$) {\tiny{#2}};
	}
	
	%Header
	\renewcommand{\headrulewidth}{0.0pt}
	\setlength{\headheight}{10ex}
	\chead{
	  \fontsize{60}{70}\selectfont\textbf{\year}
	  \Large\textbf{Ferienkalender}\hfill
	}
	%Footer
	\cfoot{\footnotesize\texttt{http://www.texample.net/}}
	
	
	
	\begin{document}
	\pagestyle{fancy}
	\begin{center}
	\begin{tikzpicture}[every day/.style={anchor = north}]
	\calendar[
	  dates=\year-01-01 to \year-06-30,
	  name=cal,
	  day yshift = 3em,
	  day code=
	  {
	    \node[name=\pgfcalendarsuggestedname,every day,shape=rectangle,
	    minimum height= .53cm, text width = 4.4cm, draw = gray]{\tikzdaytext};
	    \draw (-1.8cm, -.1ex) node[anchor = west]{\footnotesize%
	      \pgfcalendarweekdayshortname{\pgfcalendarcurrentweekday}};
	  },
	  execute before day scope=
	  {
	    \ifdate{day of month=1}
	    {
	      % Shift right
	      \pgftransformxshift{4.8cm}
	      % Print month name 
	      \draw (0,0)node [shape=rectangle, minimum height= .53cm,
	        text width = 4.4cm, fill = red, text= white, draw = red, text centered]
	        {\textbf{\pgfcalendarmonthname{\pgfcalendarcurrentmonth}}};
	    }{}
	    \ifdate{workday}
	    {
	      % normal days are white
	      \tikzset{every day/.style={fill=white}}
	      % Vacation (Germany, Baden-Wuerrtemberg) gray background
	      \ifdate{between=2012-12-24 and 2013-01-05}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	      \ifdate{between=2013-03-25 and 2013-04-05}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	      \ifdate{between=2013-05-21 and 2013-06-01}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	      \ifdate{between=2013-07-25 and 2013-09-07}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	      \ifdate{between=2013-10-28 and 2013-10-30}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	      \ifdate{between=2013-12-23 and 2014-01-04}{%
	        \tikzset{every day/.style={fill=gray!30}}}{}
	    }{}
	    % Saturdays and half holidays (Christma's and New year's eve)
	    \ifdate{Saturday}{\tikzset{every day/.style={fill=red!10}}}{}
	    \ifdate{equals=12-24}{\tikzset{every day/.style={fill=red!10}}}{}
	    \ifdate{equals=12-31}{\tikzset{every day/.style={fill=red!10}}}{}
	    % Sundays and full holidays
	    \ifdate{Sunday}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=01-01}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=01-06}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=05-01}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=10-03}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=11-01}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=12-25}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=12-26}{\tikzset{every day/.style={fill=red!20}}}{}
	    % Christian holidays
	    \ifdate{equals=2013-03-29}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=2013-04-01}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=2013-05-09}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=2013-05-20}{\tikzset{every day/.style={fill=red!20}}}{}
	    \ifdate{equals=2013-05-30}{\tikzset{every day/.style={fill=red!20}}}{}
	  },
	 execute at begin day scope=
	  {
	    % each day is shifted down according to the day of month
	    \pgftransformyshift{-.53*\pgfcalendarcurrentday cm}
	  }
	];
	
	% Print name of Holidays
	\termin{\year-01-01}{Neujahr}
	\termin{\year-01-06}{Heilige Drei Könige}
	\termin{2013-03-29}{Karfreitag}
	\termin{2013-03-31}{Ostersonntag}
	\termin{2013-04-01}{Ostermontag}
	\termin{\year-05-01}{Tag der Arbeit}
	\termin{2013-05-09}{Christi Himmelfahrt}
	\termin{2013-05-19}{Pfingstsonntag}
	\termin{2013-05-20}{Pfingstmontag}
	\termin{2013-05-30}{Fronleichnam}
	\end{tikzpicture}
	% Repeat the whole thing for the second page
	\pagebreak
	\begin{tikzpicture}[every day/.style={anchor = north}]
	\calendar[dates=\year-07-01 to \year-12-31,
	  name=cal,
	  day yshift = 3em,
	  day code=
	  {
	    \node[name=\pgfcalendarsuggestedname,every day,shape=rectangle, 
	      minimum height= .53cm, text width = 4.4cm, draw = gray]{\tikzdaytext};
	    \draw (-1.8cm, -.1ex) node[anchor = west]
	    {
	      \footnotesize\pgfcalendarweekdayshortname{\pgfcalendarcurrentweekday}
	    };
	  },
	  execute before day scope=
	  {
	    \ifdate{day of month=1} {
	    % Shift right
	    \pgftransformxshift{4.8cm}
	    % Print month name 
	    \draw (0,0)node [shape=rectangle, minimum height= .53cm, 
	      text width = 4.4cm, fill = red, text= white, draw = red, text centered]
	    {
	      \textbf{\pgfcalendarmonthname{\pgfcalendarcurrentmonth}}
	    };
	  }{}
	  \ifdate{workday}
	  {
	    \tikzset{every day/.style={fill=white}}
	    % Vacation (Germany Baden-Wuerrtemberg)
	    \ifdate{between=2012-12-24 and 2013-01-05}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	    \ifdate{between=2013-03-25 and 2013-04-05}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	    \ifdate{between=2013-05-21 and 2013-06-01}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	    \ifdate{between=2013-07-25 and 2013-09-07}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	    \ifdate{between=2013-10-28 and 2013-10-30}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	    \ifdate{between=2013-12-23 and 2014-01-04}{%
	      \tikzset{every day/.style={fill=gray!30}}}{}
	  }{}
	  % Saturdays and half holidays (Christma's and New year's eve)
	  \ifdate{Saturday}{\tikzset{every day/.style={fill=red!10}}}{}
	  \ifdate{equals=12-24}{\tikzset{every day/.style={fill=red!10}}}{}
	  \ifdate{equals=12-31}{\tikzset{every day/.style={fill=red!10}}}{}
	  % Sundays and full holidays
	  \ifdate{Sunday}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=01-01}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=01-06}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=05-01}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=10-03}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=11-01}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=12-25}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=12-26}{\tikzset{every day/.style={fill=red!20}}}{}
	  % Christian holidays
	  \ifdate{equals=2013-03-29}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=2013-04-01}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=2013-05-09}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=2013-05-20}{\tikzset{every day/.style={fill=red!20}}}{}
	  \ifdate{equals=2013-05-30}{\tikzset{every day/.style={fill=red!20}}}{}
	  },
	  execute at begin day scope=
	  {
	   % Each day is shifted down according to the day of month
	    \pgftransformyshift{-.53*\pgfcalendarcurrentday cm}
	  }
	];
	% Holidaynames
	\termin{\year-10-03}{Tag der deutschen Einheit}
	\termin{\year-11-01}{Allerheiligen}
	\termin{\year-12-24}{Heilig Abend}
	\termin{\year-12-25}{1.\ Weihnachtsfeiertag}
	\termin{\year-12-26}{2.\ Weihnachtsfeiertag}
	\termin{\year-12-31}{Silvester}
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet electrical ac-drive-components
	% Generalized diagram of different components inside an AC drive
	% with voltage intermediate circuit
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: AC drive components
	:Tags: Electrical engineering;Chains;circuitikz
	:Author: Erno Pentzin
	:Slug: ac-drive-components
	
	Generalized diagram of different components inside an AC drive
	with voltage intermediate circuit
	\end{comment}
	\usepackage[europeanresistors,americaninductors]{circuitikz}
	\usetikzlibrary{chains}
	\renewcommand*{\familydefault}{\sfdefault}
	\begin{document}
	
	\begin{tikzpicture}[
		start chain=going right,
		box/.style={
			on chain,join,draw,
			minimum height=3cm,
			text centered,
			minimum width=2cm,
		},
		every join/.style={ultra thick},
		node distance=5mm
	]
	
	\node [on chain] {AC in}; % Chain starts here
	
	\node [box,xshift=5mm,label=above:Rectifier] (rec) {
		\begin{circuitikz}
			\draw (0,0) to[Do] (0,2);
		\end{circuitikz}
	};
	
	\node [on chain,join,draw, 
		text width=1cm,
		minimum width=4cm,
		minimum height=1.6cm,
		label=above:Intermediate circuit,
	] (ic) {
		\begin{circuitikz}[american voltages]
			\draw (0,0) to[pC,v>=$ $] (0,2);
		\end{circuitikz}
	};
	
	\node [box,label=above:Inverter] (inv) {
		\begin{circuitikz}
			\draw (0,0) node[nigbt] {};
		\end{circuitikz}
	};
	
	\node [on chain,join,xshift=5mm]{AC out};
	% Chain ends here
	
	% CU box
	\node [
		rectangle,draw,
		below=5mm of ic,
		minimum width=10cm,
		minimum height=1cm,
	] (cu) {\textbf{Control unit}};
	
	% PU box
	\node [
		rectangle,draw,
		above=2mm of cu,
		minimum width=10cm,
		minimum height=4cm,
		label=\textbf{Power unit},
	] (pu) {};
	
	% Connections between CU and PU
	\draw[<->] (rec.south) -- ++(0,-5mm);
	\draw[<->] (cu.north) to (ic.south);
	\draw[<->] (inv.south) -- ++(0,-5mm);
	
	\end{tikzpicture}
	
	\end{document}
snippet electrical ac-drive-dtc
	% The direct torque control (DTC) method and the voltage vectors.
	% Adapted from the figure in the handout by Jorma Luomi (2009).
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Direct torque control of AC drive
	:Tags: Electrical engineering;decorations;markings
	:Author: Erno Pentzin
	:Slug: ac-drive-dtc
	
	The direct torque control (DTC) method and the voltage vectors.
	Adapted from the figure in the handout by Jorma Luomi (2009).
	\end{comment}
	\usetikzlibrary{decorations.markings}
	\begin{document}
	
	\begin{tikzpicture}[
		path/.style={
			->,
			>=stealth,
		},
		decoration={
			markings,
			mark=at position 0.59cm*1 with {\arrow[black]{stealth}},
			mark=at position 0.59cm*2 with {\arrow[black]{stealth}},
			mark=at position 0.59cm*3 with {\arrow[black]{stealth}},
			mark=at position 0.59cm*4 with {\draw (0,0) circle;},
			mark=at position 0.6cm*5-0.01cm with {\arrow[black]{stealth}},
			mark=at position 6mm*6-0.1 with {\arrow[black]{stealth}},
			mark=at position 7*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 8*6mm-0.1 with {\draw (0,0) circle;},
			mark=at position 9*6mm-0.1 with {\draw (0,0) circle;},
			mark=at position 10*6mm-0.1 with {\draw (0,0) circle;},
			mark=at position 11*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 12*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 13*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 14*6mm-0.1 with {\draw (0,0) circle;},
			mark=at position 15*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 16*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 17*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 18*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 19*6mm-0.1 with {\draw (0,0) circle;},
			mark=at position 20*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 21*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 22*6mm-0.1 with {\arrow[black]{stealth}},
			mark=at position 23*6mm-0.1 with {\draw (0,0) circle;},
		},
		radius=1pt,
	]
	
	% outer circle
	\draw[dashed] (4,0) arc (0:180:4);
	\draw[dashed] (4,0) arc (0:-30:4);
	\draw[dashed] (-4,0) arc (180:210:4);
	
	% inner circle
	\draw[dashed] (3.5,0) arc (0:180:3.5);
	\draw[dashed] (3.5,0) arc (0:-30:3.5);
	\draw[dashed] (-3.5,0) arc (180:210:4);
	
	% voltage vectors
	\foreach \x in {0,60,120,180,240,300}
		\draw[->,thick] (0,0) to (\x:1);
	
	% labels
	\foreach \x/\xtext in {0/1,60/2,120/3,180/4,240/5,300/6}
		\draw (\x:1.3) node {$\underline{u}_\xtext$};
	
	% sector dividers
	\foreach \x in {30,90,150,210,270,330}
		\draw[dotted] (0,0) -- (\x:2);
	
	% path of the stator flux
	\draw[path] (0,0) -- (20:3.5); % initial flux
	\draw[path,postaction=decorate] (20:3.5) -- ++(60:0.6) --
		++(120:0.6) -- ++(180:0.6) -- ++(120:0.6*2) --
		++(180:0.6) -- ++(120:0.6) -- ++(180:0.6*4) --
		++(240:0.6) -- ++(180:0.6) -- ++(240:0.6*2) --
		++(180:0.6) -- ++(240:0.6) -- ++(300:0.6) --
		++(240:0.6*2) -- ++(300:0.6) -- ++(240:0.6) --
		++(300:0.6*2);
	\end{tikzpicture}
	
	\end{document}
snippet electrical ac-drive-voltage
	% Behaviour of the stator voltage and the RMS-value of the stator
	% flux as a function of speed in scalar control.
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{amsmath} % Required for \varPsi below
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: AC drive voltage flux control
	:Tags: Electrical engineering;Plotting;Basics
	:Author: Erno Pentzin
	:Slug: ac-drive-voltage
	
	Behaviour of the stator voltage and the RMS-value of the stator
	flux as a function of speed in scalar control. Adapted from the
	figure in the handout by Jorma Luomi and Asko Niemenmaa (2011).
	\end{comment}
	\begin{document}
	
	\begin{tikzpicture}
	
	% horizontal axis
	\draw[->] (0,0) -- (6,0) node[anchor=north] {$f/f_N$};
	% labels
	\draw	(0,0) node[anchor=north] {0}
			(2,0) node[anchor=north] {1}
			(4,0) node[anchor=north] {2};
	% ranges
	\draw	(1,3.5) node{{\scriptsize Constant flux}}
			(4,3.5) node{{\scriptsize Field weakening}};
	
	% vertical axis
	\draw[->] (0,0) -- (0,4) node[anchor=east] {$U_s,\varPsi_s$};
	% nominal speed
	\draw[dotted] (2,0) -- (2,4);
	
	% Us
	\draw[thick] (0,0) -- (2,2) -- (6,2);
	\draw (1,1.5) node {$U_s$}; %label
	
	% Psis
	\draw[thick,dashed] (0,3) -- (2,3) parabola[bend at end] (6,1);
	\draw (2.5,3) node {$\varPsi_s$}; %label
	
	\end{tikzpicture}
	
	\end{document}
snippet actor actor-transaction-diagram
	%
	%  Actor Transaction Diagram
	%
	%  Created by Gabor Tjong A Hung on 2008-10-28.
	%  Copyright (c) 2008. All rights reserved.
	%
	\documentclass[]{article}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Actor Transaction Diagram
	
	A sample of a global Actor Transaction Diagram or ATD of the 
	`Design & Engineering Methodology for Organizations (DEMO) methodology`__. 
	The most interesting part of the example is the definition of the custom 
	``square`` arrow the and ``diamond in circle`` node shape.
	
	**Note**: The ``square`` arrow is now available in the CVS version of PGF. 
	In the example the arrow shape has been renamed to ``squarea`` to avoid conflict.
	
	.. __: http://softwaredesign.nl/index.php?pageID=28
	\end{comment}
	
	\usepackage{booktabs}
	\usepackage{tikz}
	
	\usetikzlibrary{arrows,positioning,fit,shapes,calc}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% A square shaped arrow
	% The arrow has been renamed to squarea to avoid conflict with the square arrow
	% defined in the CVS version of PGF
	
	\newdimen\arrowsize
	\pgfarrowsdeclare{squarea}{squarea}
	{
	  \arrowsize=0.4pt
	  \advance\arrowsize by.275\pgflinewidth%
	  \pgfarrowsleftextend{+-\arrowsize}
	  \advance\arrowsize by.5\pgflinewidth
	  \pgfarrowsrightextend{+\arrowsize}
	}
	{
	  \arrowsize=0.4pt
	  \advance\arrowsize by.275\pgflinewidth%
	  \pgfsetdash{}{+0pt}
	  \pgfsetroundjoin
	  \pgfpathmoveto{\pgfqpoint{1\arrowsize}{4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{-7\arrowsize}{4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{-7\arrowsize}{-4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{1\arrowsize}{-4\arrowsize}}
	  \pgfpathclose
	  \pgfusepathqfillstroke
	}
	% A open square shaped arrow
	
	\pgfarrowsdeclare{open squarea}{open squarea}%{{-.5bp}{8.5bp}}
	{
	  \arrowsize=0.4pt
	  \advance\arrowsize by.275\pgflinewidth%
	  \pgfarrowsleftextend{+-.5\pgflinewidth}
	  \advance\arrowsize by7\arrowsize
	  \advance\arrowsize by.5\pgflinewidth
	  \pgfarrowsrightextend{+\arrowsize}
	}
	{
	  \arrowsize=0.4pt
	  \advance\arrowsize by.275\pgflinewidth%
	  \pgfsetdash{}{+0pt}
	  \pgfsetroundjoin
	  \pgfpathmoveto{\pgfqpoint{8\arrowsize}{4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{0\arrowsize}{4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{0\arrowsize}{-4\arrowsize}}
	  \pgfpathlineto{\pgfqpoint{8\arrowsize}{-4\arrowsize}}
	  \pgfpathclose
	  \pgfusepathqstroke
	}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% A circle and diamond shape
	\makeatletter
	\newdimen\tempa
	\newdimen\tempb
	\pgfdeclareshape{diamond in circle}{
	\inheritsavedanchors[from=diamond] % this is a diamond
	\inheritsavedanchors[from=circle] % this is a circle
	\inheritanchorborder[from=circle]
	\inheritanchor[from=circle]{center}
	\inheritanchor[from=circle]{radius}
	\inheritanchor[from=circle]{north}
	\inheritanchor[from=circle]{south}
	\inheritanchor[from=circle]{east}
	\inheritanchor[from=circle]{west}
	\inheritanchor[from=circle]{anchorborder}
	  \saveddimen\radius{%
	    %
	    % Caculate ``height radius''
	    %
	    \pgf@ya=.5\ht\pgfnodeparttextbox%
	    \advance\pgf@ya by.5\dp\pgfnodeparttextbox%
	    \pgfmathsetlength\pgf@yb{\pgfkeysvalueof{/pgf/inner ysep}}%
	    \advance\pgf@ya by\pgf@yb%
	    %
	    % Caculate ``width radius''
	    %
	    \pgf@xa=.5\wd\pgfnodeparttextbox%
	    \pgfmathsetlength\pgf@xb{\pgfkeysvalueof{/pgf/inner xsep}}%
	    \advance\pgf@xa by\pgf@xb%
	    %
	    % Calculate length of radius vector:
	    %
	    \pgf@process{\pgfpointnormalised{\pgfqpoint{\pgf@xa}{\pgf@ya}}}%
	    \ifdim\pgf@x>\pgf@y%
	        \c@pgf@counta=\pgf@x%
	        \ifnum\c@pgf@counta=0\relax%
	        \else%
	          \divide\c@pgf@counta by 255\relax%
	          \pgf@xa=16\pgf@xa\relax%
	          \divide\pgf@xa by\c@pgf@counta%
	          \pgf@xa=16\pgf@xa\relax%
	        \fi%
	      \else%
	        \c@pgf@counta=\pgf@y%
	        \ifnum\c@pgf@counta=0\relax%
	        \else%
	          \divide\c@pgf@counta by 255\relax%
	          \pgf@ya=16\pgf@ya\relax%
	          \divide\pgf@ya by\c@pgf@counta%
	          \pgf@xa=16\pgf@ya\relax%
	        \fi%
	    \fi%
	    \pgf@x=\pgf@xa%
	    %
	    % If necessary, adjust radius so that the size requirements are
	    % met:
	    %
	    \pgfmathsetlength{\pgf@xb}{\pgfkeysvalueof{/pgf/minimum width}}%
	    \pgfmathsetlength{\pgf@yb}{\pgfkeysvalueof{/pgf/minimum height}}%
	    \ifdim\pgf@x<.5\pgf@xb%
	        \pgf@x=.5\pgf@xb%
	    \fi%
	    \ifdim\pgf@x<.5\pgf@yb%
	        \pgf@x=.5\pgf@yb%
	    \fi%
	    %
	    % Now, add larger of outer sepearations.
	    %
	    \pgfmathsetlength{\pgf@xb}{\pgfkeysvalueof{/pgf/outer xsep}}%
	    \pgfmathsetlength{\pgf@yb}{\pgfkeysvalueof{/pgf/outer ysep}}%
	    \ifdim\pgf@xb<\pgf@yb%
	      \advance\pgf@x by\pgf@yb%
	    \else%
	      \advance\pgf@x by\pgf@xb%
	    \fi%
	  }
	\backgroundpath{
	    \tempa=\radius
	    \pgfmathsetlength{\pgf@xb}{\pgfkeysvalueof{/pgf/outer xsep}}%
	    \pgfmathsetlength{\pgf@yb}{\pgfkeysvalueof{/pgf/outer ysep}}%
	    \ifdim\pgf@xb<\pgf@yb%
	      \advance\tempa by-\pgf@yb%
	    \else%
	      \advance\tempa by-\pgf@xb%
	    \fi%
	    \pgfpathmoveto{\centerpoint\advance\pgf@x by\radius}%
	    \pgfpathlineto{\centerpoint\advance\pgf@y by\radius}%
	    \pgfpathlineto{\centerpoint\advance\pgf@x by-\radius}%
	    \pgfpathlineto{\centerpoint\advance\pgf@y by-\radius}%
	    \pgfpathclose%
	  }
	\behindbackgroundpath{
	    \tempa=\radius%
	    \pgfmathsetlength{\pgf@xb}{\pgfkeysvalueof{/pgf/outer xsep}}%
	    \pgfmathsetlength{\pgf@yb}{\pgfkeysvalueof{/pgf/outer ysep}}%
	    \ifdim\pgf@xb<\pgf@yb%
	      \advance\tempa by-\pgf@yb%
	    \else%
	      \advance\tempa by-\pgf@xb%
	    \fi%
	    \pgfpathcircle{\centerpoint}{\tempa}%
	  }
	}
	\makeatother
	
	
	\newcommand{\parameter}[1]{$\langle\mbox{#1}\rangle$}
	\title{A LaTeX Article}
	\author{Gabor Tjong A Hung}
	
	\begin{document}
	
	\tikzset{
	every transaction/.style = {fill=white!100},
	transaction/.style = {diamond in circle, draw, minimum size=6mm, every transaction},
	every actor role/.style = {},
	actor role/.style = {rectangle, draw=black!80, ultra thick,
	    minimum size = 6mm, every actor role},
	composite actor role/.style = {fill=gray!80, actor role},
	elementary actor role/.style = {fill=white!100, actor role},
	initiator/.style = {-},
	executor/.style = {<-, >=squarea},
	system/.style = {rectangle, fill=white!100, ultra thick, draw=black!80,
	            minimum height=60mm, minimum width=4cm,outer sep=0pt}}
	
	
	\begin{figure}[h]
	\centering
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	\begin{tikzpicture}[node distance=1cm, on grid]
	    \begin{pgfonlayer}{background}
	        \node [system] (system) at (0,3){};
	    \end{pgfonlayer}
	    \node [composite actor role] (CA01) [minimum height=48mm] at ( -4,3) {CA01};
	    \node [above] at (CA01.north) {Client};
	    \node [transaction] (T01) at( $(system.south west)!.66!(system.north west)$)
	        {T01} edge [initiator] (CA01.south east |- T01);
	    \node [composite actor role] (CA03) at ( $(system.south)!.66!(system.north)$)
	        {CA03} edge [executor] (T01);
	    \node [above] at (CA03.north) {GDSS facilitator};
	    \node [transaction] (T02) at ( $(system.south east)!.66!(system.north east)$)
	        {T02} edge  [initiator] (CA03);
	    \path (T02)++(2,0) node [composite actor role] (CA02) [minimum height=24mm] 
	        {CA02} edge  [executor] (T02);
	    \node [above] at (CA02.north) {Participant};
	    \node [transaction] (T03) at ( $(system.south west)!.33!(system.north west)$)
	        {T03} edge  [initiator] (CA01.south east |- T03);
	    \node [composite actor role] (CA04) at ( $(system.south)!.33!(system.north)$)
	        {CA04} edge  [executor] (T03);
	    \node [above] at (CA04.north) {GDSS analysist};
	\end{tikzpicture}
	\\[2em]
	    \begin{tabular}{@{T}l@{ }l@{ }p{5cm}}
	        \toprule
	        ID & Transaction Type (T) & Result Type (R)\\
	        \midrule
	        01 & Facilitate meeting &  Meeting has been facilitated.\\
	        02 & Perform Agendum &  Agendum has been performed by \parameter{participant}
	         on \parameter{time}.\\
	        03 & Analysis &  Analysis has been made.\\
	        \bottomrule
	    \end{tabular}\label{tab:trt_datd}
	    \caption{Global ATD}
	\end{figure}
	
	\end{document}
snippet plots airfoil-profiles
	% Airfoil profiles from the UIUC Airfoil Coordinates Database
	% http://www.ae.uiuc.edu/m-selig/ads/coord_database.html
	% Data is released under the GNU General Public Licence. See
	% http://www.ae.uiuc.edu/m-selig/pd/gpl.html for more details. 
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Airfoil profiles
	:Tags: Plots, External file, Foreach
	
	A few airfoil profiles from the extensive `UIUC Airfoil Coordinates Database`_. The data
	is provided in a convenient x,y coordinate format suitable for plotting using PGF/TikZ's
	``plot file`` construct.
	
	Note that the data is released under the `GNU General Public License`_. To use the
	data files with PGF/TikZ, you have to comment out the lines not containing coordinates.
	
	Download the airfoils used in the example: `airfoildata.zip`_
	
	.. _UIUC Airfoil Coordinates Database: http://www.ae.uiuc.edu/m-selig/ads/coord_database.html
	.. _GNU General Public License: http://www.ae.uiuc.edu/m-selig/pd/gpl.html
	.. _airfoildata.zip: http://www.fauskes.net/media/pgftikzexamples/data/airfoildata.zip
	\end{comment}
	
	\begin{document}
	
	\newcounter{y}
	\setcounter{y}{0}
	
	\begin{tikzpicture}
	    \foreach \lbl / \fn in {EPPLER 625/e625.dat,
	                            WORTMANN FX 2/fx2.dat,
	                            EPPLER 664 (EXTENDED)/e664ex.dat,
	                            CLARK Y/clarcy.dat,
	                            Eiffel 10 (Wright)/eiffel10.dat,
	                            FX 69-PR-281/fx69pr281.dat,
	                            NACA Munk M-4 airfoil/m4.dat}{
	        % Some profiles look better when using plot[smooth]
	        \draw[yshift=-\arabic{y}cm,scale=3] node[left=0.5cm] {\lbl}
	            plot file{data/\fn} -- cycle;
	        \stepcounter{y}
	    }
	\end{tikzpicture}
	
	\end{document}
snippet gnuplot andler-optimal-lot-size
	% Optimal Lot-Size with the Andler Formula
	% Author: Felix Lindemann
	% Source: Beamer by Till Tantau <--- Great!
	% GNUPLOT required
	\RequirePackage{atbegshi}
	\documentclass{beamer}
	
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Andler optimal lot-size
	:Page: 2
	
	Optimal lot-size with the Andler formula. Animated to show the influence of the
	``k_l`` and ``k_b`` parameters.
	
	Acrobat required for viewing the animation.
	`Gnuplot required <http://www.texample.net/tikz/examples/gnuplot-basics/>`_ for
	compiling the example.
	
	\end{comment}
	
	\usepackage{animate}
	\usepackage{calc}
	\usepackage{fp}
	\usepackage{times}
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{arrows,automata,shapes,calc}
	
	
	\title{Optimal Lot-Size with the Andler Formula}
	\subtitle{Sensitivity Analysis}
	
	\author[Dipl. Kfm Felix Lindemann]{Dipl. Kfm Felix Lindemann\inst{1}}
	\institute[Fachhochschule Neu-Ulm]{
	    \inst{1}Kompetenzzentrum Logistik\\
	    University of Applied Science Neu-Ulm
	}
	 
	\subject{Sensitivity Analysis of Andlers-Lot-Size by Felix Lindemann. } 
	\keywords{Andler, optimal Lot size, ...}
	
	\newcounter{cnt}
	\setcounter{cnt}{0}
	\newcommand{\ANDLER}[4]
	{   
	    \draw[-latex] (0,0) -- (8.5,0) node[right]{\tiny $b$};
	    \draw[-latex] (0,0) -- (0,5.5) node[left]{\tiny $K_G K_L K_B$};
	    \pgfmathsetmacro\vkl{#1}
	    \pgfmathsetmacro\vkb{#3}
	    \pgfmathsetmacro\vP{#2}
	    \pgfmathsetmacro\vM{#4}
	    \pgfmathsetmacro\bOpt{10* sqrt( (2 * \vkb * \vM) / (\vkl) / ( \vP) )}
	    \pgfmathsetmacro\bOpta{ \bOpt /10}
	    \pgfmathsetmacro\Kmin{ sqrt( 2 * \vkl * \vP * \vkb)  * sqrt(  \vM * 0.01)}
	    \pgfmathsetmacro\Kmina{ \Kmin/20}   
	    \FPround{\Kmin}{\Kmin}{2}
	    \FPround{\bOpt}{\bOpt}{2}
	    
	    \draw[dotted] (\bOpta,4.5) -- (\bOpta,-0.5) node[below]
	        {\tiny $b_{opt}=\sqrt{\frac{2\cdot #3 \cdot #4 \cdot100}{#1 \cdot #2}} = \bOpt$};
	    \draw[dotted]   (-0.5,\Kmina) -- (5.5,\Kmina) node[right]
	        {\tiny $K_G(b_{opt})=
	        \sqrt{\frac{2\cdot #1 \cdot #2 \cdot #3 \cdot #4}{100}}=\Kmin$};
	    \foreach \x  in {1,...,8}{
	        \pgfmathsetmacro\xtext{ \x * 10}
	        \draw (\x cm,1pt) -- (\x cm,-1pt) node[below] {\tiny $\xtext$};
	    }
	    \foreach \y  in {1,...,5}{
	        \pgfmathsetmacro\ytext{ \y * 20}
	        \draw (1pt,\y cm) -- (-1pt,\y cm) node[left]  {\tiny $\ytext$};}%                    
	        \foreach \kl/\P/\kb/\M in {#1/#2/#3/#4}{
	            \draw[color=black, ultra thick] plot[id=#1#2#3#4a]
	                function{(0.5*\kl*0.01*\P*(x*10)+\kb*\M/(x*10))/20};
	            \node[color=black, very thick] at (4.5,5)
	                {\scriptsize$K_G(b)=\textcolor{red}{\frac{1}{2}\cdot\frac{k_l\cdot P}{100} \cdot b}
	                +\textcolor{blue}{\frac{M\cdot k_b}{b}}=
	                \textcolor{red}{\frac{1}{2}\cdot\frac{\kl\cdot\P}{100} \cdot b}
	                +\textcolor{blue}{\frac{\M\cdot\kb}{b}}$};                           
	            \draw[color=red,thick  ] plot[id=#1#2#3#4b] function{(0.5*\kl*0.01*\P*(x*10))/20};                      
	            \draw[color=blue,thick  ] plot[id=#1#2#3#4c] function{(\kb*\M/(x*10))/20};
	        }
	
	 }
	
	\begin{document}
	\pagestyle{empty}
	 \frame{
	    \titlepage
	}
	\section{Analysis for Parameter $k_l$}
	\begin{frame}{Animationen}{Optimal Lot Size Calculation with \textsc{Andler}\\Influence of $k_l$}
	 %  Development of total cost function by varying the storing cost parameter
	\vspace*{-1em}
	  \begin{flushleft}%
	  \begin{animateinline}[autoplay,palindrome,
	    begin={\begin{tikzpicture}[domain=0.3:8.4]},
	    end={\end{tikzpicture}}]{3}
	    \ANDLER{5}{20}{5}{50}; \newframe
	    \ANDLER{6}{20}{5}{50}; \newframe
	    \ANDLER{7}{20}{5}{50}; \newframe
	    \ANDLER{8}{20}{5}{50}; \newframe
	    \ANDLER{9}{20}{5}{50}; \newframe
	    \ANDLER{10}{20}{5}{50}; \newframe
	    \ANDLER{11}{20}{5}{50}; \newframe
	    \ANDLER{12}{20}{5}{50}; 
	    \end{animateinline}
	  \end{flushleft}
	\end{frame}
	 \section{Analysis for Parameter $k_b$} 
	 
	\begin{frame}{Animationen}
	    {Optimal Lot Size Calculation with \textsc{Andler}\\Influence of $k_b$}
	 %  Development of total cost function by varying the storing cost parameter
	
	 \vspace*{-1em}
	  \begin{flushleft}%
	  \begin{animateinline}[autoplay,palindrome,
	    begin={\begin{tikzpicture}[domain=0.3:8.4]},
	    end={\end{tikzpicture}}]{3}
	    \ANDLER{5}{20}{3.5}{50};\newframe
	    \ANDLER{5}{20}{4.0}{50};\newframe
	    \ANDLER{5}{20}{4.5}{50};\newframe
	    \ANDLER{5}{20}{5.0}{50};\newframe
	    \ANDLER{5}{20}{5.5}{50};\newframe
	    \ANDLER{5}{20}{6.0}{50};\newframe
	    \ANDLER{5}{20}{6.5}{50}  ;
	  \end{animateinline}
	  \end{flushleft}
	\end{frame}
	  
	\end{document}
snippet geometry angles-quotes
	% Drawing angles using the PG 3.0 angles and quotes libraries
	% Author: Paul Gaborit
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Drawing angles using the PG 3.0 angles and quotes libraries
	:Tags: Angles;Quotes;Geometry;Mathematics;PGF 3.0
	:Author: Paul Gaborit
	:Slug: angles-quotes
	
	PGF 3.0 brings a new library for drawing angles. A pic type angle=a--b--c
	adds a drawing of an angle to the current path. It consists of a "sector"
	or "wedge" or "slice" whose pointed end is at point b and whose straight
	sides lie on the lines from b to A and from B to C. You can specify
	radius and eccentricity.
	
	Another new library "quotes" is providing a quote syntax for labels, pins,
	edge nodes, and pic texts. You can use a simple string "text" or a string with
	options, such as node["text" {red, draw, thick}] to achieve an effect like
	node[label={[red,draw,thick]text}] with less writing and more readability.
	
	This code was written by Paul Gaborit and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{quotes,angles}
	\begin{document}
	\begin{tikzpicture}
	  \draw
	    (3,-1) coordinate (a) node[right] {a}
	    -- (0,0) coordinate (b) node[left] {b}
	    -- (2,2) coordinate (c) node[above right] {c}
	    pic["$\alpha$", draw=orange, <->, angle eccentricity=1.2, angle radius=1cm]
	    {angle=a--b--c};
	\end{tikzpicture}
	\end{document}
snippet animate animated-definite-integral
	%
	%
	% Author:
	% Efraín Soto Apolinar.
	% http://www.aprendematematicas.org/
	% 
	% This animation helps explain the 
	% geometric interpretation of the 
	% definite integral.
	%
	\documentclass[10pt]{beamer}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Animated definite integral
	
	This animation helps explain the 
	geometric interpretation of the 
	definite integral.
	\end{comment}
	\usepackage[utf8]{inputenc} % Language = Spanish
	%
	
	\usepackage{color}
	\usepackage{tikz}
	\usepackage{hyperref}
	\hypersetup{pdfpagemode=FullScreen}
	\usepackage{ifthen}
	\usepackage{animate}
	%
	\usetheme{Warsaw} 
	\usecolortheme{whale}
	%
	%
	%
	\newcounter{angle}
	\setcounter{angle}{0}
	%
	\begin{document}
	%
	%
	%
	\newcounter{r}
	\newcommand{\escalar}[1]{
	\setcounter{r}{#1 * #1 * #1}
	}
	%
	\newcounter{m}
	\setcounter{m}{0}
	\newcounter{mc}
	%
	%
	%
	\begin{frame}[fragile]{Animated Integral}
	\begin{center}
	\begin{animateinline}[loop, poster = first, controls, palindrome]{2}
	\whiledo{\them < 21}{
	    \begin{tikzpicture}[scale=1.25]
	    \draw[red,thick,<->] (-1,1) parabola bend (0,0) (2.1,4.41)
	        node[below right] {$y=x^2$};
	    \draw[loosely dotted] (-1,0) grid (4,4);
	    %\path[use as bounding box] (-2,-1) rectangle (5,5);
	    \draw[->] (-0.2,0) -- (4.25,0) node[right] {$x$};
	    \draw[->] (0,-0.25) -- (0,4.25) node[above] {$y$};
	    \foreach \x/\xtext in {1/1, 2/2, 3/3}
	    \draw[shift={(\x,0)}] (0pt,2pt) -- (0pt,-2pt) node[below] {$\xtext$};
	    \foreach \y/\ytext in {1/1, 2/2, 3/3, 4/4}
	    \draw[shift={(0,\y)}] (2pt,0pt) -- (-2pt,0pt) node[left] {$\ytext$};
	%
	    \setcounter{mc}{\value{m}*\value{m}}
	    \shade[top color=blue,bottom color=gray!50]
	        (0,0) parabola (0.1*\them,0.01*\themc) |- (0,0);
	    \escalar{\them}
	    \draw (3cm,2pt) node[above]
	        {$\displaystyle\int\limits_0^{\them/10} \!\!x^2\mathrm{d}x = 
	            \displaystyle\frac{\ther}{3000}$};
	    \draw[fill=orange,color=orange] (0.1*\them,0.01*\themc) circle (0.5pt);
	    \end{tikzpicture}
	    %
	    \stepcounter{m}
	    \ifthenelse{\them < 21}{
	            \newframe
	    }{
	        \end{animateinline}\relax % BREAK
	    }
	} % END \whiledo...
	\end{center}
	\end{frame}
	
	%
	%
	%
	\end{document}
snippet beamer animated-distributions
	% Animated distributions
	% Author: Brian S. Marks <http://mypage.iu.edu/~bsmarks/>
	%
	% Note that shell-escape has to be enabled to generate the plots.
	% The animations can only be viewed in Acrobat (Reader) v >= 6.
	\documentclass{beamer}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Animated distributions
	:Tags: Beamer, GNUPLOT, Plots
	:Use page: 2
	
	The `animate.sty`_ package is a useful tool for creating Javascript driven animations in
	PDF files. In this example it is used to animate probability
	distributions with varying parameters.
	GNUPLOT_ is used to compute the distribution curves. Download the PDF to see the animation.
	
	**Update**: Example recompiled using animate.sty_ version 2008-05-16. Animation should now 
	render correctly in all versions of Acrobat Reader v >= 6.0. 
	
	.. note:: Acrobat Reader v >= 6.0 is required to view this example. 
	
	    This example takes some time to compile. A large number of auxiliary files
	    will be created.
	
	:Author: `Brian S. Marks`_
	:Source: `STAT-S300 -- Introduction to Applied Statistical Methods`__ notes
	
	.. __: http://mypage.iu.edu/~bsmarks/s300/
	.. _GNUPLOT: http://www.fauskes.net/pgftikzexamples/gnuplot-basics/
	.. _Brian S. Marks: http://mypage.iu.edu/~bsmarks/
	.. _animate.sty: http://www.ctan.org/tex-archive/help/Catalogue/entries/animate.html
	\end{comment}
	
	\usepackage{tikz}
	\usepackage{animate}
	
	% Define a the counter cnt. Used to identify files generated for use
	% with Gnuplot.
	\newcounter{cnt}
	\setcounter{cnt}{0}
	
	% Macro for drawing one frame of the F-distribution animation.
	\newcommand{\fdst}[4]{%
	    % shade the critical region tail
	    \draw[fill,orange]  (#1,0) -- plot[id=5\thecnt,domain=#1:5.5,samples=50]
	        function {#4*(x**(0.5*#2-1))*((1+#2*x/#3)**(-0.5*#2-0.5*#3))}
	            -- (5.5,0) -- cycle;
	
	    % draw the F distribution curve
	    \draw[color=blue!50!black,thick]
	        plot[id=f4\thecnt,smooth,domain=0:5.5,samples=100]
	        function {#4*(x**(0.5*#2-1))*((1+#2*x/#3)**(-0.5*#2-0.5*#3))};
	
	    % draw the F axis
	    \draw[->] (0,0) -- (6,0) node[right] {$F$};
	    % label the critical region boundary
	    \draw (#1,0) -- (#1,-0.02) node[below] {$#1$};
	    % label 0
	    \draw (0,0) -- (0,-0.02) node[below] {$0$};
	
	    % add some lables for degrees of freedom and alpha level
	    \draw (2,0.5) node[right] {$df_1 = #2$};
	    \draw (2,0.4) node[right] {$df_2 = #3$};
	    \draw (2,0.3) node[right] {$\alpha = 0.10$};
	
	    % draw the y axis
	    \draw[very thin,->] (0,0) -- (0,0.8);
	}
	
	\newcommand{\distpic}[3]{
	    % First draw the upper distribution.
	    % Shade the critical region:
	    \fill[red!30] (0.658,0)  -- plot[id=f3,domain=0.658:3,samples=50]
	        function {exp(-x*x*0.5/0.16)} -- (3,0) -- cycle;
	
	    % Draw the normal distribution curve
	    \draw[blue!50!black,smooth,thick] plot[id=f1,domain=-2:3,samples=50]
	    function {exp(-x*x*0.5/0.16)};
	    % Draw the x-axis
	    \draw[->,black] (-2.2,0) -- (3.2,0);
	    % Put some ticks and tick labels in:
	    \foreach \x in {-2,-1,0,1,2,3}
	    \draw (\x,0) -- (\x,-0.1) node[below] {$\x$};
	    % Put in a label for the critical region boundary:
	    \draw[red!50!black,thick] (0.658,0) node[below,yshift=-0.5cm] {0.658}
	    -- (0.658,0.85);
	
	    % Put in labels for accepting or rejecting the null hypothesis with
	    % the corresponding regions:
	    \draw[red!50!black,thick,->] (0.688,0.7) -- (1.3,0.7)
	        node[anchor=south] {Reject  $H_0$};
	    \draw[red!50!black,thick,->] (0.628,0.7) -- (-1,0.7)
	        node[anchor=south]{\parbox{1.5cm}{\raggedright Fail to reject $H_0$}};
	
	    % Add a label to the upper picture, when the null is true
	    \draw (-3,1) node[above,draw,fill=green!30] {$H_0$ is true:};
	
	    % Label the critical region with an alpha level:
	    \draw[<-,thick] (0.75,0.05) -- (1.6,0.2) node[right,yshift=0.3cm]
	    {\begin{tabular}{l} $\alpha=0.05$ \\ (Type I error rate) \end{tabular}};
	
	
	    % Add a label showing the effect size between the two plots:
	    \draw[very thin] (0,-1) -- (0,-0.5);
	    \draw[<->,thick] (0,-1) node[left] {Effect size:  #1} -- (#1,-1);
	    \draw[thick] (0,-.9) -- (0,-1.1);
	
	    \draw[very thin] (#1,-1) -- (#1,-1.7);
	    \draw[thick] (#1,-.9) -- (#1,-1.1);
	
	    % Now draw the lower distribution showing the effect size:
	    \begin{scope}[yshift=-3cm]
	    % Shade the "reject H0" region red
	    \fill[red!30] (0.658,0)  -- plot[id=f3\thecnt,domain=0.658:3,samples=50]
	        function {exp(-(x-#1)*(x-#1)*0.5/0.16)} --
	        (3,0) -- cycle;
	        % Shade the "accept H0" region blue
	    \fill[blue!30] (-2,0) -- plot[id=f4\thecnt,domain=-2:0.658,samples=50]
	        function {exp(-(x-#1)*(x-#1)*0.5/0.16)} --
	        (0.658,0) -- cycle;
	
	        % Draw the shifted normal distribution:
	    \draw[blue!50!black,smooth,thick] plot[id=f1\thecnt,domain=-2:3,samples=50]
	            function {exp(-(x-#1)*(x-#1)*0.5/0.16)};
	
	        % Draw the x-axis and put in some ticks and tick labels
	    \draw[->,black] (-2.2,0) -- (3.2,0);
	    \foreach \x in {-2,-1,0,1,2,3}
	            \draw (\x,0) -- (\x,-0.1) node[below] {$\x$};
	
	        % Draw and label the critical region boundary
	    \draw[red!50!black,very thick] (0.658,0) node[below,yshift=-0.5cm] {0.658}
	        -- (0.658,1.0);
	    \draw[red!50!black,very thick,->] (0.688,0.7) -- (2.7,0.7)
	        node[anchor=south west] {Reject  $H_0$};
	    \draw[red!50!black,very thick,->] (0.628,0.7) -- (-0.5,0.7)
	        node[anchor=south]{\parbox{1.5cm}{\raggedright Fail to reject $H_0$}};
	
	    % Add a label to the lower picture, when the alternative hypothesis is true:
	    \draw (-3,1) node[above,draw,fill=green!30] {$H_a$ is true:};
	
	        % Add labels showing the statistical power and the Type II error rate:
	    \draw[<-,thick] (1.5,0.1) -- (3,0.2) node[anchor=south west]
	        {Power = \large #2};
	    \draw[<-,thick] (0.4,0.1) -- (-1,0.2) node[left,yshift=0.3cm]
	        {\begin{tabular}{l}
	        $\beta$ = {\large #3} \\ (Type II error rate) \end{tabular}};
	    \end{scope}
	}
	
	
	\begin{document}
	
	\begin{frame}
	  General form for the $F$ distribution with $\nu_1$ and $\nu_2$ degrees of
	  freedom:
	  \[
	    f(F; \nu_1, \nu_2) = \frac{\Gamma\left(\frac{\nu_1+\nu_2}{2}\right)}
	    {\Gamma\left(\frac{\nu_1}{2}\right)\Gamma\left(\frac{\nu_2}{2}\right)}
	    \left(\frac{\nu_1}{\nu_2}\right)^{\frac{\nu_1}{2}}
	    \frac{F^{\frac{\nu_1-2}{2}}}{\left[1 +
	    \left(\frac{\nu_1}{\nu_2}\right)F\right]^{\frac{\nu_1+\nu_2}{2}}}
	  \]
	
	  Critical region for an $F$ test for various degrees of freedom:
	
	  \begin{center}
	
	  \begin{animateinline}[autoplay,palindrome,
	    begin={\begin{tikzpicture}[yscale=4]},
	    end={\stepcounter{cnt}\end{tikzpicture}}]{8}
	    \fdst{5.3426}{4}{3}{6.6667};\newframe
	    \fdst{4.1072}{4}{4}{6};\newframe
	    \fdst{3.5202}{4}{5}{5.6};\newframe
	    \fdst{3.1808}{4}{6}{5.3333};\newframe
	    \fdst{2.9605}{4}{7}{5.1429};\newframe
	    \fdst{2.8064}{4}{8}{5};\newframe
	    \fdst{2.6927}{4}{9}{4.8889};\newframe
	    \fdst{2.6053}{4}{10}{4.8};\newframe
	    \fdst{2.5216}{5}{10}{10.3684};\newframe
	    \fdst{2.6106}{5}{9}{10.7120};\newframe
	    \fdst{2.7264}{5}{8}{11.1463};\newframe
	    \fdst{2.8833}{5}{7}{11.7125};\newframe
	    \fdst{3.1075}{5}{6}{12.4807};\newframe
	    \fdst{3.4530}{5}{5}{13.5812};\newframe
	    \fdst{4.0506}{5}{4}{15.2856};\newframe
	    \fdst{5.3092}{5}{3}{18.2638};\newframe
	    \fdst{5.2847}{6}{3}{52.5};\newframe
	    \fdst{4.0097}{6}{4}{40.5};\newframe
	    \fdst{3.4045}{6}{5}{34.02};\newframe
	    \fdst{3.0546}{6}{6}{30};\newframe
	    \fdst{2.8274}{6}{7}{27.2755};\newframe
	    \fdst{2.6683}{6}{8}{25.3125};\newframe
	    \fdst{2.5509}{6}{9}{23.8333};\newframe
	    \fdst{2.4606}{6}{10}{22.6800};\newframe
	    \fdst{2.4140}{7}{10}{50.4952};\newframe
	    \fdst{2.5053}{7}{9}{54.1009};\newframe
	    \fdst{2.6241}{7}{8}{58.8076};\newframe
	    \fdst{2.7849}{7}{7}{65.1899};\newframe
	    \fdst{3.0145}{7}{6}{74.2894};\newframe
	    \fdst{3.3679}{7}{5}{88.1895};\newframe
	    \fdst{3.9790}{7}{4}{111.6641};\newframe
	    \fdst{5.2662}{7}{3}{158.1280};\newframe
	    \fdst{5.2517}{8}{3}{497.7779};\newframe
	    \fdst{3.9549}{8}{4}{320};\newframe
	    \fdst{3.3393}{8}{5}{236.544};\newframe
	    \fdst{2.9830}{8}{6}{189.6296};\newframe
	    \fdst{2.7516}{8}{7}{160.0933};\newframe
	    \fdst{2.5893}{8}{8}{140};\newframe
	    \fdst{2.4694}{8}{9}{125.5418};\newframe
	    \fdst{2.3772}{8}{10}{114.688};\newframe
	    \fdst{2.3473}{9}{10}{266.0};\newframe
	    \fdst{2.4403}{9}{9}{298.0};\newframe
	    \fdst{2.5612}{9}{8}{341.7};\newframe
	    \fdst{2.7247}{9}{7}{404.0};\newframe
	    \fdst{2.9577}{9}{6}{498.7};\newframe
	    \fdst{3.3163}{9}{5}{655.8};\newframe
	    \fdst{3.9357}{9}{4}{941.5};\newframe
	    \fdst{5.2400}{9}{3}{1633.2};
	  \end{animateinline}
	  \end{center}
	
	\end{frame}
	
	\begin{frame}
	  Statistical power in hypothesis testing:
	
	  \begin{animateinline}[autoplay,loop,
	    begin={\begin{tikzpicture}[scale=1.3]},
	    end={\stepcounter{cnt}\end{tikzpicture}}]{3}
	    \distpic{0.5}{.346}{.654}
	    \newframe
	    \distpic{0.7}{.542}{.458}\newframe
	    \distpic{0.9}{.727}{.273}\newframe
	    \distpic{1.1}{.865}{.135}\newframe
	    \distpic{1.3}{.946}{.054}\newframe
	    \distpic{1.5}{.982}{.018}\newframe
	    \distpic{1.7}{.995}{.005}\newframe
	    \distpic{1.9}{.999}{.001}
	  \end{animateinline}
	\end{frame}
	
	\end{document}
snippet beamer animated-set-intersection
	% Animated set intersection
	%
	% The animations can only be viewed in Acrobat (Reader) v >= 6.
	\documentclass{beamer}
	\usepackage{animate}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Animated set intersection
	:Tags: Beamer, Foreach
	
	
	The `animate.sty`_ package is a useful and fun tool for creating Javascript driven animations in
	PDF files. Brian S. Marks has already contributed an impressive `animated statistical distribution`_ example that demonstrates `animate.sty`_. The following example is much simpler, but demonstrates a more general technique that is useful in conjunction with other tools as well.
	
	.. _animated statistical distribution: http://www.fauskes.net/pgftikzexamples/animated-distributions/
	
	The animation is a two step process:
	
	1. Creating the individual frames of the animation. Each frame becomes a page in a PDF file.
	2. Putting together the frames using animate.
	
	The main reason we do it this way is because animate does not allow a ``\newframe`` *inside* PGF's ``\foreach`` command. This means that we can't put a ``\foreach`` loop  *around* the parameterized picture inside the ``animateinline`` environment (we can use a ``\foreach`` for other purposes though).
	
	**Update**: `A standalone version`_ of the example is now available that uses ``\whiledo`` to parameterize the picture. 
	
	Step 1. Creating the frames
	---------------------------
	
	The animation we will make demonstrates the set intersection operation. The code for drawing the sets is based on the `venn diagram`_ example. A ``foreach`` loop is used to draw a total of 21 frames, varying the x-coordinate of set B. The preview.sty_ package is used to crop every tikzpicture and put each picture/frame on a separate page.
	
	.. _venn diagram: http://www.fauskes.net/pgftikzexamples/venn-diagram/
	.. _preview.sty: http://www.ctan.org/tex-archive/help/Catalogue/entries/preview.html
	
	`setanim.tex`_ (setanim.pdf_) source:
	
	.. _setanim.tex: animations/setanim.tex
	.. _setanim.pdf: animations/setanim.pdf
	
	.. sourcecode:: latex
	
	    % Animate a set intersection operation.
	    % The target document is a beamer presentation, so we load the
	    % beamer class to get the same fonts as in the presentation.
	    \documentclass{beamer}
	    \usepackage{tikz}
	
	    \usepackage[active,tightpage]{preview}
	    \PreviewEnvironment{tikzpicture}
	
	    \begin{document}
	    % define the bounding box
	    \def\boundb{(-2,2) rectangle (4,-2)}
	    % Create n frames with \xb as parameter
	    \foreach \xb in {0,0.1,...,2.1}{
	        \def\setA{(0,0) circle (1)}
	        \def\setB{(\xb,0) circle (1)}
	
	        \begin{tikzpicture}
	            \draw \boundb;
	            % intersection
	            \begin{scope}
	                \clip \setA;
	                \fill[black!20] \setB;
	            \end{scope}
	            \begin{scope}[even odd rule]% first circle without the second
	                \clip \setB \boundb;
	                \fill[red!20] \setA;
	            \end{scope}
	            \begin{scope}[even odd rule]% first circle without the second
	                \clip \setA \boundb;
	                \fill[blue!20] \setB;
	            \end{scope}
	            \draw \setA;
	            \draw \setB;
	            \node at (-1,0) [left] {$A$};
	            \node at (\xb+1,0) [right] {$B$};
	            \node at (4,2) [below left] {$A\cap B$};
	        \end{tikzpicture}
	    }
	    \end{document}
	
	
	The output from the above code is a the PDF setanim.pdf_ where each page contains a frame of the animation.
	
	Step 2. Putting together the frames
	-----------------------------------
	
	The next step is to put the frames together and create an animation. There are different ways you can do this, but I will only demonstrate the `animate.sty`_ package. Some alternatives are:
	
	- Convert the pages in the PDF to bitmaps and put them together using video creation tools like ffmpeg_, Blender_ and many others.
	- Use SWFTools_' pdf2swf_ tool to create a Flash animation.
	
	.. _ffmpeg: http://ffmpeg.mplayerhq.hu/
	.. _Blender: http://www.blender.org/
	.. _SWFTools: http://www.swftools.org/about.html
	.. _pdf2swf: http://www.swftools.org/pdf2swf.html
	
	
	The animate package provides the command ``\animatedgraphics`` for creating animations based on a sequence of files or a multi-page PDF:
	
	.. sourcecode:: latex
	
	    \animategraphics[<options>]{<frame rate>}{<file basename>}{<first>}{<last>}
	
	See the documentation_ for an explanation of the available options and parameters. Here is the code for including the the frames:
	
	.. sourcecode:: latex
	
	    \documentclass{beamer}
	
	    \usepackage{animate}
	    \begin{document}
	
	    \begin{frame}
	        \frametitle{Set intersection}
	        \begin{center}
	            % Set frame rate to 12 frames/sec. Load frames from setanim.pdf.
	            % We will use all frames, so there is no need to specify a start
	            % and end frame.
	            \animategraphics[autoplay,palindrome]{12}{animations/setanim}{}{}
	        \end{center}
	    \end{frame}
	
	    \end{document}
	
	.. _documentation: http://www.ctan.org/get/macros/latex/contrib/animate/doc/animate.pdf
	
	Download the PDF to see the animation in action.
	
	:Source: The latex-beamer-users_ mailing list
	
	.. _latex-beamer-users: http://www.nabble.com/Re%3A--animate.sty--simple-example-p15390560.html
	
	.. note:: Acrobat Reader v >= 6.0 is required to view this example.
	
	.. _animate.sty: http://www.ctan.org/tex-archive/help/Catalogue/entries/animate.html
	.. _animate: http://www.ctan.org/tex-archive/help/Catalogue/entries/animate.html
	
	A standalone version
	--------------------
	
	The author of the animate_ package, Alexander Grahn, has contributed a version of the above example that does not require splitting the frames and the viewer in separate files:
	
	- Source: `animated-set-standalone.tex`_
	- Output: `animated-set-standalone.pdf`_
	
	.. _animated-set-standalone.tex: animations/animated-set-standalone.tex
	.. _animated-set-standalone.pdf: animations/animated-set-standalone.pdf
	
	.. sourcecode:: latex
	
	    \documentclass{beamer}
	    \usepackage{tikz}
	    \usepackage{animate}
	
	    \usepackage{fp}
	
	    % parameterized tikz graphics
	    \newcommand{\intersect}[1]{%
	    \def\setA{(0,0) circle (1)}%
	    \def\setB{(#1,0) circle (1)}%
	    % define the bounding box
	    \def\boundb{(-2,2) rectangle (4,-2)}%
	    %
	    \begin{tikzpicture}
	        \draw \boundb;
	        % intersection
	        \begin{scope}
	        \clip \setA;
	        \fill[black!20] \setB;
	        \end{scope}
	        \begin{scope}[even odd rule]% first circle without the second
	        \clip \setB \boundb;
	        \fill[red!20] \setA;
	        \end{scope}
	        \begin{scope}[even odd rule]% first circle without the second
	        \clip \setA \boundb;
	        \fill[blue!20] \setB;
	        \end{scope}
	        \draw \setA;
	        \draw \setB;
	        \node at (-1,0) [left] {$A$};
	        \node at (#1+1,0) [right] {$B$};
	        \node at (4,2) [below left] {$A\cap B$};
	    \end{tikzpicture}
	    }
	
	    \begin{document}
	
	    \begin{frame}
	    \frametitle{Set intersection}
	    \begin{center}
	
	        \begin{animateinline}[autoplay,palindrome]{12}
	        %first frame, xb=0.0
	        \gdef\xb{0}% xb initial value
	        \intersect{\xb}%
	        %remaining frames, xb=0.1...2.1
	        \whiledo{\lengthtest{\xb pt < 2.1pt}}{%
	            \newframe
	            \FPeval{xb}{\xb+0.1}% new xb
	            \xdef\xb{\xb}% make \xb global
	            \intersect{\xb}%
	        }%
	        \end{animateinline}
	
	    \end{center}
	    \end{frame}
	    \end{document}
	
	
	\end{comment}
	
	\begin{document}
	
	\begin{frame}
	    \frametitle{Set intersection}
	    \begin{center}
	        % Set frame rate to 12 frames/sec. Load frames from setanim.pdf.
	        % We will use all frames, so there is no need to specify a start
	        % and end frame.
	        \animategraphics[autoplay,palindrome]{12}{animations/setanim}{}{}
	    \end{center}
	\end{frame}
	\end{document}
snippet 3d annotated-3d-box
	% Author   : Alain Matthes
	% Encoding : UTF8
	% Engine   : PDFLaTeX
	% from http://www.fauskes.net/media/code/blend2sketch/img/boxann.png
	\documentclass[]{article}
	\usepackage[utf8]{inputenc} 
	\usepackage{fullpage}
	\usepackage{fourier}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Annotated 3D box
	
	In the current version of PGF  there is a small, undocumented library for 3D drawings. This example shows how you can use it to draw simple, but effective 3D-illustrations. 
	
	\end{comment}
	\usetikzlibrary{calc,3d}
	
	\begin{document}
	\thispagestyle{empty} 
	
	\begin{center}
	\begin{tikzpicture}[x  = {(-0.5cm,-0.5cm)},
	                    y  = {(0.9659cm,-0.25882cm)},
	                    z  = {(0cm,1cm)},
	                    scale = 2,
	                    color = {lightgray}]
	% style of faces
	\tikzset{facestyle/.style={fill=lightgray,draw=red,very thin,line join=round}}
	% face "back" 
	\begin{scope}[canvas is zy plane at x=0]
	  \path[facestyle,shade] (0,0) rectangle (2,4);
	\end{scope}
	% face  "left"
	\begin{scope}[canvas is zx plane at y=0]
	  \path[facestyle,shade] (0,0) rectangle (2,3);
	\end{scope}
	% face "front"
	\begin{scope}[canvas is zy plane at x=3]
	  \path[facestyle] (0,0) rectangle (2,4);
	\end{scope}
	% face  "right"
	\begin{scope}[canvas is zx plane at y=4]
	  \path[facestyle] (0,0) rectangle (2,3);
	\end{scope}
	% face "up" 
	\draw[fill=brown,draw=red,opacity=.8,very thin,line join=round]
	 (0,0,2) -- 
	 (3,0,2) --
	 (3,{4*cos(15)},{4*sin(15)+2}) --
	 (0,{4*cos(15)},{4*sin(15)+2}) --cycle ;
	% labels
	\draw[very thin,black,line join=round]
	     (3,0,0) -- node [sloped,below] {$a$}    
	     (3,4,0) -- node [right]        {$b $}
	     (3,4,2) -- node [sloped,above] {$c=\sqrt{a^2+b^2}$} 
	     (3,0,0);
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet pi archimedess-approximation-of-pi
	% 
	% Author:
	% Efraín Soto Apolinar.
	% www.aprendematematicas.org
	%
	% Animation to explain the approximation
	% of $\pi$ as Archimedes did.
	% 
	\documentclass[spanish,10pt]{beamer}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Archimedes's approximation of pi
	
	An animation of Archimedes's approximation of pi.
	
	\end{comment}
	\usepackage{color}
	\usepackage{tikz}
	\usepackage{animate}
	\usepackage{calc}
	%\usepackage{pgfmath}
	%
	\usepackage{hyperref}
	\hypersetup{pdfpagemode=FullScreen}
	% Beamer Settings
	\usetheme{Warsaw}
	% Counters
	\newcounter{m} % Number of sides of the polygon
	\setcounter{m}{2}
	\newcounter{c} % Internal Control Counter
	%
	%
	%
	\begin{document}
	%
	%
	%
	\begin{frame}[fragile]{Polygons}
	\begin{center}
	\begin{animateinline}[loop, poster = first, controls, palindrome]{25}
	\whiledo{\them<100}{
		\stepcounter{m}
		\setcounter{c}{0}
		%
		\begin{tikzpicture}[rotate=90]
		\draw[blue,thick] (0,0) circle (3cm); 
		% The polygons [Note: This is NOT the name of a band]
		\whiledo{\thec<\them}{
			\pgfmathparse{\thec*(360.0/\them)}
			\coordinate (initial) at (\pgfmathresult:3cm);
			%
			\pgfmathparse{(\thec+1)*(360.0/\them)}
			\coordinate (final) at (\pgfmathresult:3cm);
			%
			\draw[red,thick] (initial) -- (final);
			\draw[cyan,thin] (0,0) -- (initial);
			\stepcounter{c}
		}
		\node[blue,above] at (0:3.125cm){$n = $\,\them};
		\end{tikzpicture}
		%
		\ifthenelse{\them<100}{
				\newframe
		}{
				\end{animateinline}\relax 	% BREAK
		}
	} % END \whiledo...
	%
	\end{center}
	\end{frame}
	%
	%
	%
	\end{document}
snippet clock arithmetic-of-the-clock
	% Arithmetic of the clock
	% Author: Juan Luis Varona
	% http://www.unirioja.es/cu/jvarona/
	\documentclass{article}
	\usepackage{amsmath}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewMacro[{{}}]{\fbox}
	\setlength\PreviewBorder{3pt}
	%%%>
	\begin{comment}
	:Title: Arithmetic of the clock
	:Author: Juan Luis Varona
	
	This example shows the products i times j for
	i and j from 0 to 11 by using arithmetic modulo 12,
	i.e., the so called arithmetic of the clock.
	
	The results of the products are represented both by
	the color of the clock and by the hand.
	\end{comment}
	% Colors:
	\definecolor{clock0}{cmyk}{1,0,0,0} % cyan
	\definecolor{clock1}{cmyk}{0.75,0.25,0,0}
	\definecolor{clock2}{cmyk}{0.5,0.5,0,0}
	\definecolor{clock3}{cmyk}{0.25,0.75,0,0}
	\definecolor{clock4}{cmyk}{0,1,0,0} % magenta
	\definecolor{clock5}{cmyk}{0,0.75,0.25,0}
	\definecolor{clock6}{cmyk}{0,0,5,0.5,0}
	\definecolor{clock7}{cmyk}{0,0.25,0.75,0}
	\definecolor{clock8}{cmyk}{0,0,1,0} % yellow
	\definecolor{clock9}{cmyk}{0.25,0,0.75,0}
	\definecolor{clock10}{cmyk}{0.5,0,0.5,0}
	\definecolor{clock11}{cmyk}{0.75,0,0.25,0}
	\begin{document}
	\newcommand{\clock}[4]{%
	  \begin{scope}[xshift=2.25*#1cm,yshift=2.25*#2cm]
	  % \filldraw [fill=#3, line width=1.6pt] (0,0) circle (1cm); % simple fill (unused)
	  % \draw[fill] (0,0) circle (1mm); % border (unused)
	  \shadedraw [inner color=#3!30!white, outer color=#3!90!black, 
	    line width=1.6pt] (0,0) circle (1cm); % disk with shadow and border
	  \foreach \angle in {0, 30, ..., 330} 
	    \draw[line width=1pt] (\angle:0.82cm) -- (\angle:1cm);
	  \foreach \angle in {0,90,180,270}
	    \draw[line width=1.3pt] (\angle:0.75cm) -- (\angle:1cm);
	  \draw[line width=1.6pt] (0,0) -- (90-30*#4:0.6cm); % the hand 
	  \end{scope}
	}
	% Default on latex.ltx: \fboxsep = 3pt \fboxrule = .4pt
	\fboxsep = 3pt \fboxrule = 1.5pt 
	\newcounter{itimesj}
	\fbox{%
	\begin{tikzpicture}[scale=0.5]
	\begin{scope}[line cap=round]
	\foreach \i in {0,...,11}
	  \foreach \j in {0,...,11} {
	    % We use round by caution, because we are getting real numbers
	    \pgfmathparse{round(mod(\i*\j,12))} 
	    % \pgfmathresult = 3.0 gives itimesj = 3
	    \pgfmathsetcounter{itimesj}{\pgfmathresult} 
	    \clock{\i}{-\j}{clock\theitimesj}{\i*\j}; 
	  }
	\end{scope}
	\end{tikzpicture}%
	}%
	\end{document}
snippet matrices arrow-table
	% Table in the shape of an arrow
	% Author: Gonzalo Medina
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Table in the shape of an arrow
	:Tags: Matrices;Arrows;Decorations
	:Author: Gonzalo Medina
	:Slug: arrow-table
	
	This table is drawn using the TikZ matrix library,
	in order to get the shape of an arrow.
	
	It was written by Gonzalo Medina on TeX.SE.
	Sligh modifications to the original code: sans serif font,
	small caps instead of all caps style, indentation and spacing.
	\end{comment}
	\usetikzlibrary{calc,matrix,decorations.markings,decorations.pathreplacing}
	
	\definecolor{colone}{RGB}{209,220,204}
	\definecolor{coltwo}{RGB}{204,222,210}
	\definecolor{colthree}{RGB}{207,233,232}
	\definecolor{colfour}{RGB}{248,243,214}
	\definecolor{colfive}{RGB}{245,238,197}
	\definecolor{colsix}{RGB}{243,235,179}
	\definecolor{colseven}{RGB}{241,231,163}
	
	\tikzset{ 
	  table/.style={
	    matrix of nodes,
	    row sep=-\pgflinewidth,
	    column sep=-\pgflinewidth,
	    nodes={rectangle,text width=2cm,align=center},
	    text depth=1.25ex,
	    text height=2.5ex,
	    nodes in empty cells
	  }
	}
	
	\renewcommand*{\familydefault}{\sfdefault}
	\newcommand{\cbox}[1]{\parbox[t]{2cm}{\centering #1}}
	
	\begin{document}
	
	\begin{tikzpicture}
	  \matrix (mat) [table] {
	    |[fill=colfour]|      & |[fill=colfour]|  & |[fill=colfour]|
	      & |[fill=colfour]|  & |[fill=colfour]|  &                   \\
	    |[fill=colfive]|      & |[fill=colfive]|  & |[fill=colfive]|
	      & |[fill=colfive]|  & |[fill=colfive]|  &                   \\
	    |[fill=colsix]|       & |[fill=colsix]|   & |[fill=colsix]|
	      & |[fill=colsix]|   & |[fill=colsix]|   & |[fill=colsix]|   \\
	    |[fill=colseven]|     & |[fill=colseven]| & |[fill=colseven]|
	      & |[fill=colseven]| & |[fill=colseven]| & |[fill=colseven]| \\
	    |[fill=colone]|       & |[fill=coltwo]|   & |[fill=colthree]|
	      & |[fill=coltwo]|   & |[fill=colone]|   & |[fill=colone]|   \\
	    |[fill=colone]|       & |[fill=coltwo]|   & |[fill=colthree]|
	      & |[fill=coltwo]|   & |[fill=colone]|   & |[fill=colone]|   \\
	    |[fill=colone]|       & |[fill=coltwo]|   & |[fill=colthree]|
	      & |[fill=coltwo]|   & |[fill=colone]|   &                   \\
	    |[fill=colone]|       & |[fill=coltwo]|   & |[fill=colthree]|
	      & |[fill=coltwo]|   & |[fill=colone]|   &                   \\
	  };
	
	  % horizontal rules
	  \foreach \row in {2,3,4}
	    \draw[white] (mat-\row-1.north west) -- (mat-\row-6.north east);
	  \draw[white,ultra thick] (mat-1-1.north west) -- (mat-1-6.north east);
	  \draw[white,ultra thick] (mat-5-1.north west) -- (mat-5-6.north east);
	
	  % vertical rules
	  \foreach \col in {2,3,4,5}
	    \draw[white] (mat-5-\col.north west) -- (mat-8-\col.south west);
	
	  % The labels
	  \node[fill=colfour] at (mat-1-3) {Firm Infrastructure};
	  \node[fill=colfive] at (mat-2-3) {Human Resources Management};
	  \node[fill=colsix] at (mat-3-3) {Technology Development};
	  \node[fill=colseven] at (mat-4-3) {Procurement};
	  \node at ([yshift=-10pt]mat-6-1) {\cbox{Inbound Logistics}};
	  \node at ([yshift=-10pt]mat-6-2) {\cbox{Operations \\\mbox{}}};
	  \node at ([yshift=-10pt]mat-6-3) {\cbox{Outbound Logistics}};
	  \node at ([yshift=-10pt]mat-6-4) {\cbox{Marketing \& Sales}};
	  \node at ([yshift=-10pt]mat-6-5) {\cbox{Service \\\mbox{}}};
	  \node[rotate = 90] at ([xshift=-52pt]mat-3-1.north)
	    {\textsc{Support Activities}};
	  \node at ([yshift=-19pt, xshift=-0.5cm]mat-8-3.south)
	    {\textsc{Primary Activities}};
	
	  % Erase some visible lines outside the arrow
	  \fill[white] (mat-1-5.north east) -- (mat-5-6.north east)
	    -- (mat-1-6.north east) -- cycle;
	  \fill[white] (mat-8-5.north east) -- (mat-5-6.north east)
	    -- (mat-8-6.north east) -- cycle;
	
	  % Draw the arrow tip
	  \shade[top color=colfour!70, bottom color=colfour!70,
	    middle color=colseven, draw=white, ultra thick] 
	    (mat-1-5.north) -- (mat-5-6.north) -- (mat-8-5.south) -- 
	    (mat-8-5.south east) -- (mat-5-6.north east) -- (mat-8-5.south east) -- 
	    (mat-5-6.north east) -- (mat-1-5.north east) -- cycle;
	
	  % The slanted "Margin" labels
	  \begin{scope}[decoration={markings,
	    mark=at position .5 with \node[transform shape] {Margin};}]
	  \path[postaction={decorate}] 
	    ( $ (mat-1-5.north)!0.5!(mat-1-5.north east) $ )
	    -- ( $ (mat-5-6.north)!0.5!(mat-5-6.north east) $ );
	  \path[postaction={decorate}] 
	    ( $ (mat-5-6.north)!0.5!(mat-5-6.north east) $ )
	    -- ( $ (mat-8-5.south)!0.5!(mat-8-5.south east) $ );
	  \end{scope}
	
	  % The braces
	  \draw[decorate, decoration={brace, mirror, raise=6pt}]
	    (mat-1-1.north west) -- (mat-5-1.north west);
	  \draw[decorate, decoration={brace, mirror, raise=6pt}]
	    (mat-8-1.south west) -- (mat-8-5.south);
	\end{tikzpicture}
	\end{document}
snippet assignment assignment-structure
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Assignment structure
	
	The structure of an assignment illustrated using a flow chart. Labels are in Danish.
	
	\end{comment}
	\usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
	    decorations.pathreplacing,decorations.pathmorphing,shapes,%
	    matrix,shapes.symbols}
	
	\tikzset{
	>=stealth',
	  punktchain/.style={
	    rectangle, 
	    rounded corners, 
	    % fill=black!10,
	    draw=black, very thick,
	    text width=10em, 
	    minimum height=3em, 
	    text centered, 
	    on chain},
	  line/.style={draw, thick, <-},
	  element/.style={
	    tape,
	    top color=white,
	    bottom color=blue!50!black!60!,
	    minimum width=8em,
	    draw=blue!40!black!90, very thick,
	    text width=10em, 
	    minimum height=3.5em, 
	    text centered, 
	    on chain},
	  every join/.style={->, thick,shorten >=1pt},
	  decoration={brace},
	  tuborg/.style={decorate},
	  tubnode/.style={midway, right=2pt},
	}
	\begin{document}
	\begin{tikzpicture}
	  [node distance=.8cm,
	  start chain=going below,]
	     \node[punktchain, join] (intro) {Introduktion};
	     \node[punktchain, join] (probf)      {Problemformulering};
	     \node[punktchain, join] (investeringer)      {Investeringsteori};
	     \node[punktchain, join] (perfekt) {Det perfekte kapitalmarked};
	     \node[punktchain, join, ] (emperi) {Emperi};
	      \node (asym) [punktchain ]  {Asymmetrisk information};
	      \begin{scope}[start branch=venstre,
	        %We need to redefine the join-style to have the -> turn out right
	        every join/.style={->, thick, shorten <=1pt}, ]
	        \node[punktchain, on chain=going left, join=by {<-}]
	            (risiko) {Risiko og gamble};
	      \end{scope}
	      \begin{scope}[start branch=hoejre,]
	      \node (finans) [punktchain, on chain=going right] {Det finansielle system};
	    \end{scope}
	  \node[punktchain, join,] (disk) {Det imperfekte finansielle marked};
	  \node[punktchain, join,] (makro) {Investeringsmæssige konsekvenser};
	  \node[punktchain, join] (konk) {Konklusion};
	  % Now that we have finished the main figure let us add some "after-drawings"
	  %% First, let us connect (finans) with (disk). We want it to have
	  %% square corners.
	  \draw[|-,-|,->, thick,] (finans.south) |-+(0,-1em)-| (disk.north);
	  % Now, let us add some braches. 
	  %% No. 1
	  \draw[tuborg] let
	    \p1=(risiko.west), \p2=(finans.east) in
	    ($(\x1,\y1+2.5em)$) -- ($(\x2,\y2+2.5em)$) node[above, midway]  {Teori};
	  %% No. 2
	  \draw[tuborg, decoration={brace}] let \p1=(disk.north), \p2=(makro.south) in
	    ($(2, \y1)$) -- ($(2, \y2)$) node[tubnode] {Analyse};
	  %% No. 3
	  \draw[tuborg, decoration={brace}] let \p1=(perfekt.north), \p2=(emperi.south) in
	    ($(2, \y1)$) -- ($(2, \y2)$) node[tubnode] {Problemfelt};
	  \end{tikzpicture}
	\end{document}
	%%% Local Variables: 
	%%% mode: latex
	%%% TeX-master: t
	%%% End: 
snippet asymmetric asymmetric-information
	% Author: Rasmus Pank Roulund
	% Inspired by figure in:
	% Bebczuk, Ricardo N. (2003). Asymmetric Information in Financial
	% Markets: Introduction and Applications. Cambridge University Press.
	
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Asymmetric information
	
	An illustration inspired by a figure in Bebczuk, Ricardo N. (2003). `Asymmetric Information in Financial Markets: Introduction and Applications. Cambridge University Press`__.
	
	.. __: http://books.google.com/books?id=hYU_1v2BCWUC&dq=Asymmetric+Information+in+Financial+Markets:+Introduction+and+Applications&source=bn&ei=ATOXSceeH5KJ-ga0kMTvCA&sa=X&oi=book_result&resnum=4&ct=book-ref-page-link&cad=one-book-with-thumbnail
	
	\end{comment}
	\usetikzlibrary{arrows,calc}
	\tikzset{
	%Define standard arrow tip
	>=stealth',
	%Define style for different line styles
	help lines/.style={dashed, thick},
	axis/.style={<->},
	important line/.style={thick},
	connection/.style={thick, dotted},
	}
	\newcommand\A{\ensuremath{\mathcal{A}}}
	\newcommand\B{\ensuremath{\mathcal{B}}}
	\begin{document}
	
	  \begin{tikzpicture}[scale=1.2]
	    %Draw axis
	    \coordinate (y) at (0,5);
	    \coordinate (x) at (5,0);
	    \draw[axis] (y) -- (0,0) --  (x);
	    %Important coordinates. These are used in both figures and can be
	    %moved to a seperate settings files
	    %% These coordinates deside where boxes start on the y axis
	    \coordinate (alphaas) at ($0.8*(y)$);
	    \coordinate (alphabs) at ($0.533*(y)$);
	    %% These coordinates deside where boxes end on the x axis
	    \coordinate (cfas) at ($.6*(x)$);
	    \coordinate (cfbs) at ($.9*(x)$);
	    %These sets the interest rate lines 
	    \coordinate (rl) at ($(cfas)-.2*(x)$);
	    \coordinate (rla) at ($(rl)-.1*(x)$);
	    \coordinate (rlb) at ($(rl)+.1*(x)$);
	    %%%%%%%%%%%%%%%%%%%%%%
	    %We makes some boxes and connect some coordinates
	    %%%%%%%%%%%%%%%%%%%%%%
	    %First, let us draw a line connecting alpha^\A_s og NV^\A_s
	    \draw[important line] let \p1=(alphaas), \p2=(cfas) in 
	    (\p1) node[left] {$\alpha_s^\A$} -| (\x2, \y1) -| (\p2)
	    node[below] {$\mathit{NV^\A_s}$};
	    %Second, let us connect alpha^\B_s og NV^B_s
	    \draw[] let \p1=(alphabs), \p2=(cfbs) in 
	    (\p1) node[left] {$\alpha_s^\B$} -| (\x2, \y1) -| (\p2)
	    node[below] {$\mathit{NV^\B_s}$};
	    %A line seperating the boxes.
	    \draw[help lines] let \p1=(rl), \p2=(y) in
	    (\p1) node[below] {$\hat{r}_L$} -- (\x1, \y2);
	    %%%%%%%%%%%%%%%%%%%%%%
	    %The small boxes will be assinged letter
	    %%%%%%%%%%%%%%%%%%%%%%
	    %%C
	    \draw let \p1=($(alphaas)-(alphabs)$), \p2=(rl), \p3=(alphabs) in
	    ($(.5*\x2, .5*\y1+\y3)$) node {$C$};
	    %%D
	    \draw let \p1=($(alphaas)-(alphabs)$), \p2=($(cfas)-(rl)$),
	    \p3=(alphabs), \p4=(rl) in
	    ($(.5*\x2+\x4, .5*\y1+\y3)$) node {$D$};
	    %%E
	    \draw let \p1=(alphabs), \p2=(rl) in
	    ($(.5*\x2, .5*\y1)$) node {$E$};
	    %%F
	    \draw let \p1=(alphabs), \p2=($(cfas)-(rl)$), \p3=(rl) in
	    ($(.5*\x2+\x3, .5*\y1)$) node {$F$};
	    %%G
	    \draw let \p1=(alphabs), \p2=($(cfbs)-(cfas)$), \p3=(cfas) in
	    ($(.5*\x2+\x3, .5*\y1)$) node {$G$};
	  \end{tikzpicture}
	\quad
	  \begin{tikzpicture}[scale=1.2]
	    %Axis
	    \coordinate (y) at (0,5);
	    \coordinate (x) at (5,0);
	    \draw[axis] (y) -- (0,0) --  (x);
	    %Important coordinates. These are used in both figures and can be
	    %moved to a seperate settings files
	    %% These coordinates deside where boxes start on the y axis
	    \coordinate (alphaas) at ($0.8*(y)$);
	    \coordinate (alphabs) at ($0.533*(y)$);
	    %% These coordinates deside where boxes end on the x axis
	    \coordinate (cfas) at ($.6*(x)$);
	    \coordinate (cfbs) at ($.9*(x)$);
	    %These sets the interest rate lines 
	    \coordinate (rl) at ($(cfas)-.2*(x)$);
	    \coordinate (rla) at ($(rl)-.1*(x)$);
	    \coordinate (rlb) at ($(rl)+.1*(x)$);
	    %%%%%%%%%%%%%%%%%%%%%%
	    %We makes some boxes and connect some coordinates
	    %%%%%%%%%%%%%%%%%%%%%%
	    %First, let us draw a line connecting alpha^\A_s og NV^\A_s
	    \draw[important line] let \p1=(alphaas), \p2=(cfas) in 
	    (\p1) node[left] {$\alpha_s^\A$} -| (\x2, \y1) -| (\p2)
	    node[below] {$\phantom{N}\mathit{NV^\A_s}$};
	    %Second, let us connect alpha^\B_s og NV^B_s
	    \draw[] let \p1=(alphabs), \p2=(cfbs) in 
	    (\p1) node[left] {$\alpha_s^\B$} -| (\x2, \y1) -| (\p2)
	    node[below] {$\mathit{NV^\B_s}$};
	    %%%%%%%%%%%%%%%%%%%%%%
	    %Here we need two lines seperating the large boxes
	    %%%%%%%%%%%%%%%%%%%%%%
	     \draw[help lines] let \p1=(rla), \p2=(y) in
	     (\p1) node[below] {$r^\A_L$} -- (\x1, \y2);    
	     \draw[connection] let \p1=(rlb), \p2=(y) in
	     (\p1) node[below] {$r^\B_L$} -- (\x1, \y2);
	    %%%%%%%%%%%%%%%%%%%%%%
	    %The small boxes will be assinged letter
	    %%%%%%%%%%%%%%%%%%%%%%
	    %%H
	    \draw let \p1=($(alphaas)-(alphabs)$), \p2=(rla), \p3=(alphabs) in
	    ($(.5*\x2, .5*\y1+\y3)$) node {$H$};
	    %%I
	    \draw let \p1=($(alphaas)-(alphabs)$), \p2=($(rlb)-(rla)$),
	    \p3=(alphabs), \p4=(rla) in
	    ($(.5*\x2+\x4, .5*\y1+\y3)$) node {$I$};
	    %%J
	    \draw let \p1=($(alphaas)-(alphabs)$), \p2=($(cfas)-(rlb)$),
	    \p3=(alphabs), \p4=(rlb) in
	    ($(.5*\x2+\x4, .5*\y1+\y3)$) node {$J$};
	    %%K
	    \draw let \p1=(alphabs), \p2=(rla) in
	    ($(.5*\x2, .5*\y1)$) node {$K$};
	    %%M
	    \draw let \p1=(alphabs), \p2=($(rlb)-(rla)$), \p3=(rla) in
	    ($(.5*\x2+\x3, .5*\y1)$) node {$M$};
	    %%N
	    \draw let \p1=(alphabs), \p2=($(cfas)-(rlb)$), \p3=(rlb) in
	    ($(.5*\x2+\x3, .5*\y1)$) node {$N$};
	    %%O
	    \draw let \p1=(alphabs), \p2=($(cfbs)-(cfas)$), \p3=(cfas) in
	    ($(.5*\x2+\x3, .5*\y1)$) node {$O$};
	  \end{tikzpicture}
	
	\end{document}
	
	%%% Local Variables: 
	%%% mode: latex
	%%% TeX-master: t
	%%% End: 
snippet atoms atoms-and-orbitals
	% Example drawings to help explain the VSEPR atom model to high school
	% students. Although the actual model is three dimensional, these drawings
	% are deliberately presented as two dimensional to gently introduce them to the
	% concepts, before advancing to three dimensional models.
	%
	% Authors: Berteun Damman & Arne Rhrs
	
	\documentclass{article}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Atoms and orbitals
	
	
	Example drawings to help explain the `VSEPR atom model`_ to high school
	students. Although the actual model is three dimensional, these drawings
	are deliberately presented as two dimensional to gently introduce them to the
	concepts, before advancing to three dimensional models.
	
	.. _VSEPR atom model: http://en.wikipedia.org/wiki/VSEPR_theory
	
	\end{comment}
	\usepackage{tikz}
	\usepackage[version=3]{mhchem}
	
	
	
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	% For black & white suggestions are black!95 for the electron
	% and a white background, or a simple shade for the orbitals.
	\colorlet{electron}{blue!75}
	\tikzset{orbital/.style={thick,draw=blue,fill opacity=.60}}
	% Styles for orbitals with 0, 1 and 2 atoms respectively.
	\tikzset{orbital 0/.style={orbital,fill=blue!25}}
	\tikzset{orbital 1/.style={orbital,fill=blue!66}}
	\tikzset{orbital 2/.style={orbital,fill=blue}}
	\tikzset{atomcore/.style={shape=circle,thick,draw=red!40,minimum size=7mm,
	    font=\large\color{red!70!gray},fill=red!20,inner sep=0pt}}
	
	\def\orbheight{1.2}
	\def\orbwidth{.6}
	
	% Parameters: #1 Rotation of the orbital
	%             #2 Coordinate where the orbital should be attached
	%             #3 Number of electrons to draw in the orbital
	\newcommand{\orbital}[3]{
	    \begin{scope}[rotate=#1,shift=(#2)]
	        % These points define the curve for the orbital.
	        \coordinate (c1) at (-\orbwidth, .6 * \orbheight);
	        \coordinate (c2) at (-\orbwidth, \orbheight);
	        \coordinate (c3) at (\orbwidth, \orbheight);
	        \coordinate (c4) at (\orbwidth, .6 * \orbheight);
	        \coordinate (top) at (0,\orbheight);
	
	        %Coordinates of the electrons
	        \coordinate (e1) at (0, 0.45*\orbheight);
	        \coordinate (e2) at (0, 0.75*\orbheight);
	    \end{scope}
	
	  % These are drawn on a background layer, so orbitals
	  % can overlap without covering the electrons, which
	  % visualises the role electrons play in chemical bonds.
	  \begin{pgfonlayer}{background}
	      \draw[orbital #3] (#2) .. controls (c1) and (c2) .. (top) ..
	            controls (c3) and (c4) .. (#2);
	  \end{pgfonlayer}
	
	  % Draw the electrons
	  \ifnum#3>0
	      \foreach \n in {1,...,#3} {
	          \shade[ball color=electron] (e\n) circle (1mm);
	      }
	  \fi
	}
	
	% This allows to quickly place an atom.
	% Parameters: #1 (Optional) Name of the center node
	%             #2 Text for the center node
	%             #3 A list of rotation-angle/anchor/number of electrons
	\newcommand{\Atom}[3][AtomNode]{
	  \node[atomcore] (#1) {\ce{#2}};
	  \foreach \ang/\anchor/\n in {#3} {
	      \orbital{\ang}{#1.\anchor}{\n}
	  }
	}
	
	\begin{document}
	    \pagestyle{empty}
	    
	    
	% Note: Cells of matrices cannot contain layered pictures,
	% therefore we use some old-fashioned scopes.
	\begin{tikzpicture}
	    \Atom{B}{90/west/2,0/north/1,270/east/0,180/south/1}
	    \begin{scope}[xshift=4cm]
	        \Atom{H}{0/north/1}
	    \end{scope}
	    \begin{scope}[yshift=-4cm]
	        \Atom{C}{90/west/1,0/north/1,270/east/1,180/south/1}
	        \begin{scope}[xshift=4cm]
	            \Atom{Cl}{90/west/2,0/north/2,270/east/2,180/south/1}
	        \end{scope}
	    \end{scope}
	\end{tikzpicture}
	
	\medskip
	
	\begin{tikzpicture}
	    \Atom{Cl}{90/west/2,0/north/2,270/east/1,180/south/2}
	    \begin{scope}[xshift=2.2cm]
	        \Atom{H}{90/west/1}
	    \end{scope}
	\end{tikzpicture}
	
	\medskip
	
	\begin{tikzpicture}
	    \Atom{O}{45/north west/2,315/north east/1,225/south east/1,135/south west/2}
	    \begin{scope}[xshift=3.0cm]
	        \Atom{O}{45/north west/1,315/north east/2,225/south east/2,135/south west/1}
	    \end{scope}
	
	    \begin{scope}[xshift=7.0cm]
	        \Atom{O}{45/north west/2,315/north east/1,225/south east/1,135/south west/2}
	        \begin{scope}[xshift=1.6cm]
	            \Atom{O}{45/north west/1,315/north east/2,225/south east/2,135/south west/1}
	        \end{scope}
	    \end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet manual automata
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Automata
	:Tags: Manual, Automata, Foreach, Graphs
	
	This example is from the System layer  title page of the TikZ and PGF manual.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	\begin{tikzpicture}[shorten >=1pt,->]
	  \tikzstyle{vertex}=[circle,fill=black!25,minimum size=17pt,inner sep=0pt]
	
	  \foreach \name/\x in {s/1, 2/2, 3/3, 4/4, 15/11, 
	                        16/12, 17/13, 18/14, 19/15, t/16}
	    \node[vertex] (G-\name) at (\x,0) {$\name$};
	
	  \foreach \name/\angle/\text in {P-1/234/5, P-2/162/6, 
	                                  P-3/90/7, P-4/18/8, P-5/-54/9}
	    \node[vertex,xshift=6cm,yshift=.5cm] (\name) at (\angle:1cm) {$\text$};
	
	  \foreach \name/\angle/\text in {Q-1/234/10, Q-2/162/11, 
	                                  Q-3/90/12, Q-4/18/13, Q-5/-54/14}
	    \node[vertex,xshift=9cm,yshift=.5cm] (\name) at (\angle:1cm) {$\text$};
	
	  \foreach \from/\to in {s/2,2/3,3/4,3/4,15/16,16/17,17/18,18/19,19/t}
	    \draw (G-\from) -- (G-\to);
	
	  \foreach \from/\to in {1/2,2/3,3/4,4/5,5/1,1/3,2/4,3/5,4/1,5/2}
	    { \draw (P-\from) -- (P-\to); \draw (Q-\from) -- (Q-\to); }
	
	  \draw (G-3) .. controls +(-30:2cm) and +(-150:1cm) .. (Q-1);
	  \draw (Q-5) -- (G-15);
	\end{tikzpicture}
	
	\end{document}
snippet foreach balance
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{flushleft}
	\setlength\PreviewBorder{35pt}%
	%%%>
	\begin{comment}
	:Title: Arithmetic mean as center of mass
	:Tags: Foreach;Fun
	:Author: Gonzalo Medina
	:Slug: balance
	
	Given a list of n positive integers the Balance environment produces an
	illustration of the arithmetic mean of the integers as the center of mass
	of a system formed by n objects (of equal mass) placed along a solid rod
	at the positions specified by the list of integers.
	
	This example was created by Gonzalo Medina
	(http://tex.stackexchange.com/users/3954/gonzalo-medina)
	answering a question of MYaseen208 on TeX.SE
	(http://tex.stackexchange.com/q/176466/3954).
	\end{comment}
	 
	
	% colors for the ruled rectangle
	\definecolor{color1}{RGB}{249,255,195}
	\definecolor{color2}{RGB}{251,245,160}
	% colors for the fulcrum
	\definecolor{color3}{RGB}{239,178,107}
	\definecolor{color4}{RGB}{214,96,0}
	% colors for the weights
	\definecolor{color5}{RGB}{191,203,224}
	\definecolor{color6}{RGB}{105,103,161}
	
	% A pic path for the weights
	\tikzset{
	Peso/.pic={
	  \coordinate (wll) at (-0.4cm,0);
	  \coordinate (wlr) at (0.4cm,0);
	  \coordinate (wul) at (-0.3cm,0.4cm);
	  \coordinate (wur) at (0.3cm,0.4cm);
	  \draw[fill=color5] 
	    (wll) -- (wlr) -- (wur) -- (wul) -- cycle;
	  \draw[fill=color6]
	    (wur) --
	    ++(-\Angle:6pt) --
	    ++(-75:0.4cm) --
	    (wlr) --
	    cycle;  
	  }
	}
	
	% counters to store the number of weights and the sum of
	% the given integers
	\newcounter{Number}
	\newcounter{Suma}
	
	% to perform a scaling along the x-axis (1cm=no scaling)
	\newlength\XFactor
	\setlength\XFactor{1cm}
	
	% the height of the rectangle
	\def\RectHt{1cm}
	% the angle for the 3D effect
	\def\Angle{20}
	% lengths controlling the help lines separation
	\def\Corr{1pt}
	\def\Gap{6pt}
	
	% the main environment
	\newenvironment{Balance}[1]
	{%
	  \medskip\par\noindent
	  \setcounter{Number}{0}%
	  \setcounter{Suma}{0}%
	  \begin{tikzpicture}[x=\XFactor]
	    \foreach \Valor in {#1}
	    {
	      \pic at (\Valor,\RectHt) {Peso};
	      \stepcounter{Number}%
	      \addtocounter{Suma}{\Valor}
	      \xdef\Steps{\Valor}
	    }
	    \def\RectWd{\numexpr\Steps+1\relax*\XFactor}%
	    \pgfmathsetmacro{\FulcrumCoord}{\theSuma/\theNumber}
	
	% The ruled rectangle
	    \coordinate (ll) at (0,0);%\node at ([xshift=-10pt]ll) {\FulcrumCoord};
	    \coordinate (ur) at (\RectWd,\RectHt);
	    \draw[fill=color1]
	      (ll) rectangle (ur);
	    \draw[fill=color2] 
	      (ur) -- 
	      ++(-\Angle:6pt) -- 
	      ++(0,-\RectHt) -- 
	      ++(-\RectWd,0) -- 
	      (ll) --
	      ++(\RectWd,0) --
	      cycle;   
	    \foreach \Valor in {1,...,\Steps}
	      \draw (\Valor,1) -- ++(0pt,-5pt) node[below] {\Valor};  
	    \draw (\RectWd,0) -- ++(-\Angle:6pt);
	
	% The fulcrum
	    \draw[fill=color3] 
	      (\FulcrumCoord,0) --
	      ++(240:1) --
	      ++(1,0) coordinate (aux) --
	      cycle;
	    \draw[fill=color4]  
	      (\FulcrumCoord,0) --
	      ++(-\Angle:6pt) --
	      ++(-60:1) --
	      ++(-1,0) --
	      ++(180-\Angle:6pt) --
	      ++(1,0) --
	      cycle;
	    \draw (aux) -- ++(-\Angle:6pt);
	    \coordinate (cotaFulc) 
	      at (\FulcrumCoord,\RectHt);
	    \draw[color4] 
	      (\FulcrumCoord,0) --
	      ++(0,2pt) 
	        node[above=-2pt] {\pgfmathprintnumber[precision=1]{\FulcrumCoord}};
	}
	{\end{tikzpicture}\medskip\par\noindent}
	
	% the command to draw help lines
	\newcommand\Cotas[2][1]{
	\draw 
	  (\FulcrumCoord,\RectHt+#1\Corr+\number\numexpr#1-1\relax\Gap) -- 
	  ++(0,10pt);
	  \foreach \Valor in {#2}
	    {
	      \draw 
	        (\Valor,\RectHt+#1\Corr+\number\numexpr#1-1\relax\Gap) -- 
	          coordinate (cota\Valor) 
	        ++(0,10pt);
	      \draw[<->,>=latex,help lines] 
	        (cotaFulc|-cota\Valor) -- 
	          node[fill=white] {\footnotesize$\pgfmathparse{\Valor-\FulcrumCoord}%
	          \pgfmathprintnumber[precision=1]{\pgfmathresult}$} 
	        (cota\Valor);
	    }
	}
	\begin{document}
	\begin{flushleft}
	\begin{Balance}{3,4,8}
	  \Cotas{4,8}
	  \Cotas[2]{3}
	\end{Balance}
	
	\begin{Balance}{2,4,6,8,10}
	  \Cotas{4,8}
	  \Cotas[2]{2,10}
	\end{Balance}
	
	\begin{Balance}{1,4,5,8,10,12}
	  \Cotas{5,8}
	  \Cotas[2]{4,10}
	  \Cotas[3]{1,12}
	\end{Balance}
	\end{flushleft}
	\end{document}
snippet charts bar-chart
	% Bar charts
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Bar chart
	:Tags: Charts;Cookbook
	:Author: Stefan Kottwitz
	:Slug: bar-chart
	
	A bar chart can be used for comparing values.
	Here we create a horizontal bar chart.
	
	The pgfplots package provides an easy way.
	In this example, I reduced axis data to
	focus on the values. So I do not show
	x-axis and y-axis, or axis ticks.
	\end{comment}
	\usepackage{pgfplots}
	\begin{document}
	\begin{tikzpicture}
	  \begin{axis}[title  = Contributions per category
	                          at LaTeX-Community.org,
	    xbar,
	    y axis line style = { opacity = 0 },
	    axis x line       = none,
	    tickwidth         = 0pt,
	    enlarge y limits  = 0.2,
	    enlarge x limits  = 0.02,
	    symbolic y coords = {LaTeX, Tools, Distributions, Editors},
	    nodes near coords,
	  ]
	  \addplot coordinates { (57727,LaTeX)         (5672,Tools)
	                         (2193,Distributions)  (11106,Editors) };
	  \addplot coordinates { (14320,LaTeX)         (1615,Tools)
	                         (560,Distributions)   (3075,Editors)  };
	  \legend{Topics, Posts}
	  \end{axis}
	\end{tikzpicture}
	\end{document}
snippet nodes bayes
	% Mammography problem from 'Intro to Bayes'
	% Author: John Henderson
	\documentclass[10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Mammography problem from 'Intro to Bayes'
	:Tags: Nodes and Shapes;Node positioning;Text and math;Diagrams;Mathematics
	:Author: John Henderson
	:Slug: bayes
	
	The following was created in response to reading about "the mammography
	problem," a commonly used example illustrating the use of Bayesian
	Probability, on Eliezer Yudkowsky's page, "An Intuitive Explanation of
	Bayes' Theorem." The visualization presents the problem as involving
	"sieves" which behave differently depending on whether the individual
	passing through has or does not have cancer, illustrating the split
	probability created by the reliability of a mammography (chance of
	producing true positives and false positives). The illustration was posted
	on LessWrong.com, a site devoted to rationality, created by Yudkowsky.
	\end{comment}
	\usetikzlibrary{positioning,decorations.pathreplacing,shapes}
	\usepackage[english]{babel}
	\usepackage{microtype}
	\usepackage[hmargin=1.5cm,vmargin=1cm]{geometry}
	\usepackage{amsmath}
	\DeclareMathOperator{\p}{p}
	\newcommand*{\cancer}{\text{cancer}}
	\newcommand*{\testp}{\text{test}+}
	\begin{document}
	\begin{tikzpicture}[%
	  % common options for blocks:
	  block/.style = {draw, fill=blue!30, align=center, anchor=west,
	              minimum height=0.65cm, inner sep=0},
	  % common options for the circles:
	  ball/.style = {circle, draw, align=center, anchor=north, inner sep=0}]
	
	% circle illustrating all women
	\node[ball,text width=3cm,fill=purple!20] (all) at (6,0) {All women};
	
	% two circles showing split of p{cancer} and p{~cancer}
	\node[ball,fill=red!70,text width=0.1cm,anchor=base] (pcan) at (3.5,-5.5) {};
	\node[ball,fill=blue!40,text width=2.9cm,anchor=base] (pncan) at (8.5,-6)
	   {Women without cancer\\
	    $\p({\sim}\cancer) = 99\%$};
	
	% arrows showing split from all women to cancer and ~cancer
	\draw[->,thick,draw=red!50] (all.south) to [out=270,in=90] (pcan.north);
	\draw[->,thick,draw=blue!80] (all.south) to [out=270,in=110] (pncan.100);
	
	% transition from all women to actual cancer rates
	\node[anchor=north,text width=10cm,inner sep=.05cm,align=center,fill=white]
	  (why1) at (6,-3.7) {In measuring, we find:};
	
	% note illustration the p{cancer} circle (text won't fit inside)
	\node[inner sep=0,anchor=east,text width=3.3cm] (note1) at (3.2,-5.5) {
	   Women with cancer $\p(\cancer) = 1\%$};
	
	% draw the sieves
	\node[block,anchor=north,text width=4.4cm,fill=green!50] (tray1) at
	   (3.5,-8.8) {\small{$\p(\testp\mid\cancer)=0.8$}};
	
	\node[block,anchor=north,text width=4.4cm,fill=green!50] (tray2) at
	   (8.5,-8.8) {$\p(\testp\mid{\sim}\cancer)=0.096$};
	
	% text explaining how p{cancer} and p{~cancer} behave as they
	% pass through the sieves
	\node[anchor=west,text width=6cm] (note1) at (-6,-9.1) {
	   Now we pass both groups through the sieve; note that both
	     sieves are \emph{the same}; they just behave differently
	     depending on which group is passing through. \\ 
	     Let $\testp=$ a positve mammography.};
	
	% arrows showing the circles passing through the seives
	\draw[->,thick,draw=red!80] (3.5,-5.9) -- (3.5,-8.6);
	\draw[->,thick,draw=blue!50] (8.5,-8.1) -- (8.5,-8.6);
	
	% numerator
	\node[ball,text width=0.05cm,fill=red!70] (can) at (6,-10.5) {};
	
	% dividing line
	\draw[thick] (5,-11) -- (7,-11);
	
	% demoniator
	\node[ball,text width=0.39cm,fill=blue!40,anchor=base] (ncan) at (6.5,-11.5) {};
	\node[ball,text width=0.05cm,fill=red!70,anchor=base] (can2) at (5.5,-11.5) {};
	
	% plus sign in denominator
	\draw[thick] (5.9,-11.4) -- (5.9,-11.6);
	\draw[thick] (5.8,-11.5) -- (6,-11.5);
	
	% arrows showing the output of the sieves formed the fraction
	\draw[->,thick,draw=red!80] (tray1.south) to [out=280,in=180] (can);
	\draw[->,thick,draw=red!80] (tray1.south) to [out=280,in=180] (can2);
	\node[anchor=north,inner sep=.1cm,align=center,fill=white] (why2) at
	   (3.8,-9.8) {$1\% * 80\%$};
	
	\draw[->,thick,draw=blue!50] (tray2.south) to [out=265,in=0] (ncan);
	\node[anchor=north,inner sep=.1cm,align=center,fill=white] (why2) at
	   (8.4,-9.8) {$99\% * 9.6\%$};
	
	% explanation of final formula
	\node[anchor=north west,text width=6.5cm] (note2) at (-6,-12.5)
	   {Finally, to find the probability that a positive test
	       \emph{actually means cancer}, we look at those who passed
	       through the sieve \emph{with cancer}, and divide by all who
	       received a positive test, cancer or not.}; 
	
	% illustrated fraction turned into math
	\node[anchor=north,text width=10cm] (solution) at (6,-12.5) {
	  \begin{align*}
	      \frac{\p(\testp\mid\cancer)}{\p(\testp\mid\cancer)
	        + \p(\testp\mid{\sim}\cancer)} &= \\
	      \frac{1\% * 80\%}{(1\% * 80\%) + (99\% * 9.6\%)} &= 7.8\%
	        = \p(\cancer\mid\testp)
	   \end{align*}};
	\end{tikzpicture}
	\end{document}
snippet remember beamer-arrows
	\documentclass{beamer} %
	\usetheme{CambridgeUS}
	\usepackage[latin1]{inputenc}
	\usefonttheme{professionalfonts}
	\usepackage{times}
	\usepackage{tikz}
	\usepackage{amsmath}
	\usepackage{verbatim}
	\usetikzlibrary{arrows,shapes}
	
	\author{Author}
	\title{Presentation title}
	
	\begin{document}
	
	\begin{comment}
	:Title: Beamer arrows
	:Tags: Remember picture, Beamer, Physics & chemistry, Overlays
	:Use page: 3
	
	With PGF/TikZ version 1.09 and later, it is possible to draw paths between nodes across
	different pictures. This is a useful feature for presentations with the
	Beamer package. In this example I've combined the new PGF/TikZ's overlay feature
	with Beamer overlays. Download the PDF version to see the result.
	
	**Note.** This only works with PDFTeX, and you have to run PDFTeX twice.
	
	| Author: Kjell Magne Fauske
	
	\end{comment}
	
	
	% For every picture that defines or uses external nodes, you'll have to
	% apply the 'remember picture' style. To avoid some typing, we'll apply
	% the style to all pictures.
	\tikzstyle{every picture}+=[remember picture]
	
	% By default all math in TikZ nodes are set in inline mode. Change this to
	% displaystyle so that we don't get small fractions.
	\everymath{\displaystyle}
	
	\begin{frame}
	\frametitle{Rigid body dynamics}
	
	\tikzstyle{na} = [baseline=-.5ex]
	
	\begin{itemize}[<+-| alert@+>]
	    \item Coriolis acceleration
	        \tikz[na] \node[coordinate] (n1) {};
	\end{itemize}
	
	% Below we mix an ordinary equation with TikZ nodes. Note that we have to
	% adjust the baseline of the nodes to get proper alignment with the rest of
	% the equation.
	\begin{equation*}
	\vec{a}_p = \vec{a}_o+\frac{{}^bd^2}{dt^2}\vec{r} +
	        \tikz[baseline]{
	            \node[fill=blue!20,anchor=base] (t1)
	            {$ 2\vec{\omega}_{ib}\times\frac{{}^bd}{dt}\vec{r}$};
	        } +
	        \tikz[baseline]{
	            \node[fill=red!20, ellipse,anchor=base] (t2)
	            {$\vec{\alpha}_{ib}\times\vec{r}$};
	        } +
	        \tikz[baseline]{
	            \node[fill=green!20,anchor=base] (t3)
	            {$\vec{\omega}_{ib}\times(\vec{\omega}_{ib}\times\vec{r})$};
	        }
	\end{equation*}
	
	\begin{itemize}[<+-| alert@+>]
	    \item Transversal acceleration
	        \tikz[na]\node [coordinate] (n2) {};
	    \item Centripetal acceleration
	        \tikz[na]\node [coordinate] (n3) {};
	\end{itemize}
	
	% Now it's time to draw some edges between the global nodes. Note that we
	% have to apply the 'overlay' style.
	\begin{tikzpicture}[overlay]
	        \path[->]<1-> (n1) edge [bend left] (t1);
	        \path[->]<2-> (n2) edge [bend right] (t2);
	        \path[->]<3-> (n3) edge [out=0, in=-90] (t3);
	\end{tikzpicture}
	\end{frame}
	\end{document}
snippet shadings belt-pulley
	% Belt and pulley system
	% Author: Jimi Oke
	\documentclass[11pt]{article}
	\usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Belt and pulley system
	:Tags: Shadings;Angles;Geometry;Mathematics
	:Author: Jimi Oke
	:Slug: belt-pulley
	This simple belt-and-pulley is used as a basis for solving trigonometric problems. Although simplistic, it shows how elegant and powerful TikZ can be for mathematically precise illustrations. Diagram from Precalculus text by Stewart.
	\end{comment}
	\usetikzlibrary{arrows,shapes,positioning}
	\begin{document}
	\begin{tikzpicture}
	 
	      % Definitions
	      \pgfmathsetmacro{\b}{75}
	      \pgfmathsetmacro{\a}{15}
	      \pgfmathsetmacro{\R}{2}
	      \pgfmathsetmacro{\r}{1}
	      \pgfmathsetmacro{\P}{\R*tan(\b)}
	      \pgfmathsetmacro{\Q}{\R/cos(\b)}
	      \pgfmathsetmacro{\p}{\r/tan(\a)}
	      \pgfmathsetmacro{\q}{\r/sin(\a)}
	
	      % Pulleys
	      
	      % big pulley
	      \draw (0,0) circle (\R) ;
	      \fill[left color=gray!80, right color=gray!60, middle
	        color=white] (0,0) circle (\R) ;
	      \draw[thick, white] (0,0) circle (.8*\R);
	      \shade[ball color=white] (0,0) circle (.3) node[left,xshift=-5] {$P$};
	
	      % small pulley
	      \draw (\Q+\q-.3, 0) circle (\r);
	      \fill[left color=gray!80, right color=gray!60, middle
	        color=white] (\Q+\q-.3, 0) circle (\r) ;
	      \draw[thick, white] (\Q+\q-.3,0) circle (.8*\r);
	      \shade[ball color=white] (\Q+\q-.3,0) circle (.15) 
	      node[right, xshift=2] {$Q$};
	
	      % belt and point labels
	      \begin{scope}[ultra thick]
	        \draw (\b:\R) arc (\b:360-\b:\R) ;
	        \draw (\b:\R) -- ( \P, 0 ); 
	        \draw (-\b:\R) -- ( \P, 0 );
	        \draw (\Q-.3,0) -- + (\a:\p)  arc (105:-105:\r) ;
	        \draw (\Q-.3,0) -- + (-\a:\p);
	        %\draw (\b:\R) arc (\b:360-\b:\r) ;
	      \end{scope}
	   
	      \draw (0,0) -- (\b:\R) node[midway, above,sloped] {$R$} node[above] {$A$};
	      \draw (-\b:\R)--(0,0) ;
	      \draw (\Q+\q-.3,0) -- +(105:\r) node[midway,above, sloped] {$r$}
	        node[above] {$E$};
	      \draw (\Q+\q-.3,0) -- +(-105:\r) node[below] {$D$};
	      \node[below] at (-\b:\R) {$B$};
	      \node[below] at (\Q-.3,0) {$C$};
	
	      % center line
	      \draw[dash pattern=on5pt off3pt] (0,0) -- (\Q+\q-.3,0);
	
	      % angle label
	      \node[fill=white] at (0.73*\Q, 0) {$\theta$} ;
	      \draw (\Q-1.8,0) arc (180:195:1.5);
	      \draw (\Q-1.8,0) arc (180:165:1.5);
	\end{tikzpicture}
	\end{document}
snippet ber BER-measurement
	% BER measurement on fibre optical system
	% Author: Jose Luis Diaz
	\documentclass{minimal}
	\usepackage[a4paper, landscape]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: BER measurement on fibre optical system
	:Slug: BER-measurement
	
	A schematic of bit error rate (BER) measurement on fibre optical system, involving QD SOA.
	
	In the TeXnical part, it illustrates the use of matrix to position nodes in a grid, 
	and chains to connect them. It uses some interesting tricks, such as the 
	possiblity to add [xshift] options to indvidual nodes to alter their position 
	in the grid, or the fit option to create rectangles that enclose a set of concrete nodes.
	\end{comment}
	
	\usetikzlibrary{shapes.geometric,shapes.arrows,decorations.pathmorphing}
	\usetikzlibrary{matrix,chains,scopes,positioning,arrows,fit}
	
	\begin{document}
	\sffamily\begin{tikzpicture}
	  % Define a macro to draw the filter symbol
	  \def\filterSS{\node{};  % This empty node draws the box. 
	     % Then we draw the inner curves
	     \draw[line width=1pt] (-2mm,-4mm) to[in=200,out=20] (-2mm, 4mm) 
	                           (0mm,-4mm) to[in=200,out=20] (0mm, 4mm) 
	                           (2mm,-4mm) to[in=200,out=20] (2mm, 4mm); 
	     }
	
	  % Define a macro to draw the MOD symbol
	  \def\MOD#1{\node{#1}; % The box with the text inside. Then draw the polygon around the text
	    \draw[line width=1pt,sharp corners](-0.75cm,0cm)--(-0.35cm,0.25cm)--
	         (0.35cm, 0.25cm)--(0.75cm, 0cm)--(0.35cm, -0.25cm)--(-0.35cm, -0.25cm) -- cycle; 
	    }
	
	  % Define a macro to draw the Polariser symbol
	  \def\Polaris{\node[coordinate]{}; % Node of type coordinate is a simple point 
	       % Now draw the three circles
	       \draw[line width=1pt] (0mm, -2mm)  circle (2mm) 
	                             (-2mm,2mm)  circle (2mm)
	                             (2mm, 2mm)  circle (2mm);}
	
	  % Place all element in a matrix of nodes, called m
	  % By default all nodes are rectangles with round corners
	  % but some special sytles are defined also
	  \matrix (m) [matrix of nodes, 
	    column sep=5mm,
	    row sep=1cm,
	    nodes={draw, % General options for all nodes
	      line width=1pt,
	      anchor=center, 
	      text centered,
	      rounded corners,
	      minimum width=1.5cm, minimum height=8mm
	    }, 
	    % Define styles for some special nodes
	    right iso/.style={isosceles triangle,scale=0.5,sharp corners, anchor=center, xshift=-4mm},
	    left iso/.style={right iso, rotate=180, xshift=-8mm},
	    txt/.style={text width=1.5cm,anchor=center},
	    ellip/.style={ellipse,scale=0.5},
	    empty/.style={draw=none}
	    ]
	  {
	  % First row of symbols (mostly empty, only the power meter at the right end)
	    % m-1-1 empty
	  & % m-1-2 empty
	  & % m-1-3 empty
	  & % m-1-4 empty
	  & % m-1-5 empty
	  & % m-1-6 empty
	  & % m-1-7
	    |[txt]| {Power Meter} 
	  \\
	
	  % Second row of symbols
	  % m-2-1
	    Laser 
	  & % m-2-2
	    \MOD{MOD} 
	  & % m-2-3
	    |[right iso]|  
	  & % m-2-4
	    SOA
	  & % m-2-5
	    \filterSS 
	  & % m-2-6
	    VOA    
	  & % m-2-7
	    |[ellip]|
	  & % m-2-8
	    |[coordinate, xshift=-1cm]|  
	  \\
	  % Third row of symbols
	    % m-3-1 empty
	  & % m-3-2
	    VOA  
	  & % m-3-3
	    \filterSS  
	  & % m-3-4
	    |[left iso]| 
	  & % m-3-5
	    |[draw=orange!80!white, ultra thick]| \textbf{QDSOA} 
	  & % m-3-6
	    |[left iso]| 
	  & % m-3-7
	    \Polaris 
	  & % m-3-8 (no symbol here, only a point to draw the path)
	    |[coordinate, xshift=-1cm]| 
	  \\
	  % Fourth row of symbols
	    % m-4-1
	    |[txt]| {Power Meter} 
	  & % m-4-2
	    |[ellip]| 
	  & % m-4-3
	    |[right iso]| 
	  & % m-4-4
	    SOA 
	  & % m-4-5
	    |[right iso]| 
	  & % m-4-6
	    \filterSS 
	  & % m-4-7
	    Rx    
	  & % m-4-8
	    |[txt]| {Error\\Detector} 
	  \\
	  };  % End of matrix
	
	  % Now, connect all nodes in a chain.
	  % The names of the nodes are automatically generated in the previous matrix. Since the
	  % matrix was named ``m'', all nodes have the name m-row-column
	  { [start chain,every on chain/.style={join}, every join/.style={line width=1pt}]
	    \chainin (m-2-1);
	    \chainin (m-2-2);
	    \chainin (m-2-3);
	    \chainin (m-2-4);
	    \chainin (m-2-5);
	    \chainin (m-2-6);
	    % Connect to the power meter, and put a label saying 10%
	    \path[line width=1pt] (m-1-7) edge node [right] {$10\%$} (m-2-7);
	    \chainin (m-2-7);
	    \chainin (m-2-8);
	    % Draw the label saying 90%
	    \path (m-2-8) edge node [right] {$90\%$} (m-3-8) ;
	    \chainin (m-3-8);
	    \chainin (m-3-7);
	    \chainin (m-3-6);
	    \chainin (m-3-5);
	    \chainin (m-3-4);
	    \chainin (m-3-3);
	    \chainin (m-3-2);
	    % Connect to the power meter, and put a label saying 10%
	    \path[line width=1pt] (m-4-1) edge node [above] {$10\%$} (m-4-2);
	    \chainin (m-4-2);
	    % Draw the label saying 90%
	    \path (m-4-2) edge node [below] {$90\%$} (m-4-3) ;
	    \chainin (m-4-3);
	    \chainin (m-4-4);
	    \chainin (m-4-5);
	    \chainin (m-4-6);
	    \chainin (m-4-7);
	    \chainin (m-4-8);
	    };
	  % Finally, put some text above some symbols
	  \draw (m-2-3.left side) node[above, inner sep=5mm] {Isolator};
	  \draw (m-2-5.north) node[above, inner sep=3mm] {Filter};
	  \draw (m-3-7) node[above, inner sep=6mm, text centered, text width=2cm] {Polarisation\\controller};
	
	  % The big arrow over the MOD symbol is a bit laborious
	  \node[yshift=2mm] (MOD arrow) at (m-2-2.north) [anchor=east,single arrow, draw,line width=1pt, 
	                rotate=-90, minimum height=7mm, minimum width=1.3cm, 
	                single arrow head extend=1.2mm, single arrow tip angle=120] {};
	  % The text above the arrow (the starting of the arrow is at west in the arrow shape, even if the
	  % arrow was rotated and it lies now at top)
	  \node (MOD text) at (MOD arrow.west) [above, inner sep=2mm] {10Gb/s PRBS};
	
	  % Define the style for the blue dotted boxes
	  \tikzset{blue dotted/.style={draw=blue!50!white, line width=1pt,
	                               dash pattern=on 1pt off 4pt on 6pt off 4pt,
	                                inner sep=4mm, rectangle, rounded corners}};
	
	  % Finally the blue dotted boxes are drawn as nodes fitted to other nodes
	  \node (first dotted box) [blue dotted, 
	                            fit = (MOD text) (m-2-1) (m-2-4)] {};
	  \node (second dotted box) [blue dotted,
	                            fit = (m-4-4) (m-4-8)] {};
	
	  % Since these boxes are nodes, it is easy to put text above or below them                          
	  \node at (first dotted box.north) [above, inner sep=3mm] {\textbf{Transmitter}};
	  \node at (second dotted box.south) [below, inner sep=3mm] {\textbf{Receiver}};
	\end{tikzpicture}
	\end{document}
snippet intersections biconcave-lens
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Biconcave lens
	:Tags: Intersections;Optics
	:Author: Alain Matthes
	:Slug: biconcave-lens
	
	The example is made with the "intersections" library.
	We fill directly the center part. We need to determine the angle defined
	by the center I of an arc and a point of the arc (here D).
	
	Originally posted to [TeX.SE](http://tex.stackexchange.com/a/62919/213).
	\end{comment}
	\usetikzlibrary{intersections}
	
	\begin{document}
	\begin{tikzpicture}
	  \coordinate (I)  at (1.9,0);     
	  \path [name path=arc1, draw=none](-1.9,-1.5) 
	     arc[start angle=-90, end angle=90,radius=1.5];
	  \path [name path=arc2, draw=none](1.9,1.5)   
	     arc[start angle=90, end angle=270,radius=1.5];
	  \path [name path=rect, draw=none](-0.9,-0.9) rectangle (0.9,0.9);
	
	  \path [name intersections={of = arc1 and rect}];
	  \coordinate (A)  at (intersection-1);
	  \coordinate (B)  at (intersection-2);
	
	  \path [name intersections={of = arc2 and rect}];
	  \coordinate (C)  at (intersection-1);
	  \coordinate (D)  at (intersection-2);
	
	  \pgfmathanglebetweenpoints{\pgfpointanchor{I}{center}}{%
	    \pgfpointanchor{D}{center}} 
	  \let\tmpan\pgfmathresult 
	
	  \fill[red!50] (A)--(D)  
	        arc[start angle=\tmpan, end angle=360-\tmpan,radius=1.5] -- (B)
	        arc[start angle=\tmpan-180, end angle=180-\tmpan,radius=1.5] ; 
	
	  \draw [brown, ultra thick] (A) -- (D);
	  \draw [brown, ultra thick] (B) -- (C) ;
	  \draw [blue, thick] (-1.9,-1.5) arc[start angle=-90, end angle=90,radius=1.5];
	  \draw [blue, thick] (1.9,1.5) arc[start angle=90, end angle=270,radius=1.5];
	
	  \begin{scope}[>=latex]
	    \draw [->] (-3,0) -- (3,0);
	    \draw [->] (0,-1.25) -- (0,1.5);
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet fun birthday-cake
	% A birthday cake
	% Andrew Stacey
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Birthday cake
	:Tags: Fun;Decorative drawings
	:Author: Andrew Stacey
	:Slug: birthday-cake
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	  \fill[white!80!black] (3,-.2) circle[x radius=5.05,y radius=1.66666];
	  \fill[white!80!black] (3,0) circle[x radius=5,y radius=1.66666];
	  \draw[white!75!black] (3,0) circle[x radius=5,y radius=1.66666];
	  \fill[white!75!black] (3,0) circle[x radius=4,y radius=1.33333];
	  \begin{scope}
	    \clip (0,0) arc[x radius=3,y radius=1,start angle=180,delta angle=180]
	       -- ++(0,2)  arc[x radius=3,y radius=1,start angle=0,delta angle=-180]
	       -- ++(0,-2);
	    \foreach \k in {0,...,60} {
	      \pgfmathparse{Mod(\k,2) ? "pink" : "purple!50"}
	      \let\linecol=\pgfmathresult
	      \draw[line width=1mm,\linecol] (\k mm,2) -- ++(0,-3);
	    }
	  \end{scope}
	  \fill[opacity=.3] (0,2)
	    arc[x radius=3,y radius=1,start angle=180,delta angle=180] -- ++(0,-.5)
	    arc[x radius=3,y radius=1.25,start angle=0,delta angle=-180] -- ++(0,.5);
	  \fill[pink] (-.25,2) .. controls +(0,-.5) and +(-2,0) .. ++(3.25,-1.25)
	    .. controls +(2,0) and +(0,-.5) .. ++(3.25,1.25) -- ++(0,1)
	    .. controls +(0,.5) and +(2,0) .. ++(-3.25,1.25)
	    .. controls +(-2,0) and +(0,.5) .. ++(-3.25,-1.25);
	  \draw[pink!80!black] (-.25,3) .. controls +(0,-.5) and +(-2,0)
	    .. ++(3.25,-1.25) .. controls +(2,0) and +(0,-.5) .. ++(3.25,1.25)
	    .. controls +(0,.5) and +(2,0) .. ++(-3.25,1.25)
	    .. controls +(-2,0) and +(0,.5) .. ++(-3.25,-1.25);
	  \fill[pink!80!black] (.75,3) .. controls +(0,-.25) and +(-2,0)
	    .. ++(2.25,-.75) .. controls +(2,0) and +(0,-.25) .. ++(2.25,.75)
	    .. controls +(0,.25) and +(2,0) .. ++(-2.25,.75)
	    .. controls +(-2,0) and +(0,.25) .. ++(-2.25,-.75);
	  \foreach \i in {0,...,5} {
	    \pgfmathsetmacro{\yshift}{-\i * (5 - \i) * .07cm}
	    \begin{scope}[xshift=\i * .5cm,yshift = \yshift]
	      \fill[purple!70] (1.5,3) arc[x radius=5pt, y radius=2.5pt,
	        start angle=-180, end angle=0] -- ++(0,2) arc[x radius=5pt,
	        y radius=2.5pt, start angle=0, end angle=-180] -- cycle;
	      \fill[pink] (1.5,5) arc[x radius=5pt, y radius=2.5pt,
	        start angle=-180, end angle=180];
	      \fill[yellow] (1.5,7.5) ++(5pt,0) .. controls +(0,-1) and +(.5,0)
	        .. ++(0,-2.5) .. controls +(-.5,0) and +(0,-1) .. ++(0,2.5);
	    \end{scope}
	  }
	\end{tikzpicture}
	\end{document}
snippet calendar birthday-calendar
	% Birthday calendar
	% Author: Hakon Malmedal
	\documentclass[fontsize=20pt]{scrartcl}
	\usepackage[norsk]{babel}
	\usepackage[utf8]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage{lmodern}
	\usepackage[margin=1cm,a4paper,landscape]{geometry}
	\pagestyle{empty}
	\usepackage{graphicx}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Birthday calendar
	:Tags: Calendar library;Calendars
	:Author: Hakon Malmedal
	:Slug: birthday-calendar
	\end{comment}
	\usetikzlibrary{calendar,fit}
	\usepackage{expl3,xparse}
	
	%% Adapted from http://tex.stackexchange.com/a/10199/4771
	\makeatletter%
	\tikzoption{day headings}{\tikzstyle{day heading}=[#1]}
	\tikzstyle{day heading}=[]
	\tikzstyle{day letter headings}=[
	    execute before day scope={ \ifdate{day of month=1}{%
	      \pgfmathsetlength{\pgf@ya}{\tikz@lib@cal@yshift}%
	      \pgfmathsetlength\pgf@xa{\tikz@lib@cal@xshift}%
	      \pgftransformyshift{-\pgf@ya}
	      \foreach \d/\l in {0/Mandag,1/Tirsdag,2/Onsdag,3/Torsdag,%
	                         4/Fredag,5/Lørdag,6/Søndag} {
	        \pgf@xa=\d\pgf@xa%
	        \pgftransformxshift{\pgf@xa-\cellwidth/2}%
	        \pgftransformyshift{\pgf@ya}%
	        \node[above=-0.5ex,day heading]{\l};%
	      }
	    }{}%
	  }%
	]
	\makeatother%
	%% End
	
	%% Adapted from pgf source
	\def\pgfcalendarmonthname#1{%
	  \translate{\ifcase#1\or Januar\or Februar\or Mars\or April\or
	    Mai\or Juni\or Juli\or August\or September\or Oktober\or
	    November\or Desember\fi}%
	}
	
	\makeatletter
	\tikzstyle{month label above centered}=[%
	  execute before day scope={%
	    \ifdate{day of month=1}{%
	      {
	        \pgfmathsetlength{\pgf@xa}{\tikz@lib@cal@xshift}%
	        \pgf@xb=\tikz@lib@cal@width\pgf@xa%
	        \advance\pgf@xb by-\pgf@xa%
	        \pgf@xb=.5\pgf@xb%
	        \pgftransformxshift{\pgf@xb}%
	        \pgftransformxshift{-\cellwidth/2}%
	        \pgfmathsetlength{\pgf@y}{\tikz@lib@cal@yshift}%
	        \pgftransformyshift{0.333\pgf@y}
	        \tikzmonthcode%
	      }
	    }{}},
	  every month/.append style={anchor=base}
	]
	\makeatother
	%% End
	
	\ExplSyntaxOn
	
	%% Adapted from http://tex.stackexchange.com/a/56214/4771
	%%
	% first of all we define the user level commands
	\NewDocumentCommand{\addtext}{ m }{ \bdaycal_input_add:n { #1 } }
	\NewDocumentCommand{\addtextyear}{ mm }{ \bdaycal_input_add_y:nn { #1 } { #2 } }
	\NewDocumentCommand{\showtext}{ }{ \bdaycal_output_direct: }
	
	% allocate variable:
	% a sequence for global storage of the inputs;
	\seq_new:N \g_bdaycal_input_seq
	
	% store globally an input in the sequence
	\cs_new:Npn \bdaycal_input_add:n #1
	 {
	  \seq_gput_right:Nn \g_bdaycal_input_seq { #1 }
	 }
	
	\cs_new:Npn \bdaycal_input_add_y:nn #1 #2
	 {
	  \seq_gput_right:Nn \g_bdaycal_input_seq { #1 ~ ( \int_to_arabic:n
	    { \pgfcalendarifdateyear - #2 } ) }
	 }
	
	% how to output in direct order; we simply do a mapping function calling
	% \bdaycal_print:n after incrementing the counter
	\cs_new_protected:Npn \bdaycal_output_direct:
	 {
	  \seq_map_inline:Nn \g_bdaycal_input_seq
	   {
	    \bdaycal_print:n { ##1 }
	   }
	  \seq_gclear:N \g_bdaycal_input_seq
	 }
	
	% the printing macro; change here for adapting to your wishes
	\cs_new:Npn \bdaycal_print:n #1
	 {
	  #1 \par
	 }
	%% End
	
	%% Knuth's AoCP, vol 1, 2nd ed, pp 155--156
	\int_new:N \l_easter_Y_int
	\int_new:N \l_easter_G_int
	\int_new:N \l_easter_C_int
	\int_new:N \l_easter_X_int
	\int_new:N \l_easter_Z_int
	\int_new:N \l_easter_D_int
	\int_new:N \l_easter_E_int
	\int_new:N \l_easter_N_int
	\int_new:N \l_easter_M_int
	\int_new:N \l_easter_julian_day_int
	
	\cs_new:Nn \easter_sunday:n {
	
	  \int_set:Nn \l_easter_Y_int { #1 }
	
	  \int_set:Nn \l_easter_G_int {
	    \int_mod:nn { \l_easter_Y_int } { 19 } + 1
	  }
	
	  \int_set:Nn \l_easter_C_int {
	    \int_div_truncate:nn { \l_easter_Y_int } { 100 } + 1
	  }
	
	  \int_set:Nn \l_easter_X_int {
	    \int_div_truncate:nn { 3 * \l_easter_C_int } { 4 } - 12
	  }
	
	  \int_set:Nn \l_easter_Z_int {
	    \int_div_truncate:nn { 8 * \l_easter_C_int + 5 } { 25 } - 5
	  }
	
	  \int_set:Nn \l_easter_D_int {
	    \int_div_truncate:nn { 5 * \l_easter_Y_int } { 4 } - \l_easter_X_int - 10
	  }
	
	  \int_set:Nn \l_easter_E_int {
	    \int_mod:nn { 11 * \l_easter_G_int + 20 + \l_easter_Z_int
	      - \l_easter_X_int } { 30 }
	  }
	
	  % \int_mod:nn behaves strangely.
	  \int_compare:nNnT { \l_easter_E_int } < { 0 }
	  {
	    \int_add:Nn \l_easter_E_int { 30 }
	  }
	
	  \int_compare:nNnTF { \l_easter_E_int } = { 25 }
	  { % true
	    \int_compare:nNnT { \l_easter_G_int } > { 11 }
	    { % true
	      \int_incr:N \l_easter_E_int
	    }
	  }
	  { % false
	    \int_compare:nNnT { \l_easter_E_int } = { 24 }
	    { % true
	      \int_incr:N \l_easter_E_int
	    }
	  }
	
	  \int_set:Nn \l_easter_N_int { 44 - \l_easter_E_int }
	
	  \int_compare:nNnT { \l_easter_N_int } < { 21 }
	  { % true
	    \int_add:Nn \l_easter_N_int { 30 }
	  }
	
	  \int_add:Nn \l_easter_N_int {
	    7 - \int_mod:nn { \l_easter_D_int + \l_easter_N_int } { 7 }
	  }
	
	  \int_compare:nNnTF { \l_easter_N_int } > { 31 }
	  { % true
	    \int_sub:Nn \l_easter_N_int { 31 }
	    \int_set:Nn \l_easter_M_int { 4 } % April
	  }
	  { % false
	    \int_set:Nn \l_easter_M_int { 3 } % March
	  }
	
	  \pgfcalendardatetojulian { \l_easter_Y_int -
	     \l_easter_M_int - \l_easter_N_int
	  } { \l_easter_julian_day_int }
	
	}
	
	\pgfkeys{/pgf/calendar/Easter/.default = 0}
	\pgfkeys{/pgf/calendar/Easter/.code =
	  {
	    \easter_sunday:n { \pgfcalendarifdateyear }
	    \int_compare:nNnT { \pgfcalendarifdatejulian }
	    =  {\l_easter_julian_day_int + #1}
	    { \pgfcalendarmatchestrue }
	  }
	}
	
	\int_new:N \l_advent_Y_int
	\int_new:N \l_advent_xmas_julian_day_int
	\int_new:N \l_advent_xmas_week_day_int
	\int_new:N \l_advent_julian_day_int
	
	\cs_new:Nn \advent_sunday:n {
	
	  \int_set:Nn \l_advent_Y_int { #1 }
	
	  \pgfcalendardatetojulian { \l_advent_Y_int - 12 - 25 } {
	    \l_advent_xmas_julian_day_int }
	
	  \pgfcalendarjuliantoweekday { \l_advent_xmas_julian_day_int } {
	    \l_advent_xmas_week_day_int }
	
	  \int_set:Nn \l_advent_julian_day_int {
	    \l_advent_xmas_julian_day_int - \l_advent_xmas_week_day_int - 22 }
	
	}
	
	\pgfkeys{/pgf/calendar/Advent/.default = 0}
	\pgfkeys{/pgf/calendar/Advent/.code =
	  {
	    \advent_sunday:n { \pgfcalendarifdateyear }
	    \int_compare:nNnT { \pgfcalendarifdatejulian }
	    =  {\l_advent_julian_day_int + #1}
	    { \pgfcalendarmatchestrue }
	  }
	}
	
	%% http://www.tondering.dk/claus/cal/week.php#calcweekno
	\int_new:N \l_week_number_year_int
	\int_new:N \l_week_number_month_int
	\int_new:N \l_week_number_day_int
	\int_new:N \l_week_number_a_int
	\int_new:N \l_week_number_b_int
	\int_new:N \l_week_number_c_int
	\int_new:N \l_week_number_s_int
	\int_new:N \l_week_number_e_int
	\int_new:N \l_week_number_f_int
	\int_new:N \l_week_number_g_int
	\int_new:N \l_week_number_d_int
	\int_new:N \l_week_number_n_int
	\int_new:N \l_week_number_W_int
	
	\cs_new:Nn \week_number:nnn {
	
	  \int_set:Nn \l_week_number_year_int { #1 }
	  \int_set:Nn \l_week_number_month_int { #2 }
	  \int_set:Nn \l_week_number_day_int { #3 }
	
	  \int_compare:nNnTF { \l_week_number_month_int } < { 3 } % jan or feb
	  { % true
	
	    \int_set:Nn \l_week_number_a_int { \l_week_number_year_int - 1 }
	
	    \int_set:Nn \l_week_number_b_int {
	      \int_div_truncate:nn { \l_week_number_a_int } { 4 }
	      - \int_div_truncate:nn { \l_week_number_a_int } { 100 }
	      + \int_div_truncate:nn { \l_week_number_a_int } { 400 }
	    }
	
	    \int_set:Nn \l_week_number_c_int {
	      \int_div_truncate:nn { \l_week_number_a_int - 1 } { 4 }
	      - \int_div_truncate:nn { \l_week_number_a_int - 1 } { 100 }
	      + \int_div_truncate:nn { \l_week_number_a_int - 1 } { 400 }
	    }
	
	    \int_set:Nn \l_week_number_s_int {
	      \l_week_number_b_int - \l_week_number_c_int }
	
	    \int_zero:N \l_week_number_e_int
	
	    \int_set:Nn \l_week_number_f_int { \l_week_number_day_int - 1
	      + 31 * ( \l_week_number_month_int - 1 ) }
	
	  } % end true
	  { % false
	
	    \int_set_eq:NN \l_week_number_a_int \l_week_number_year_int
	
	    \int_set:Nn \l_week_number_b_int {
	      \int_div_truncate:nn { \l_week_number_a_int } { 4 }
	      - \int_div_truncate:nn { \l_week_number_a_int } { 100 }
	      + \int_div_truncate:nn { \l_week_number_a_int } { 400 }
	    }
	
	    \int_set:Nn \l_week_number_c_int {
	      \int_div_truncate:nn { \l_week_number_a_int - 1 } { 4 }
	      - \int_div_truncate:nn { \l_week_number_a_int - 1 } { 100 }
	      + \int_div_truncate:nn { \l_week_number_a_int - 1 } { 400 }
	    }
	
	    \int_set:Nn \l_week_number_s_int {
	      \l_week_number_b_int - \l_week_number_c_int }
	
	    \int_set:Nn \l_week_number_e_int { \l_week_number_s_int + 1 }
	
	    \int_set:Nn \l_week_number_f_int { \l_week_number_day_int
	      + \int_div_truncate:nn {
	        153 * ( \l_week_number_month_int - 3 ) + 2 } { 5 }
	      + 58 + \l_week_number_s_int }
	
	  } % end false
	
	  \int_set:Nn \l_week_number_g_int {
	    \int_mod:nn { \l_week_number_a_int + \l_week_number_b_int } { 7 }  }
	
	  \int_set:Nn \l_week_number_d_int {
	    \int_mod:nn { \l_week_number_f_int + \l_week_number_g_int
	      - \l_week_number_e_int } { 7 }  }
	
	  \int_set:Nn \l_week_number_n_int {
	    \l_week_number_f_int + 3 - \l_week_number_d_int }
	
	  \int_compare:nNnTF { \l_week_number_n_int } < { 0 }
	  { %true
	
	    \int_set:Nn \l_week_number_W_int { 53
	      - \int_div_truncate:nn { \l_week_number_g_int
	        - \l_week_number_s_int } { 5 } }
	
	  } % end true
	  { % false
	
	    \int_compare:nNnTF { \l_week_number_n_int } > { 364
	      + \l_week_number_s_int }
	    { % true
	
	      \int_set:Nn \l_week_number_W_int { 1 }
	
	    } % end true
	    { % false
	
	      \int_set:Nn \l_week_number_W_int { \int_div_truncate:nn {
	          \l_week_number_n_int } { 7 } + 1 }
	
	    } % end false
	
	  } % end false
	
	}
	
	\definecolor{roed}{rgb}{0.937254901961,0.16862745098,0.176470588235}
	\definecolor{blaa}{rgb}{0,0.156862745098,0.407843137255}
	
	\newsavebox{\flagNO}
	\savebox{\flagNO}{
	\begin{tikzpicture}
	  \fill[roed] rectangle (6pt,6pt);
	  \fill[roed,yshift=10pt] rectangle (6pt,6pt);
	  \fill[roed,xshift=10pt] rectangle (12pt,6pt);
	  \fill[roed,xshift=10pt,yshift=10pt] rectangle (12pt,6pt);
	  \fill[blaa,yshift=7pt] rectangle (22pt,2pt);
	  \fill[blaa,xshift=7pt] rectangle (2pt,16pt);
	\end{tikzpicture}
	}
	
	\pgfkeys{/tikz/week~number/.code =
	  {
	    \week_number:nnn { 
	      \pgfcalendarifdateyear } { 
	      \pgfcalendarifdatemonth } { 
	      \pgfcalendarifdateday }
	    \addtext{ Uke ~ \int_to_arabic:n { \l_week_number_W_int } }
	  }
	}
	
	\ExplSyntaxOff
	
	\pgfkeys{/tikz/flag-flying day/.code =
	  {
	    \draw (-\cellwidth,0) node [above right,font=\Huge]
	    {\resizebox{!}{0.8ex}{\usebox{\flagNO}}};
	  }
	}
	
	\pgfkeys{/tikz/observance/.code =
	  {
	    \addtext{#1}
	  }
	}
	
	\pgfkeys{/tikz/anniversary/.code 2 args=\addtextyear{#1}{#2}}
	
	\pgfkeys{/tikz/day code =
	  {
	    \node (lower right) at (0,0) [above left,font=\Huge] {\tikzdaytext};
	    \node (upper left) at (-\cellwidth,\cellheight)
	    [below right,align=left,text width=\cellwidth-\pgflinewidth,
	    font=\tiny,black] {\showtext};
	    \node (lower left) at (-\cellwidth,0) {};
	    \node[rounded corners, draw,
	          fit=(lower right) (upper left) (lower left),
	          inner sep=1mm] {};
	  }
	}
	
	\pgfkeys{/tikz/inner sep = 0pt}
	
	\pgfkeys{/tikz/day xshift=\cellwidth+2mm+2mm}
	
	\pgfkeys{/tikz/day yshift=\cellheight+2mm+2mm}
	
	\newlength{\cellheight}
	\setlength{\cellheight}{25mm}
	\newlength{\cellwidth}
	\setlength{\cellwidth}{35mm}
	
	\begin{document}
	
	\centering
	
	\begin{tikzpicture}[thick]
	  \calendar[dates=2012-05-01 to 2012-05-last,
	            week list,
	            month label above centered,
	            month text=\textsc{\%mt \%y0},
	            day headings={font=\footnotesize},
	            day letter headings]
	  if (Monday,
	      equals=01-01,
	      equals=02-01,
	      equals=03-01,
	      equals=04-01,
	      equals=05-01,
	      equals=06-01,
	      equals=07-01,
	      equals=08-01,
	      equals=09-01,
	      equals=10-01,
	      equals=11-01,
	      equals=12-01) [week number]
	  if (Sunday,
	      Easter=-3, % Maundy Thursday
	      Easter=-2, % Good Friday
	      Easter,    % Easter Sunday
	      Easter=1,  % Easter Monday
	      Easter=39, % Feast of the Ascension
	      Easter=49, % Pentecost
	      Easter=50, % Whit Monday
	      equals=01-01,
	      equals=05-01,
	      equals=05-17,
	      equals=12-25,
	      equals=12-26) [red]
	  if (equals=01-01,
	      equals=01-21,
	      equals=02-06,
	      equals=02-21,
	      equals=05-01,
	      equals=05-08,
	      equals=05-17,
	      equals=06-07,
	      equals=07-04,
	      equals=07-20,
	      equals=07-29,
	      equals=08-19,
	      equals=12-25,
	      Easter,
	      Easter=49) [flag-flying day]
	  if (equals=01-01) [observance=Første nyttårsdag]
	  if (equals=01-21) [observance=Prinsesse Ingrid Alexandra]
	  if (equals=02-06) [observance=Samefolkets dag]
	  if (equals=02-21) [observance=Kong Harald~V]
	  if (equals=05-01) [observance=Offentlig høytidsdag]
	  if (equals=05-08) [observance=Frigjøringsdagen]
	  if (equals=05-17) [observance=Grunnlovsdag]
	  if (equals=06-07) [observance=Unionsoppløsningen]
	  if (equals=06-23) [observance=Sankthansaften]
	  if (equals=07-04) [observance=Dronning Sonja]
	  if (equals=07-20) [observance=Kronprins Haakon]
	  if (equals=07-29) [observance=Olsok]
	  if (equals=08-19) [observance=Kronprinsesse Mette-Marit]
	  if (equals=10-24) [observance=FN-dagen]
	  if (equals=12-25) [observance=Første juledag]
	  if (equals=12-26) [observance=Andre juledag]
	  if (Easter=-49) [observance=Fastelavnssøndag]
	  if (Easter=-7) [observance=Palmesøndag]
	  if (Easter=-3) [observance=Skjærtorsdag]
	  if (Easter=-2) [observance=Langfredag]
	  if (Easter) [observance=Første påskedag]
	  if (Easter=1) [observance=Andre påskedag]
	  if (Easter=39) [observance=Kristi himmelfartsdag]
	  if (Easter=49) [observance=Første pinsedag]
	  if (Easter=50) [observance=Andre pinsedag]
	  if (Advent) [observance=Advent]
	  if (equals=05-07) [anniversary={Brahms}{1833}]
	;
	\end{tikzpicture}
	
	\end{document}
snippet coordinates bisector
	% Perpendicular bisectors of a triangle
	% Author: Sam Britt
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Perpendicular bisectors of a triangle
	:Tags: Coordinate calculations;Foreach;Mathematical engine;Geometry;Mathematics
	:Author: Sam Britt
	:Slug: bisector
	
	A perpendicular bisector of a line segment is a line which is perpendicular
	to this line and passes through its midpoint. This drawing shows
	perpendicular bisectors of a triangle. They meet in the center of the
	circumcircle of the triangle.
	
	This example was written by Sam Britt answering a question on TeX.SE.
	\end{comment}
	\usetikzlibrary{calc}
	\begin{document}
	\begin{tikzpicture}
	  [
	    scale=3,
	    >=stealth,
	    point/.style = {draw, circle,  fill = black, inner sep = 1pt},
	    dot/.style   = {draw, circle,  fill = black, inner sep = .2pt},
	  ]
	
	  % the circle
	  \def\rad{1}
	  \node (origin) at (0,0) [point, label = {below right:$P_c$}]{};
	  \draw (origin) circle (\rad);
	
	  % triangle nodes: just points on the circle
	  \node (n1) at +(60:\rad) [point, label = above:$1$] {};
	  \node (n2) at +(-145:\rad) [point, label = below:$2$] {};
	  \node (n3) at +(-45:\rad) [point, label = {below right:$3$ $(0, 0, 0)$}] {};
	
	  % triangle edges: connect the vertices, and leave a node at the midpoint
	  \draw[->] (n3) -- node (a) [label = {above right:$\vec{v}_1$}] {} (n1);
	  \draw[->] (n3) -- node (b) [label = {below right:$\vec{v}_2$}] {} (n2);
	  \draw[dashed] (n2) -- (n1);
	
	  % Bisectors
	  % start at the point lying on the line from (origin) to (a), at
	  % twice that distance, and then draw a path going to the point on
	  % the line lying on the line from (a) to the (origin), at 3 times
	  % that distance.
	  \draw[dotted]
	    ($ (origin) ! 2 ! (a) $)
	    node [right] {Bisector 1}
	    -- ($(a) ! 3 ! (origin)$ );
	
	  % similarly for origin and b
	  \draw[dotted]
	    ($ (origin) ! 2 ! (b) $)
	    -- ($(b) ! 3 ! (origin)$ )
	    node [right] {Bisector 2};
	
	  % short vectors
	  \draw[->]
	    ($ (origin) ! -.7 ! (a) $)
	    -- node [below] {$\vec{u}_4$}
	    ($ (origin) ! -.1 ! (a) $);
	  \draw[->]
	    ($ (origin) ! -.1 ! (b) $)
	    -- node [right] {$\vec{u}_3$}
	    ($ (origin) ! -.7 ! (b) $);
	
	  % Right angle symbols
	  \def\ralen{.5ex}  % length of the short segment
	  \foreach \inter/\first/\last in {a/n3/origin, b/n2/origin}
	    {
	      \draw let \p1 = ($(\inter)!\ralen!(\first)$), % point along first path
	                \p2 = ($(\inter)!\ralen!(\last)$),  % point along second path
	                \p3 = ($(\p1)+(\p2)-(\inter)$)      % corner point
	            in
	              (\p1) -- (\p3) -- (\p2)               % path
	              ($(\inter)!.5!(\p3)$) node [dot] {};  % center dot
	    }
	\end{tikzpicture}
	\end{document}
snippet bodegraph bode-plot
	%& -shell-escape
	% Create a Bode plot using Papanicola Robert's package bodegraph:
	% http://www.sciences-indus-cpge.apinc.org/Bode-Black-et-Nyquist-avec-Tikz
	% Author: Dazhi Jiang
	\documentclass[10pt]{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	
	\begin{comment}
	:Title: Bode plot
	:Author: Dazhi Jiang
	:Tags: Bodegraph, PGF CVS, Signal Processing, Node positionning, Plotting
	
	This tikz example display two bode plots.
	It requires the bodegraph_ package and GNUPLOT.
	
	.. _bodegraph: http://www.sciences-indus-cpge.apinc.org/Bode-Black-et-Nyquist-avec-Tikz
	
	\end{comment}
	
	\usepackage{amsmath,amssymb}
	
	\usepackage{tikz}
	\usepackage{bodegraph}
	
	\usetikzlibrary{intersections}
	\usetikzlibrary{calc}
	\usetikzlibrary{positioning}
	
	
	\begin{document}
	
	% Define the layers to draw the diagram
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	\begin{preview}
	\begin{tikzpicture}[>=latex',
	    ref lines/.style={thin, blue!60},
	    ref points/.style={circle, black, opacity=0.7, fill, minimum size= 3pt, inner sep=0},
	    every node/.style={font=\small},
	    bode lines/.style={very thick, blue},
	    Gclabel/.style={text=blue},
	    xscale=12/3]
	
	\begin{scope}[yscale=4/110]
	\UnitedB
	\semilog{-1}{2}{-50}{60}
	
	% Bode plot (magnitude) for the original system, 4/(s/(1+2s)).
	% Asymptotic line
	\BodeAmp[ref lines, red!60]{-1:1.35}{\POAmpAsymp{4}{2.0}+\IntAmp{1}}
	% Bode plot
	\BodeAmp[bode lines, red, name path=Gomagnitude]{-1:1.35}{\POAmp{4}{2.0}+\IntAmp{1}}
	
	% Bode plot (magnitude) for the compensated system, 4(1+s)/(s^2/(1+0.1s)).
	% Asymptotic line
	\BodeAmp[ref lines]{-1:2}{\APAmpAsymp{4}{0.1}{10}+2*\IntAmp{1}}
	% Bode plot
	\BodeAmp[bode lines, name path=magnitude]
	    {-1:2}{\APAmp{4}{0.1}{10}+2*\IntAmp{1}}
	
	% Reference line, (0dB)
	\draw [name path=unitygain, ref lines] (-1,0) -- (2,0);
	
	% Crossover frequency of the original system
	\path [name intersections={of=magnitude and unitygain, by=crossover}];
	\node (coref) [ref points, label={[blue]below left:$\omega_c$}] 
	    at (crossover) {};
	
	% Crossover frequency of the compensated system
	\path [name intersections={of=Gomagnitude and unitygain, by=Gocrossover}];
	\node (Gocoref) [ref points, label={[red]below:$\omega_{co}$}] 
	    at (Gocrossover) {};
	
	% Labels for the original system (open-loop)
	\node [Gclabel, text=red] at (-0.7, 15) {$-20$dB/dec};
	\node [Gclabel, text=red] at (0.5, -30) {$-40$dB/dec};
	\node (KG) [Gclabel, red!60, text=red, draw] 
	    at (-0.5, -30) {$KG(s)=\dfrac{4}{s(1+2s)}$};
	\draw (KG.east) edge [->, shorten >=1pt, thick, red, bend right=1.5] 
	    (0.4, -10);
	
	% Labels for the compensated system (open-loop)
	\node [ref points, label={[blue]below left:$\omega_2$}] at (0, 0) {};
	\node [ref points, label={[blue]below right:$\omega_3$}] at (1, 0) {};
	\node [Gclabel] at (-0.4, 40) {$-40$dB/dec};
	\node [Gclabel] at (0.5, 10) {$-20$dB/dec};
	\node [Gclabel] at (1.6, -20) {$-40$dB/dec};
	\node (KDG) [Gclabel, blue!60, text=blue, draw] 
	    at (1.4, 40) {$KD(s)G(s)=\dfrac{4(1+s)}{s^2(1+0.1s)}$};
	\draw (KDG.west) edge [->, shorten >=1pt, thick, blue, bend right=1.5] 
	    (0.17, 10);
	
	% Axes label
	\node [below=6pt] at (0.5,-50) {Frequency, $\omega$};
	\node [rotate=90] at (-1.25,5) {Magnitude, $20\log(|G(\text{j}\omega)|)$};
	
	
	\end{scope}
	
	\begin{scope}[yshift=-3.5cm,yscale=4/180]
	\UniteDegre
	\OrdBode{30}
	\semilog{-1}{2}{-180}{0}
	
	% Bode plot (phase) for the original system, 4/(s/(1+2s)).
	% Asymptotic line
	\BodeArg[ref lines, red!60]{-1:2}{\POArgAsymp{4}{2.0}+\IntArg{1}}
	% Bode plot
	\BodeArg[bode lines, red, name path=Gophase]{-1:2}{\POArg{4}{2}+\IntArg{1}}
	
	% Bode plot (magnitude) for the compensated system, 4(1+s)/(s^2/(1+0.1s)).
	% Asymptotic line
	\BodeArg[ref lines]{-1:2}{\APArgAsymp{4}{0.1}{10}+2*\IntArg{1}}
	% Bode plot
	\BodeArg[bode lines, name path=phase]{-1:2}{\APArg{4}{0.1}{10}+2*\IntArg{1}}
	
	% Phase margin of the original system
	\path [name path=Gowcref] (Gocrossover) -- ++(0,-330);
	\path [name intersections={of=Gophase and Gowcref, by=Gophasemargin}];
	\node (Gopmref) [ref points] at (Gophasemargin) {};
	\draw [ref lines, red!60, densely dotted] (Gocoref.south) -- (Gopmref.north);
	\draw [ref lines, <->, red] let \p1=(Gophasemargin)
	    in
	        (Gopmref.south) -- node[left, Gclabel, text=red] {$\text{PM}_o$} (\x1,-180);
	
	% Phase margin of the compensated system
	\path[name path=wcref] (crossover) -- ++(0,-300);
	\path [name intersections={of=phase and wcref, by=phasemargin}];
	\node (pmref) [ref points] at (phasemargin) {};
	\draw [ref lines, densely dotted] (coref.south) -- (pmref.north);
	\draw [ref lines, <->, blue] let \p1=(phasemargin)
	    in
	        (pmref.south) -- node[left, Gclabel] {PM} (\x1,-180);
	
	% System Labels
	\node (KGphase) [Gclabel, red!60, text=red, draw] 
	    at (-0.5, -40) {$KG(s)=\dfrac{4}{s(1+2s)}$};
	\draw[->, shorten >=1pt, thick, red] 
	    (KGphase.south) .. controls +(down:30) and +(0.1,10) .. (-0.65, -114);
	
	\node (KDGphase) [Gclabel, blue!60, text=blue, draw]
	    at (1.4, -40) {$KD(s)G(s)=\dfrac{4(1+s)}{s^2(1+0.1s)}$};
	\draw[->, shorten >=1pt, thick, blue] 
	    (KDGphase.south) .. controls +(down:40) and +(0.1,30) .. (1.1, -146);
	
	% Axes label
	\node [below=6pt] at (0.5, -180) {Frequency, $\omega$};
	\node [rotate=90] at (-1.25, -90) {Phase, $\angle G(\text{j}\omega)$};
	\end{scope}
	
	% Background
	\begin{pgfonlayer}{background}
	    \path (-1.4cm,2.8cm) node (tl) {};
	    \path (2.3cm, -8.4cm) node (br) {};
	
	    \path[fill=brown!20] (tl) rectangle (br);
	\end{pgfonlayer}
	
	\end{tikzpicture}
	\end{preview}
	\end{document} 
snippet macro bond-graph
	% Demonstration of tzbondgraph.sty, a macro package for drawing bond graphs.
	% Author: B. Umesh Rai
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{tzbondgraph}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Bond graph
	:Tags: Macro packages, Diagrams
	
	Demonstration of `tzbondgraph.sty`_, a macro package for drawing `bond graphs`_.
	
	To compile the example you will need the following style file:
	
	- `tzbondgraph.sty`_
	
	The macros are documented in the file `bgElements.pdf`_ (`tex source`_)
	
	.. _tzbondgraph.sty: tzbondgraph/tzbondgraph.sty
	.. _bgElements.pdf: tzbondgraph/bgElements.pdf
	.. _tex source: tzbondgraph/bgElements.tex
	.. _bond graphs: http://www.bondgraph.info/about.html
	
	:Author: B\. Umesh Rai
	
	\end{comment}
	
	\begin{document}
	
	\begin{figure}
	    \centering
	    \begin{tikzpicture}
	        \bgInput{S};
	        \bgJn{S}{a}[1];
	        \bgEx[0]{a}{b}{V_t}{e_t}{i_a}[left][1];
	        \bgRfxr[-35]{awest}{c}{R}{R_a}{e_{ra}}{i_{a}}[above][2];
	        \bgRex[90]{aeast}{d}{L}{L_a}{e_{la}}{i_a}[above][2];
	        \bgMGfx[0]{a}{e}{e_1}{i_a}{T_e}{\omega}[1];
	        \bgJn[1]{e}{f}[1];
	        \bgEx[-45]{e}{g}{T_l}{T_l}{\omega}[above][2];
	        \bgRfx[45]{feast}{c}{R}{B}{}{\omega}[above][2];
	        \bgRex[90]{f}{d}{L}{J}{}{\omega}[above][2.5];
	        \node (up) [point,above of=etop,xshift=-0.4cm,yshift=2.5cm]  {};
	        \bgJn{up}{g}[1];
	        \bgEx[0]{g}{h}{V_f}{e_f}{i_f}[left][1];
	        \bgRfx[0]{h}{i}{R}{R_f}{e_{rf}}{i_f}[right][1];
	        \bgRex[30]{h}{j}{L}{L_f}{e_{lf}}{i_f}[above][1];
	        \node (sig) [point,above of=etop,yshift=2cm]  {};
	        \draw (sig) -- node[rotate=90,left,yshift=0.2cm,near start] 
	            {$K_\phi = K_f \times i_f $} (etop);
	    \end{tikzpicture}\\
	    \caption{Bond graph model of a DC motor}
	\end{figure}
	
	\end{document}
snippet bootstrap bootstrap-resampling
	% Bootstrap resampling
	% Germain Salvato-Vallverdu - mai 2009
	% http://germain.salvato-vallverdu.perso.sfr.fr
	\documentclass[11pt,a4paper,landscape]{article}
	\usepackage[utf8]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage[francais]{babel}
	\usepackage[top=3cm,left=2cm,right=2cm,bottom=3cm]{geometry}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Bootstrap resampling
	
	Bootstrap technics is a resampling of a limited length sample
	without any new data. This method allows us to get new
	informations on statistical uncertaintes due to limited
	length sample.
	 
	\end{comment}
	
	\usetikzlibrary{shadows} 
	
	\usepackage{hyperref}
	\hypersetup{%
	pdfauthor={Germain Salvato-Vallverdu},%
	pdftitle={bootstrap method},% 
	pdfkeywords={Tikz,latex,bootstrap,uncertaintes},%
	pdfcreator={PDFLaTeX},%
	pdfproducer={PDFLaTeX},%
	}
	
	\title{Bootstrap method}
	\author{Germain Salvato-Vallverdu}
	
	\pagestyle{empty}
	
	\begin{document}
	\sffamily
	
	\begin{preview}
	\begin{center}
	
	\begin{tikzpicture}[scale=1.4]
	
	% style
	\tikzstyle{rboule} = [circle,scale=0.7,ball color=red]
	\tikzstyle{gboule} = [circle,scale=0.7,ball color=green]
	\tikzstyle{bboule} = [circle,scale=0.7,ball color=blue]
	\tikzstyle{nboule} = [circle,scale=0.7,ball color=black]
	\tikzstyle{sample} = [->,thin]
	
	% complete element space
	\path[draw,<-,thick] (0,5.6) -- (4,5.6);
	\path (6,5.6) node {Complete element space};
	\path[draw,->,thick] (8,5.6) -- (12,5.6);
	
	\path ( 0.00,5.25) node[bboule] (i01) {};
	\path ( 0.25,5.25) node[rboule] (i02) {};
	\path ( 0.50,5.25) node[gboule] (i03) {};
	\path ( 0.75,5.25) node[bboule] (i04) {};
	\path ( 1.00,5.25) node[rboule] (i05) {};
	\path ( 1.25,5.25) node[bboule] (i06) {};
	\path ( 1.50,5.25) node[bboule] (i07) {};
	\path ( 1.75,5.25) node[rboule] (i08) {};
	\path ( 2.00,5.25) node[bboule] (i09) {};
	\path ( 2.25,5.25) node[rboule] (i10) {};
	\path ( 2.50,5.25) node[bboule] (i11) {};
	\path ( 2.75,5.25) node[bboule] (i12) {};
	\path ( 3.00,5.25) node[nboule] (i13) {};
	\path ( 3.25,5.25) node[rboule] (i14) {};
	\path ( 3.50,5.25) node[bboule] (i15) {};
	\path ( 3.75,5.25) node[bboule] (i16) {};
	\path ( 4.00,5.25) node[rboule] (i17) {};
	\path ( 4.25,5.25) node[rboule] (i18) {};
	\path ( 4.50,5.25) node[bboule] (i19) {};
	\path ( 4.75,5.25) node[bboule] (i20) {};
	\path ( 5.00,5.25) node[rboule] (i21) {};
	\path ( 5.25,5.25) node[bboule] (i22) {};
	\path ( 5.50,5.25) node[rboule] (i23) {};
	\path ( 5.75,5.25) node[bboule] (i24) {};
	\path ( 6.00,5.25) node[bboule] (i25) {};
	\path ( 6.25,5.25) node[rboule] (i26) {};
	\path ( 6.50,5.25) node[rboule] (i27) {};
	\path ( 6.75,5.25) node[gboule] (i28) {};
	\path ( 7.00,5.25) node[rboule] (i29) {};
	\path ( 7.25,5.25) node[bboule] (i30) {};
	\path ( 7.50,5.25) node[bboule] (i31) {};
	\path ( 7.75,5.25) node[nboule] (i32) {};
	\path ( 8.00,5.25) node[bboule] (i33) {};
	\path ( 8.25,5.25) node[rboule] (i34) {};
	\path ( 8.50,5.25) node[gboule] (i35) {};
	\path ( 8.75,5.25) node[bboule] (i36) {};
	\path ( 9.00,5.25) node[bboule] (i37) {};
	\path ( 9.25,5.25) node[rboule] (i38) {};
	\path ( 9.50,5.25) node[bboule] (i39) {};
	\path ( 9.75,5.25) node[rboule] (i40) {};
	\path (10.00,5.25) node[bboule] (i41) {};
	\path (10.25,5.25) node[rboule] (i42) {};
	\path (10.50,5.25) node[bboule] (i43) {};
	\path (10.75,5.25) node[bboule] (i44) {};
	\path (11.00,5.25) node[rboule] (i45) {};
	\path (11.25,5.25) node[nboule] (i46) {};
	\path (11.50,5.25) node[rboule] (i47) {};
	\path (11.75,5.25) node[bboule] (i48) {};
	\path (12.00,5.25) node[bboule] (i49) {};
	
	% title initial sample
	\path (3.5,3.75) node[anchor=east] 
		{\parbox{0.15\textwidth}{\centering initial sample with N elements}};
	
	% labels
	\path (3.5,3)   node[anchor=east] {1};
	\path (3.5,2.5) node[anchor=east] {2};
	\path (3.5,2.0) node[anchor=east] {3};
	\path (3.5,1.5) node[anchor=east] {4};
	\path (3.5,0.5) node[anchor=east] {$N_b$};
	
	\path (3.5,1) node[anchor=east] {$\vdots$};
	\path[draw,dashed] (4,1) -- (8.25,1);
	
	\path[draw,<->,thick] (2.9,0.5) -- (2.9,3) node[anchor=east,pos=0.5] 
		{\parbox{0.1\textwidth}{\centering $N_b$ \textit{bootstrap} samples}};
	
	% initial sample
	\path ( 3.75,3.75) node[bboule] (j01) {};               
	\path ( 4.00,3.75) node[bboule] (j02) {};               
	\path ( 4.25,3.75) node[rboule] (j03) {};               
	\path ( 4.50,3.75) node[rboule] (j04) {};               
	\path ( 4.75,3.75) node[rboule] (j05) {};               
	\path ( 5.00,3.75) node[nboule] (j06) {};               
	\path ( 5.25,3.75) node[bboule] (j07) {};               
	\path ( 5.50,3.75) node[rboule] (j08) {};               
	\path ( 5.75,3.75) node[bboule] (j09) {};               
	\path ( 6.00,3.75) node[bboule] (j10) {};               
	\path ( 6.25,3.75) node[bboule] (j11) {};               
	\path ( 6.50,3.75) node[rboule] (j12) {};               
	\path ( 6.75,3.75) node[gboule] (j13) {};               
	\path ( 7.00,3.75) node[rboule] (j14) {};               
	\path ( 7.25,3.75) node[gboule] (j15) {};               
	\path ( 7.50,3.75) node[bboule] (j16) {};               
	\path ( 7.75,3.75) node[rboule] (j17) {};               
	\path ( 8.00,3.75) node[rboule] (j18) {};               
	\path ( 8.25,3.75) node[bboule] (j19) {};               
	\path ( 8.50,3.75) node[rboule] (j20) {}; 
	
	% arrows from the complete space to the initial sample
	\path[sample] (i01.south) edge[out=-60,in=120] (j01.north west);
	\path[sample] (i04.south) edge[out=-60,in=120] (j02.north west);
	\path[sample] (i05.south) edge[out=-60,in=120] (j03.north west);
	\path[sample] (i08.south) edge[out=-60,in=120] (j04.north west);
	\path[sample] (i10.south) edge[out=-60,in=120] (j05.north west);
	\path[sample] (i13.south) edge[out=-60,in=120] (j06.north west);
	\path[sample] (i16.south) edge[out=-90,in=90] (j07.north);
	\path[sample] (i18.south) edge[out=-90,in=90] (j08.north);
	\path[sample] (i20.south) edge[out=-90,in=90] (j09.north);
	\path[sample] (i24.south) edge[out=-90,in=90] (j10.north);
	\path[sample] (i25.south) edge[out=-90,in=90] (j11.north);
	\path[sample] (i27.south) edge[out=-90,in=90] (j12.north);
	\path[sample] (i28.south) edge[out=-90,in=90] (j13.north);
	\path[sample] (i34.south) edge[out=-90,in=90] (j14.north);
	\path[sample] (i35.south) edge[out=-90,in=90] (j15.north);
	\path[sample] (i37.south) edge[out=-90,in=60] (j16.north east);
	\path[sample] (i40.south) edge[out=-90,in=60] (j17.north east);
	\path[sample] (i42.south) edge[out=-90,in=60] (j18.north east);
	\path[sample] (i44.south) edge[out=-90,in=60] (j19.north east);
	\path[sample] (i47.south) edge[out=-90,in=60] (j20.north east);
	
	% bootstrap 1
	\path ( 3.75, 3.0) node[bboule] {};                    
	\path ( 4.00, 3.0) node[bboule] {};                    
	\path ( 4.25, 3.0) node[bboule] {};                    
	\path ( 4.50, 3.0) node[gboule] {};                    
	\path ( 4.75, 3.0) node[rboule] {};                    
	\path ( 5.00, 3.0) node[bboule] {};                    
	\path ( 5.25, 3.0) node[gboule] {};                    
	\path ( 5.50, 3.0) node[bboule] {};                    
	\path ( 5.75, 3.0) node[rboule] {};                    
	\path ( 6.00, 3.0) node[rboule] {};                    
	\path ( 6.25, 3.0) node[bboule] {};                    
	\path ( 6.50, 3.0) node[rboule] {};                    
	\path ( 6.75, 3.0) node[rboule] {};                    
	\path ( 7.00, 3.0) node[rboule] {};                    
	\path ( 7.25, 3.0) node[bboule] {};                    
	\path ( 7.50, 3.0) node[nboule] {};                    
	\path ( 7.75, 3.0) node[rboule] {};                    
	\path ( 8.00, 3.0) node[rboule] {};                    
	\path ( 8.25, 3.0) node[gboule] {};                    
	\path ( 8.50, 3.0) node[gboule] (b1) {};                    
	                                                       
	% bootstrap 2
	\path ( 3.75, 2.5) node[bboule] {};                    
	\path ( 4.00, 2.5) node[bboule] {};                    
	\path ( 4.25, 2.5) node[rboule] {};                    
	\path ( 4.50, 2.5) node[nboule] {};                    
	\path ( 4.75, 2.5) node[rboule] {};                    
	\path ( 5.00, 2.5) node[bboule] {};                    
	\path ( 5.25, 2.5) node[bboule] {};                    
	\path ( 5.50, 2.5) node[rboule] {};                    
	\path ( 5.75, 2.5) node[rboule] {};                    
	\path ( 6.00, 2.5) node[rboule] {};                    
	\path ( 6.25, 2.5) node[bboule] {};                    
	\path ( 6.50, 2.5) node[rboule] {};                    
	\path ( 6.75, 2.5) node[rboule] {};                    
	\path ( 7.00, 2.5) node[rboule] {};                    
	\path ( 7.25, 2.5) node[rboule] {};                    
	\path ( 7.50, 2.5) node[rboule] {};                    
	\path ( 7.75, 2.5) node[bboule] {};                    
	\path ( 8.00, 2.5) node[bboule] {};                    
	\path ( 8.25, 2.5) node[bboule] {};                    
	\path ( 8.50, 2.5) node[bboule] (b2) {};                    
	                                                       
	% bootstrap 3
	\path ( 3.75, 2.0) node[rboule] {};                    
	\path ( 4.00, 2.0) node[bboule] {};                    
	\path ( 4.25, 2.0) node[rboule] {};                    
	\path ( 4.50, 2.0) node[rboule] {};                    
	\path ( 4.75, 2.0) node[bboule] {};                    
	\path ( 5.00, 2.0) node[bboule] {};                    
	\path ( 5.25, 2.0) node[bboule] {};                    
	\path ( 5.50, 2.0) node[bboule] {};                    
	\path ( 5.75, 2.0) node[rboule] {};                    
	\path ( 6.00, 2.0) node[rboule] {};                    
	\path ( 6.25, 2.0) node[gboule] {};                    
	\path ( 6.50, 2.0) node[gboule] {};                    
	\path ( 6.75, 2.0) node[rboule] {};                    
	\path ( 7.00, 2.0) node[rboule] {};                    
	\path ( 7.25, 2.0) node[nboule] {};                    
	\path ( 7.50, 2.0) node[bboule] {};                    
	\path ( 7.75, 2.0) node[rboule] {};                    
	\path ( 8.00, 2.0) node[bboule] {};                    
	\path ( 8.25, 2.0) node[rboule] {};                    
	\path ( 8.50, 2.0) node[nboule] (b3) {};
	
	% bootstrap 4
	\path ( 3.75, 1.5) node[nboule] {};
	\path ( 4.00, 1.5) node[bboule] {};
	\path ( 4.25, 1.5) node[rboule] {};
	\path ( 4.50, 1.5) node[gboule] {};
	\path ( 4.75, 1.5) node[bboule] {};
	\path ( 5.00, 1.5) node[gboule] {};
	\path ( 5.25, 1.5) node[bboule] {};
	\path ( 5.50, 1.5) node[rboule] {};
	\path ( 5.75, 1.5) node[bboule] {};
	\path ( 6.00, 1.5) node[rboule] {};
	\path ( 6.25, 1.5) node[gboule] {};
	\path ( 6.50, 1.5) node[nboule] {};
	\path ( 6.75, 1.5) node[bboule] {};
	\path ( 7.00, 1.5) node[rboule] {};
	\path ( 7.25, 1.5) node[rboule] {};
	\path ( 7.50, 1.5) node[rboule] {};
	\path ( 7.75, 1.5) node[rboule] {};
	\path ( 8.00, 1.5) node[bboule] {};
	\path ( 8.25, 1.5) node[bboule] {};
	\path ( 8.50, 1.5) node[gboule] (b4) {};
	
	% bootstrap N
	\path ( 3.75, 0.5) node[nboule] {};
	\path ( 4.00, 0.5) node[gboule] {};
	\path ( 4.25, 0.5) node[rboule] {};
	\path ( 4.50, 0.5) node[rboule] {};
	\path ( 4.75, 0.5) node[bboule] {};
	\path ( 5.00, 0.5) node[rboule] {};
	\path ( 5.25, 0.5) node[bboule] {};
	\path ( 5.50, 0.5) node[gboule] {};
	\path ( 5.75, 0.5) node[bboule] {};
	\path ( 6.00, 0.5) node[bboule] {};
	\path ( 6.25, 0.5) node[gboule] {};
	\path ( 6.50, 0.5) node[rboule] {};
	\path ( 6.75, 0.5) node[rboule] {};
	\path ( 7.00, 0.5) node[gboule] {};
	\path ( 7.25, 0.5) node[bboule] {};
	\path ( 7.50, 0.5) node[bboule] {};
	\path ( 7.75, 0.5) node[bboule] {};
	\path ( 8.00, 0.5) node[rboule] {};
	\path ( 8.25, 0.5) node[bboule] {};
	\path ( 8.50, 0.5) node[gboule] (bN) {};
	
	% arrows
	\path[sample] (j20.east) edge [out=0, in=60] (b1.east);
	\path[sample] (j20.east) edge [out=0, in=60] (b2.east);
	\path[sample] (j20.east) edge [out=0, in=60] (b3.east);
	\path[sample] (j20.east) edge [out=0, in=60] (b4.east);
	\path[sample] (j20.east) edge [out=0, in=60] (bN.east);
	
	\end{tikzpicture}
	
	\end{center}
	
	\vspace{\baselineskip}
	
	\begin{center}
	
	\begin{tikzpicture}
	
	\definecolor{monred}{rgb}{0.79 0.0 0.1}
	
	\tikzstyle{rec} = [rectangle,rounded corners,ultra thick,draw=monred!90,fill=white] 
	
	\node[rec,text=black!80,inner sep=3mm,drop shadow] (th)
		{\parbox{0.6\textwidth}{
		When N tend to infinity, the distribution of average values computed from bootstrap samples
		is equal to the distribution of average values obtained from ALL samples with N elements
		which can be constructed from the complete space. Thus the width of the distribution gives
		an evaluation of the sample quality.}};
	
	\node[rec,text=monred!95,anchor=south west,xshift=3mm,yshift=-1mm] 
		at (th.north west) {\small Theorem \scriptsize (B. Efron, Ann. Statist. 1979)};
	
	\end{tikzpicture}
	
	\end{center}
	\end{preview}
	\end{document}
snippet paths borromean-rings
	% Title: Borromean_rings
	% Author: Dan Drake <http://math.kaist.ac.kr/~drake>
	% This document shows how to make the Borromean rings using TikZ. It's
	% not very complicated, but it shows you how much a TikZ picture is
	% really just like some source code.
	%
	% This document may be distributed and modified under the terms of the
	% Creative Commons Attribution-Share Alike 3.0 license. See
	% http://creativecommons.org/licenses/by-sa/3.0/.
	%
	% This document is available from
	% http://www.scribd.com/doc/3292620/Borromean-rings. The
	% LaTeX{} source code is available from http://math.kaist.ac.kr/~drake.
	
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Borromean rings
	:Tags: Paths, Clipping
	
	This document shows how to make the `Borromean rings`_ using TikZ. It's
	not very complicated, but it shows you how much a TikZ picture is
	really just like some source code.
	
	.. _Borromean rings: http://en.wikipedia.org/wiki/Borromean_rings
	
	:Author: `Dan Drake`_
	:Source: Dan Drake's `whatever page`_.
	
	.. _Dan Drake: http://math.kaist.ac.kr/~drake/index.html
	.. _whatever page: http://math.kaist.ac.kr/~drake/whatever.html
	
	\end{comment}
	
	% drawing parameters
	\newcommand{\circdist}{1}  % distance from origin to center of circles
	\newcommand{\circrad}{7/4} % radius of the circles
	\newcommand{\circlethickness}{6mm} % uh, thickness of the circles
	
	% distance from the origin to the three "interior" intersections
	\pgfmathsetmacro{\intrad}{sqrt((\circrad)^2 - 3*(\circdist)^2/4) - \circdist/2}
	
	% distance from the origin to the three "exterior" intersections
	\pgfmathsetmacro{\extrad}{sqrt((\circrad)^2 - 3*(\circdist)^2/4) + \circdist/2}
	
	% so we can just specify an angle and get the correct color for the circle
	\colorlet{180}{blue}
	\colorlet{60}{red}
	\colorlet{300}{green}
	
	% draws one of our circles
	\newcommand{\mycircle}[1]{%
	  \draw[thick, double distance=\circlethickness, double=#1]
	  (#1:\circdist) circle (\circrad);}
	
	\begin{document}
	
	\begin{center}
	\begin{tikzpicture}[scale=2]
	  % draw the circles
	  \foreach \angle in {180, 60, 300}
	  {
	    \mycircle{\angle}
	  }
	
	  % we need to re-do two of the intersections so that the rings
	  % interlock and aren't just piled on top of one another
	  \foreach \angle/\rad in {60/\intrad, 240/\extrad}
	  {
	    \begin{scope}
	      \clip (\angle:\rad) circle (5/4*\circlethickness);
	      %                          you may need to adjust the 5/4 above so
	      %                          the clipping area is big enough
	      \mycircle{300}
	      \mycircle{180}
	    \end{scope}
	  }
	\end{tikzpicture}
	\end{center}
	
	\end{document}
snippet borrowers borrowers-and-lenders
	% Author: Rasmus Pank Roulund
	% Inspired by figure in:
	% Howells, Peter og Bain, Keith (2007). Financial markets and
	% institutions. 5. udg. Essex: Pearson Education.
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Borrowers and lenders
	
	An illustration inspired by Figure 1.1 in Howells, Peter og Bain, Keith (2007), 
	Financial markets and institutions. 5th ed. Essex: Pearson Education.
	
	\end{comment}
	
	\usetikzlibrary{arrows,positioning} 
	\tikzset{
	    %Define standard arrow tip
	    >=stealth',
	    %Define style for boxes
	    punkt/.style={
	           rectangle,
	           rounded corners,
	           draw=black, very thick,
	           text width=6.5em,
	           minimum height=2em,
	           text centered},
	    % Define arrow style
	    pil/.style={
	           ->,
	           thick,
	           shorten <=2pt,
	           shorten >=2pt,}
	}
	
	\begin{document}
	
	\begin{tikzpicture}[node distance=1cm, auto,]
	 %nodes
	 \node[punkt] (market) {Market (b)};
	 \node[punkt, inner sep=5pt,below=0.5cm of market]
	 (formidler) {Intermediaries (c)};
	 % We make a dummy figure to make everything look nice.
	 \node[above=of market] (dummy) {};
	 \node[right=of dummy] (t) {Ultimate borrower}
	   edge[pil,bend left=45] (market.east) % edges are used to connect two nodes
	   edge[pil, bend left=45] (formidler.east); % .east since we want
	                                             % consistent style
	 \node[left=of dummy] (g) {Ultimate lender}
	   edge[pil, bend right=45] (market.west)
	   edge[pil, bend right=45] (formidler.west)
	   edge[pil,<->, bend left=45] node[auto] {Direct (a)} (t);
	\end{tikzpicture}
	
	\vspace{1em}
	\emph{Inspired by figure 1.1 in ``Financial Markets and Institutions'' 5E
	  by Howells and Bain.}
	\end{document}
	
	%%% Local Variables:
	%%% mode: latex
	%%% TeX-master: t
	%%% End:
snippet plots box-and-whisker-plot
	% Tukey plot
	% Author: Sivaram Neelakantan
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows,backgrounds,snakes}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Box and whisker plot
	:Tags: Plots, Axes, Snakes, Charts
	
	A beautiful `box and whisker plot`_, also known as a tukey plot. Note the smart use of snakes to create ticks on the horizontal axis.
	
	.. _box and whisker plot: http://en.wikipedia.org/wiki/Box_plot
	
	Update: Corrected attribution.
	
	| Author: Sivaram Neelakantan
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}[thick, framed]
	    \filldraw[fill=green!20] (2,0) rectangle (5,1);% draw the box
	    \draw (3,0) -- (3,1) node[above]{$\textsc{M}$};% draw the median
	    \draw (5,0.5) -- (7,0.5);% draw right whisker
	    \draw (2,0.5) -- (1,0.5);% draw left whisker
	    \draw (7,0.39) -- (7,0.61);% draw vertical tab
	    \draw (1,0.39) -- (1,0.61);% draw vertical tab
	    \node[below] at (2,0) {$\textsc{Q1}$};% label the hinge
	    \node[below] at (5,0) {$\textsc{Q3}$};% label the hinge
	    \filldraw[ball color=red!80,shading=ball] (4,0.5) circle
	        (0.06cm) node[above]{$\bar{x}$};% the mean
	    \draw[<->] (2.3, -0.3) -- (4.7, -0.3)
	        node[pos=0.5,below]{$\textsc{IQR}$}; % mark the IQR fences
	    \draw[<->] (2, -0.8) -- (0,-0.8)
	        node[pos=0.5,below]{$\textsc{1.5*IQR}$}; % left inner fence
	    \draw[<->] (2,-1.4) -- (-2, -1.4)
	        node[pos=0.5,below]{$\textsc{3*IQR}$};% left outer fence
	    \draw[<->] (5, -0.8) -- (8,-0.8)
	        node[midway,below]{$\textsc{1.5*IQR}$}; % right inner fence
	    \draw[<->] (5,-1.4) -- (10, -1.4)
	        node[pos=0.5,below]{$\textsc{3*IQR}$};% right outer fence
	    %
	    \node[below] at (9,0.7) {$\textbf{*}$}; % mild outlier on the right
	    \node[below] at (-2.4,0.7) {$o$}; % extreme outlier on the left
	    % Title
	    \draw (3,2) node[above,xshift=0.7cm]{$ \textsc{Box and Whisker
	        Plot}$};%
	    % Axis
	    \draw (-3,-2) -- (11,-2);
	    % Note that the snaked line is drawn to 11.1 to force
	    % TikZ to draw the final tick.
	    \draw[snake=ticks,segment length=1cm] (-3,-2) -- (11.1,-2);
	\end{tikzpicture}
	
	\end{document}
snippet tex boxes-with-text-and-math
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes,snakes}
	\usepackage{amsmath,amssymb}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Boxes with text and math
	:Tags: Text and math
	
	Colorful rounded boxes seems to be an important part of most poster presentations.
	Here are a few examples on how to create boxes with text and math using PGF/TikZ.
	The easiest solution is to put a minipage environment inside a node.
	\end{comment}
	
	\begin{document}
	
	
	
	% Define box and box title style
	\tikzstyle{mybox} = [draw=red, fill=blue!20, very thick,
	    rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
	\tikzstyle{fancytitle} =[fill=red, text=white]
	
	\begin{tikzpicture}
	\node [mybox] (box){%
	    \begin{minipage}{0.50\textwidth}
	        To calculate the horizontal position the kinematic differential
	        equations are needed:
	        \begin{align}
	            \dot{n} &= u\cos\psi -v\sin\psi \\
	            \dot{e} &= u\sin\psi + v\cos\psi
	        \end{align}
	        For small angles the following approximation can be used:
	        \begin{align}
	            \dot{n} &= u -v\delta_\psi \\
	            \dot{e} &= u\delta_\psi + v
	        \end{align}
	    \end{minipage}
	};
	\node[fancytitle, right=10pt] at (box.north west) {A fancy title};
	\node[fancytitle, rounded corners] at (box.east) {$\clubsuit$};
	\end{tikzpicture}%
	%
	\tikzstyle{mybox} = [draw=blue, fill=green!20, very thick,
	    rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
	\tikzstyle{fancytitle} =[fill=blue, text=white, ellipse]
	%
	\begin{tikzpicture}[transform shape, rotate=10, baseline=-3.5cm]
	\node [mybox] (box) {%
	    \begin{minipage}[t!]{0.5\textwidth}
	        Fermat's Last Theorem states that
	        \[
	            x^n + y^n = z^n
	        \]
	        has no non-zero integer solutions for $x$, $y$ and $z$ when $n > 2$.
	    \end{minipage}
	    };
	\node[fancytitle] at (box.north) {Fermat's Last Theorem};
	\end{tikzpicture}
	%
	
	\end{document}
snippet graphs bridges-of-konigsberg
	% The seven bridges of Königsberg
	% Author : Alain Matthes
	% Encoding : UTF8
	% Engine : PDFLaTeX
	\documentclass[]{article}
	\usepackage[utf8]{inputenc} 
	\usepackage{fullpage}
	\usepackage{fourier}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: The seven bridges of Königsberg
	:Slug: bridges-of-konigsberg
	
	The Seven Bridges of Königsberg is a famous historical problem in mathematics. Its negative resolution by Leonhard Euler in 1735 laid the foundations of graph theory and presaged the idea of topology.
	\end{comment}
	
	\usetikzlibrary{arrows,%
	                shapes,positioning}
	                
	\thispagestyle{empty}
	\begin{document}
	  
	  The Seven Bridges of Königsberg is a famous historical problem in mathematics. Its negative resolution by Leonhard Euler in 1735 laid the foundations of graph theory and presaged the idea of topology.
	  
	  Abstract graph corresponding to bridges of Königsberg 
	  
	\begin{center}
	\begin{tikzpicture}[node distance   = 4 cm]
	  \useasboundingbox (-1,-1) rectangle (11,11); 
	  \tikzset{VertexStyle/.style = {shape          = circle,
	                                 ball color     = orange,
	                                 text           = black,
	                                 inner sep      = 2pt,
	                                 outer sep      = 0pt,
	                                 minimum size   = 24 pt}}
	  \tikzset{EdgeStyle/.style   = {thick,
	                                 double          = orange,
	                                 double distance = 1pt}}
	  \tikzset{LabelStyle/.style =   {draw,
	                                  fill           = yellow,
	                                  text           = red}}
	     \node[VertexStyle](A){A};
	     \node[VertexStyle,right=of A](B){B};
	     \node[VertexStyle,right=of B](C){C};
	     \node[VertexStyle,above= 8 cm of B](D){D};     
	     \draw[EdgeStyle](B) to node[LabelStyle]{1} (D) ;
	     \tikzset{EdgeStyle/.append style = {bend left}}
	     \draw[EdgeStyle](A) to node[LabelStyle]{2} (B);
	     \draw[EdgeStyle](B) to node[LabelStyle]{3} (A);
	     \draw[EdgeStyle](B) to node[LabelStyle]{4} (C);
	     \draw[EdgeStyle](C) to node[LabelStyle]{5} (B);
	     \draw[EdgeStyle](A) to node[LabelStyle]{6} (D);
	     \draw[EdgeStyle](D) to node[LabelStyle]{7} (C);
	
	  \end{tikzpicture}
	\end{center}
	\end{document}
snippet luatex brillouin-function
	% Brillouin Function
	% Author: Mark Wibrow
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Plot of the Brillouin Function
	:Tags: LuaTeX;Plots;Plotting;Mathematics
	:Author: Mark Wibrow
	:Slug: brillouin-function
	
	The Brillouin function[1][2] is a special function, used for example
	in statistical mechanics.
	
	It's plotting using standard TikZ, pgfplots is not required.
	The calculation is done using Lua, so LuaLaTeX has to be used for compiling.
	
	This example was written by Mark Wibrow answering a question on TeX.SE,
	with modifications by Stefan Kottwitz (formula, scaling, styles for
	axis and plot).
	\end{comment}
	\usepackage{amsmath}
	\usetikzlibrary{arrows.meta}
	\directlua{
	function coth (i) 
	  return math.cosh(i) / math.sinh(i)
	end
	
	function brillouin (J, x) 
	  if x == 0 then
	    return 0
	  else
	   return (2*J+1)/(2*J)*coth((2*J+1)/(2*J)*x) - 
	        1/(2*J)*coth(1/(2*J)*x)
	  end
	end
	}
	\pgfmathdeclarefunction{Brillouin}{2}{%
	  \edef\pgfmathresult{%
	     \directlua{tex.print("" .. brillouin(#1,#2))}%
	   }%  
	}
	\begin{document}
	\begin{tikzpicture}[
	    x                = 2cm/10,
	    scale            = 3,
	    axis/.style      = {help lines, -{Stealth[length = 1.5ex]}},
	    brillouin/.style = {domain = -5:10, samples = 100}
	  ]
	  \draw [axis] (-5,0) -- (10,0);
	  \draw [axis] (0,-1) -- (0,1.5);
	  \draw [densely dotted] (0,{ Brillouin(1, 100)} ) -- ++(10,0);
	  \draw [red]   plot [brillouin] (\x, { Brillouin(1,  \x)});
	  \draw [green] plot [brillouin] (\x, { Brillouin(5,  \x)});
	  \draw [blue]  plot [brillouin] (\x, { Brillouin(50, \x)});
	  \node [align = center, anchor = west] at (1,1.3) {%
	    $\begin{alignedat}{2}
	      B_J(x) &= \tfrac{2J + 1}{2J}
	                &&\coth \left ( \tfrac{2J + 1}{2J} x \right ) \\
	             &\quad - \tfrac{1}{2J}
	                &&\coth \left ( \tfrac{1}{2J} x \right )
	     \end{alignedat}$};
	\end{tikzpicture}
	\end{document}
snippet diagrams butterfly-lemma
	% Butterfly Lemma
	% Author: Kannappan Sampath
	\documentclass{amsart}
	\usepackage{amsmath}
	\usepackage{amsthm}
	\newtheorem*{theorem}{Theorem}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Butterfly Lemma
	:Tags: Diagrams;Matrices;Mathematics
	:Author: Kannappan Sampath
	:Slug: butterfly-lemma
	\end{comment}
	\usetikzlibrary{matrix}
	\title{Zassenhaus' Lemma}
	\author{Kannappan Sampath}
	\begin{document}
	\maketitle
	Zassenhaus' Lemma states that: 
	\begin{theorem}[Zassenhaus' Lemma] 
	Let $A \unlhd A^\ast$ and $B \unlhd B^\ast$ be subgroups of $G.$ Then, 
	\begin{align}
	A(A^\ast \cap B) \unlhd A(A^\ast \cap B^\ast) \\
	B(B^\ast \cap A) \unlhd B(B^\ast \cap A^\ast) 
	\end{align}
	and we have an isomorphism: 
	\begin{align}
	\frac{A(A^\ast \cap B^\ast)}{A(A^\ast \cap B)} \simeq \frac{B(B^\ast \cap A^\ast)}{B(B^\ast \cap A)}
	\end{align}
	\end{theorem}
	The picture below represents the butterfly that goes with its proof.
	
	\begin{figure}[h!]
	\begin{tikzpicture}[description/.style={fill=white,inner sep=2pt}]
	\matrix (m) [matrix of math nodes, row sep=1.5em,
	column sep=0.3em, text height=1.5ex, text depth=0.25ex]
	{ A^\ast & & & & B^\ast \\
	&&&&\\
	A(A^\ast  \cap B)& & & &  B(A^\ast \cap B^\ast) \\
	&&A^\ast \cap B^\ast && \\ 
	A(A^\ast \cap B)&&&& B(A \cap B^\ast)\\
	&&(A \cap B^\ast)(A^\ast \cap B)&& \\
	A &&&& B \\
	&A \cap B^\ast &&A^\ast \cap B& \\};
	
	\path[-] (m-1-1) edge (m-3-1)
			 (m-3-1) edge  (m-4-3)
			         edge [-,line width=1pt, draw=blue](m-5-1)
			 (m-5-1) edge (m-6-3)
			         edge (m-7-1)
			 (m-7-1) edge (m-8-2)
			 (m-8-2) edge (m-6-3)
			 (m-6-3) edge (m-8-4)
			         edge (m-5-5)
			         edge [-,line width=1pt, draw=blue](m-4-3)
			 (m-7-5) edge (m-5-5)
			 		 edge (m-8-4)
			 (m-1-5) edge (m-3-5)
			 (m-3-5) edge (m-4-3)
			 		 edge [-,line width=1pt, draw=blue](m-5-5);
	\end{tikzpicture}
	\caption{The Butterfly}
	\end{figure}
	
	In the figure, the quotients given by the blue line are isomorphic to each other thus proving the Zassenhaus' Lemma. Further, the black line indicates that the group that lies below is normal in the groups connected to it and lies above it in the plane of the figure. 
	
	\end{document}
snippet foreach calendar-circles
	% A calendar of circles
	% Author: Till Tantau (The PGF manual),
	%   and Stefan Kottwitz (Modifications such as shaded circles and color)
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A calendar of circles
	:Tags: Foreach
	:Author: Till Tantau
	:Slug: calendar-circles
	
	A calendar example from the PGF manual. Modifications are
	  - changes in font family and size commands
	  - shaded background circle
	  - shaded month circles
	  - font sizes and distances.
	\end{comment}
	\usetikzlibrary{calendar,shadings}
	\renewcommand*{\familydefault}{\sfdefault}
	\colorlet{winter}{blue}
	\colorlet{spring}{green!60!black}
	\colorlet{summer}{orange}
	\colorlet{fall}{red}
	% A counter, since TikZ is not clever enough (yet) to handle
	% arbitrary angle systems.
	\newcount\mycount
	\begin{document}
	\begin{tikzpicture}[transform shape,
	  every day/.style={anchor=mid,font=\tiny}]
	  \node[circle,shading=radial,outer color=blue!30,inner color=white,
	    minimum width=15cm] {\textcolor{blue!80!black}{\Huge\the\year}};
	  \foreach \month/\monthcolor in
	    {1/winter,2/winter,3/spring,4/spring,5/spring,6/summer,
	    7/summer,8/summer,9/fall,10/fall,11/fall,12/winter} {
	      % Computer angle:
	      \mycount=\month
	      \advance\mycount by -1
	      \multiply\mycount by 30
	      \advance\mycount by -90
	      \shadedraw[shading=radial,outer color=\monthcolor!30,middle color=white,
	        inner color=white,draw=none] (\the\mycount:5.4cm) circle(1.4cm);
	      % The actual calendar
	      \calendar at (\the\mycount:5.4cm) [
	          dates=\the\year-\month-01 to \the\year-\month-last]
	      if (day of month=1) {\large\color{\monthcolor!50!black}\tikzmonthcode}
	      if (Sunday) [red]
	      if (all) {
	      % Again, compute angle
	      \mycount=1
	      \advance\mycount by -\pgfcalendarcurrentday
	      \multiply\mycount by 11
	      \advance\mycount by 90
	      \pgftransformshift{\pgfpointpolar{\mycount}{1.2cm}}};}
	\end{tikzpicture}
	\end{document}
snippet calendar changing-the-default-calendar-layout
	\documentclass{article}
	% An example how to use the calendar library and modify the layout, i.e. put
	% Sunday as the first week day.
	%
	% Author: Berteun Damman
	\usepackage{tikz}
	\usetikzlibrary{calendar}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Changing the default calendar layout
	:Tags: Calendars; Matrices
	:Author: Berteun Damman
	
	An example how to modify the calendar drawing code so Sundays are drawn
	as the first day of the week; it also shows how to make your own conditions
	to be used with `\ifdate`. In this example I use matrices to group the months.
	\end{comment}
	
	\begin{document}
	    \makeatletter
	
	    % This way you can define your own conditions, for example, you
	    % could make something as `full moon', `even week', `odd week',
	    % et cetera. In principle. The math in TeX could be hard.
	    \pgfkeys{/pgf/calendar/start of year/.code={%
	        \ifnum\pgfcalendarifdateday=1\relax%
	            \ifnum\pgfcalendarifdatemonth=1\relax\pgfcalendarmatchestrue\fi%
	        \fi%
	    }}%
	
	    % Define our own style
	    \tikzstyle{week list sunday}=[
	        % Note that we cannot extend from week list,
	        % the execute before day scope is cumulative
	        execute before day scope={%
	               \ifdate{day of month=1}{\ifdate{equals=\pgfcalendarbeginiso}{}{
	               % On first of month, except when first date in calendar.
	                   \pgfmathsetlength{\pgf@y}{\tikz@lib@cal@month@yshift}%
	                   \pgftransformyshift{-\pgf@y}
	               }}{}%
	        },
	        execute at begin day scope={%
	            % Because for TikZ Monday is 0 and Sunday is 6,
	            % we can't directly use \pgfcalendercurrentweekday,
	            % but instead we define \c@pgf@counta (basically) as:
	            % (\pgfcalendercurrentweekday + 1) % 7
	            \pgfmathsetlength\pgf@x{\tikz@lib@cal@xshift}%
	            \ifnum\pgfcalendarcurrentweekday=6
	                \c@pgf@counta=0
	            \else
	                \c@pgf@counta=\pgfcalendarcurrentweekday
	                \advance\c@pgf@counta by 1
	            \fi
	            \pgf@x=\c@pgf@counta\pgf@x
	            % Shift to the right position for the day.
	            \pgftransformxshift{\pgf@x}
	        },
	        execute after day scope={
	            % Week is done, shift to the next line.
	            \ifdate{Saturday}{
	                \pgfmathsetlength{\pgf@y}{\tikz@lib@cal@yshift}%
	                \pgftransformyshift{-\pgf@y}
	            }{}%
	        },
	        % This should be defined, glancing from the source code.
	        tikz@lib@cal@width=7
	    ]
	
	    % New style for drawing the year, it is always drawn
	    % for January
	    \tikzstyle{year label left}=[
	        execute before day scope={
	            \ifdate{start of year}{
	                \drawyear
	            }{}
	        },
	        % Right align
	        every year/.append style={
	            anchor=east,
	        }
	    ]
	
	    % Style to force giving a month a year label.
	    \tikzset{draw year/.style={
	        execute before day scope={
	            \ifdate{day of month=1}{\drawyear}{}
	        }
	    }}
	
	    % This actually draws the year.
	    \newcommand{\drawyear}{
	        \pgfmathsetlength{\pgf@x}{\tikz@lib@cal@xshift}%
	        \pgftransformxshift{-\pgf@x}
	        % \tikzyearcode is defined by default
	        \tikzyearcode
	        \pgfmathsetlength{\pgf@x}{\tikz@lib@cal@xshift}%
	        \pgftransformxshift{\pgf@x}
	    }
	
	    \makeatother
	
	    % The actual calendar is now rather easy:
	    \begin{tikzpicture}[every calendar/.style={
	            month label above centered,
	            month text={\textit{\%mt}},
	            year label left,
	            every year/.append style={font=\Large\sffamily\bfseries,
	                green!50!black},
	            if={(Sunday) [blue!70]},
	            week list sunday,
	        }]
	        \matrix[column sep=1em, row sep=1em] {
	            \calendar[dates=2010-04-01 to 2010-04-last,draw year]; &
	            \calendar[dates=2010-05-01 to 2010-05-last]; &
	            \calendar[dates=2010-06-01 to 2010-06-last]; \\
	            \calendar[dates=2010-07-01 to 2010-07-last]; &
	            \calendar[dates=2010-08-01 to 2010-08-last]; &
	            \calendar[dates=2010-09-01 to 2010-09-last]; \\
	            \calendar[dates=2010-10-01 to 2010-10-last]; &
	            \calendar[dates=2010-11-01 to 2010-11-last]; &
	            \calendar[dates=2010-12-01 to 2010-12-last]; \\
	            \calendar[dates=2011-01-01 to 2011-01-last]; &
	            \calendar[dates=2011-02-01 to 2011-02-last]; &
	            \calendar[dates=2011-03-01 to 2011-03-last]; \\
	        };
	    \end{tikzpicture}
	\end{document}
snippet shading christmas-tree-1
	% A Christmas tree
	% By Mikko Heiskanen, 24.12.2011
	% http://tex.stackexchange.com/a/39235/
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Christmas tree 1
	:Tags: Shadings
	:Author: Mikko Heiskanen
	:Slug: christmas-tree-1
	\end{comment}
	\usetikzlibrary{scopes,svg.path,shapes.geometric,shadows}
	\begin{document}
	\begin{tikzpicture}[
	  mystar/.style={star, minimum size=2cm, star point ratio=2.5, shade, thick,
	    line join=round, color=yellow!80!black, draw=red!20!black,
	    top color=yellow!80!white, bottom color=yellow!60!black},
	  mytree/.style={scale=0.5, rotate=180, draw=green!60!black, thick,
	    line join=round, inner color=green!60!yellow, outer color=green!50!black},
	  myball/.style={shade, ball color=#1, circular drop shadow={
	    shadow xshift=0pt, shadow yshift=-.5ex, fill=green!40!black}}
	  ]
	  {[mytree]
	  \shadedraw svg "M355,430
	    q90,10 105,-85 30,0 50,-30 20,30 50,30 50,-20 100,0 10,88 105,85
	    -45,90 -205,25 Q400,520 355,430";
	  \shadedraw svg "M380,325
	    q83,10 105,-80 25,0 35,-30 20,25 40,30 20,-10 35,-25 20,20 40,25
	    25,90 105,82 -15,50 -120,15 -30,-2 -60,12 -30,0 -52,-28
	    C490,370 380,360 380,325";
	  \shadedraw svg "M435,225
	    q65,-8 90,-70 35,40 70,0 25,60 90,70 -30,52 -90,5 -36,48 -73,-3
	    C520,254 445,265 435,225";
	  \shadedraw svg "M470,139
	    q50,5 90,-80 50,90 90,80 -30,30 -50,20 -40,45 -78,0
	    Q500,170 470,139";
	  }
	  %\shadedraw svg[scale=0.5,rotate=180]
	  %"M460,532 q50,-8 q77,-45 v-20 a20,13 0 1 1 48,0 v20 q30,40 77,45";
	  %pgf/tikz doesn't like the arc operation, as stated in manual
	
	  \node[mystar] at (-9.85,-1) {$\lambda$};
	
	  \shade[myball=blue]   (-9.7,-2.2)   circle (.2cm);
	  \shade[myball=red]    (-9.2,-3.8)   circle (.2cm);
	  \shade[myball=green]  (-10.3,-4)    circle (.4cm);
	  \shade[myball=yellow] (-8.95,-5.4)  circle (.4cm);
	  \shade[myball=red]    (-10.7,-6.1)  circle (.4cm);
	  \shade[myball=blue]   (-10.8,-5)    circle (.2cm);
	  \shade[myball=yellow] (-9.5,-6.7)   circle (.2cm);
	  \shade[myball=green]  (-8.3,-7.6)   circle (.4cm);
	  \shade[myball=yellow] (-11.7,-7.6)  circle (.4cm);
	  \shade[myball=blue]   (-10.5,-7.8)  circle (.2cm);
	\end{tikzpicture}
	\end{document}
snippet decorations christmas-tree-2
	% A Christmas tree
	% Decorations by Andrew Stacey
	% Based on a fractal tree (L-System) drawn in TikZ by Stefan Kottwitz
	% Tree example from the book "The Science of fractal images" by Peitgen and Saupe.
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Christmas fractal tree
	:Tags: Decorations; Fractals
	:Author: Andrew Stacey
	:Slug: christmas-tree-2
	\end{comment}
	\usetikzlibrary{%
	  lindenmayersystems,
	  decorations.pathmorphing,
	  decorations.markings,
	  shapes.geometric,
	  calc%
	}
	\tikzset{
	  tinsel/.style={
	    #1,
	    rounded corners=10mm,
	    ultra thin,
	    decorate,
	    decoration={
	      snake,
	      amplitude=.1mm,
	      segment length=10,
	    }
	  },
	  baubles/.style={
	    decorate,
	    decoration={
	      markings,
	      mark=between positions .3 and 1 step 2cm
	      with
	      {
	        \pgfmathsetmacro{\brad}{2 + .5 * rand}
	        \path[shading=ball,ball color=#1] (0,0) circle[radius=\brad mm];
	      }
	    }
	  },
	  lights/.style={
	    decorate,
	    decoration={
	      markings,
	      mark=between positions 0 and 1 step 1cm
	      with
	      {
	        \pgfmathparse{rand > 0 ? "dart" : "kite"}
	        \let\lshape\pgfmathresult
	         \pgfmathsetmacro{\tint}{100*rnd}
	        \node[rotate=90,\lshape,shading=ball,inner sep=1pt,ball color=red!\tint!yellow] {};
	      }
	    }
	  }
	}
	
	\begin{document}
	\begin{tikzpicture}
	\coordinate (star) at (0,-1);
	\path (star) +(-50:7) coordinate (rhs) +(-130:7) coordinate (lhs);
	\draw[brown!50!black,line width=5mm,line cap=round] (star) ++(-90:6.8) -- ++(0,-1) coordinate (base);
	\node[scale=-1,trapezium,fill=black,minimum size=1cm] at (base) {};
	\foreach \height/\colour in {%
	  .2/blue,
	  .4/yellow,
	  .6/red,
	  .8/orange,
	  1/pink%
	} {
	  \draw[tinsel=\colour] ($(star)!\height!(lhs)$) to[bend right] ($(star)!\height!(rhs)$);
	}
	\path (star);
	\pgfgetlastxy{\starx}{\stary}
	\begin{scope}[xshift=\starx,yshift=\stary,yshift=-7cm]
	\draw[color=green!50!black, l-system={rule set={S -> [+++G][---G]TS,  G -> +H[-G]L, H -> -G[+H]L, T -> TL, L -> [-FFF][+FFF]F}, step=4pt, angle=18, axiom=+++++SLFFF, order=11}] lindenmayer system -- cycle;
	\end{scope}
	\foreach \height/\colour in {%
	  .1/pink,
	  .3/red,
	  .5/yellow,
	  .7/blue,
	  .9/orange%
	} {
	  \draw[tinsel=\colour] ($(star)!\height!(lhs)$) to[bend right] ($(star)!\height!(rhs)$);
	}
	\foreach \height in {.15,.35,...,1} {
	  \draw[lights]  ($(star)!\height!(lhs)$) to[bend right] ($(star)!\height!(rhs)$);
	}
	\foreach \angle/\colour in {
	  -50/red,
	  -70/yellow,
	  -90/blue,
	  -110/pink,
	  -130/purple%
	} {
	  \draw[baubles=\colour] (star) -- ++(\angle:7);
	}
	\node[star,star point ratio=2.5,fill=yellow,minimum size=1cm] at (star) {};
	\end{tikzpicture}
	\end{document}
snippet decorations christmas-tree-3
	% A Christmas tree
	% By Alain Matthes
	\documentclass[11pt]{article} 
	\usepackage[dvipsnames,svgnames]{xcolor}  
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Christmas tree with balls, candles and snowflakes
	:Tags: Decorations; Fractals
	:Author: Alain Matthes
	:Slug: christmas-tree-3
	\end{comment}
	\usetikzlibrary{%
	  shapes,
	  decorations.shapes,
	  decorations.fractals,
	  decorations.markings,
	  shadows
	}
	
	\newsavebox{\mycandle}
	\savebox{\mycandle}{ 
	\begin{tikzpicture}[scale=.1]
	\shade[top color=yellow,bottom color=red] (0,0) .. controls (1,.2) and (1,.5) .. (0,2) .. controls (-1,.5)  and  (-1,.2) .. (0,0);
	\fill[yellow!90!black] (.8,0) rectangle (-.8,-5); 
	\end{tikzpicture} } 
	%%%<
	\PreviewEnvironment{tikzpicture}
	%%%>
	
	\tikzset{
	  paint/.style={draw=#1!50!black, fill=#1!50},
	  my star/.style={decorate,decoration={shape backgrounds,shape=star},
	                  star points=#1}
	}  
	
	\begin{document}
	  \begin{tikzpicture}[  ball red/.style={
	    decorate,
	    decoration={
	      markings,
	      mark=between positions .2 and 1 step 3cm
	      with
	      {
	        \pgfmathsetmacro{\sz}{2 + .5 * rand}
	        \path[shading=ball,ball color=red] (0,0) circle[radius=\sz mm];
	      }
	    }
	  } ,ball blue/.style={
	    decorate,
	    decoration={
	      markings,
	      mark=between positions 0.1 and .9 step 3cm
	      with
	      {
	        \pgfmathsetmacro{\sz}{2 + .5 * rand}
	        \path[shading=ball,ball color=blue] (0,0) circle[radius=\sz mm];
	      }
	    }
	  }   
	]
	
	\draw[fill=Maroon,ultra thick] 
	      (.75,-1)  ..  controls (.5,.5)  and   (.5,3)    .. (0.5,4) 
	   -- (-0.5,4)  ..  controls (-.5,3) and (-.5,.5)     .. (-.75,-1) ;
	\draw[ultra thick,fill=green!50!black] 
	      (0,10) .. controls  (0,8)     and   (1,7)    .. (1.5,7) 
	             ..  controls (1,7)     and   (1,7)    .. (0.5,7.25) 
	             ..  controls (1.5,5)   and   (2.5,4)  .. (3,4)
	             ..  controls (2,4)     and   (1.25,4) .. (1,4.5)
	             ..  controls (2,2)     and   (3.5,2)  .. (4,2)
	             ..  controls (1,1)     and   (-1,1)   .. (-4,2) 
	             ..  controls (-3.5,2)  and   (-2,2)   .. (-1,4.5)
	             ..  controls (-1.25,4) and   (-2,4)   .. (-3,4) 
	             ..  controls (-2.5,4)  and   (-1.5,5) .. (-0.5,7.25) 
	             ..  controls  (-1,7)   and   (-1,7)   .. (-1.5,7)
	             ..  controls  (-1,7)   and   (0,8)    .. (0,10)
	              ;
	
	\foreach \candle in {(2,5),(-2,5),(0.5,7.5),(-0.5,7.5),(-3,2.5), (3,2.5),
	                    (1.5,1.75),(-1.5,1.75)}
	\node at \candle {\usebox{\mycandle}} ; 
	\node [star, star point height=.5cm, minimum size=.5cm,draw,fill=yellow,thick]
	      at (0,10) {};
	\begin{scope}[decoration={shape sep=.2cm, shape size=.25cm}] 
	    \draw [my star=6, paint=red]  (-4,2)
	             ..  controls (0,2)     and   (1,3.5)   .. (1,4.40); 
	    \draw [my star=6, paint=red]  (-1.5,5.40)
	             ..  controls (0,5.40)     and   (0.5,6.5)      .. (0.5,7);  
	    \draw [my star=6, paint=blue]  (4,2)
	             ..  controls  (0,2) and (-1,3.5)      .. (-1,4.40);             
	    \draw [my star=6, paint=blue]  (1.5,5.40)
	             ..  controls (0,5.40)     and   (-0.5,6.5)      .. (-0.5,7);     
	\end{scope} 
	% the balls
	\path[ball red] 
	      (0,10) .. controls  (0,8)     and   (1,7)    .. (1.5,7) 
	             ..  controls (1,7)     and   (1,7)    .. (0.5,7.25) 
	             ..  controls (1.5,5)   and   (2.5,4)  .. (3,4)
	             ..  controls (2,4)     and   (1.25,4) .. (1,4.5)
	             ..  controls (2,2)     and   (3.5,2)  .. (4,2)
	             ..  controls (1,1)     and   (-1,1)   .. (-4,2) 
	             ..  controls (-3.5,2)  and   (-2,2)   .. (-1,4.5)
	             ..  controls (-1.25,4) and   (-2,4)   .. (-3,4) 
	             ..  controls (-2.5,4)  and   (-1.5,5) .. (-0.5,7.25) 
	             ..  controls  (-1,7)   and   (-1,7)   .. (-1.5,7)
	             ..  controls  (-1,7)   and   (0,8)    .. (0,10)
	              ; 
	\path[ball blue] 
	      (0,10) .. controls  (0,8)     and   (1,7)    .. (1.5,7) 
	             ..  controls (1,7)     and   (1,7)    .. (0.5,7.25) 
	             ..  controls (1.5,5)   and   (2.5,4)  .. (3,4)
	             ..  controls (2,4)     and   (1.25,4) .. (1,4.5)
	             ..  controls (2,2)     and   (3.5,2)  .. (4,2)
	             ..  controls (1,1)     and   (-1,1)   .. (-4,2) 
	             ..  controls (-3.5,2)  and   (-2,2)   .. (-1,4.5)
	             ..  controls (-1.25,4) and   (-2,4)   .. (-3,4) 
	             ..  controls (-2.5,4)  and   (-1.5,5) .. (-0.5,7.25) 
	             ..  controls  (-1,7)   and   (-1,7)   .. (-1.5,7)
	             ..  controls  (-1,7)   and   (0,8)    .. (0,10)
	              ; 
	 % the snow
	\foreach \i in {0.5,0.6,...,1.6}
	     \fill [white!80!blue,decoration=Koch snowflake,opacity=.9]
	           [shift={(rand*5,rnd*8)},scale=\i]
	           [double copy shadow={opacity=0.2,shadow xshift=0pt,
	           shadow yshift=3*\i pt,fill=white,draw=none}]
	        decorate {
	          decorate {
	            decorate {
	              (0,0) -- ++(60:1) -- ++(-60:1) -- cycle
	            }
	          }
	        };                  
	\end{tikzpicture}
	
	\end{document}
snippet plots christmas-tree-4
	% A Christmas tree with pgfplots
	% By Jake
	\documentclass[border=5mm]{standalone}
	\usepackage{pgfplots}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Christmas tree plotted
	:Tags: Plots;
	:Author: Jake
	:Slug: christmas-tree-4
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	\begin{axis}[
	    hide axis, clip=false,
	    y domain=0:2*pi,
	    samples=30,axis equal, view={45}{20}]
	\addplot3 [domain=0:4,surf,shader=flat,z buffer=sort,fill=green!50!brown, draw=green!50!black, line join=bevel] 
	    ({(1.3*x-floor(x))*x^0.5*cos(deg(y))},
	     {(1.3*x-floor(x))*x^0.5*sin(deg(y))},
	     {-5*x});
	\addplot3 [domain=0:4.5, samples=10, samples y=0, fill=yellow!85!red, draw=yellow!55!red] ({0},{sin(x/5*360) * (1 - x + floor(x)) },{cos(x/5*360) * (1 - x + floor(x) )  + 0.5}) -- cycle;
	\end{axis}
	\end{tikzpicture}%
	\end{document}
snippet colors cielab
	% CIELAB color space
	% Vilson Vieira <vilson@void.cc> - http://automata.cc - 2013 - copyleft
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: CIELAB color space
	:Tags: Colors;Shadings
	:Author: Vilson Vieira
	:Slug: cielab
	
	Represents the CIELAB color space, its L, a and b axis with
	illustrative shades to make it easy to understand.
	\end{comment}
	\begin{document}
	  
	\begin{tikzpicture}[scale=1.5]
	  % b* shade
	  \path[draw, shade, left color=blue, right color=yellow, opacity=.6] 
	    (0,0,0) node[below] {$-b*$} -- (5,2.0,0) node[below] {$+b*$}
	    -- (5, 2.5, 0) -- (0, 0.5, 0) -- cycle;
	
	  % a* shade
	  \path[draw, shade, left color=green, right color=red, opacity=.6] 
	  (0, 2.0, 0) node[below] {$-a*$} -- (5, 0, 0) node[below] {$+a*$} 
	  -- (5, .5, 0) -- (0, 2.5, 0) -- cycle;
	    
	  % L* shade
	  \path[draw, shade, top color=white, bottom color=black, opacity=.6] 
	    (2.65, -1.85, 0) node[right] {$L* = 0$} -- (2.65, 4.45, 0)
	    node[right] {$L*=100$} -- (2.35, 4.3, 0)  -- (2.35, -2., 0) -- cycle;
	
	  % b*-axis
	  \draw[<->] (0,0.25,0) -- (5, 2.25, 0);
	  % a*-axis
	  \draw[<->] (0,2.25,0) -- (5, 0.25, 0);
	  % L*-axis
	  \draw[<->] (2.5,-1.90,0) -- (2.5,4.35,0);
	\end{tikzpicture}
	\end{document}
snippet decorations circuit-decorations
	% Electrical circuits using decorations
	% Author: B. Umesh Rai
	\documentclass{article}%
	
	\usepackage{electComp}
	\usetikzlibrary{decorations,decorations.pathmorphing,decorations.pathreplacing}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Electric circuit decorations
	:Slug: circuit-decorations
	:Tags: Decorations, Diagrams
	
	This example demonstrates an interesting use of decorations. A set of custom decorations
	have been defined to draw various electrical circuit elements. The code for the decorations 
	can be found in the `electComp.sty`_ file.
	
	To compile the example you will need the following style file:
	
	- `electComp.sty`_
	
	.. _electComp.sty: tzbondgraph/electComp.sty
	
	:Author: B\. Umesh Rai
	
	\end{comment}
	
	\begin{document}
	\title{Electrical Circuits with pgf}
	
	\date{}
	\maketitle
	%-------------------------------------------
	
	\begin{tikzpicture}[line width=1pt]
	    \draw (0,0) -- ++(0,1cm);
	    \draw[decorate, decoration=cell] (0,1cm) -- ++(0,1.5cm);
	    \draw (0,2.5cm) |- ++(1cm,1cm);
	    \draw[decorate, decoration=diode] (1cm,3.5cm) -- ++(1.5cm,0);
	    \draw (2.5cm,3.5cm) -- ++(2,0);
	    \draw (3.5cm,3.5cm) -- ++(0,-1);
	    \draw[decorate, decoration=switch] (3.5cm,2.5cm) -- ++(0,-1.5cm);
	    \draw[decorate, 
	        decoration={inductor,amplitude=0.35cm, segment length=0.75cm}]
	        (4.5cm,3.5cm) -- ++(1.5cm,0);
	    \draw (6cm,3.5cm) -- ++(1,0);
	    \draw (7cm,3.5cm) -- ++(3,0);
	    \draw (8cm,3.5cm) -- ++(0,-1);
	    \draw[decorate, decoration=capacitor] (8cm,2.5cm) -- ++(0,-1.5cm);
	    \draw (0cm,0cm) -| ++(8cm,1cm);
	    \draw (3.5cm,0cm) -- ++(0cm,1cm);
	    \draw (10cm,3.5cm) -- ++(0,-1);
	    \draw[decorate, decoration=resistor] (10cm,2.5cm) -- ++(0,-1.5cm);
	    \draw (8cm,0cm) -| ++(2cm,1cm);
	    \draw[decorate, decoration=ground] (5,0cm) -- ++(0,-1.5cm);
	\end{tikzpicture}
	
	\end{document}
snippet circuits circuitikz
	\documentclass{article}
	\usepackage[symbols]{circuitikz}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Circuitikz
	:Grid: 2x2
	
	
	CircuiTikz_ is a set of LaTeX macros designed to make it easy to draw electrical networks in scientific publications. It provides a convenient syntax based on to-paths to place the various components. 
	The examples below are from the `CircuiTikz examples page`_. The author of CircuiTikz_ is `Massimo Readelli`_.
	
	To run the examples you need to `download and install`_ the CircuiTikz_ files first. 
	
	*Note*. The circuits library available in the CVS version of PGF is inspired by CircuiTikz_. 
	
	.. _CircuiTikz: http://home.dei.polimi.it/mredaelli/circuitikz/index.html
	.. _CircuiTikz examples page: http://home.dei.polimi.it/mredaelli/circuitikz/examples.html
	.. _download and install: http://home.dei.polimi.it/mredaelli/circuitikz/download.html
	.. _Massimo Readelli: http://home.dei.polimi.it/mredaelli/about.html
	\end{comment}
	
	\begin{document}
	
	\begin{circuitikz} \draw
	 (0,0) to[C, l=$10\micro\farad$] (0,2) -- (0,3)
	  to[R, l=$2.2\kilo\ohm$] (4,3) -- (4,2)
	  to[L, l=$12\milli\henry$, i=$i_1$] (4,0) -- (0,0)
	 (4,2) to[D*, *-*] (2,0) to [D*, -*] (0,2)
	  to[R, l=$1\kilo\ohm$] (2,2)   to[cV, v=$0.3\kilo\ohm i_1$] (4,2)
	 (2,0) to[I, i=$1\milli\ampere$:15, -*] (2,2)
	; 
	\end{circuitikz}
	
	\begin{circuitikz} \draw
	 (0,0) node[ground] {}
	  to[V, v=$e(t)$, *-*] (0,2) to[C, l=$4\nano\farad$] (2,2)
	  to [R, l=$\frac{1}{4}\kilo\ohm$, *-*] (2,0)
	 (2,2) to[R, l=$1\kilo\ohm$] (4,2)
	  to[C, l=$2\nano\farad$:-90, *-*] (4,0)
	 (5,0) to[I, i=$a(t)$:-90, -*] (5,2) -- (4,2)
	 (0,0) -- (5,0)
	 (0,2) -- (0,3) to[L, l=$2\milli\henry$] (5,3) -- (5,2)
	
	 {[anchor=south east] (0,2) node {1} (2,2) node {2} (4,2) node {3}}
	;\end{circuitikz}
	
	\begin{circuitikz} \draw
	 (0,0) node[anchor=east]{B}
	  to[short, o-*] (1,0)
	  to[R, l=$20\ohm$, *-*] (1,2)
	  to [R, v=$v_x$, l=$10\ohm$] (3,2)
	  to[short] (4,2) to[cI, i=$\frac{\siemens}{5}v_x$, *-*] (4,0)
	   to[short] (3,0) to[R, l=$5\ohm$, *-*] (3,2)
	 (3,0) -- (1,0)
	 (1,2) to[short, *-o] (0,2)
	  node[anchor=east]{A}
	;\end{circuitikz}
	
	\begin{circuitikz} \draw
	 (0,2) to[I, i=$1\milli\ampere$] (2,2)
	  to [R, l=$2\kilo\ohm$:-90, *-*] (0,0)
	  to [R, l=$2\kilo\ohm$] (2,0)
	  to[V, v=$2\volt$:-90] (2,2)
	  to[cspst, l=$t_0$] (4,2) -- (4,1.5)
	  to [generic, l=1, i=$i_1$, v=$v_1$] (4,-.5) -- (4,-1)
	 (0,2) -- (0,-1) to[V, v=$4\volt$] (2,-1)
	  to [R, l=$1\kilo\ohm$] (4,-1);
	
	 \begin{scope}[xshift=7.5cm, yshift=.5cm]
	  \draw [->] (-2,0)--(2.5,0) node[anchor=west] {$v_1 [\volt]$};
	  \draw [->] (0,-2)--(0,2) node[anchor=west] {$i_1 [\milli\ampere]$} ;
	  \draw (-1,0) node[anchor=north] {-2} (1,0) node[anchor=south] {2}
	   (0,1) node[anchor=west] {4} (0,-1) node[anchor=east] {-4} (2,0) 
	   node[anchor=north west] {4} (-1.5,0) node[anchor=south east] {-3};
	  \draw [thick]
	   (-2,-1) -- (-1,1) -- (1,-1) -- (2,0) -- (2.5,.5);
	  \draw [dotted]
	   (-1,1) -- (-1,0) (1,-1) -- (1,0) (-1,1) -- (0,1) (1,-1) -- (0,-1);
	 \end{scope}
	\end{circuitikz}
	
	\end{document}
snippet arrows circular-arrows-text
	% Circular arrows with text
	% Author: Tom Bombadil
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Circular arrows with text
	:Tags: Arrows;Decorations;Arcs;Foreach;Diagrams
	:Author: Tom Bombadil
	:Slug: circular-arrows-text
	
	This example was written by Tom Bombadil answering a question on TeX.SE,
	with a modification by Stefan Kottwitz adding a text font style
	showing an implicit way.
	\end{comment}
	\usetikzlibrary{decorations.text}
	\newcommand*{\mytextstyle}{\sffamily\Large\bfseries\color{black!85}}
	\newcommand{\arcarrow}[8]{%
	% inner radius, middle radius, outer radius, start angle,
	% end angle, tip protusion angle, options, text
	  \pgfmathsetmacro{\rin}{#1}
	  \pgfmathsetmacro{\rmid}{#2}
	  \pgfmathsetmacro{\rout}{#3}
	  \pgfmathsetmacro{\astart}{#4}
	  \pgfmathsetmacro{\aend}{#5}
	  \pgfmathsetmacro{\atip}{#6}
	  \fill[#7] (\astart:\rin) arc (\astart:\aend:\rin)
	       -- (\aend+\atip:\rmid) -- (\aend:\rout) arc (\aend:\astart:\rout)
	       -- (\astart+\atip:\rmid) -- cycle;
	  \path[font = \sffamily, decoration = {text along path, text = {|\mytextstyle|#8},
	    text align = {align = center}, raise = -0.5ex}, decorate]
	    (\astart+\atip:\rmid) arc (\astart+\atip:\aend+\atip:\rmid);
	}
	
	\begin{document}
	\begin{tikzpicture}
	  \fill[even odd rule,red!30] circle (3.8) circle (3.2);
	  \foreach \x in {0,60,...,300} {
	    \arcarrow{3}{3.5}{4}{\x+20}{\x+70}{5}{red,
	      draw = red!50!black, very thick}{text \x}
	  }
	\end{tikzpicture}
	\end{document}
snippet polygons circumscribed-polygons-and-circles
	\documentclass{article}
	%  Author:  Brian S. Marks
	%  Title:  scr.tex
	%  This latex file should be paired with the Matlab script scr.m, which 
	%  creates the included yl.tex file.  The Matlab script creates a set of 
	%  TikZ lines that create the figure of a circle circumscribed by a 
	%  regular triangle, circumscribed by a circle, circumscribed by a 
	%  square, etc.  
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Circumscribed triangles and circles
	
	
	The figure is a unit circle, circumscribed by an equilateral triangle, 
	circumscribed by another circle, circumscribed by a square, circumscribed 
	by a circle, etc.  (Interestingly enough, the radius of the circle sequence
	converges, so it makes for a pretty picture.)  A Matlab script computes the 
	circle radii and the polygons' vertices and creates a set of TikZ lines in 
	a separate file for the rendering of the image.  Then a separate tex file is 
	used to include the created TikZ file.
	
	The Matlab script `src.m`_ used to generate the figure is:
	
	.. sourcecode:: matlab
	
		%  This Matlab script creates a set of LaTeX lines to generate a picture in
		%  TikZ.  The picture is a unit circle, circumscribed by an equilateral
		%  triangle, circumscribed by a circle, circumscribed by a square, 
		%  circumscribed by a circle, etc.  Here Matlab is used to generate the 
		%  sizes of the figures and the locations of the vertices of the polygons,
		%  while TikZ is used to render a beautiful image.  
		
		fo = fopen('yl.tikz','w');
		
		%  The initial circle's radius:
		r1 = 1;
		
		%  These commands are used to render a plot in Matlab, just to check that
		%  things are working correctly.  Uncomment if desired:
		%
		% t = linspace(0,2*pi,100);
		% x1 = r1*cos(t); y1 = r1*sin(t);
		% plot(x1,y1,'linewidth',1.5);
		% hold on
		% axis square; axis equal;
		
		fprintf(fo,'\\begin{tikzpicture}[scale=0.5]\n');
		fprintf(fo,'\\draw (0,0) circle (1pt);\n');
		fprintf(fo,'\\draw[blue] (0,0) circle (1);\n');
		
		
		for n = 3:50
		    %  Radius of the next circle:
		    r2 = r1*sec(pi/n);
		
		    %  Angle between successive vertices of the polygon:
		    dtheta1 = 2*pi/n;
		
		    %  (x,y) coordinates of the vertices of the polygon:
		    px2 = r2*cos((0:n)*dtheta1);
		    py2 = r2*sin((0:n)*dtheta1);
		    
		    %  Issue the plotting commands in TikZ:
		    fprintf(fo,'\\draw[red] ');
		    for j = 1:n
		        fprintf(fo,'(%f,%f) -- ',px2(j),py2(j));
		    end
		    fprintf(fo,'cycle;\n');
		
		    %  More Matlab plotting commands, if desired:
		    %    x1 = r2*cos(t); y1 = r2*sin(t);
		    %    plot(x1,y1,'linewidth',1.5);
		    
		    %  Draw the next circle, and then iterate to the next polygon:
		    fprintf(fo,'\\draw[blue] (0,0) circle (%f);\n',r2);
		    r1 = r2;
		end
		
		fprintf(fo,'\\end{tikzpicture}\n');
		
		fclose(fo);
	
	To compile the example you will need the files:
	
	- `yl.tikz`_
	- `src.m`_
	
	.. _yl.tikz: yl.tikz
	.. _src.m: scr.m
	
	\end{comment}
	
	\begin{document}
	
	\begin{center}
		\input{yl.tikz}
	\end{center}
	
	The radius of the innermost circle is 1.  It is circumscribed by an 
	equilateral triangle, which is circumscribed by a circle, and so forth.  
	The radius of the circle as the number of figures approaches $\infty$ is 
	\[
	  \prod_{n=3}^\infty \sec\left(\frac{\pi}{n}\right) \approx 8.7
	\]
	
	
	\end{document}
snippet class class-diagram
	% Class diagram
	% Author: Remus Mihail Prunescu
	\documentclass{minimal}
	\usepackage[a4paper,margin=1cm,landscape]{geometry}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Class diagram
	
	\end{comment}
	\usetikzlibrary{positioning,shapes,shadows,arrows}
	
	\begin{document}
	\tikzstyle{abstract}=[rectangle, draw=black, rounded corners, fill=blue!40, drop shadow,
	        text centered, anchor=north, text=white, text width=3cm]
	\tikzstyle{comment}=[rectangle, draw=black, rounded corners, fill=green, drop shadow,
	        text centered, anchor=north, text=white, text width=3cm]
	\tikzstyle{myarrow}=[->, >=open triangle 90, thick]
	\tikzstyle{line}=[-, thick]
	        
	\begin{center}
	\begin{tikzpicture}[node distance=2cm]
	    \node (Item) [abstract, rectangle split, rectangle split parts=2]
	        {
	            \textbf{ITEM}
	            \nodepart{second}name
	        };
	    \node (AuxNode01) [text width=4cm, below=of Item] {};
	    \node (Component) [abstract, rectangle split, rectangle split parts=2, left=of AuxNode01]
	        {
	            \textbf{COMPONENT}
	            \nodepart{second}nil
	        };
	    \node (System) [abstract, rectangle split, rectangle split parts=2, right=of AuxNode01]
	        {
	            \textbf{SYSTEM}
	            \nodepart{second}parts
	        };
	    \node (AuxNode02) [text width=0.5cm, below=of Component] {};
	    \node (Sensor) [abstract, rectangle split, rectangle split parts=2, left=of AuxNode02]
	        {
	            \textbf{SENSOR}
	            \nodepart{second}nil
	        };
	    \node (Part) [abstract, rectangle split, rectangle split parts=2, right=of AuxNode02]
	        {
	            \textbf{PART}
	            \nodepart{second}nil
	        };
	        
	    \node (AuxNode03) [below=of Sensor] {};
	    \node (Pressure) [abstract, rectangle split, rectangle split parts=2, left=of AuxNode03, xshift=2cm]
	        {
	            \textbf{Pressure}
	            \nodepart{second}nil
	        };
	    \node (Temperature) [abstract, rectangle split, rectangle split parts=2, right=of AuxNode03, xshift=-2cm]
	        {
	            \textbf{Temperature}
	            \nodepart{second}nil
	        };
	    \node (PressureInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Pressure, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-p-suction\newline fw-p-delivery\newline fw-p-loop\newline sw-p-suction\newline sw-p-delivery
	                \newline sw-p-loop
	        };
	    \node (ClOp) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of PressureInstants]
	        {
	            \textbf{Closed/Open}
	            \nodepart{second}nil
	        };
	    \node (ClOpInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of ClOp, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-clop-warm-up\newline sw-clop-control
	        };
	    \node (TemperatureInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Temperature, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-t-engine\newline fw-t-heat-exch.\newline sw-t-heat-exch.
	        };
	    \node (Level) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of TemperatureInstants]
	        {
	            \textbf{Level}
	            \nodepart{second}nil
	        };
	    \node (LevelInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Level, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-l-tank
	        };
	    \node (Ammeter) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of LevelInstants]
	        {
	            \textbf{Ammeter}
	            \nodepart{second}nil
	        };
	    \node (AmmeterInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Ammeter, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-pump-ammeter\newline sw-pump-ammeter
	        };
	        
	    \node (AuxNode04) [below=of Part] {};
	    \node (Pump) [abstract, rectangle split, rectangle split parts=2, left=of AuxNode04, xshift=2cm]
	        {
	            \textbf{Pump}
	            \nodepart{second}nil
	        };
	    \node (Valve) [abstract, rectangle split, rectangle split parts=2, right=of AuxNode04, xshift=-2cm]
	        {
	            \textbf{Valve}
	            \nodepart{second}nil
	        };
	    \node (PumpInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Pump, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-pump\newline sw-pump
	        };
	    \node (Tank) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of PumpInstants]
	        {
	            \textbf{Tank}
	            \nodepart{second}nil
	        };
	    \node (ValveInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Valve, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-suction-valve\newline fw-delivery-valve\newline sw-suction-valve\newline sw-delivery-valve
	                \newline sw-discharge-valve\newline sw-control-valve
	        };
	    \node (Engine) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of ValveInstants]
	        {
	            \textbf{Engine}
	            \nodepart{second}nil
	        };
	    \node (TankInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Tank, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-expansion-tank
	        };
	    \node (HeatExchanger) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of TankInstants]
	        {
	            \textbf{Heat Exchanger}
	            \nodepart{second}nil
	        };
	    \node (HeatExchangerInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of HeatExchanger, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-heat-exchanger
	        };
	    \node (EngineInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Engine, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-engine
	        };
	    \node (Strainer) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of HeatExchangerInstants]
	        {
	            \textbf{Strainer}
	            \nodepart{second}nil
	        };
	    \node (StrainerInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Strainer, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}sw-strainer
	        };
	    \node (Coolant) [abstract, rectangle split, rectangle split parts=2, below=0.4cm of EngineInstants]
	        {
	            \textbf{Coolant}
	            \nodepart{second}nil
	        };
	    \node (CoolantInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of Coolant, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-coolant\newline sw-coolant
	        };  
	
	    \node (AuxNode05) [below=of System] {};
	    \node (CoolingSystem) [abstract, rectangle split, rectangle split parts=2, left=of AuxNode05, xshift=2cm]
	        {
	            \textbf{Cooling System}
	            \nodepart{second}nil
	        };
	    \node (CoolingLoop) [abstract, rectangle split, rectangle split parts=2, right=of AuxNode05, xshift=-2cm]
	        {
	            \textbf{Cooling Loop}
	            \nodepart{second}nil
	        };
	    \node (CoolingSystemInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of CoolingSystem, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}cool
	        };
	    \node (CoolingLoopInstants) [comment, rectangle split, rectangle split parts=2, below=0.2cm of CoolingLoop, text justified]
	        {
	            \textbf{Instants}
	            \nodepart{second}fw-loop\newline sw-loop
	        };
	    
	    \draw[myarrow] (Component.north) -- ++(0,0.8) -| (Item.south);
	    \draw[line] (Component.north) -- ++(0,0.8) -| (System.north);
	    
	    \draw[myarrow] (Sensor.north) -- ++(0,0.8) -| (Component.south);
	    \draw[line] (Sensor.north) -- ++(0,0.8) -| (Part.north);
	    
	    \draw[line] (Pressure.west) -- ++(-0.2,0);
	    \draw[line] (Temperature.east) -- ++(0.2,0);
	    \draw[line] (Level.east) -- ++(0.2,0);
	    \draw[myarrow] (ClOp.west) -- ++(-0.2,0) -- ([yshift=0.5cm, xshift=-0.2cm] Pressure.north west) -|
	     ([xshift=-1cm]Sensor.south);
	    \draw[myarrow] (Ammeter.east) -- ++(0.2,0) -- ([yshift=0.5cm, xshift=0.2cm] Temperature.north east) -|
	     ([xshift=1cm]Sensor.south);
	     
	    \draw[line] (Tank.west) -- ++(-0.2,0);
	    \draw[line] (HeatExchanger.west) -- ++(-0.2,0);
	    \draw[line] (Pump.west) -- ++(-0.2,0);
	    \draw[line] (Valve.east) -- ++(0.2,0);
	    \draw[line] (Engine.east) -- ++(0.2,0);
	    \draw[myarrow] (Strainer.west) -- ++(-0.2,0) -- ([yshift=0.5cm, xshift=-0.2cm] Pump.north west) -|
	     ([xshift=-1cm]Part.south);
	    \draw[myarrow] (Coolant.east) -- ++(0.2,0) -- ([yshift=0.5cm, xshift=0.2cm] Valve.north east) -|
	     ([xshift=1cm]Part.south);
	     
	    \draw[myarrow] (CoolingSystem.north) -- ++(0,0.8) -| (System.south);
	    \draw[line] (CoolingSystem.north) -- ++(0,0.8) -| (CoolingLoop.north);
	        
	        
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet clusters clusters-of-atoms
	% Clusters of atoms
	% Author: Agustin E. Bolzan
	\documentclass{article}
	\usepackage[gray]{xcolor}
	\usepackage{tikz,pgffor}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Clusters of atoms
	
	A three dimensional illustration of various clusters of atoms. 
	
	\end{comment}
	
	\usetikzlibrary{shadows}
	\begin{document}
	
	
	%\begin{figure}
	\centering
	\begin{tikzpicture}
	%\draw[help lines] (0,0) grid (10,10); %used just for visualising the positions of objects during construction
	
	\begin{scope}[yshift=-180,yslant=0.5,xslant=-1]
	    %the rectangular surface onto which the clusters are located
	    \filldraw[black!10,very thick] (0.5,1) rectangle (10,7);
	    %circle circumventing the smallest cluster 
	    \node[circle,circular glow,fill=red!20,draw=red,thick]
	    at (4.1,4.9) {\phantom{perimetro}};
	\end{scope}
	
	%atom clusters are rotated for a better visualisation
	\begin{scope}[rotate around = {-5:(0,0,0)}]
	    %text describing the objects in the picture
	    \draw[-latex,thick] (6,3) node[right,text width=3cm] 
	        {$\mathsf{potent\; perimeter\; sites}$} to [out=180,in=0] (4.5,1);
	    \draw[-latex,thick](3,-1)node[right]
	        {$\mathsf{Non-metallic\; molecule}$} to[out=180,in=0] (2.6,-3);
	    \draw[-latex,thick](-3,-1)node[above]
	        {$\mathsf{extra \; electron}$} to[out=-90,in=180] (-1.4,-2);
	
	    %now we start with the clusters (maybe this code could be improved by a tikz expert)
	    %the layers are built starting from the very lowest one
	
	    %largest cluster
	    %first row
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}%
	        \shadedraw [ball color= red] (\x,1,-0.5) circle (0.25cm);
	    \foreach \x  in {1.25,1.75,2.25,2.75,3.25,3.75,4.25}%
	        \shadedraw [ball color= red] (\x,1,0) circle (0.25cm);
	    \foreach \x  in {1,1.5,2,2.5,3,3.5,4,4.5}%
	        \shadedraw [ball color= red] (\x,1,0.5) circle (0.25cm);
	    \foreach \x  in {0.75,1.25,1.75,2.25,2.75,3.25,3.75,4.25,4.75}%
	        \shadedraw [ball color= red] (\x,1,1) circle (0.25cm);
	    \foreach \x  in {0.5,1,1.5,2,2.5,3,3.5,4,4.5,5}%
	        \shadedraw [ball color= red] (\x,1,1.5) circle (0.25cm);
	    \foreach \x  in {0.5,1,1.5,2,2.5,3,3.5,4,4.5,5}
	        \shadedraw [ball color=red] (\x,1,2) circle (0.25cm);
	    \foreach \x  in {0.75,1.25,1.75,2.25,2.75,3.25,3.75,4.25,4.75}%
	        \shadedraw [ball color= red] (\x,1,2.5) circle (0.25cm);
	    \foreach \x  in {1,1.5,2,2.5,3,3.5,4,4.5}%
	        \shadedraw [ball color= red] (\x,1,3) circle (0.25cm);
	    \foreach \x  in {1.25,1.75,2.25,2.75,3.25,3.75,4.25}%
	        \shadedraw [ball color= red] (\x,1,3.5) circle (0.25cm);
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}%
	        \shadedraw [ball color= red] (\x,1,4) circle (0.25cm);
	    %second row 
	    \foreach \x  in {1.75,2.25,2.75,3.25,3.75}
	        \shadedraw [ball color=yellow] (\x,1.5,0) circle (0.25cm);
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}
	        \shadedraw [ball color=yellow] (\x,1.5,0.5) circle (0.25cm);
	    \foreach \x  in {1.25,1.75,2.25,2.75,3.25,3.75,4.25}
	        \shadedraw [ball color=yellow] (\x,1.5,1) circle (0.25cm);
	    \foreach \x  in {1,1.5,2,2.5,3,3.5,4,4.5}
	        \shadedraw [ball color=yellow] (\x,1.5,1.5) circle (0.25cm);
	    \foreach \x  in {0.75,1.25,1.75,2.25,2.75,3.25,3.75,4.25,4.75}
	        \shadedraw [ball color=yellow] (\x,1.5,2) circle (0.25cm);
	    \foreach \x  in {1,1.5,2,2.5,3,3.5,4,4.5}
	        \shadedraw [ball color=yellow] (\x,1.5,2.5) circle (0.25cm);
	    \foreach \x  in {1.25,1.75,2.25,2.75,3.25,3.75,4.25}
	        \shadedraw [ball color=yellow] (\x,1.5,3) circle (0.25cm);
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}
	        \shadedraw [ball color=yellow] (\x,1.5,3.5) circle (0.25cm);
	    \foreach \x  in {1.75,2.25,2.75,3.25,3.75}
	        \shadedraw [ball color=yellow] (\x,1.5,4) circle (0.25cm);
	    %third row 
	    \foreach \x  in {2,2.5,3,3.5}
	        \shadedraw [ball color=yellow] (\x,2,1) circle (0.25cm);
	    \foreach \x  in {1.75,2.25,2.75,3.25,3.75}
	        \shadedraw [ball color=yellow] (\x,2,1.5) circle (0.25cm);
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}
	        \shadedraw [ball color=yellow] (\x,2,2) circle (0.25cm);
	    \foreach \x  in {1.25,1.75,2.25,2.75,3.5,3.75,4.25}
	        \shadedraw [ball color=yellow] (\x,2,2.5) circle (0.25cm);
	    \foreach \x  in {1.5,2,2.5,3,3.5,4}
	        \shadedraw [ball color=yellow] (\x,2,3) circle (0.25cm);
	    \foreach \x  in {1.75,2.25,2.75,3.25,3.75}
	        \shadedraw [ball color=yellow] (\x,2,3.5) circle (0.25cm);
	    \foreach \x  in {2,2.5,3,3.5}
	        \shadedraw [ball color=yellow] (\x,2,4) circle (0.25cm);
	    %fourth row
	    \foreach \x  in {2.25,2.75,3.25}
	        \shadedraw [ball color=yellow] (\x,2.5,2) circle (0.25cm);
	    \foreach \x  in {2,2.5,3,3.5}
	        \shadedraw [ball color=yellow] (\x,2.5,2.5) circle (0.25cm);
	    \foreach \x  in {1.75,2.25,2.75,3.25,3.75}
	        \shadedraw [ball color=yellow] (\x,2.5,3) circle (0.25cm);
	    \foreach \x  in {2,2.5,3,3.5}
	        \shadedraw [ball color=yellow] (\x,2.5,3.5) circle (0.25cm);
	    \foreach \x  in {2.25,2.75,3.25}
	        \shadedraw [ball color=yellow] (\x,2.5,4) circle (0.25cm);
	
	    %medium cluster
	    %first row
	    \foreach \x  in {6.75,7.25}
	        \shadedraw [ball color=yellow] (\x,2.5,13) circle (0.25cm);
	    \foreach \x  in {6.5,7,7.5}
	        \shadedraw [ball color=yellow] (\x,2.5,13.5) circle (0.25cm);
	    \foreach \x  in {6.25,6.75,7.25,7.75}
	        \shadedraw [ball color=yellow] (\x,2.5,14) circle (0.25cm);
	    \foreach \x  in {6.5,7,7.5}
	        \shadedraw [ball color=yellow] (\x,2.5,14.5) circle (0.25cm);
	    \foreach \x  in {6.75,7.25}
	        \shadedraw [ball color=yellow] (\x,2.5,15) circle (0.25);
	
	    %second row
	    \foreach \x  in {7} %this foreach is used to be general, but it makes no sense if we put just one sphere!
	        \shadedraw [ball color=yellow] (\x,3,13.25) circle (0.25cm);
	    \foreach \x  in {6.75,7.25}
	        \shadedraw [ball color=yellow] (\x,3,13.75) circle (0.25cm);
	    \foreach \x  in {6.5,7,7.5}
	        \shadedraw [ball color=yellow] (\x,3,14.25) circle (0.25cm);
	    \foreach \x  in {6.75,7.25}
	        \shadedraw [ball color=yellow] (\x,3,14.75) circle (0.25cm);
	    \foreach \x  in {7}
	        \shadedraw [ball color=yellow] (\x,3,15.25) circle (0.25);
	
	    %smallest cluster of atoms
	
	    \foreach \x in {2.75,3.25,3.75}
	        \shadedraw [ball color = gray] (\x,2,10) circle (0.25);
	    \foreach \x in {3,3.5}
	        \shadedraw [ball color=gray] (\x,2,10.5) circle (0.25);
	    \shadedraw [ball color = gray] (3.25,2,11) circle (0.25);
	    \foreach \x in {3,3.5}
	        \shadedraw [ball color = gray] (3,2.5,10.25) circle (0.25);
	    \shadedraw [ball color = gray] (3.5,2.5,11) circle (0.25);
	
	    \shadedraw [ball color=gray] (2,1,12.5) circle(0.25);
	    \draw[-latex,thick](-4,-3)node[above]
	        {$\mathsf{single \; metal\; atom}$} to[out=-90,in=180] (-3,-4);
	\end{scope}
	\end{tikzpicture}
	%\end{figure}
	\end{document}
snippet intersections cn4-points-of-intersection
	% C(n,4) points of intersection
	% Author: Hugues Vermeiren
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: C(n,4) points of intersection
	
	It is an elementary though interesting problem of combinatorial geometry.
	Given n points on a circle (a convex closed curve might do), draw the
	segments joining two of these points and build the intersection points of
	these segments. The number of generated points is C(n,4). The code uses a
	classical algorithm to generate these combinations.
	
	\end{comment}
	\usepackage{ifthen}
	\usepackage{amsmath}
	\usetikzlibrary{arrows,calc,intersections}
	
	% 1) Represent n points on a circle
	% 2) Draw the complete graph on these points 
	% 3) Draw all the intersection points of any two of these segments
	\begin{document}
	
	\def\r{4}
	\def\n{8} \def\myangles{{25,50,85,125,160,220,250,280,340}}
	%This vector contains the angles determining the position of the points.
	%-----------------------------------------------------------
	% Variables and counters used to generate the 4-combinations
	\newcounter{np} \pgfmathsetcounter{np}{\n+1}
	\newcounter{na} \newcounter{nb} \newcounter{nc}
	\newcounter{ia} 
	\pgfmathsetcounter{na}{\n-1}    % saves some computations later
	\pgfmathsetcounter{nb}{\n-2}    % ""
	\pgfmathsetcounter{nc}{\n-3}    %   ""
	\newcounter{q} \setcounter{q}{0}    % if flag q=1 then exit the whiledo loop
	\newcounter{e} \setcounter{e}{0}    % e counts the combinations!
	\newcounter{a} \setcounter{a}{0}    % element of the 4-combination
	\newcounter{b} \setcounter{b}{1}    % ""
	\newcounter{c} \setcounter{c}{2}    % ""
	\newcounter{d} \setcounter{d}{2}    % ""
	%Watch out! The initial value {0,1,2,2} is not a 4-combination
	%-----------------------------------------------------------
	\begin{preview}
	Consider $n$ randomly placed points on a circle.
	
	\begin{enumerate}
	    \item The complete graph on the $n$ points has $\begin{pmatrix}n\\2\end{pmatrix}$ edges.
	    \item Each pair of edges yields an intersection point and there are (at most) $\begin{pmatrix}n\\4\end{pmatrix}$ such points.
	\end{enumerate}
	
	\begin{center}
	\begin{tikzpicture}
	    % Draw the complete graph
	    \fill[fill=blue!10!green!10!,draw=blue,dotted,thick] (0,0) circle (\r);
	    \pgfmathparse{\n-1} \let\nn\pgfmathresult 
	    \foreach \i in {0,...,\nn}{
	        \pgfmathparse{\i+1} \let\ii\pgfmathresult
	        \pgfmathparse{\myangles[\i]} \let\t\pgfmathresult
	        \foreach \j in {\ii,...,\n}
	            \pgfmathparse{\myangles[\j]} \let\u\pgfmathresult
	            \draw[blue,very thick] ({\r*cos(\t)},{\r*sin(\t)})--({\r*cos(\u)},{\r*sin(\u)});
	        }
	    \foreach \i in {0,...,\n}{
	        \pgfmathparse{\myangles[\i]}    \let\t\pgfmathresult
	        \pgfmathsetcounter{ia}{\i+1}
	        \fill[draw=blue,fill=blue!20!,thick]
	                ({\r*cos(\t)},{\r*sin(\t)})circle (2.5mm) node{$\mathbf{\theia}$};
	        }
	        % Points and segments are now drawn
	        %
	    \whiledo{\theq=0}{ % this loop generates the 4-combinations
	        \stepcounter{e}
	        \ifthenelse{\thee=1000}{\setcounter{q}{1}}{}% just to be sure to get out of the loop some day...
	        \ifthenelse{\thed=\n}
	            {\ifthenelse{\thec=\thena}
	                {\ifthenelse{\theb=\thenb}
	                    {\ifthenelse{\thea=\thenc}
	                        {\setcounter{q}{1}}
	                        {   \stepcounter{a}
	                            \pgfmathsetcounter{b}{\thea+1}
	                            \pgfmathsetcounter{c}{\thea+2}
	                            \pgfmathsetcounter{d}{\thea+3}                  
	                        }
	                    }
	                    {   \stepcounter{b}
	                        \pgfmathsetcounter{c}{\theb+1}
	                        \pgfmathsetcounter{d}{\theb+2}                      
	                    }
	                }
	                {   \stepcounter{c}
	                    \pgfmathsetcounter{d}{\thec+1}
	                }
	            }
	            {\stepcounter{d}}
	        \ifthenelse{\theq=0}{
	            % Construction of the intersection points of the segments
	            \pgfmathparse{\r*cos(\myangles[\thea])} \let\xa\pgfmathresult
	            \pgfmathparse{\r*sin(\myangles[\thea])} \let\ya\pgfmathresult
	            \pgfmathparse{\r*cos(\myangles[\theb])} \let\xb\pgfmathresult
	            \pgfmathparse{\r*sin(\myangles[\theb])} \let\yb\pgfmathresult
	            \pgfmathparse{\r*cos(\myangles[\thec])} \let\xc\pgfmathresult
	            \pgfmathparse{\r*sin(\myangles[\thec])} \let\yc\pgfmathresult
	            \pgfmathparse{\r*cos(\myangles[\thed])} \let\xd\pgfmathresult
	            \pgfmathparse{\r*sin(\myangles[\thed])} \let\yd\pgfmathresult
	            %               
	            \coordinate  (A) at (\xa,\ya);
	            \coordinate  (B) at (\xb,\yb);
	            \coordinate  (C) at (\xc,\yc);
	            \coordinate  (D) at (\xd,\yd);
	            % Name the coordinates, but do not draw anything!               
	            \path[name path=sega] (A) -- (C);
	            \path[name path=segb] (B) -- (D);
	            \path [name intersections={of=sega and segb}];
	            \coordinate (X) at (intersection-1);
	            \fill[fill=green!50!,draw=blue] (X) circle (0.8mm);             
	            %-----------------------------------------------------
	            }{}
	    }% End of the whiledo loop
	\end{tikzpicture}
	\end{center}
	\addtocounter{e}{-1}
	Number of generated intersection points : \thee
	\end{preview}
	\end{document}
snippet scopes coffee-cup
	% Coffee cup
	% Author: Mark Wibrow
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage,delayed]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Coffee cup
	:Tags: Scopes;Postactions;Fadings;Foreach;Decorative drawings;Fun
	:Author: Mark Wibrow
	:Slug: coffee-cup
	
	It may be easy to download and use a free clipart picture of a coffee cup.
	However, by drawing it using TikZ we can learn something more about
	TikZ' capabilities.
	
	Here we can see the use of scopes, shifting, fadings and opacity,
	and applying postactions.
	
	The code was written by Mark Wibrow and posted on TeX.SE.
	\end{comment}
	\usetikzlibrary{fadings}
	\tikzfading[name=fade out,
	  inner color=transparent!0, outer color=transparent!100]
	\begin{document}
	\begin{tikzpicture}
	  \foreach \c [count=\i from 0] in {white,red!75!black,blue!25,orange}{
	
	    \tikzset{xshift={mod(\i,2)*3cm}, yshift=-floor(\i/2)*3cm}
	    \colorlet{cup}{\c}
	
	    % Saucer
	    \begin{scope}[shift={(0,-1-1/16)}]
	      \fill [black!87.5, path fading=fade out] 
	        (0,-2/8) ellipse [x radius=6/4, y radius=3/4];
	      \fill [cup, postaction={left color=black, right color=white, opacity=1/3}] 
	        (0,0) ++(180:5/4) arc (180:360:5/4 and 5/8+1/16);
	      \fill [cup, postaction={left color=black!50, right color=white, opacity=1/3}] 
	        (0,0) ellipse [x radius=5/4, y radius=5/8];
	      \fill [cup, postaction={left color=white, right color=black, opacity=1/3}]
	        (0,1/16) ellipse [x radius=5/4/2, y radius=5/8/2];
	      \fill [cup, postaction={left color=black, right color=white, opacity=1/3}] 
	        (0,0) ellipse [x radius=5/4/2-1/16, y radius=5/8/2-1/16];
	    \end{scope} 
	
	    % Handle
	    \begin{scope}[shift=(10:7/8), rotate=-30, yslant=1/2, xslant=-1/8]
	      \fill [cup, postaction={top color=black, bottom color=white, opacity=1/3}] 
	        (0,0) arc (130:-100:3/8 and 1/2) -- ++(0,1/4) arc (-100:130:1/8 and 1/4)
	        -- cycle;
	      \fill [cup, postaction={top color=white, bottom color=black, opacity=1/3}] 
	        (0,0) arc (130:-100:3/8 and 1/2) -- ++(0,1/32) arc (-100:130:1/4 and 1/3)
	        -- cycle;
	    \end{scope}
	
	    % Cup
	    \fill [cup!25!black, path fading=fade out] 
	      (0,-1-1/16) ellipse [x radius=3/4, y radius=1/3];
	    \fill [cup, postaction={left color=black, right color=white, opacity=1/3/2},
	      postaction={bottom color=black, top color=white, opacity=1/3/2}] 
	      (-1,0) arc (180:360:1 and 5/4);
	    \fill [cup, postaction={left color=white, right color=black, opacity=1/3}] 
	      (0,0) ellipse [x radius=1, y radius=1/2];
	    \fill [cup, postaction={left color=black, right color=white, opacity=1/3/2},
	      postaction={bottom color=black, top color=white, opacity=1/3/2}] 
	      (0,0) ellipse [x radius=1-1/16, y radius=1/2-1/16];
	
	    % Coffee
	    \begin{scope}
	      \clip ellipse [x radius=1-1/16, y radius=1/2-1/16];
	      \fill [brown!25!black] 
	        (0,-1/4) ellipse [x radius=3/4, y radius=3/8];
	      \fill [brown!50!black, path fading=fade out] 
	        (0,-1/4) ellipse [x radius=3/4, y radius=3/8];
	    \end{scope}
	  }
	\end{tikzpicture}
	\end{document}
snippet trees coin-flipping
	% Flipping a coin
	% Author: cis
	\documentclass[border=10pt,varwidth]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Tree of probabilities - flipping a coin
	:Tags: Trees;Nodes and shapes;Mathematics
	:Author: cis
	:Slug: coin-flipping
	
	In mathematics, specifically in statistics, coin-flipping is an introductory
	example of the complexities of probability and statistics.
	
	This example was written by cis on TikZ.de.
	http://tikz.de/baum/
	\end{comment}
	\usepackage{tikz}
	\usetikzlibrary{calc, shapes, backgrounds}
	\usepackage{amsmath, amssymb}
	\pagecolor{olive!50!yellow!50!white}
	\begin{document}
	\tikzset{
	  head/.style = {fill = orange!90!blue,
	                 label = center:\textsf{\Large H}},
	  tail/.style = {fill = blue!70!yellow, text = black,
	                 label = center:\textsf{\Large T}}
	}
	\begin{tikzpicture}[
	    scale = 1.5, transform shape, thick,
	    every node/.style = {draw, circle, minimum size = 10mm},
	    grow = down,  % alignment of characters
	    level 1/.style = {sibling distance=3cm},
	    level 2/.style = {sibling distance=4cm}, 
	    level 3/.style = {sibling distance=2cm}, 
	    level distance = 1.25cm
	  ]
	  \node[fill = gray!40, shape = rectangle, rounded corners,
	    minimum width = 6cm, font = \sffamily] {Coin flipping} 
	  child { node[shape = circle split, draw, line width = 1pt,
	          minimum size = 10mm, inner sep = 0mm, font = \sffamily\large,
	          rotate=30] (Start)
	          { \rotatebox{-30}{H} \nodepart{lower} \rotatebox{-30}{T}}
	   child {   node [head] (A) {}
	     child { node [head] (B) {}}
	     child { node [tail] (C) {}}
	   }
	   child {   node [tail] (D) {}
	     child { node [head] (E) {}}
	     child { node [tail] (F) {}}
	   }
	  };
	
	  % Filling the root (Start)
	  \begin{scope}[on background layer, rotate=30]
	    \fill[head] (Start.base) ([xshift = 0mm]Start.east) arc (0:180:5mm)
	      -- cycle;
	    \fill[tail] (Start.base) ([xshift = 0pt]Start.west) arc (180:360:5mm)
	      -- cycle;
	  \end{scope}
	
	  % Labels
	  \begin{scope}[nodes = {draw = none}]
	    \path (Start) -- (A) node [near start, left]  {$0.5$};
	    \path (A)     -- (B) node [near start, left]  {$0.5$};
	    \path (A)     -- (C) node [near start, right] {$0.5$};
	    \path (Start) -- (D) node [near start, right] {$0.5$};
	    \path (D)     -- (E) node [near start, left]  {$0.5$};
	    \path (D)     -- (F) node [near start, right] {$0.5$};
	    \begin{scope}[nodes = {below = 11pt}]
	      \node [name = X] at (B) {$0.25$};
	      \node            at (C) {$0.25$};
	      \node [name = Y] at (E) {$0.25$};
	      \node            at (F) {$0.25$};
	    \end{scope}
	    \draw[densely dashed, rounded corners, thin]
	      (X.south west) rectangle (Y.north east);
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet circuits collpits
	% Title: Colpitts oscillator, with npn transistor
	% Author: Ramón Jaramillo
	\documentclass[tikz, border=10pt, 12pt]{standalone}% adequate for simple figures
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Colpitts oscillator, with npn transistor
	:Tags: Circuitikz;Electrical engineering
	:Author: Ramón Jaramillo
	:Slug: collpits
	
	This example makes use of the packages circuitikz and siunitx for drawing
	a Colpitts oscillator with npn transistor. If this oscillator would be made
	with pnp transistor, the power supply would need to be reversed. siunitx
	and related packages need to be installed by your LaTeX distribution.
	
	Wikipedia: http://en.wikipedia.org/wiki/Colpitts_oscillator
	\end{comment}
	\usepackage[siunitx]{circuitikz} % Loading circuitikz with siunitx option
	\begin{document}
	\begin{circuitikz}
		\draw
		% Drawing a npn transistor
		(0,0) node[npn](npn1){} 
		% Making connections from transistor using relative coordinates
		(npn1.E) node[right=7mm, above=5mm]{2N2222} % Labelling the transistor
		(npn1.B) -- ++(-1,0) to [R,l_=10<\kilo\ohm>,*-*] ++(0,-3)  
		(npn1.B) -- ++(-3,0) to [C,l_=100<\nano\farad>] ++(0,-3) node(gnd1){}
		(npn1.E) to [R,l_=10<\kilo\ohm>,*-*] (0,-3)
		(npn1.E) -- ++(2,0) to [C,l=10<\pico\farad>,*-*] (2,-3)
		(npn1.B) -- ++(-1,0) to [R,l_=10<\kilo\ohm>,*-] ++(0,3) node(con1){}
		(npn1.C) to [L,l_=150<\micro\henry>,*-] (0,3) 
		(npn1.C) -- ++(2,0) to [C,l=10<\pico\farad>,*-*] ++(0,-1.5)
		% Drawing shorts and ground connection
		(-1,3)to[short,*-o] (-1,4) node[right]{$V_{DD}=6 VDC$} % Power supply
		% Output sinusoidal waveform at approximately 50 MHz
		(npn1.C) -- ++(4,0) to [short,-o]
		  ++(0,0) node[right]{$V_o (\approx \SI{50}{\MHz})$}
		(0,-3) node[ground]{}% Define this node as ground
		(gnd1) ++(0,0) to[short,-o] ++(7.85,0)
	        (con1)to[short] ++(1.85,0)
		;
	\end{circuitikz}
	\end{document}
snippet diagrams colored-diagram
	% Coloring diagrams - linear relaxation
	% Author: Henri Menke
	\documentclass[tikz, border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Coloring diagrams - linear relaxation
	:Tags: Diagrams;Foreach;Shadings;Scopes;
	:Author: Henri Menke
	:Slug: colored-diagram
	
	TikZ is used for reproducing a diagram by Lê Nguyên Hoang
	seen: on http://www.science4all.org/le-nguyen-hoang/integer-programming/ 
	
	The code was written by Henri Menke and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{shapes}
	\begin{document}
	\begin{tikzpicture}[
	    every path/.style = {},
	    every node/.append style = {font=\sffamily}
	  ]
	  \begin{scope}
	    \shade[right color=green, left color=white, opacity=0.7]
	      (-0.5,-0.5) rectangle (0,6.5);
	    \node[rotate=90, above] at (0,3) {Non-Negative Gold};
	    \shade[top color=yellow, bottom color=white, opacity=0.7]
	      (-0.5,-0.5) rectangle (8.5,0);
	    \node[below] at (4,0) {Non-Negative Bills};
	    \shade[left color=red, bottom color=red, right color=white, opacity=0.5]
	      (-0.5,5.5) -- (8.5,3) -- (8.5,6.5) -- (-0.5,6.5) -- cycle;
	    \path (-0.5,5.5) -- node[pos=0.23, sloped, above] {Volume Constraint}
	      (8.5,3);
	    \shade[left color=blue, right color=white, opacity=0.5]
	      (2.5,6.5) -- (8.5,6.5) -- (8.5,0) -- (5,0) -- cycle;
	    \path (5,0) -- node[pos=0.3, sloped, above] {Weight Constraint} (2.5,6.5);
	    \node[text width=7em, align=center] at (2,2)
	      {Feasible Region of the Linear Relaxation};
	    \draw[->] (-0.5,0) -- (8.5,0) node[below] {Gold bars};
	    \draw[->] (0,-0.5) -- (0,6.5) node[above] {Bill stacks};
	    \node[rotate=-45, above, text width=9em, align=center] at (7.25,5.25)
	      {Level Curves of the Objective Function};
	    \path[clip] (-0.5,-0.5) rectangle (8.5,6.5);
	    \foreach \i in {0.5,3,...,13} {
	      \draw[help lines] (-0.5,\i) -- +(-45:15);
	    }
	  \end{scope}
	  \draw[very thick, ->] (9,3.25) -- node[above, text width=4cm, align=center]
	    {\Large\bfseries Add Integrality Constraints} (13,3.25);
	  \begin{scope}[shift={(14,0)}]
	    \shade[right color=green, left color=white, opacity=0.7]
	      (-0.5,-0.5) rectangle (0,6.5);
	    \shade[top color=yellow, bottom color=white, opacity=0.7]
	      (-0.5,-0.5) rectangle (8.5,0);
	    \shade[left color=red, bottom color=red, right color=white, opacity=0.5]
	      (-0.5,5.5) -- (8.5,3) -- (8.5,6.5) -- (-0.5,6.5) -- cycle;
	   \shade[left color=blue, right color=white, opacity=0.5]
	     (2.5,6.5) -- (8.5,6.5) -- (8.5,0) -- (5,0) -- cycle;
	    \draw[->] (-0.5,0) -- (8.5,0) node[below] {Gold bars};
	    \draw[->] (0,-0.5) -- (0,6.5) node[above] {Bill stacks};
	    \foreach \i in {0,1,...,6.5} {
	      \draw[help lines] (-0.5,\i) -- (8.5,\i);
	    }
	    \foreach \i in {2,4,...,8.5} {
	      \draw[help lines] (\i,6.5) -- (\i,-0.5);
	    }
	    \foreach \i in {0,1,...,5} {
	      \node[draw,cross out,label={left:\i}] at (0,\i) {};
	    }
	    \foreach \i in {0,1,...,4} {
	      \node[draw,cross out] at (2,\i) {};
	    }
	    \foreach \i in {0,1,...,2} {
	            \node[draw,cross out] at (4,\i) {};
	    }
	    \foreach \i in {0,2,...,6} {
	      \node[below] at (\i,0) {\pgfmathparse{int(\i/2)}\pgfmathresult};
	    }
	    \node[very thick, draw=black, fill=white, rectangle, rounded corners,
	      text width=8em, align=center] at (6,5)
	      {Feasible solutions of the integer program are the crosses};
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet matrices colorful-tables
	% Fancy tables with TikZ
	% Author: Stefan Kottwitz
	% http://texblog.net
	\documentclass[svgnames]{beamer}
	\setbeamertemplate{background canvas}[vertical shading]%
	  [top=blue!1,bottom=blue!30]
	\setbeamertemplate{navigation symbols}{}
	\usepackage{tikz}
	% The table is built using TikZ matrix library features:
	\usetikzlibrary{matrix}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\usepackage{subfig}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Fancy colorful tables with TikZ
	:Tags: Matrices; Color manipulation
	:Author: Stefan Kottwitz
	:Slug: colorful-tables
	\end{comment}
	% Defining some symbols:
	\newcommand*\up{\textcolor{YellowGreen}{$\blacktriangle$}}
	\newcommand*\down{\textcolor{Red}{$\blacktriangledown$}}
	\newcommand*\const{\textcolor{darkgray}{\textbf{--}}}
	\newcommand*\head[1]{\textbf{#1}}
	% The table environment:
	\newenvironment{matrixtable}[4]{%
	  \begin{tikzpicture}[matrix of nodes/.style={
	    execute at begin cell=\node\bgroup\strut,
	    execute at end cell=\egroup;}]
	  \matrix (m) [matrix of nodes,top color=blue!20,
	    bottom color=blue!80,draw=white,
	    nodes={draw,top color=blue!10,bottom color=blue!35,
	    draw,inner sep=2pt,minimum height=3.1ex},
	    column sep=1ex,row sep=0.6ex,inner sep=2ex,
	    rounded corners,column 1/.style={minimum width=#1},
	    column 2/.style={minimum width=#2},
	    column 3/.style={minimum width=#3},
	    column 4/.style={minimum width=#4}]}%
	{;\end{tikzpicture}}
	%
	\begin{document}
	\begin{frame}[fragile,bg=lightgray]
	\begin{center}
	\begin{matrixtable}{1.2cm}{2.4cm}{1.2cm}{0.6cm}{
	  \head{Rank}   & \head{Distribution} & \head{Hits} & \\
	  1 & Ubuntu    & 2114 & \down  \\
	  2 & Fedora    & 1451 & \up    \\
	  3 & Mint      & 1297 & \const \\
	  4 & OpenSUSE  & 1228 & \up    \\
	  5 & Debian    & 910  & \down  \\
	  6 & Mandriva  & 907  & \up    \\
	  7 & PCLinuxOS & 764  & \up    \\
	  8 & Puppy     & 738  & \up    \\
	  9 & Sabayon   & 671  & \up    \\
	 10 & Arch      & 625  & \down  \\ }
	\end{matrixtable}
	\end{center}
	\end{frame}
	\end{document}
snippet paths combinatorial-graphs
	% Combinatorial graphs
	% Author: Rafael Villarroel
	% Source: http://graphtheoryinlatex.blogspot.com/
	\documentclass{article}
	\usepackage{tikz}
	\pagestyle{empty}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Combinatorial graphs
	:Tags: Paths, Foreach, Graphs
	
	Two fascinating graphs from the very interesting `Graph Theory in LaTeX`_ gallery.
	The graphs are excellent examples of how flexible and powerful TikZ' path
	constructs are. See the source code for more details.
	
	*Update*: Fixed an error in the code for drawing Tutte's 8-cage graph.
	
	:Author: Rafael Villarroel
	:Source: The `Graph Theory in LaTeX`_ gallery
	
	.. _Graph Theory in LaTeX: http://graphtheoryinlatex.blogspot.com/
	
	\end{comment}
	
	\begin{document}
	
	
	% Define style for nodes
	\tikzstyle{every node}=[circle, draw, fill=black!50,
	                        inner sep=0pt, minimum width=4pt]
	%  Tutte's 8-cage
	\begin{tikzpicture}[thick,scale=0.8]
	    % The following path utilizes several useful tricks and features:
	    % 1) The foreach statement is put inside a path, so all the edges
	    %    will in fact be a the same path.
	    % 2) The node construct is used to draw the nodes. Nodes are special
	    %    in the way that they are drawn *after* the path is drawn. This
	    %    is very useful in this case because the nodes will be drawn on
	    %    top of the path and therefore hide all edge joins.
	    % 3) Simple arithmetics can be used when specifying coordinates.
	    \draw \foreach \x in {0,36,...,324}
	    {
	        (\x:2) node {}  -- (\x+108:2)
	        (\x-10:3) node {} -- (\x+5:4)
	        (\x-10:3) -- (\x+36:2)
	        (\x-10:3) --(\x+170:3)
	        (\x+5:4) node {} -- (\x+41:4)
	    };
	\end{tikzpicture}\quad
	%
	%
	% The largest 3-regular graph of diameter 3
	\begin{tikzpicture}[thick,scale=0.8]%
	    \draw \foreach \x in {18,90,...,306} {
	        (\x:4) node{} -- (\x+72:4)
	        (\x:4) -- (\x:3) node{}
	        (\x:3) -- (\x+15:2) node{}
	        (\x:3) -- (\x-15:2) node{}
	        (\x+15:2) -- (\x+144-15:2)
	        (\x-15:2) -- (\x+144+15:2)
	};
	\end{tikzpicture}
	
	
	\end{document}
snippet matrices commutative-diagram
	% Commutative diagram with edges passing under/over
	% Jan 7, 2009, Stefan Kottwitz
	% http://texblog.net
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{matrix}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\usepackage{subfig}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title:  Commutative diagram with crossing edges
	:Tags: Matrices; Diagrams
	:Author: Stefan Kottwitz
	:Slug: commutative-diagram
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	  \matrix (m) [matrix of math nodes, row sep=3em,
	    column sep=3em]{
	    & f^\ast E_V& & \vphantom{f^\ast}E_V \\
	    f^\ast E & & \vphantom{f^\ast}E & \\
	    & U & & V \\
	    M & & N & \\};
	  \path[-stealth]
	    (m-1-2) edge (m-1-4) edge (m-2-1)
	            edge [densely dotted] (m-3-2)
	    (m-1-4) edge (m-3-4) edge (m-2-3)
	    (m-2-1) edge [-,line width=6pt,draw=white] (m-2-3)
	            edge (m-2-3) edge (m-4-1)
	    (m-3-2) edge [densely dotted] (m-3-4)
	            edge [densely dotted] (m-4-1)
	    (m-4-1) edge (m-4-3)
	    (m-3-4) edge (m-4-3)
	    (m-2-3) edge [-,line width=6pt,draw=white] (m-4-3)
	            edge (m-4-3);
	\end{tikzpicture}
	\end{document}
snippet matrices commutative-diagram-tikz
	% A simple commutative diagram
	% Stefan Kottwitz
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Commutative diagram
	:Tags: Matrices;Arrows;Diagrams;Mathematics
	:Author: Stefan Kottwitz
	:Slug: commutative-diagram-tikz
	
	A simple example of a commutative diagram using TikZ, short and readable.
	It has been posted as answer to the question
	http://tex.stackexchange.com/q/45741/213 of Elias.
	
	* A matrix is used for positioning the main nodes
	* Arrows are drawn as edges, between the main nodes,
	  using further nodes for labeling
	* As columns and row distance is expressed by em units, which scale
	  with the font size, the diagram can be scaled by using font size commands
	  such as \Large, \huge etc.
	
	Note the (m-2-1.east|-m-2-2) syntax for getting a horizontal arrow
	between cells of a different height.
	\end{comment}
	\usetikzlibrary{matrix}
	\begin{document}
	\begin{tikzpicture}
	  \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
	  {
	     F_t(x) & F(x) \\
	     A_t & A \\};
	  \path[-stealth]
	    (m-1-1) edge node [left] {$\mathcal{B}_X$} (m-2-1)
	            edge [double] node [below] {$\mathcal{B}_t$} (m-1-2)
	    (m-2-1.east|-m-2-2) edge node [below] {$\mathcal{B}_T$}
	            node [above] {$\exists$} (m-2-2)
	    (m-1-2) edge node [right] {$\mathcal{B}_T$} (m-2-2)
	            edge [dashed,-] (m-2-1);
	\end{tikzpicture}
	\end{document}
snippet foreach complete-graph
	% A complete graph
	% Author: Quintin Jean-Noël
	% <http://moais.imag.fr/membres/jean-noel.quintin/>
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A complete graph
	:Tags: Foreach;Graphs;To paths
	:Author: Jean-Noël Quintin
	:Slug: complete-graph
	\end{comment}
	\usetikzlibrary[topaths]
	% A counter, since TikZ is not clever enough (yet) to handle
	% arbitrary angle systems.
	\newcount\mycount
	\begin{document}
	\begin{tikzpicture}[transform shape]
	  %the multiplication with floats is not possible. Thus I split the loop in two.
	  \foreach \number in {1,...,8}{
	      % Computer angle:
	        \mycount=\number
	        \advance\mycount by -1
	  \multiply\mycount by 45
	        \advance\mycount by 0
	      \node[draw,circle,inner sep=0.25cm] (N-\number) at (\the\mycount:5.4cm) {};
	    }
	  \foreach \number in {9,...,16}{
	      % Computer angle:
	        \mycount=\number
	        \advance\mycount by -1
	  \multiply\mycount by 45
	        \advance\mycount by 22.5
	      \node[draw,circle,inner sep=0.25cm] (N-\number) at (\the\mycount:5.4cm) {};
	    }
	  \foreach \number in {1,...,15}{
	        \mycount=\number
	        \advance\mycount by 1
	  \foreach \numbera in {\the\mycount,...,16}{
	    \path (N-\number) edge[->,bend right=3] (N-\numbera)  edge[<-,bend
	      left=3] (N-\numbera);
	  }
	}
	\end{tikzpicture}
	\end{document}
snippet compute complexity-classes
	% Author: Sebastian Sardina
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Computational Complexity Classes
	:Tags: Computer science
	:Author: Sebastian Sardina
	:Slug: complexity-classes
	Based on the book "Computational Complexity" by C. H. Papadimitrio
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	\pgftransformscale{.8}
	
	%%% HELP LINES - uncomment to design/extend
	% \draw[step=1cm,gray,very thin] (-10,0) grid (10,12);
	% \node at (0,0) {\textbf{(0,0)}};
	
	%% Horizontal bar
	\draw[very thick] (10,0) -- (-10,0);
	
	% LOG TIME
	\draw (-1,0) parabola bend (0,2) (1,0) ;
	\node at (0,1) {
		\begin{tabular}{c}
		LOG \\ Time
		\end{tabular}
	};
	
	% LOG SPACE
	\draw (-2,0) parabola bend (0,3.5) (2,0);
	\node at (0,2.5) {
		\begin{tabular}{c}
		LOG \\ Space
		\end{tabular}
	};
	
	% PTIME
	\draw (-3,0) parabola bend (0,4.5) (3,0);
	\node at (0,4) {PTIME};
	
	% NP
	\draw[dotted] (-4,0) parabola bend (2,6) (4.5,0);
	\node[rotate=-45] at (3,3.5) {NPTIME};
	
	% NP-complete
	\node[circle,dotted,draw] at (2,5) {NPC};
	
	% Co-NP
	\draw[dashed] (4,0) parabola bend (-2,6) (-4.5,0);
	\node[rotate=45] at (-2.5,4) {co-NPTIME};
	
	% PSPACE
	\draw (-6,0) parabola bend (0,7.2) (6,0);
	\node at (0,6.5) {PSPACE};
	
	% EXPTIME
	\draw (-7,0) parabola bend (0,8.5) (7,0);
	\node at (0,8) {EXPTIME};
	
	% EXPTIME
	\draw (-8,0) parabola bend (0,9.5) (8,0);
	\node at (0,9) {EXPSPACE};
	
	% ELEMENTARY
	\draw (-9,0) parabola bend (0,11.5) (9,0);
	\node at (0,10.5) {$\vdots$};
	\node[anchor=north] at (0,11.4) {
		\begin{tabular}{c}
			ELEMENTARY \\
			$\vdots$ \\
			2EXPTIME
		\end{tabular}
	};
	
	% RECURSIVE
	\draw[very thick] (-9.5,0) parabola bend (0,12.5) (9.5,0);
	\node at (0,12) {R};
	\end{tikzpicture}
	\end{document}
snippet mathematics complex-plane
	% Drawing a circle in the complex plane
	% Author: Martin Scharrer
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Circle in the complex plane
	:Tags: Mathematics
	:Author: Martin Scharrer
	:Slug: complex-plane
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	    \begin{scope}[thick,font=\scriptsize]
	    % Axes:
	    % Are simply drawn using line with the `->` option to make them arrows:
	    % The main labels of the axes can be places using `node`s:
	    \draw [->] (-5,0) -- (5,0) node [above left]  {$\Re\{z\}$};
	    \draw [->] (0,-5) -- (0,5) node [below right] {$\Im\{z\}$};
	
	    % Axes labels:
	    % Are drawn using small lines and labeled with `node`s. The placement can be set using options
	    \iffalse% Single
	    % If you only want a single label per axis side:
	    \draw (1,-3pt) -- (1,3pt)   node [above] {$1$};
	    \draw (-1,-3pt) -- (-1,3pt) node [above] {$-1$};
	    \draw (-3pt,1) -- (3pt,1)   node [right] {$i$};
	    \draw (-3pt,-1) -- (3pt,-1) node [right] {$-i$};
	    \else% Multiple
	    % If you want labels at every unit step:
	    \foreach \n in {-4,...,-1,1,2,...,4}{%
	        \draw (\n,-3pt) -- (\n,3pt)   node [above] {$\n$};
	        \draw (-3pt,\n) -- (3pt,\n)   node [right] {$\n i$};
	    }
	    \fi
	    \end{scope}
	    % The circle is drawn with `(x,y) circle (radius)`
	    % You can draw the outer border and fill the inner area differently.
	    % Here I use gray, semitransparent filling to not cover the axes below the circle
	    \path [draw=none,fill=gray,semitransparent] (+1,-1) circle (3);
	    % Place the equation into the circle:
	    \node [below right,darkgray] at (+1,-1) {$|z-1+i| \leq 3$};
	\end{tikzpicture}
	\end{document}
snippet foreach computer-diagram
	% Computer diagram
	% Author: Elke Schubert
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Computer diagram
	:Tags: Foreach;Diagrams;Pic;Styles;Fit;Computer science
	:Author: Elke Schubert
	:Slug: computer-diagram
	
	TikZ 3.0 introduced the pic element, which works like a combination of node and
	tikzpicture features. Here we create a pic for a computer, which can be used
	several times with modified appearance.
	
	This example was written by Elke Schubert on TeXwelt.de.
	http://texwelt.de/wissen/fragen/3536/wie-erstelle-ich-neue-shapes-in-tikz
	\end{comment}
	\usetikzlibrary{fit}
	\tikzset{
	  comp/.style = {
	    minimum width  = 8cm,
	    minimum height = 4.5cm,
	    text width     = 8cm,
	    inner sep      = 0pt,
	    text           = green,
	    align          = center,
	    font           = \Huge,
	    transform shape,
	    thick
	  },
	  monitor/.style = {draw = none, xscale = 18/16, yscale = 11/9},
	  display/.style = {shading = axis, left color = black!60, right color = black},
	  ut/.style      = {fill = gray}
	}
	\tikzset{
	  computer/.pic = {
	    % screen (with border)
	    \node(-m) [comp, pic actions, monitor]
	      {\phantom{\parbox{\linewidth}{\tikzpictext}}};
	    % display (without border)
	    \node[comp, pic actions, display] {\tikzpictext};
	    \begin{scope}[x = (-m.east), y = (-m.north)]
	      % filling the lower part
	      \path[pic actions, draw = none]
	        ([yshift=2\pgflinewidth]-0.1,-1) -- (-0.1,-1.3) -- (-1,-1.3) --
	        (-1,-2.4) -- (1,-2.4) -- (1,-1.3) -- (0.1,-1.3) --
	        ([yshift=2\pgflinewidth]0.1,-1);
	      % filling the border of the lower part
	      \path[ut]
	        (-1,-2.4) rectangle (1,-1.3)
	        (-0.9,-1.4) -- (-0.7,-2.3) -- (0.7,-2.3) -- (0.9,-1.4) -- cycle;
	      % drawing the frame of the whole computer
	      \path[pic actions, fill = none]
	        (-1,1) -- (-1,-1) -- (-0.1,-1) -- (-0.1,-1.3) -- (-1,-1.3) --
	        (-1,-2.4) coordinate(sw)coordinate[pos=0.5] (-b west) --
	        (1,-2.4) -- (1,-1.3) coordinate[pos=0.5] (-b east) --
	        (0.1,-1.3) -- (0.1,-1) -- (1,-1) -- (1,1) -- cycle;
	      % node around the whole computer
	      \node(-c) [fit = (sw)(-m.north east), inner sep = 0pt] {};
	    \end{scope}
	  }
	}
	% We have two rectangle nodes with the common anchors available
	% screen (with border): <picname>-m, whole computer: <picname>-c
	% The anchor of the whole pic is <picname>-m.center and cannot be changed
	\begin{document}
	\begin{tikzpicture}
	  \pic(comp0) [
	    draw,
	    fill = gray!30,
	    pic text = {Very long text, to get a line break}
	  ]
	  {computer};
	  \path(comp0-c.center) pic 
	    foreach[count=\i] \farbe in {yellow, orange, red, red!50!blue, blue, green}
	    (comp\i) [
	      draw = \farbe,
	      fill = \farbe!30,
	      display/.append style = {left color=\farbe!80!black!80},
	      scale = 0.25,
	      pic text = {Text \i}
	    ] at +(60*\i:8){computer};
	  \foreach \i in {1,2,4,5} \draw (comp\i-c) -- (comp0-c);
	  \foreach \i in {3,6} \draw (comp\i-m) -- (comp0-c);
	\end{tikzpicture}
	\end{document}
snippet manual computer-science-mindmap
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{mindmap,trees}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Computer science mindmap
	:Tags: Manual, Mindmap
	
	Version 1.09 of PGF/TikZ added a library for drawing mindmaps. Here's an example
	from the manual. 
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}
	  \path[mindmap,concept color=black,text=white]
	    node[concept] {Computer Science}
	    [clockwise from=0]
	    child[concept color=green!50!black] {
	      node[concept] {practical}
	      [clockwise from=90]
	      child { node[concept] {algorithms} }
	      child { node[concept] {data structures} }
	      child { node[concept] {pro\-gramming languages} }
	      child { node[concept] {software engineer\-ing} }
	    }  
	    child[concept color=blue] {
	      node[concept] {applied}
	      [clockwise from=-30]
	      child { node[concept] {databases} }
	      child { node[concept] {WWW} }
	    }
	    child[concept color=red] { node[concept] {technical} }
	    child[concept color=orange] { node[concept] {theoretical} };
	\end{tikzpicture}\end{document}
snippet 3d cone
	% A cone in 3D
	% Author: Marco Daniel
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A Cone in 3D
	:Tags: 2D,geometry,mathematics
	:Author: Marco Daniel
	:Slug: cone
	
	\end{comment}
	\usepackage{tikz-3dplot}
	\begin{document}
	
	\tdplotsetmaincoords{70}{0}
	\begin{tikzpicture}[tdplot_main_coords]
	\def\RI{2}
	\def\RII{1.25}
	
	\draw[thick] (\RI,0)
	  \foreach \x in {0,300,240,180} { --  (\x:\RI) node at (\x:\RI) (R1-\x) {} };
	\draw[dashed,thick] (R1-0.center)
	  \foreach \x in {60,120,180} { --  (\x:\RI) node at (\x:\RI) (R1-\x) {} };
	\path[fill=gray!30] (\RI,0)
	  \foreach \x in {0,60,120,180,240,300} { --  (\x:\RI)};
	
	\begin{scope}[yshift=2cm]
	\draw[thick,fill=gray!30,opacity=0.2] (\RII,0)
	  \foreach \x in {0,60,120,180,240,300,360} { --  (\x:\RII) node at (\x:\RII) (R2-\x) {}};
	\end{scope}
	
	\foreach \x in {0,180,240,300} { \draw (R1-\x.center)--(R2-\x.center); };
	\foreach \x in {60,120} { \draw[dashed] (R1-\x.center)--(R2-\x.center); };
	\end{tikzpicture}
	
	\end{document}
snippet remember connecting-text-and-graphics
	% This example requires PGF >= 1.09 and only works wit PDFTeX
	% You have to compile document twice to get correct placement of nodes.
	\documentclass{beamer} %
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\usetikzlibrary{arrows,shapes,backgrounds}
	
	\begin{document}
	
	\begin{comment}
	:Title: Connecting text and graphics
	:Tags: Remember picture, Beamer, Overlays
	
	With PGF 1.09 and later, it is possible to draw paths between nodes across
	different pictures. In this example I have used this feature to connect text with
	coordinate nodes placed on a picture. The picture is loaded from an external file
	A background grid is used to make it easier to place the coordinates manually.
	
	**Note.** This only works with PDF(La)TeX, and you have to run PDFTeX twice.
	
	Source: Inspired by a post_ to the latex-beamer-users list. The Daniell's pile 
	illustration_ is made by Augustin E. Bolzan.
	
	.. _post: http://sourceforge.net/mailarchive/message.php?msg_name=200704100122.41993.cedric.Laczny%40gmx.de
	.. _illustration: http://www.fauskes.net/pgftikzexamples/daniells-pile/
	
	\end{comment}
	
	
	% For every picture that defines or uses external nodes, you'll have to
	% apply the 'remember picture' style. To avoid some typing, we'll apply
	% the style to all pictures.
	\tikzstyle{every picture}+=[remember picture]
	\tikzstyle{na} = [baseline=-.5ex]
	
	\begin{frame}
	
	\frametitle{Daniell's pile, saline bridge version}
	
	\begin{columns}
	    \begin{column}{0.4\paperwidth}
	        % define source coordinates
	        \begin{itemize}
	            \item Anode \tikz[na] \coordinate (s-anode);
	            \item Cathode \tikz[na] \coordinate (s-cathode);
	            \item Saline bridge \tikz[na] \coordinate (s-bridge);
	        \end{itemize}
	        
	    \end{column}
	    \begin{column}{0.45\paperwidth}
	        % Use a background grid to make it easier to find coordinates
	        % When the coordinates have been found, remove the 
	        % 'show background grid' option. 
	        \tikzstyle{background grid}=[draw, black!50,step=.5cm]
	        \begin{tikzpicture}[show background grid]
	            % Put the graphic inside a node. This makes it easy to place the
	            % graphic and to draw on top of it. 
	            % The above right option is used to place the lower left corner
	            % of the image at the (0,0) coordinate. 
	            \node [inner sep=0pt,above right] 
	                {\includegraphics[width=4cm]{img/daniells-pile}};
	            % show origin
	            \fill (0,0) circle (2pt);
	            % define destination coordinates
	            \path (0.7,2) coordinate (cathode)
	                  (2,1.8) coordinate (bridge)
	                  (2.75,2.5) coordinate (anode);
	        \end{tikzpicture}
	    \end{column}
	\end{columns}
	
	% define overlays
	% Note the use of the overlay option. This is required when 
	% you want to access nodes in different pictures.
	\begin{tikzpicture}[overlay]
	        \path[->,red,thick] (s-anode) edge [bend left] (anode);
	        \path[->,blue,thick] (s-cathode) edge [bend left] (cathode);
	        \path[->,red,thick] (s-bridge) edge [out=0, in=-90] (bridge);
	\end{tikzpicture}
	
	\end{frame}
	
	\end{document}
snippet matrices consort-flowchart
	% A CONSORT-style flowchart of a randomized controlled trial
	% using the PGF/TikZ package
	% Author  : Morten Vejs Willert (July 2010)
	% License : Creative Commons attribution license
	\documentclass{article}
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: A CONSORT-style flowchart of a randomized controlled trial
	:Tags: Matrices, Charts
	:Author: Morten Vejs Willert
	:Slug: consort-flowchart
	
	A flowchart is an efficient graphical tool for depicting the 
	progress of subjects through the phases of a clinical trial. 
	This example shows how to use the PGF/TikZ package within a 
	LaTeX article class document to make a flowchart of participants
	progress through the phases of a randomized controlled trial. 
	The flowchart is meant to conform to the specifications of the 
	CONSORT 2010 Statement guidelines adhered to by the majority 
	of scientific biomedical journals. The author takes no 
	responsibility whether this goal has been achieved successfully,
	should anyone care to use the example as a template when 
	submitting a manuscript of their own to a biomedical journal. 
	
	The basic code regarding placement of the nodes within a matrix, 
	as well as for drawing paths between nodes, was adapted from the 
	example by Kjell Magne Fauske in 'The TikZ and PGF Packages Manual 
	for version 2.00' by Till Tantau.
	
	In the example the tikzpicture-environment is used within a center
	environment and \captionof from the caption package, because floating
	is not required and conflicts with the preview package. In a common
	document, a standard figure environment is recommended, which allows
	the addition of a caption to  accompany the flowchart, as well as
	options for placement of the float when typesetting the document.
	\end{comment}
	\usetikzlibrary{shapes,arrows}
	\usepackage{caption}
	\newcommand*{\h}{\hspace{5pt}}% for indentation
	\newcommand*{\hh}{\h\h}% double indentation
	\begin{document}
	\begin{center}
	  \captionof{figure}{Flowchart of participants' progress through
	    the phases of the trial}
	  % setting the typeface to sans serif and the font size to small
	  % the scope local to the environment
	  \sffamily
	  \footnotesize
	  \begin{tikzpicture}[auto,
	    %decision/.style={diamond, draw=black, thick, fill=white,
	    %text width=8em, text badly centered,
	    %inner sep=1pt, font=\sffamily\small},
	    block_center/.style ={rectangle, draw=black, thick, fill=white,
	      text width=8em, text centered,
	      minimum height=4em},
	    block_left/.style ={rectangle, draw=black, thick, fill=white,
	      text width=16em, text ragged, minimum height=4em, inner sep=6pt},
	    block_noborder/.style ={rectangle, draw=none, thick, fill=none,
	      text width=18em, text centered, minimum height=1em},
	    block_assign/.style ={rectangle, draw=black, thick, fill=white,
	      text width=18em, text ragged, minimum height=3em, inner sep=6pt},
	    block_lost/.style ={rectangle, draw=black, thick, fill=white,
	      text width=16em, text ragged, minimum height=3em, inner sep=6pt},
	      line/.style ={draw, thick, -latex', shorten >=0pt}]
	    % outlining the flowchart using the PGF/TikZ matrix funtion
	    \matrix [column sep=5mm,row sep=3mm] {
	      % enrollment - row 1
	      \node [block_center] (referred) {Referred (n=173)};
	      & \node [block_left] (excluded1) {Excluded (n=17): \\
	        a) Did not wish to participate (n=9) \\
	        b) Did not show for interview (n=5) \\
	        c) Other reasons (n=3)}; \\
	      % enrollment - row 2
	      \node [block_center] (assessment) {Assessed for eligibility (n=156)}; 
	      & \node [block_left] (excluded2) {Excluded (n=54): \\
	        a) Inclusion criteria not met (n=22) \\
	        b) Exclusion criteria(s) met (n=13) \\
	        c) Not suited for group (n=7) \\
	        d) Not suited for CBT (n=2) \\
	        e) Sought other treatment (n=3) \\
	        f) Other reasons (n=7)}; \\
	      % enrollment - row 3
	      \node [block_center] (random) {Randomised (n=102)}; 
	      & \\
	      % follow-up - row 4
	      \node [block_noborder] (i) {Intervention group}; 
	      & \node [block_noborder] (wlc) {Wait-list control group}; \\
	      % follow-up - row 5
	      \node [block_assign] (i_T0) {Allocated to intervention (n=51): \\
	      \h Received intervention (n=49) \\
	      \h Did not receive intervention (n=2, \\
	      \hh 1 with primary anxiety disorder, \\
	      \hh 1 could not find time to participate)}; 
		  & \node [block_assign] (wlc_T0) {Allocated to wait-list (n=51): \\
	      \h Stayed on wait-list (n=48) \\
	      \h Did not stay on wait-list (n=3, \\
	      \hh 2 changed jobs and lost motivation, \\
	      \hh 1 was offered treatment elsewhere)}; \\
	      % follow-up - row 6
	      \node [block_lost] (i_T3) {Post-intervention measurement: \\
	      \h Lost to follow-up (n=5, \\
	      \hh 2 dropped out of the intervention, \\
	      \hh 3 did not complete measurement)}; 
		  & \node [block_lost] (wlc_T3) {Post-wait-list measurement: \\
	      \h Lost to follow-up (n=6, \\
	      \hh 3 dropped out of the wait-list, \\
	      \hh 3 did not complete measurement)}; \\
	      % follow-up - row 7
	      % empty first column for intervention group 
	      & \node [block_assign] (wlc_T36) {Allocated to intervention (n=48): \\
	      \h Received intervention (n=46) \\
	      \h Did not receive intervention (n=2, \\
	      \hh 1 reported low motivation, \\
	      \hh 1 could not find time to participate)}; \\
	      % follow-up - row 8
	      \node [block_lost] (i_T6) {3-months follow-up measurement: \\
	      \h Lost to follow-up (n=9, \\
	      \hh did not complete measurement)}; 
	      & \node [block_lost] (wlc_T6) {Post-intervention measurement: \\
	      \h Lost to follow-up (n=5, \\
	      \hh 2 dropped out of the intervention, \\
	      \hh 3 did not complete measurement)}; \\
	      % follow-up - row 9
	      % empty first column for intervention group 
	      & \node [block_lost] (wlc_T9) {3-months follow-up measurement \\
	      \h Lost to follow-up (n=2, \\
	      \hh did not complete measurement)}; \\
	      % analysis - row 10
	      \node [block_assign] (i_ana) {Analysed (n=51)}; 
	      & \node [block_assign] (wlc_ana) {Analysed (n=51)}; \\
	    };% end matrix
	    % connecting nodes with paths
	    \begin{scope}[every path/.style=line]
	      % paths for enrollemnt rows
	      \path (referred)   -- (excluded1);
	      \path (referred)   -- (assessment);
	      \path (assessment) -- (excluded2);
	      \path (assessment) -- (random);
	      \path (random)     -- (i);
	      \path (random)     -| (wlc);
	      % paths for i-group follow-up rows
	      \path (i)          -- (i_T0);
	      \path (i_T0)       -- (i_T3);
	      \path (i_T3)       -- (i_T6);
	      \path (i_T6)       -- (i_ana);
	      % paths for wlc-group follow-up rows
	      \path (wlc)        -- (wlc_T0);
	      \path (wlc_T0)     -- (wlc_T3);
	      \path (wlc_T3)     -- (wlc_T36);
	      \path (wlc_T36)    -- (wlc_T6);
	      \path (wlc_T6)     -- (wlc_T9);
	      \path (wlc_T9)     -- (wlc_ana);
	    \end{scope}
	  \end{tikzpicture}
	\end{center}
	\end{document}
snippet mathematica contours-grids
	% Using signed distance functions to embed contours in discrete grids
	% Author: Josh Chang
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Using signed distance functions to embed contours in discrete grids
	:Tags: Mathematical engine;3D;Grids;Plots;Diagrams;Mathematics
	:Author: Josh Chang
	:Slug: contours-grids
	
	The figure demonstrates the embedding of an interface $\partial\Omega$
	into a discrete grid using the signed Euclidean distance function.
	The distances are computed using 4 iterations of
	a Newton-Raphson algorithm. The image is similar to the one
	in my paper: 
	@article{chang2010tracking,
	  title={Tracking monotonically advancing boundaries in image sequences
	         using graph cuts and recursive kernel shape priors},
	  author={Chang, J. and Chou, T. and Brennan, K.},
	  journal={Medical Imaging, IEEE Transactions on},
	  number={99},
	  pages={1--1},
	  year={2010},
	  publisher={IEEE}
	}
	The example is based on http://www.texample.net/tikz/examples/swan-wave-model/
	by Marco Miani.
	\end{comment}
	\usetikzlibrary{positioning}
	\usetikzlibrary{calc}
	\usetikzlibrary{arrows,shapes,backgrounds}
	\begin{document}
	\begin{tikzpicture}[scale=2,every node/.style={minimum size=1cm},on grid]
			
	    % slanting: production of a set of n 'laminae' to be piled up.
	    % N=number of grids.
	    \begin{scope}[
	            yshift=-100,every node/.append style={
	            yslant=0.5,xslant=-1.3},yslant=0.5,xslant=-1.3
	            ]
	        % opacity to prevent graphical interference
	        \fill[white,fill opacity=0.9] (0,0) rectangle (4,4);
	        \draw[step=4mm, thin, gray] (0,0) grid (4,4); %defining grids
	        \draw[black,very thick] (0,0) rectangle (4,4);%marking borders      
	        \draw [ultra thick](0,1) parabola bend (2,2) (4,1)  ; % parabola curve
	
	\coordinate (sphi) at (0.6,3.4);
	\node at (sphi) [fill=black,circle,scale=0.1] {$s$};
	
	\pgfkeys{/pgf/number format/.cd, fixed, zerofill, precision =1} 
	
	\foreach \x in {0,...,9} {
	    \foreach \y in {0,...,9} {
	%calculate the signed distance
	%
	% use newton raphson for 4 iterations to compute the distance
	% 
	        \pgfmathparse{0.2+0.4*\x}
	        \pgfmathresult \let\xpoint\pgfmathresult;
	        \pgfmathparse{0.2+0.4*\y}
	        \pgfmathresult \global\let\ypoint\pgfmathresult;
	
	        \pgfmathparse{\xpoint}
	        \pgfmathresult \global\let\xx\pgfmathresult;
		% Run 4 iterations of Newton-Raphson to compute distance
	          \foreach \iter in {1,...,4} {
	              \pgfmathparse{0.25*(\xx*\xx*\xx-6*\xx*\xx+4*(\xx-2)*\ypoint
	               +12*\xx-8*\xpoint+8)}
	              \pgfmathresult \let\functionderv\pgfmathresult;
	              \pgfmathparse{3*(\xx-2)*(\xx-2)/4+\ypoint}
	              \pgfmathresult \let\functiondervv\pgfmathresult;
	              \pgfmathparse{\xpoint-\functionderv/(\functiondervv)}
	             \pgfmathresult \let\xx\pgfmathresult;
	          }
	          
	          \pgfmathparse{-\xx*\xx/4+\xx+1}
	          \pgfmathresult \global\let\yy\pgfmathresult;
	          \pgfmathsetmacro{\dd}{sqrt((\xpoint-\xx)* (\xpoint-\xx)
	            + (\ypoint-\yy)*(\ypoint-\yy ))/.4};
	          \pgfmathparse{int(\yy*100)}
	          \pgfmathresult \let\yyy\pgfmathresult;
	          \pgfmathparse{int(\ypoint*100)}
	          \pgfmathresult \let\yypoint\pgfmathresult;
	          \ifnum \yyy > \yypoint { %% Signed distance
	              \pgfmathparse{-\dd} \pgfmathresult \global\let\dd\pgfmathresult;
	              }
	          \fi	
	         \node[scale=0.7,thick] at (\xpoint,\ypoint)
	            {$\mathbf{\pgfmathprintnumber{\dd}}$};
	     }
	  }
	
	    \end{scope}
	
	    \begin{scope}[
	        yshift=-160,every node/.append style={
	        yslant=0.5,xslant=-1.3},yslant=0.5,xslant=-1.3
	                  ]
	        %marking border
	        \draw[black,very thick] (0,0) rectangle (4,4);
	
	
	        %draw bottom parabola
	        \draw [ultra thick](0,1) parabola bend (2,2) (4,1)  ;
	        \draw[-latex,thick](2.8,1)node[right,scale=1.5]{$\partial\Omega$}
	                 to[out=180,in=270] (2,1.99);
	
	\node at (2,0.5) [scale=1.5] {$\Omega$};
	\node at (1.2,2.7) [scale=1.5] {$S\setminus\Omega$};
	\coordinate (s) at (0.5,3.5);
	\node at (s) [fill=black,circle,scale=0.1] {$s$};
	
	    \end{scope} %end of drawing grids
	
	% signed distance
	\draw[-latex,thick](4.8,-.2)node[above,scale=1.3]{$\phi_\Omega$}
	        to[out=-90,in=0] (4.1,-1.5);
	
	% s
	\draw[-latex,thick](-4,-.2)node[left,scale=1.3]{$\phi_\Omega(s)$}
	        to[out=0,in=90] (sphi);
	
	%s
	  \draw[-latex,thick](-4,-3)node[left,scale=1.3]{$s$}
	        to[out=0,in=90] (s);  	
	\end{tikzpicture}
	\end{document}
snippet block control-system-principles
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Control system principles
	:Tags: Block diagrams 
	
	An example of a control system with a feedback loop. Block diagrams like this
	are quite time consuming to create by hand. The relative node placement feature
	makes it a bit easier, but it works best when the nodes have equal widths. 
	However, the results are quite pleasing and hopefully worth the effort. 
	You can probably speed up the process by creating custom macros. 
	\end{comment}
	
	\begin{document}
	
	
	\tikzstyle{block} = [draw, fill=blue!20, rectangle, 
	    minimum height=3em, minimum width=6em]
	\tikzstyle{sum} = [draw, fill=blue!20, circle, node distance=1cm]
	\tikzstyle{input} = [coordinate]
	\tikzstyle{output} = [coordinate]
	\tikzstyle{pinstyle} = [pin edge={to-,thin,black}]
	
	% The block diagram code is probably more verbose than necessary
	\begin{tikzpicture}[auto, node distance=2cm,>=latex']
	    % We start by placing the blocks
	    \node [input, name=input] {};
	    \node [sum, right of=input] (sum) {};
	    \node [block, right of=sum] (controller) {Controller};
	    \node [block, right of=controller, pin={[pinstyle]above:Disturbances},
	            node distance=3cm] (system) {System};
	    % We draw an edge between the controller and system block to 
	    % calculate the coordinate u. We need it to place the measurement block. 
	    \draw [->] (controller) -- node[name=u] {$u$} (system);
	    \node [output, right of=system] (output) {};
	    \node [block, below of=u] (measurements) {Measurements};
	
	    % Once the nodes are placed, connecting them is easy. 
	    \draw [draw,->] (input) -- node {$r$} (sum);
	    \draw [->] (sum) -- node {$e$} (controller);
	    \draw [->] (system) -- node [name=y] {$y$}(output);
	    \draw [->] (y) |- (measurements);
	    \draw [->] (measurements) -| node[pos=0.99] {$-$} 
	        node [near end] {$y_m$} (sum);
	\end{tikzpicture}
	
	\end{document}
snippet mathematics convolution-of-two-functions
	% Animated illustration of the convolution of two functions.
	% Author: Berteun Damman
	%
	% A convolution is an operation on two functions that produces a third
	% function, the result can be thought of as a blending, or weighted
	% average of both functions. The result has various interpretations; this
	% particular example can be seen as the convolution of two block waves,
	% or for example, the convolution of two independent uniform probability
	% density functions; the convolution represents the pdf of their sum.
	
	\documentclass{article}
	\usepackage{tikz,animate}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{animateinline}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Animated illustration of the convolution of two functions.
	:Slug: convolution-of-two-functions
	:Author: Berteun Damman
	:Tags: Mathematics; Animations; Layers
	
	A convolution is an operation on two functions that produces a third
	function, the result can be thought of as a blending, or weighted
	average of both functions. The result has various interpretations; this
	particular example can be seen as the convolution of two block waves,
	or for example, the convolution of two independent uniform probability
	density functions; the convolution represents the pdf of the sum.
	
	Frame by frame the value of the convolution is computed; note that *f\*g* is
	a function of *t* for every *t* we draw *f(τ)*, *g(t - τ)*, and the product
	*f(τ)g(t - τ)*, this drawn in yellow. The area of this product, which
	can be thought of as ‘overlap’, is the outcome of the integral. The
	value of *t* is indicated by the dashed green line. Note however that in the
	top graph *g* is drawn as a function of *τ* for a certain value of *t*.
	
	For more information, see:
	
	- `Mathworld <http://mathworld.wolfram.com/Convolution.html>`_
	- `Wikipedia: Convolution <http://en.wikipedia.org/wiki/Convolution>`_
	\end{comment}
	
	\tikzset{overlap/.style={fill=yellow!30},
	    block wave/.style={thick},
	    function f/.style={block wave, red!50},
	    function g/.style={block wave, green!50},
	    convolution/.style={block wave, blue!50},
	    function g position/.style={function g, dashed, semithick},
	    major tick/.style={semithick},
	    axis label/.style={anchor=west},
	    x tick label/.style={anchor=north, minimum width=7mm},
	    y tick label/.style={anchor=east},
	}
	\pgfkeys{/pgf/number format/.cd,fixed,precision=1}
	
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	\begin{document}
	    \newcommand{\mainaxis}{
	        % Main axis
	        \draw (-2, 0) -- (2, 0) (0, 0) -- (0, 1.15);
	
	        % Small tickmarks on the x axis
	        \foreach \x in {-2,-1.9,...,2} {
	            \draw (\x, 0) -- (\x, -0.8pt);
	        }
	
	        % Labels on the $x$ axis; the llap makes the label center on the
	        % number without the minus.
	        \foreach \x/\label in {-2/\llap{$-$}2,-1/\llap{$-$}1,0/0,1/1,2/2} {
	            \node[x tick label] at (\x, 0) {$\label$};
	            \draw[major tick] (\x, 0) -- (\x, -1.25pt);
	        }
	
	        % Y tick mark.
	        \draw[major tick] (-1.25pt,.5) -- (0,.5);
	
	        % Y labels.
	        \node[y tick label] at (0,.5) {$\frac{1}{2}$};
	        \node[y tick label] at (0,1) {$1$};
	    }
	
	    \def\yshift{-2cm} % Shift of the lower axis
	    \newcommand{\drawaxes}{
	        \mainaxis
	        \node[axis label] at (2,0) {$\scriptstyle \tau$};
	
	        % Second axis, where the convultion will be drawn.
	        \begin{scope}[yshift=\yshift]
	            \foreach \y in {0.1,0.2,...,1.0}
	                \draw[black!20] (-2,\y) -- (2,\y);
	            \mainaxis
	            \node[axis label] at (2,0) {$\scriptstyle t$};
	        \end{scope}
	
	        \begin{pgfonlayer}{foreground}
	            \node at (0,1.25) {$f$};
	            \node[anchor=base] at (0,-.55)
	                {$f*g =\!\!\displaystyle\int\limits_{-\infty}^{\infty}
	                    \!\!f(\tau)g(t-\tau)\,d\tau$};
	        \end{pgfonlayer}
	
	        \draw[major tick] (-1.25pt,.5) -- (0,.5) (-1.25pt,1) -- (0,1);
	
	        % f(\tau) is basically fixed.
	        \draw[function f] (-0.5, 0) -- +(0,1) -- +(1,1) -- +(1,0);
	        \clip (-2,-2) rectangle (2, 1.75);
	    }
	
	    \newcommand{\drawg}[1]{
	        \draw[function g] (#1,0) ++(-0.5, 0) -- +(0,1) -- +(1,1) -- +(1,0);
	        \draw[function g position] (#1,1.4) -- (#1,\yshift);
	        \node[fill=white] at (#1, 1.25) {$g$};
	
	        % We now slightly abuse \ifdim to determine whether
	        % there's an overlap.
	        \ifdim#1pt>-1pt\ifdim#1pt<1.01pt
	            % Draw legend.
	            \fill[overlap] (-2,1.51) rectangle +(0.15,0.15);
	            % The right side of f overlaps with the left side of g:
	            % 'entering'
	            \ifdim#1pt<0pt
	                \node[anchor=west] at (-1.85, 1.575)
	                    {$f(\tau)g(\pgfmathprintnumber{#1} - \tau$)};
	                \begin{pgfonlayer}{background}
	                    \fill[overlap] (-.5,0) rectangle (#1+.5,1);
	                \end{pgfonlayer}
	                \draw[convolution] (-1,\yshift) -- (#1, \yshift+1cm+#1 cm);
	            \else
	                % The left side of f overlaps with the right side of g:
	                % 'leaving'
	                \node[anchor=west] at (-1.85, 1.575)
	                    {$f(\tau)g(\pgfmathprintnumber{#1} - \tau$)};
	                \begin{pgfonlayer}{background}
	                    \fill[overlap] (#1-.5,0) rectangle (.5,1);
	                \end{pgfonlayer}
	                \draw[convolution] (-1,\yshift) -- +(1, 1) --
	                    (#1,\yshift+1cm-#1 cm);
	            \fi
	        \else
	            % 'g' is completely past 'f', draw the result.
	            \draw[convolution] (-1,\yshift) -- +(1,1) -- +(2,0);
	        \fi\fi
	    }
	
	    \begin{animateinline}[controls,
	        autoplay,buttonsize=1.2em,
	        buttonbg=0.6:0.6:1,buttonfg=0.2:0.2:1,
	        begin={\begin{tikzpicture}[scale=2]\drawaxes},
	        end={\end{tikzpicture}}]{8}
	
	        % Generate frames for -2 ... 2
	        \xdef\pos{-2}
	        \whiledo{\lengthtest{\pos pt < 2.1 pt}}{
	            \drawg{\pos}\newframe
	            \pgfmathsetmacro{\pos}{\pos + 0.1}
	            \xdef\pos{\pos}
	        }
	
	        \drawg{\pos}
	    \end{animateinline}
	\end{document}
snippet credit credit-rationing
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Credit rationing
	
	An illustration inspired by a figure in Stiglitz, J.E. and Greenwald, B. (2003). `Towards a New Paradigm in Monetary Economics`__.
	
	.. __: http://books.google.com/books?id=dZrI_dHoKgUC&dq=Towards+a+new+paradigm+for+monetary+economics&source=bn&ei=fDKXSbmrJMaC-gbQ_Pj8CA&sa=X&oi=book_result&resnum=4&ct=book-ref-page-link&cad=one-book-with-thumbnail
	
	\end{comment}
	\usetikzlibrary{arrows,calc}
	\tikzset{
	%Define standard arrow tip
	>=stealth',
	%Define style for different line styles
	help lines/.style={dashed, thick},
	axis/.style={<->},
	important line/.style={thick},
	connection/.style={thick, dotted},
	}
	\begin{document}
	  \begin{tikzpicture}[scale=1]
	    % Axis
	    \coordinate (y) at (0,5);
	    \coordinate (x) at (5,0);
	    \draw[<->] (y) node[above] {$r$} -- (0,0) --  (x) node[right]
	    {$\mathit{EV}$};
	    % A grid can be useful when defining coordinates
	    % \draw[step=1mm, gray, thin] (0,0) grid (5,5); 
	    % \draw[step=5mm, black] (0,0) grid (5,5); 
	
	    % Let us define some coordinates
	    \path
	    coordinate (start) at (0,4)
	    coordinate (c1) at +(5,3)
	    coordinate (c2) at +(5,1.75)
	    coordinate (slut) at (2.7,.5)
	    coordinate (top) at (4.2,2);
	
	    \draw[important line] (start) .. controls (c1) and (c2) .. (slut);
	    % Help coordinates for drawing the curve
	    % \filldraw [black] 
	    % (start) circle (2pt)
	    % (c1) circle (2pt)
	    % (c2) circle (2pt)
	    % (slut) circle (2pt)
	    \filldraw [black] 
	     (top) circle (2pt) node[above right, black] {$Q$};
	
	     % We start the second graph
	     \begin{scope}[xshift=6cm]
	       % Axis
	      \coordinate (y2) at (0,5);
	      \coordinate (x2) at (5,0);
	      \draw[axis] (y2) node[above] {$r$} -- (0,0) --  (x2) node[right] {$L$};
	      % Define some coodinates
	     \path
	     let
	     \p1=(top)
	     in
	     coordinate (sstart) at (1,.5) 
	     coordinate (sslut) at (4, 4.5)
	     coordinate (dstart) at (4,.5)
	     coordinate (dslut) at (1,4.5)
	% Intersection 1
	     coordinate (int) at  (intersection cs:
	       first line={(sstart)--(sslut)},
	       second line={(dstart)--(dslut)})
	% Intersection 2
	    coordinate (int2) at  (intersection cs:
	       first line={(top)--($(10,\y1)$)},
	       second line={(dstart)--(dslut)})
	% Intersection 3
	    coordinate (int3) at  (intersection cs:
	       first line={(top)--($(10,\y1)$)},
	       second line={(sstart)--(sslut)});
	% Draw the lines
	     \draw[important line] (sstart) -- (sslut) node[above right] {$S$}
	       (dstart) -- (dslut)  node[above left] {$D$};
	     \draw[connection] let \p1=(int2), \p2=(int3) in 
	     (int2)--(\x1,0) node[below] {$\mathit{L_D}$}
	     (int3)--(\x2,0) node[below] {$\mathit{L_S}$};
	      \end{scope}
	%Finally, connect the two graphs
	     \draw[connection] let \p1=(top), \p2=(x2) in (0,\y1) node[left]
	     {$r^*$} -- (\x2, \y1);
	    \end{tikzpicture}
	  \end{document}
snippet 3d cuboid
	% Under Creative Commons Attribution licence 3.0
	% (http://creativecommons.org/licences/by/3.0)
	% Author: Florian Lesaint
	\documentclass[landscape]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Cuboid in a 2 vanishing points perspective
	:Tags: 3D;Geometry;Mathematics
	:Author: Florian Lesaint
	:Slug: cuboid
	
	This code draws a cuboid using a 2 vanishing points perspective.
	Within the code, parameters can be revised to tune the drawing.
	\end{comment}
	\usetikzlibrary{calc}
	\begin{document}
	\begin{tikzpicture}
		%%% Edit the following coordinate to change the shape of your
		%%% cuboid
	      
		%% Vanishing points for perspective handling
		\coordinate (P1) at (-7cm,1.5cm); % left vanishing point (To pick)
		\coordinate (P2) at (8cm,1.5cm); % right vanishing point (To pick)
	
		%% (A1) and (A2) defines the 2 central points of the cuboid
		\coordinate (A1) at (0em,0cm); % central top point (To pick)
		\coordinate (A2) at (0em,-2cm); % central bottom point (To pick)
	
		%% (A3) to (A8) are computed given a unique parameter (or 2) .8
		% You can vary .8 from 0 to 1 to change perspective on left side
		\coordinate (A3) at ($(P1)!.8!(A2)$); % To pick for perspective 
		\coordinate (A4) at ($(P1)!.8!(A1)$);
	
		% You can vary .8 from 0 to 1 to change perspective on right side
		\coordinate (A7) at ($(P2)!.7!(A2)$);
		\coordinate (A8) at ($(P2)!.7!(A1)$);
	
		%% Automatically compute the last 2 points with intersections
		\coordinate (A5) at
		  (intersection cs: first line={(A8) -- (P1)},
				    second line={(A4) -- (P2)});
		\coordinate (A6) at
		  (intersection cs: first line={(A7) -- (P1)}, 
				    second line={(A3) -- (P2)});
	
		%%% Depending of what you want to display, you can comment/edit
		%%% the following lines
	
		%% Possibly draw back faces
	
		\fill[gray!90] (A2) -- (A3) -- (A6) -- (A7) -- cycle; % face 6
		\node at (barycentric cs:A2=1,A3=1,A6=1,A7=1) {\tiny f6};
		
		\fill[gray!50] (A3) -- (A4) -- (A5) -- (A6) -- cycle; % face 3
		\node at (barycentric cs:A3=1,A4=1,A5=1,A6=1) {\tiny f3};
		
		\fill[gray!30] (A5) -- (A6) -- (A7) -- (A8) -- cycle; % face 4
		\node at (barycentric cs:A5=1,A6=1,A7=1,A8=1) {\tiny f4};
		
		\draw[thick,dashed] (A5) -- (A6);
		\draw[thick,dashed] (A3) -- (A6);
		\draw[thick,dashed] (A7) -- (A6);
	
		%% Possibly draw front faces
	
		% \fill[orange] (A1) -- (A8) -- (A7) -- (A2) -- cycle; % face 1
		% \node at (barycentric cs:A1=1,A8=1,A7=1,A2=1) {\tiny f1};
		\fill[gray!50,opacity=0.2] (A1) -- (A2) -- (A3) -- (A4) -- cycle; % f2
		\node at (barycentric cs:A1=1,A2=1,A3=1,A4=1) {\tiny f2};
		\fill[gray!90,opacity=0.2] (A1) -- (A4) -- (A5) -- (A8) -- cycle; % f5
		\node at (barycentric cs:A1=1,A4=1,A5=1,A8=1) {\tiny f5};
	
		%% Possibly draw front lines
		\draw[thick] (A1) -- (A2);
		\draw[thick] (A3) -- (A4);
		\draw[thick] (A7) -- (A8);
		\draw[thick] (A1) -- (A4);
		\draw[thick] (A1) -- (A8);
		\draw[thick] (A2) -- (A3);
		\draw[thick] (A2) -- (A7);
		\draw[thick] (A4) -- (A5);
		\draw[thick] (A8) -- (A5);
		
		% Possibly draw points
		% (it can help you understand the cuboid structure)
		\foreach \i in {1,2,...,8}
		{
		  \draw[fill=black] (A\i) circle (0.15em)
		    node[above right] {\tiny \i};
		}
		% \draw[fill=black] (P1) circle (0.1em) node[below] {\tiny p1};
		% \draw[fill=black] (P2) circle (0.1em) node[below] {\tiny p2};
	\end{tikzpicture}
	\end{document} 
snippet foreach cycle
	% A simple cycle
	% Author : Jerome Tremblay
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A simple cycle
	:Tags: Foreach;Graphs
	:Author: Jerome Tremblay
	:Slug: cycle
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	
	\def \n {5}
	\def \radius {3cm}
	\def \margin {8} % margin in angles, depends on the radius
	
	\foreach \s in {1,...,\n}
	{
	  \node[draw, circle] at ({360/\n * (\s - 1)}:\radius) {$\s$};
	  \draw[->, >=latex] ({360/\n * (\s - 1)+\margin}:\radius) 
	    arc ({360/\n * (\s - 1)+\margin}:{360/\n * (\s)-\margin}:\radius);
	}
	\end{tikzpicture}
	\end{document}
snippet 3d cylinder-segment
	% Segment of a Cylinder
	% Author: Mathias Magdowski
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Segment of a Cylinder
	:Tags: 3D;Angles;Annotations;Basics;Mathematics;Geometry
	:Author: Mathias Magdowski
	:Slug: cylinder-segment
	The graphic shows a cutout of a segment of a cylinder. The segment has a thickness s. The width of the segment changes from b_1 to b_2 along the x-direction.
	\end{comment}
	\usetikzlibrary{calc}
	
	\begin{document}
	\begin{tikzpicture}
		% general shift to north east
		\coordinate (O) at (0.5,0.5);
		\draw[semithick] (0,0) -- (4,1);% bottom line in front
		\draw[dashed,color=gray] (O) -- ($(4,1)+(O)$);% bottom line in the back
		\draw[semithick] (0,3) -- (4,2);% top line in front
		\draw[semithick] ($(0,3)+(O)$) -- ($(4,2)+(O)$);% top line in the back
		\draw[semithick] (0,3) -- ($(0,3)+(O)$);% line to the back, top left
		\draw[semithick] (4,2) -- ($(4,2)+(O)$);% line to the back, top right
		\draw[semithick] (4,1) -- ($(4,1)+(O)$);% line to the back, bottom right
		\draw[dashed,color=gray] (0,0) -- (O);% line to the back, bottom left
		% the first angle is 180°+atan(0.25)
		% the second angle is 180°-atan(0.25)
		% the radius is sqrt(6^2+1.5^2)
		\draw[semithick] (0,0) arc (194.036:165.964:6.185);% left arc in front
		\draw[dashed,color=gray] (O) arc (194.036:165.964:6.185);% left arc in the back
		% the first angle is 180°+atan(0.25)
		% the second angle is 180°-atan(0.25)
		% the radius is 1/3*sqrt(6^2+1.5^2)
		\draw[semithick] (4,1) arc (194.036:165.964:2.062);% right arc in front
		\draw[semithick] ($(4,1)+(O)$) arc (194.036:165.964:2.062);% right arc in the back
		\draw (-0.5,1.7) node {$b_1$};
		\draw (3.6,1.7) node {$b_2$};
		\draw (0,3.5) node {$s$};
		\draw[|-,semithick] (0,-0.5) -- (4,-0.5);
		\draw[|->,semithick] (4,-0.5) -- (4.5,-0.5);
		\draw (0,-1) node {$x=0$};
		\draw (4,-1) node {$x=l$};
	\end{tikzpicture}
	\end{document}
snippet 3d dandelin-spheres
	% Plane Sections of the Cylinder - Dandelin Spheres
	% Author: Hugues Vermeiren
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Plane Sections of the Cylinder - Dandelin Spheres
	:Tags: 3D;mathematical engine;geometry;mathematics
	:Author: Hugues Vermeiren
	:Slug: dandelin-spheres
	\end{comment}
	\tikzset{
		MyPersp/.style={scale=1.8,x={(-0.8cm,-0.4cm)},y={(0.8cm,-0.4cm)},
	    z={(0cm,1cm)}},
	%  MyPersp/.style={scale=1.5,x={(0cm,0cm)},y={(1cm,0cm)},
	%    z={(0cm,1cm)}}, % uncomment the two lines to get a lateral view
		MyPoints/.style={fill=white,draw=black,thick}
			}
	\begin{document}
	
	\begin{tikzpicture}[MyPersp,font=\large]
		% the base circle is the unit circle in plane Oxy
		\def\h{2.5}% Heigth of the ellipse center (on the axis of the cylinder)
		\def\a{35}% angle of the section plane with the horizontal
		\def\aa{35}% angle that defines position of generatrix PA--PB
		\pgfmathparse{\h/tan(\a)}
	  \let\b\pgfmathresult
		\pgfmathparse{sqrt(1/cos(\a)/cos(\a)-1)}
	  \let\c\pgfmathresult %Center Focus distance of the section ellipse.
		\pgfmathparse{\c/sin(\a)}
	  \let\p\pgfmathresult % Position of Dandelin spheres centers
	                       % on the Oz axis (\h +/- \p)
		\coordinate (A) at (2,\b,0);
		\coordinate (B) at (-2,\b,0);
		\coordinate (C) at (-2,-1.5,{(1.5+\b)*tan(\a)});
		\coordinate (D) at (2,-1.5,{(1.5+\b)*tan(\a)});
		\coordinate (E) at (2,-1.5,0);
		\coordinate (F) at (-2,-1.5,0);
		\coordinate (CLS) at (0,0,{\h-\p});
		\coordinate (CUS) at (0,0,{\h+\p});
		\coordinate (FA) at (0,{\c*cos(\a)},{-\c*sin(\a)+\h});% Focii
		\coordinate (FB) at (0,{-\c*cos(\a)},{\c*sin(\a)+\h});
		\coordinate (SA) at (0,1,{-tan(\a)+\h}); % Vertices of the
	                                           % great axes of the ellipse
		\coordinate (SB) at (0,-1,{tan(\a)+\h});
		\coordinate (PA) at ({sin(\aa},{cos(\aa)},{\h+\p});
		\coordinate (PB) at ({sin(\aa},{cos(\aa)},{\h-\p});
		\coordinate (P) at ({sin(\aa)},{cos(\aa)},{-tan(\a)*cos(\aa)+\h});
	     % Point on the ellipse on generatrix PA--PB
	
		\draw (A)--(B)--(C)--(D)--cycle;
		\draw (D)--(E)--(F)--(C);
		\draw (A)--(E) (B)--(F);
		\draw[blue,very thick] (SA)--(SB);
	
	%	\coordinate (O) at (0,0,0);
	%	\draw[->] (O)--(2.5,0,0)node[below left]{x};
	%	\draw[->] (O)--(0,3,0)node[right]{y};
	%	\draw[->] (O)--(0,0,6)node[left]{z};
	
		\foreach \t in {20,40,...,360}% generatrices
			\draw[magenta,dashed] ({cos(\t)},{sin(\t)},0)
	      --({cos(\t)},{sin(\t)},{2.0*\h});
		\draw[magenta,very thick] (1,0,0) % lower circle
			\foreach \t in {5,10,...,360}
				{--({cos(\t)},{sin(\t)},0)}--cycle;
		\draw[magenta,very thick] (1,0,{2*\h}) % upper circle
			\foreach \t in {10,20,...,360}
				{--({cos(\t)},{sin(\t)},{2*\h})}--cycle;
		\fill[blue!15,draw=blue,very thick,opacity=0.5]
	     (0,1,{\h-tan(\a)}) % elliptical section
			\foreach \t in {5,10,...,360}
				{--({sin(\t)},{cos(\t)},{-tan(\a)*cos(\t)+\h})}--cycle;
	
		\foreach \i in {-1,1}{%Spheres!
			\foreach \t in {0,15,...,165}% meridians
				{\draw[gray] ({cos(\t)},{sin(\t)},\h+\i*\p)
					\foreach \rho in {5,10,...,360}
						{--({cos(\t)*cos(\rho)},{sin(\t)*cos(\rho)},
	          {sin(\rho)+\h+\i*\p})}--cycle;
				}
			\foreach \t in {-75,-60,...,75}% parallels
				{\draw[gray] ({cos(\t)},0,{sin(\t)+\h+\i*\p})
					\foreach \rho in {5,10,...,360}
						{--({cos(\t)*cos(\rho)},{cos(\t)*sin(\rho)},
	          {sin(\t)+\h+\i*\p})}--cycle;
				}
						\draw[orange,very thick] (1,0,{\h+\i*\p})% Equators
			\foreach \t in {5,10,...,360}
				{--({cos(\t)},{sin(\t)},{\h+\i*\p})}--cycle;
			}
		\draw[red,very thick] (PA)--(PB);
		\draw[red,very thick] (FA)--(P)--(FB);
	%	\fill[MyPoints] (CLS) circle (1pt);% center of lower sphere
	%	\fill[MyPoints] (CUS) circle (1pt);% center of upper sphere
		\fill[MyPoints] (FA) circle (1pt)node[right]{$F_1$};
		\fill[MyPoints] (FB) circle (1pt)node[left]{$F_2$};
		\fill[MyPoints] (SA) circle (1pt);
		\fill[MyPoints] (SB) circle (1pt);
		\fill[MyPoints] (P) circle (1pt)node[below left]{$P$};
		\fill[MyPoints] (PA) circle (1pt)node[below right]{$P_1$};
		\fill[MyPoints] (PB) circle (1pt)node[above right]{$P_2$};
	\end{tikzpicture}
	
	\end{document}
snippet physics daniells-pile
	% Daniell's Pile
	% Author: Agustin E. Bolzan
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Daniell's pile
	:Tags: Physics & chemistry, Transparency
	
	This is an illustration of the famous Daniell's pile. Note how transparency has been 
	used to create an illusion of depth. To get the correct drawing order, the front and
	the back of the vessels had to be drawn separately.
	
	| Author: Agustin E. Bolzan 
	
	\end{comment}
	
	\begin{document}
	
	\definecolor{copper}{cmyk}{0,0.9,0.9,0.2}
	\colorlet{lightgray}{black!25}
	\colorlet{darkgray}{black!75}
	
	\centering
	\Large {Daniell's Pile}
	\vspace{2cm}
	
	
	\begin{tikzpicture}
	    % Draw back of vessel 1
	    \draw (0,0) to [controls=+(90:0.5) and +(90:0.5)] (2,0);
	    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) to
	        [controls=+(90:0.5) and +(90:0.5)] (2,-0.5);
	
	    % Draw back of vessel 2
	    \draw (3.5,0) to [controls=+(90:0.5) and +(90:0.5)] (5.5,0);
	    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) to [controls=+(90:0.5)
	        and +(90:0.5)] (5.5,-0.5);
	
	    % Draw copper electrode
	    \draw[fill=copper] (0.5,2) rectangle (1.5,-1);
	    \draw (0,2.3) node {Cu};
	    \draw (1,-1.75) node {\small{CuSO$_{4}$}};
	
	    % Draw salt bridge
	
	    \draw[join=round, line width = 10pt] (1.75,-1.75) -- (1.75,0.5) --
	        (3.75, 0.5) -- (3.75,-1.75);
	    \draw[join=round, line width = 5pt, color = gray!25] (1.75,-1.75) --
	        (1.75,0.5) -- (3.75, 0.5) -- (3.75,-1.75);
	    \draw (2.75,0.5) node {\tiny{KNO$_{3}$}};
	
	    %Draw front of vessel 1
	
	    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0);
	    \draw (0,0) .. controls +(-90:0.5) and +(-90:0.5) .. (2,0)
	        -- (2,-0.5) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-0.5) -- (0,0);
	
	    %Second part
	
	    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
	    and +(-90:0.5) .. (2,-0.5);
	    \draw[fill=blue!60, fill opacity=0.5] (0,-0.5) .. controls +(-90:0.5)
	    and +(-90:0.5) .. (2,-0.5)
	        -- (2,-2) .. controls +(-90:0.5) and +(-90:0.5) .. (0,-2) -- (0,-0.5);
	
	    % draw voltmeter
	
	    \draw[join = round, thick] (1,2) -- (1,2.5) -- (4.5,2.5) -- (4.5,2);
	    \draw (2.75,2.5) node [circle, draw, fill=red!30] {V};
	
	    %Draw back of vessel 2
	
	    %Draw electrode
	
	    \draw[fill=darkgray] (4,2) rectangle (5,-1);
	    \draw (5.5,2.3) node {Zn};
	    \draw (4.5,-1.75) node {\small{ZnSO$_{4}$}};
	
	    % Draw front of vessel 2
	    % part 1
	    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0);
	    \draw (3.5,0) .. controls +(-90:0.5) and +(-90:0.5) .. (5.5,0)
	        -- (5.5,-0.5) .. controls +(-90:0.5) and +(-90:0.5)
	        .. (3.5,-0.5) -- (3.5,0);
	    % part 2
	    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
	    and +(-90:0.5) .. (5.5,-0.5);
	    \draw[fill=lightgray, fill opacity=0.5] (3.5,-0.5) .. controls +(-90:0.5)
	        and +(-90:0.5) .. (5.5,-0.5) --
	        (5.5,-2) .. controls +(-90:0.5) and +(-90:0.5)
	        .. (3.5,-2) -- (3.5,-0.5);
	
	\end{tikzpicture}
	
	
	\end{document}
snippet foreach dartboard
	% Dartboard.
	% Author: Roberto Bonvallet <rbonvall@gmail.com>
	% Under Creative Commons attribution license.
	\documentclass[dvipsnames]{minimal}
	\usepackage{tikz}
	\usepackage[pdftex,active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\usepackage{mathpazo}
	
	\tikzstyle{wired}=[draw=gray!30, line width=0.15mm]
	\tikzstyle{number}=[anchor=center, color=white]
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Dartboard
	:Tags: Foreach; Node positioning
	:Author: Roberto Bonvallet
	:Slug: dartboard
	\end{comment}
	
	% Sectors are numbered 0-19 counterclockwise from the top.
	
	% \strip{color}{sector}{outer_radius}{inner_radius}
	\newcommand{\strip}[4]{
	    \filldraw[#1, wired]
	      ({18 *  #2}      :                   #3) arc
	      ({18 *  #2}      : {18 * (#2 + 1)} : #3) --
	      ({18 * (#2 + 1)} :                   #4) arc
	      ({18 * (#2 + 1)} : {18 *  #2}      : #4) -- cycle;
	}
	
	% \sector{color}{sector}{radius}
	\newcommand{\sector}[3]{
	    \filldraw[#1, wired]
	      (0, 0) --
	      ({18 * #2} :                   #3) arc
	      ({18 * #2} : {18 * (#2 + 1)} : #3) -- cycle;
	}
	
	\begin{document}
	
	% 81 degrees = 4.5 sectors.
	% The rotation leaves 20 at the top.
	\begin{tikzpicture}[rotate=81, scale=.14]
	
	  % These are the official dartboard dimensions as per BDO's regulations.
	
	  % The whole board's background.
	  \fill[black] (0, 0) circle (225.5mm);
	
	  % Even sections.
	  \foreach\i in {0,2,...,18} {
	    \sector{black}{\i}{162mm}
	    \strip{Red}{\i}{170mm}{162mm} % Double strip.
	    \strip{Red}{\i}{107mm}{ 99mm} % Treble strip.
	  }
	
	  % Odd sections.
	  \foreach\i in {1,3,...,19} {
	    \sector{white}{\i}{162mm}
	    \strip{Green}{\i}{170mm}{162mm} % Double strip.
	    \strip{Green}{\i}{107mm}{ 99mm} % Treble strip.
	  }
	
	  % Bull's ring and eye.
	  \filldraw[Green, wired] (0, 0) circle (15.9mm);
	  \filldraw[Red,   wired] (0, 0) circle (6.35mm);
	
	  % Labels.
	  \foreach \sector/\label in {%
	      0/20,  1/ 1,  2/18,  3/ 4,  4/13,
	      5/ 6,  6/10,  7/15,  8/ 2,  9/17,
	     10/ 3, 11/19, 12/ 7, 13/16, 14/ 8,
	     15/11, 16/14, 17/ 9, 18/12, 19/ 5}%
	  {
	    \node[number] at ({18 * (-\sector + .5)} : 197.75mm) {\label};
	  }
	\end{tikzpicture}
	\end{document}
snippet random database-decimation-process
	% Database decimation process
	% Author: Jim Paris
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Database decimation process
	:Tags: Random;Mathematical engine;Foreach;Computer science
	:Author: Jim Paris
	:Slug: database-decimation-process
	
	This diagram shows a decimation process in a database. The first level
	shows random samples, and subsequent levels calculate the min, mean,
	and max of groups of four entries from each previous level.
	
	All of the math, including the random number generation, is done
	directly in TikZ. Since the actual numbers didn't matter, we could
	choose a random seed that made the result look best.
	
	This code was written by Jim Paris and published on TeX.SE.
	\end{comment}
	\usepackage{xcolor}
	\usepackage{etoolbox}
	
	\usetikzlibrary{decorations}
	\usetikzlibrary{decorations.pathreplacing}
	\usetikzlibrary{calc}
	\usetikzlibrary{arrows}
	
	\newtoggle{quickdecim}
	%\toggletrue{quickdecim} % Uncomment this to render more quickly (non-random)
	
	\begin{document}
	\begin{tikzpicture}
	  \def\levels{4} % 2, 3, or 4
	  \pgfmathtruncatemacro{\blocks}{4^(\levels-1)}
	  \def\maxrand{99}
	  \def\xoffset{1.1}
	  \def\yoffset{2.6}
	  \pgfmathsetseed{31337}
	  \pgfmathsetmacro{\totalwidth}{10}
	  \pgfmathsetmacro{\levelheight}{2.4}
	  \pgfmathsetmacro{\sampleheight}{0.55}
	
	  \definecolor{lowcolor} {rgb}{0.6,0.6,1}
	  \definecolor{highcolor}{rgb}{0.6,1,0.6}
	
	  \tikzstyle{Sample} = [
	    draw, anchor=west,
	    inner sep=0,
	    outer sep=0,
	    minimum height=\sampleheight * 1cm,
	    font=\small,
	    text=black,
	  ]
	
	  % make random numbers
	  \pgfmathtruncatemacro{\runningrandarray}{random(\maxrand)}
	  \foreach \x[count=\xi from 1] in {2,...,\blocks} {
	    \let\temprand\runningrandarray
	    \pgfmathtruncatemacro{\tempres}{random(\maxrand)}
	    \xdef\runningrandarray{\temprand,\tempres}
	  }
	  \xdef\randarray{{\runningrandarray}}
	
	  % boxes
	  \foreach \level in {1,...,\levels} {
	    \coordinate (level\level sample0) at
	    (\xoffset - \totalwidth / 2,
	    \yoffset + \levelheight - \levelheight * \level);
	    \pgfmathsetmacro{\avgblocks}{4^(\level-1)}
	    \pgfmathsetmacro{\levelblocks}{\blocks / \avgblocks}
	    \pgfmathsetmacro{\samplewidth}{\totalwidth/\levelblocks}
	
	    \foreach \i in {1,...,\levelblocks} {
	      \iftoggle{quickdecim}{
	        % can do this instead of using real samples, for speed
	        \xdef\smin{5}
	        \xdef\smean{50}
	        \xdef\smax{95}
	      }{
	        % calculate sample values from the randarray
	        \pgfmathsetmacro{\smin}{100}
	        \pgfmathsetmacro{\smax}{0}
	        \pgfmathsetmacro{\samplesum}{0}
	        \pgfmathsetmacro{\countfrom}{(\i - 1) * \avgblocks}
	        \pgfmathsetmacro{\countto}{\countfrom + \avgblocks - 1}
	        \foreach \j in {\countfrom,...,\countto} {
	          \pgfmathsetmacro{\tmp}{\samplesum + \randarray[\j] / \avgblocks}
	          \xdef\samplesum{\tmp}
	          \pgfmathtruncatemacro{\tmp}{min(\smin, \randarray[\j])}
	          \xdef\smin{\tmp}
	          \pgfmathtruncatemacro{\tmp}{max(\smax, \randarray[\j])}
	          \xdef\smax{\tmp}
	        };
	        \pgfmathtruncatemacro{\tmp}{\samplesum}
	        \xdef\smean{\tmp}
	      }
	      \pgfmathtruncatemacro{\cmin}{(\smin - 1) / (\maxrand - 1) * 100}
	      \pgfmathtruncatemacro{\cmean}{(\smean - 1) / (\maxrand - 1) * 100}
	      \pgfmathtruncatemacro{\cmax}{(\smax - 1) / (\maxrand - 1) * 100}
	      \pgfmathtruncatemacro{\prev}{\i-1}
	
	      \ifnumequal{\level}{1}{
	        \node[Sample, xshift=\samplewidth * \prev cm, draw,
	        yshift=\sampleheight * -2cm,
	        minimum width=\samplewidth cm,
	        fill=highcolor!\cmean!lowcolor]
	        (level\level samplemax\i) at (level\level sample0) {};
	        \coordinate (level\level samplemin\i) at (level\level samplemax\i);
	        \coordinate (level\level samplemean\i) at (level\level samplemax\i);
	      }{
	        \node[Sample, xshift=\samplewidth * \prev cm, draw,
	        yshift=\sampleheight * 0cm,
	        minimum width=\samplewidth cm,
	        fill=highcolor!\cmin!lowcolor]
	        (level\level samplemin\i) at (level\level sample0) {\smin};
	
	        \node[Sample, xshift=\samplewidth * \prev cm, draw,
	        yshift=\sampleheight * -1cm,
	        minimum width=\samplewidth cm,
	        fill=highcolor!\cmean!lowcolor]
	        (level\level samplemean\i) at (level\level sample0) {\smean};
	
	        \node[Sample, xshift=\samplewidth * \prev cm, draw,
	        yshift=\sampleheight * -2cm,
	        minimum width=\samplewidth cm,
	        fill=highcolor!\cmax!lowcolor]
	        (level\level samplemax\i) at (level\level sample0) {\smax};
	      }
	    };
	
	    \coordinate (level\level sampleminlabel)
	    at (level\level samplemin\levelblocks);
	    \coordinate (level\level samplemeanlabel)
	    at (level\level samplemean\levelblocks);
	    \coordinate (level\level samplemaxlabel)
	    at (level\level samplemax\levelblocks);
	  };
	
	  % arrows
	  \foreach \next in {2,...,\levels} {
	    \pgfmathtruncatemacro{\level}{\next-1}
	    \pgfmathsetmacro{\amplitude}{3pt * \level + 1.5pt}
	    \pgfmathsetmacro{\thislevelblocks}{\blocks / (4^(\level-1))}
	    \pgfmathsetmacro{\nextlevelblocks}{\blocks / (4^(\level))}
	    \foreach \block in {1,...,\nextlevelblocks} {
	      \pgfmathtruncatemacro{\a}{4*(\block-1)+1}
	      \pgfmathtruncatemacro{\b}{4*(\block-1)+4}
	      \pgfmathtruncatemacro{\c}{4*(\block-1)+2}
	      \draw [thick, decorate, decoration={brace, amplitude=\amplitude, mirror}]
	      ([xshift=0.5pt]level\level samplemax\a.south west) --
	      ([xshift=-0.5pt]level\level samplemax\b.south east);
	      \draw[thick, -stealth]
	      ([yshift=-\amplitude]level\level samplemax\c.south east) --
	      (level\next samplemin\block .north);
	    };
	  };
	
	  % text
	  \foreach \level in {1,...,\levels} {
	    \pgfmathtruncatemacro{\decim}{(4^(\level - 1))}
	    % Level N
	    \node[xshift=-2.5cm, yshift=6pt, anchor=west] (foo) at
	    ($(level\level sample0 |- level\level samplemean1)$)
	    {Level \level};
	    % Samples
	    \node[anchor=north, inner sep=0, font=\footnotesize] at (foo.south)
	    {\ifnumequal{\level}{1}{(${\color{red}N}$ values)}
	      {($3\cdot {\color{red}N / \decim}$ values)}};
	  };
	
	  \begin{scope}[anchor=west, inner sep=0, font=\footnotesize\itshape,
	    text depth=0ex, text height=1.1ex, draw]
	    \foreach \level in {2,...,\levels} {
	      \node[xshift=3pt] at (level\level sampleminlabel) { min };
	      \node[xshift=3pt] at (level\level samplemeanlabel) { mean };
	      \node[xshift=3pt] at (level\level samplemaxlabel) { max };
	    };
	  \end{scope}
	
	  \node[yshift=-0.8cm] at (foo.south) { $\vdots$ };
	
	\end{tikzpicture}
	\end{document}
snippet nodes data-flow-diagram
	% Data flow diagram
	% Author: David Fokkema
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Data flow diagram
	:Tags: Nodes and shapes;Matrices;Styles;Computer science
	:Author: David Fokkema
	:Slug: data-flow-diagram
	
	Data flow diagrams depict the flow of information in a system. This
	figure shows experimental data being recorded, processed and ultimately
	stored. This figure is a minor revision of the one included in
	[my PhD thesis](http://dx.doi.org/10.3990/1.9789036534383).
	\end{comment}
	\usetikzlibrary{arrows}
	
	% Defines a `datastore' shape for use in DFDs.  This inherits from a
	% rectangle and only draws two horizontal lines.
	\makeatletter
	\pgfdeclareshape{datastore}{
	  \inheritsavedanchors[from=rectangle]
	  \inheritanchorborder[from=rectangle]
	  \inheritanchor[from=rectangle]{center}
	  \inheritanchor[from=rectangle]{base}
	  \inheritanchor[from=rectangle]{north}
	  \inheritanchor[from=rectangle]{north east}
	  \inheritanchor[from=rectangle]{east}
	  \inheritanchor[from=rectangle]{south east}
	  \inheritanchor[from=rectangle]{south}
	  \inheritanchor[from=rectangle]{south west}
	  \inheritanchor[from=rectangle]{west}
	  \inheritanchor[from=rectangle]{north west}
	  \backgroundpath{
	    %  store lower right in xa/ya and upper right in xb/yb
	    \southwest \pgf@xa=\pgf@x \pgf@ya=\pgf@y
	    \northeast \pgf@xb=\pgf@x \pgf@yb=\pgf@y
	    \pgfpathmoveto{\pgfpoint{\pgf@xa}{\pgf@ya}}
	    \pgfpathlineto{\pgfpoint{\pgf@xb}{\pgf@ya}}
	    \pgfpathmoveto{\pgfpoint{\pgf@xa}{\pgf@yb}}
	    \pgfpathlineto{\pgfpoint{\pgf@xb}{\pgf@yb}}
	 }
	}
	\makeatother
	
	\begin{document}
	\begin{center}
	\begin{tikzpicture}[
	  font=\sffamily,
	  every matrix/.style={ampersand replacement=\&,column sep=2cm,row sep=2cm},
	  source/.style={draw,thick,rounded corners,fill=yellow!20,inner sep=.3cm},
	  process/.style={draw,thick,circle,fill=blue!20},
	  sink/.style={source,fill=green!20},
	  datastore/.style={draw,very thick,shape=datastore,inner sep=.3cm},
	  dots/.style={gray,scale=2},
	  to/.style={->,>=stealth',shorten >=1pt,semithick,font=\sffamily\footnotesize},
	  every node/.style={align=center}]
	
	  % Position the nodes using a matrix layout
	  \matrix{
	    \node[source] (hisparcbox) {electronics};
	      \& \node[process] (daq) {DAQ}; \& \\
	
	    \& \node[datastore] (buffer) {buffer}; \& \\
	
	    \node[datastore] (storage) {storage};
	      \& \node[process] (monitor) {monitor};
	      \& \node[sink] (datastore) {datastore}; \\
	  };
	
	  % Draw the arrows between the nodes and label them.
	  \draw[to] (hisparcbox) -- node[midway,above] {raw events}
	      node[midway,below] {level 0} (daq);
	  \draw[to] (daq) -- node[midway,right] {raw event data\\level 1} (buffer);
	  \draw[to] (buffer) --
	      node[midway,right] {raw event data\\level 1} (monitor);
	  \draw[to] (monitor) to[bend right=50] node[midway,above] {events}
	      node[midway,below] {level 1} (storage);
	  \draw[to] (storage) to[bend right=50] node[midway,above] {events}
	      node[midway,below] {level 1} (monitor);
	  \draw[to] (monitor) -- node[midway,above] {events}
	      node[midway,below] {level 1} (datastore);
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet trees decision-tree
	% Decision tree
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Decision tree
	:Tags: Trees;Cookbook
	:Author: Stefan Kottwitz
	:Slug: decision-tree
	
	A horizontal tree, growing to the right.
	I created a basic style for tree nodes, and
	derived styles for specific kinds of nodes.
	\end{comment}
	\usepackage{tikz}
	\tikzset{
	  treenode/.style = {shape=rectangle, rounded corners,
	                     draw, align=center,
	                     top color=white, bottom color=blue!20},
	  root/.style     = {treenode, font=\Large, bottom color=red!30},
	  env/.style      = {treenode, font=\ttfamily\normalsize},
	  dummy/.style    = {circle,draw}
	}
	\begin{document}
	\begin{tikzpicture}
	  [
	    grow                    = right,
	    sibling distance        = 6em,
	    level distance          = 10em,
	    edge from parent/.style = {draw, -latex},
	    every node/.style       = {font=\footnotesize},
	    sloped
	  ]
	  \node [root] {Formula}
	    child { node [env] {equation}
	      edge from parent node [below] {single-line?} }
	    child { node [dummy] {}
	      child { node [dummy] {}
	        child { node [env] {align\\flalign}
	          edge from parent node [below] {at relation sign?} }
	        child { node [env] {alignat}
	          edge from parent node [above] {at several}
	                           node [below] {places?} }
	        child { node [env] {gather}
	                edge from parent node [above] {centered?} }
	        edge from parent node [below] {aligned?} }
	      child { node [env] {multline}
	              edge from parent node [above, align=center]
	                {first left,\\centered,}
	              node [below] {last right}}
	              edge from parent node [above] {multi-line?} };
	\end{tikzpicture}
	\end{document}
snippet foreach degree-wheel
	% A simple compass
	% Author: Dario Orescanin
	
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Degree wheel
	:Tags: Foreach
	
	A degree wheel inspired by `an example`_ on the `PSTricks website`_.
	
	.. _an example: http://tug.org/PSTricks/main.cgi?file=examples#compass
	.. _pstricks website: http://tug.org/PSTricks/main.cgi
	
	:Author: Dario Orescanin
	
	\end{comment}
	
	\begin{document}
	
	\begin{centering}
	
	% Define a few constants for easy configuration
	\def\radius{2cm}
	\def\onedegrad{1.8cm}
	\def\fivedegrad{1.75cm}
	\def\tendegrad{1.7cm}
	\def\labelrad{1.6cm}
	
	\begin{tikzpicture}[scale=4]
	
	  % adding a subtle gray tone to add a bit of "personality"
	  \shade[shading=radial, inner color=white, outer color=gray!15] (0,0) circle (\radius);
	
	  \draw (0,0) circle (\radius);
	  \draw[fill=black] (0,0) circle (.02mm);
	  \node[draw, circle, inner sep=.2mm] (a) at (0,0) {};
	
	  % helper lines
	  \foreach \x in {0, 45, ..., 360} \draw[very thin, gray!40] (a) -- (\x:\radius);
	
	  % main lines
	  \foreach \x in {0,...,359} \draw (\x:\onedegrad) -- (\x:\radius);
	
	  % labels and longer lines at every 10 degrees
	  \foreach \x in {0,10,...,350}
	  {
	    \node[scale=1.4, rotate=\x*-1] at (360-\x+90:\labelrad) {\x};
	    \draw (\x:\tendegrad) -- (\x:\radius);
	  };
	
	  % lines at every 5 degrees
	  \foreach \x in {0,5,...,355}  \draw (\x:\fivedegrad) -- (\x:\radius);
	
	\end{tikzpicture}
	\end{centering}
	
	\end{document}
snippet dekatron dekatron
	% Dekatron
	% Author Rohin T Narayan. 
	% http://rohin.tn.googlepages.com. rohin.tn a t gmail.com.%
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%This work is copyrighted under creative commons attribute license.
	%You are free to copy, use, transmit this work either modified or original
	%provided you leave the above header in the source code.
	
	\documentclass{article}
	\usepackage{xcolor}
	\usepackage{tikz}
	\usetikzlibrary{scopes}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Dekatron
	
	Dekatrons were used by Experimental Nuclear and High Energy physicists long before
	they embraced supreme technology of Digital signal processing and
	computers. This is the scheme of electrodes in a dekatron tube which was
	originally done for the lab manual at my University.
	\end{comment}
	
	\begin{document}
	\begin{tikzpicture}[line width=1.1pt]
	    \draw(0,0) circle(5cm);
	    \draw(0,0) circle(1cm);
	    \draw(0,0) node {\Huge$\mathbf{A}$};
	    \draw(0,0) circle(4.5cm);
	    \draw(-48:2.5) arc(-48:240:2.5cm);
	    %% The outer nodes
	    \foreach \x in {36,72,...,360}
	    	\shade[ball color=black](\x:5) circle(4pt);
	    \foreach \nodes in {12,24,...,360}
	    	\shade[ball color=black](\nodes:3.5) circle(4pt);
	    %%% The connecting nodes
	    \foreach \angle in {-48,-12,...,240}
	    	\draw(\angle:2.5) --++(\angle:0.9cm);
	    %%% outer interconnects
	    \foreach \angle in {-24,12,...,306}
	    	\draw(\angle:3.6) --++(\angle:0.9cm);
	    \foreach \y in {-24,12,...,240}
	    	\shade[ball color=black](\y:4.5cm) circle(4pt);
	
	    %% outer most connections
	    \foreach \angle in{-36,0,...,306}
	    	\draw(\angle:4.9cm) --(\angle:4.7cm) [rotate=\angle]arc(0:180:0.20cm);
	    \foreach \angle in{-36,0,...,306}
	    	\draw(\angle:4.3cm) --(\angle:3.6cm);
	    %% Outer connects and leads
	    \shade[ball color=black](276:6) circle(4pt);
	    \draw(276:6)circle(4pt)--(276:5.2)[rotate=276]arc(0:180:0.25cm);
	    \draw(276:7)node {$\mathbf{K_0}$};
	    \draw(276:4.2)[rotate=276]arc(180:360:0.25cm);
	    \draw(276:4.2)--(276:3.5);
	
	    %% Exploitation of circular symmetry of the required figure
	
	    {[rotate=72]
	    	\shade[ball color=black](276:6) circle(4pt);
	    	\draw(276:6)circle(4pt)--(276:5.2)[rotate=276]arc(0:180:0.25cm);
	    	\draw(270:6)node {$\mathbf{K_1-K_9}$};
	    	\draw(276:4.2)[rotate=276]arc(180:360:0.25cm);%%%
	    	\draw(276:4.2)--(276:3.5);
	    }
	
	    {[rotate=-48]
	    	\shade[ball color=black](276:6) circle(4pt);
	    	\draw(276:6)circle(4pt)--(276:5.2)[rotate=276]arc(0:180:0.20cm);
	    	\draw(276:7)node {$\mathbf{g_2}$};
	    	\draw(276:4.8)--(276:4.5);
	    }
	
	    \draw(180:5)--(180:6);
	    \shade[ball color=black](180:6) circle(4pt);
	    \draw(180:6.5)node{$\mathbf{g_1}$};
	\end{tikzpicture}
	\end{document}
snippet circuits d-flip-flops-and-shift-register
	% D flip-flops (DFFs) and shift register
	% Author: Martin Scharrer
	\documentclass[a4paper,landscape]{article}
	
	\usepackage{pgf,tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: D flip-flops and shift register
	
	Example of a custom node shape for drawing  D flip-flops. The shape is used to draw a serial shift
	register. 
	
	\end{comment}
	
	\usetikzlibrary{calc,arrows}
	\usepackage{amsmath}
	\usepackage[left=1cm,right=1cm]{geometry}
	\pagestyle{empty}
	
	\makeatletter
	
	% Data Flip Flip (DFF) shape
	\pgfdeclareshape{dff}{
	  % The 'minimum width' and 'minimum height' keys, not the content, determine
	  % the size
	  \savedanchor\northeast{%
	    \pgfmathsetlength\pgf@x{\pgfshapeminwidth}%
	    \pgfmathsetlength\pgf@y{\pgfshapeminheight}%
	    \pgf@x=0.5\pgf@x
	    \pgf@y=0.5\pgf@y
	  }
	  % This is redundant, but makes some things easier:
	  \savedanchor\southwest{%
	    \pgfmathsetlength\pgf@x{\pgfshapeminwidth}%
	    \pgfmathsetlength\pgf@y{\pgfshapeminheight}%
	    \pgf@x=-0.5\pgf@x
	    \pgf@y=-0.5\pgf@y
	  }
	  % Inherit from rectangle
	  \inheritanchorborder[from=rectangle]
	
	  % Define same anchor a normal rectangle has
	  \anchor{center}{\pgfpointorigin}
	  \anchor{north}{\northeast \pgf@x=0pt}
	  \anchor{east}{\northeast \pgf@y=0pt}
	  \anchor{south}{\southwest \pgf@x=0pt}
	  \anchor{west}{\southwest \pgf@y=0pt}
	  \anchor{north east}{\northeast}
	  \anchor{north west}{\northeast \pgf@x=-\pgf@x}
	  \anchor{south west}{\southwest}
	  \anchor{south east}{\southwest \pgf@x=-\pgf@x}
	  \anchor{text}{
	    \pgfpointorigin
	    \advance\pgf@x by -.5\wd\pgfnodeparttextbox%
	    \advance\pgf@y by -.5\ht\pgfnodeparttextbox%
	    \advance\pgf@y by +.5\dp\pgfnodeparttextbox%
	  }
	
	  % Define anchors for signal ports
	  \anchor{D}{
	    \pgf@process{\northeast}%
	    \pgf@x=-1\pgf@x%
	    \pgf@y=.5\pgf@y%
	  }
	  \anchor{CLK}{
	    \pgf@process{\northeast}%
	    \pgf@x=-1\pgf@x%
	    \pgf@y=-.66666\pgf@y%
	  }
	  \anchor{CE}{
	    \pgf@process{\northeast}%
	    \pgf@x=-1\pgf@x%
	    \pgf@y=-0.33333\pgf@y%
	  }
	  \anchor{Q}{
	    \pgf@process{\northeast}%
	    \pgf@y=.5\pgf@y%
	  }
	  \anchor{Qn}{
	    \pgf@process{\northeast}%
	    \pgf@y=-.5\pgf@y%
	  }
	  \anchor{R}{
	    \pgf@process{\northeast}%
	    \pgf@x=0pt%
	  }
	  \anchor{S}{
	    \pgf@process{\northeast}%
	    \pgf@x=0pt%
	    \pgf@y=-\pgf@y%
	  }
	  % Draw the rectangle box and the port labels
	  \backgroundpath{
	    % Rectangle box
	    \pgfpathrectanglecorners{\southwest}{\northeast}
	    % Angle (>) for clock input
	    \pgf@anchor@dff@CLK
	    \pgf@xa=\pgf@x \pgf@ya=\pgf@y
	    \pgf@xb=\pgf@x \pgf@yb=\pgf@y
	    \pgf@xc=\pgf@x \pgf@yc=\pgf@y
	    \pgfmathsetlength\pgf@x{1.6ex} % size depends on font size
	    \advance\pgf@ya by \pgf@x
	    \advance\pgf@xb by \pgf@x
	    \advance\pgf@yc by -\pgf@x
	    \pgfpathmoveto{\pgfpoint{\pgf@xa}{\pgf@ya}}
	    \pgfpathlineto{\pgfpoint{\pgf@xb}{\pgf@yb}}
	    \pgfpathlineto{\pgfpoint{\pgf@xc}{\pgf@yc}}
	    \pgfclosepath
	
	    % Draw port labels
	    \begingroup
	    \tikzset{flip flop/port labels} % Use font from this style
	    \tikz@textfont
	
	    \pgf@anchor@dff@D
	    \pgftext[left,base,at={\pgfpoint{\pgf@x}{\pgf@y}},x=\pgfshapeinnerxsep]{\raisebox{-0.75ex}{D}}
	
	    \pgf@anchor@dff@CE
	    \pgftext[left,base,at={\pgfpoint{\pgf@x}{\pgf@y}},x=\pgfshapeinnerxsep]{\raisebox{-0.75ex}{CE}}
	
	    \pgf@anchor@dff@Q
	    \pgftext[right,base,at={\pgfpoint{\pgf@x}{\pgf@y}},x=-\pgfshapeinnerxsep]{\raisebox{-.75ex}{Q}}
	
	    \pgf@anchor@dff@Qn
	    \pgftext[right,base,at={\pgfpoint{\pgf@x}{\pgf@y}},x=-\pgfshapeinnerxsep]{\raisebox{-.75ex}{$\overline{\mbox{Q}}$}}
	
	    \pgf@anchor@dff@R
	    \pgftext[top,at={\pgfpoint{\pgf@x}{\pgf@y}},y=-\pgfshapeinnerysep]{R}
	
	    \pgf@anchor@dff@S
	    \pgftext[bottom,at={\pgfpoint{\pgf@x}{\pgf@y}},y=\pgfshapeinnerysep]{S}
	    \endgroup
	  }
	}
	
	% Key to add font macros to the current font
	\tikzset{add font/.code={\expandafter\def\expandafter\tikz@textfont\expandafter{\tikz@textfont#1}}} 
	
	% Define default style for this node
	\tikzset{flip flop/port labels/.style={font=\sffamily\scriptsize}}
	\tikzset{every dff node/.style={draw,minimum width=2cm,minimum 
	height=2.828427125cm,very thick,inner sep=1mm,outer sep=0pt,cap=round,add 
	font=\sffamily}}
	
	\makeatother
	
	\begin{document}
	
	\begin{tikzpicture}[font=\sffamily,>=triangle 45]
	  \def\N{7}  % Number of Flip-Flops minus one
	
	  % Place FFs
	  \foreach \m in {0,...,\N}
	    \node [shape=dff] (DFF\m) at ($ 3*(\m,0) $) {Bit \#\m};
	
	  % Connect FFs (Q1 with D1, etc.)
	  \def\p{0}  % Used to save the previous number
	  \foreach \m in {1,...,\N} { % Note that it starts with 1, not 0
	    \draw [->] (DFF\p.Q) -- (DFF\m.D);
	    \global\let\p\m
	  }
	
	  % Connect and label data in- and output port
	  \draw [<-] (DFF0.D) -- +(-1,0) node [anchor=east] {input} ;
	  \draw [->] (DFF\N.Q) -- +(1,0) node [anchor=west] {output};
	
	  % 'Reset' port label
	  \path (DFF0) +(-2cm,+2cm) coordinate (temp)
	    node [anchor=east] {reset};
	  % Connect resets
	  \foreach \m in {0,...,\N}
	    \draw [->] (temp) -| (DFF\m.R);
	
	  % 'Set' port label
	  \path (DFF0) +(-2cm,-2cm) coordinate (temp)
	    node [anchor=east] {set};
	  % Connect sets
	  \foreach \m in {0,...,\N}
	    \draw [->] (temp) -| (DFF\m.S);
	
	  % Clock port label
	  \path (DFF0) +(-2cm,-2.5cm) coordinate (temp)
	    node [anchor=east] {clock};
	  \foreach \m in {0,...,\N}
	    \draw [->] (temp) -| ($ (DFF\m.CLK) + (-5mm,0) $) --(DFF\m.CLK);
	
	  % Clock port label
	  \path (DFF0) +(-2cm,-3cm) coordinate (temp)
	    node [anchor=east] {clock enable};
	  \foreach \m in {0,...,\N}
	    \draw [->] (temp) -| ($ (DFF\m.CE) + (-7.5mm,0) $) --(DFF\m.CE);
	\end{tikzpicture}
	
	\end{document}
snippet diagrams diagram-chains
	% Example diagrams from the tutorial: Putting a Diagram in Chains
	% Source: The TikZ & PGF manual
	\documentclass{article}
	
	\usepackage{tikz}
	
	\usetikzlibrary{%
	  arrows,%
	  shapes.misc,% wg. rounded rectangle
	  shapes.arrows,%
	  chains,%
	  matrix,%
	  positioning,% wg. " of "
	  scopes,%
	  decorations.pathmorphing,% /pgf/decoration/random steps | erste Graphik
	  shadows%
	}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Putting a diagrams in chains
	:Slug: diagram-chains
	:Tags: Diagrams, Chains, PGF 2.0, Manual
	:Grid: 1x2
	
	Diagrams from the *Putting a diagrams in chains* tutorial.
	
	:Source: The TikZ & PGF manual
	
	Thanks to `Dr. Ludger Humbert`_ for submitting a standalone version of the diagrams.
	
	.. _Dr. Ludger Humbert: https://haspe.homeip.net/cgi-bin/pyblosxom.cgi
	
	\end{comment}
	
	\begin{document}
	
	\tikzset{
	  nonterminal/.style={
	    % The shape:
	    rectangle,
	    % The size:
	    minimum size=6mm,
	    % The border:
	    very thick,
	    draw=red!50!black!50,         % 50% red and 50% black,
	                                  % and that mixed with 50% white
	    % The filling:
	    top color=white,              % a shading that is white at the top...
	    bottom color=red!50!black!20, % and something else at the bottom
	    % Font
	    font=\itshape
	  },
	  terminal/.style={
	    % The shape:
	    rounded rectangle,
	    minimum size=6mm,
	    % The rest
	    very thick,draw=black!50,
	    top color=white,bottom color=black!20,
	    font=\ttfamily},
	  skip loop/.style={to path={-- ++(0,#1) -| (\tikztotarget)}}
	}
	
	{
	  \tikzset{terminal/.append style={text height=1.5ex,text depth=.25ex}}
	  \tikzset{nonterminal/.append style={text height=1.5ex,text depth=.25ex}}
	}
	
	\begin{tikzpicture}[
	    >=latex,thick,
	    /pgf/every decoration/.style={/tikz/sharp corners},
	    fuzzy/.style={decorate,
	        decoration={random steps,segment length=0.5mm,amplitude=0.15pt}},
	    minimum size=6mm,line join=round,line cap=round,
	    terminal/.style={rectangle,draw,fill=white,fuzzy,rounded corners=3mm},
	    nonterminal/.style={rectangle,draw,fill=white,fuzzy},
	    node distance=4mm
	  ]
	
	    \ttfamily
	    \begin{scope}[start chain,
	            every node/.style={on chain},
	            terminal/.append style={join=by {->,shorten >=-1pt,
	                fuzzy,decoration={post length=4pt}}},
	            nonterminal/.append style={join=by {->,shorten >=-1pt,
	                fuzzy,decoration={post length=4pt}}},
	            support/.style={coordinate,join=by fuzzy}
	        ]
	        \node [support]             (start)        {};
	        \node [nonterminal]                        {unsigned integer};
	        \node [support]             (after ui)     {};
	        \node [terminal]                           {.};
	        \node [support]             (after dot)    {};
	        \node [terminal]                           {digit};
	        \node [support]             (after digit)  {};
	        \node [support]             (skip)         {};
	        \node [support]             (before E)     {};
	        \node [terminal]                           {E};
	        \node [support]             (after E)      {};
	        \node [support,xshift=5mm]  (between)      {};
	        \node [support,xshift=5mm]  (before last)  {};
	        \node [nonterminal]                        {unsigned integer};
	        \node [support]             (after last)   {};
	        \node [coordinate,join=by ->] (end)        {};
	    \end{scope}
	    \node (plus)  [terminal,above=of between] {+};
	    \node (minus) [terminal,below=of between] {-};
	
	    \begin{scope}[->,decoration={post length=4pt},rounded corners=2mm,
	            every path/.style=fuzzy]
	        \draw (after ui)    -- +(0,.7)  -| (skip);
	        \draw (after digit) -- +(0,-.7) -| (after dot);
	        \draw (before E)    -- +(0,-1.2) -| (after last);
	        \draw (after E)     |- (plus);
	        \draw (plus)        -| (before last);
	        \draw (after E)     |- (minus);
	        \draw (minus)       -| (before last);
	    \end{scope}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[
	        point/.style={coordinate},>=stealth',thick,draw=black!50,
	        tip/.style={->,shorten >=0.007pt},every join/.style={rounded corners},
	        hv path/.style={to path={-| (\tikztotarget)}},
	        vh path/.style={to path={|- (\tikztotarget)}},
	        text height=1.5ex,text depth=.25ex % align text horizontally
	    ]
	    \matrix[column sep=4mm] {
	        % First row:
	        & & & & & & &  & & & & \node (plus) [terminal] {+};\\
	        % Second row:
	        \node (p1) [point] {}; & \node (ui1) [nonterminal] {unsigned integer};&
	        \node (p2) [point] {}; & \node (dot) [terminal]    {.};               &
	        \node (p3) [point] {}; & \node (digit) [terminal]    {digit};         &
	        \node (p4) [point] {}; & \node (p5)  [point]  {};                     &
	        \node (p6) [point] {}; & \node (e)   [terminal]    {E};               &
	        \node (p7) [point] {}; &                                              &
	        \node (p8) [point] {}; & \node (ui2) [nonterminal] {unsigned integer};&
	        \node (p9) [point] {}; & \node (p10) [point]       {};\\
	        % Third row:
	        & & & & & & &  & & & & \node (minus)[terminal] {-};\\
	    };
	
	    { [start chain]
	        \chainin (p1);
	        \chainin (ui1)   [join=by tip];
	        \chainin (p2)    [join];
	        \chainin (dot)   [join=by tip];
	        \chainin (p3)    [join];
	        \chainin (digit) [join=by tip];
	        \chainin (p4)    [join];
	        { [start branch=digit loop]
	        \chainin (p3) [join=by {skip loop=-6mm,tip}];
	        }
	        \chainin (p5)    [join,join=with p2 by {skip loop=6mm,tip}];
	        \chainin (p6)    [join];
	        \chainin (e)     [join=by tip];
	        \chainin (p7)    [join];
	        { [start branch=plus]
	        \chainin (plus)  [join=by {vh path,tip}];
	        \chainin (p8)    [join=by {hv path,tip}];
	        }
	        { [start branch=minus]
	        \chainin (minus) [join=by {vh path,tip}];
	        \chainin (p8)    [join=by {hv path,tip}];
	        }
	        \chainin (p8)    [join];
	        \chainin (ui2)   [join=by tip];
	        \chainin (p9)    [join,join=with p6 by {skip loop=-11mm,tip}];
	        \chainin (p10)   [join=by tip];
	  }
	\end{tikzpicture}
	
	\end{document}
snippet layer difference-quotient
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% DIFFERENCE QUOTIENT                            %
	% Author: Peter Kint                             %
	% Date: 28 dec 2009                              %
	% Using some PGF/TikZ features like              %
	%      'layer'                                   %
	%      'decorate'                                % 
	%       and the wonderful new 'spy'-feature      % 
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% Note: This example requires PGF > 2.0 or a recent
	% development version of PGF.
	\documentclass{article}
	\usepackage{pgf,tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Difference quotient
	
	**Note**: Requires the development version of PGF due to the use of the spy library.
	
	\end{comment}
	
	\usepackage{pgfplots}
	\usetikzlibrary{spy}
	\usetikzlibrary{backgrounds}
	\usetikzlibrary{decorations}
	\date{}
	\begin{document}
	\pagestyle{empty}
	%
	% declare extra background layer, (main = default)
	\pgfdeclarelayer{background layer}
	\pgfsetlayers{background layer,main}
	\definecolor{darkgray}{rgb}{0.25,0.25,0.25}
	\definecolor{lightgray}{rgb}{0.75,0.75,0.75}
	%
	\begin{tikzpicture}
	    [line cap=round,line join=round,x=2cm,y=2cm,
	     %using the 'spy' to magnify a part of the picture
	     spy using outlines={rectangle,lens={scale=3}, size=8cm, connect spies},
	     %using the decoration 'brace' (=a curly brace as path replacement)
	     decoration={brace,amplitude=2pt}]
	%main layer
	%creating the grid
	  \draw [color=lightgray,dash pattern=on 1pt off 1pt, xstep=2cm,ystep=2cm]
	                                                 (-0.1,-0.1) grid (2.3,2.3);
	%creating the ticks and xy-axis nodes
	  \draw[-latex,color=darkgray,thin] (-0.2,0) -- (2.4,0);
	   \foreach \x in {,1,2}
	   \draw[shift={(\x,0)},color=darkgray,thin] (0pt,1pt) -- (0pt,-1pt)
	                                   node[below] {\footnotesize $\x$};
	  \draw[-latex,color=darkgray] (0,-0.2) -- (0,2.6);
	      \foreach \y in {,1,2}
	      \draw[shift={(0,\y)},color=darkgray,thin] (1pt,0pt) -- (-1pt,0pt)
	                                    node[left] {\footnotesize $\y$};
	  \draw[color=black] (0pt,-8pt) node[left] {\footnotesize $0$};
	%some function
	  \draw[smooth,samples=1000,domain=0.0:2.2]
	   plot(\x,{8*\x-32.4*\x^2+53.48*\x^3-42.11*\x^4+17.594*\x^5
	                            -3.99*\x^6+0.465713*\x^7-0.0217374*\x^8});
	  \draw [blue] (0.22,0.67)--(0.58,0.42)
	         node [midway, above right]{\tiny$\frac{\Delta y}{\Delta x}$};
	  \draw [darkgray,ultra thin] (0,0.67)-- (0.22,0.67);
	  \draw [darkgray,ultra thin] (0,0.42)-- (0.58,0.42);
	  \draw [darkgray,ultra thin] (0.22,0.67)-- (0.22,0.0);
	  \draw [darkgray,ultra thin] (0.58,0.42)-- (0.58,0.0);
	%creating the curly braces with decorate
	  \draw [decorate,color=red] (0,0.42) -- (0,0.67)
	   node [midway,anchor=east,inner sep=2pt, outer sep=1pt]{\tiny$\Delta y$};
	  \draw [decorate,color=green!80!black] (0.58,0.0)--(0.22,0.0)
	   node [midway,anchor=north,inner sep=1pt, outer sep=1pt]{\tiny$\Delta x$};
	%using the 'spy' to magnify a piece of the picture
	  \spy [blue] on (0.4,0.4)
	             in node [left] at (6.5,1);
	%filling the background layer (all previous commands belong to main layer)
	  \begin{pgfonlayer}{background layer}
	   \fill[yellow!20] (-0.5,-1.5) rectangle (7,3.75);
	   \node at (1,3)[blue]{\Large$ \mathrm{Difference \, Quotient}$};
	  \end{pgfonlayer}
	\end{tikzpicture}
	\end{document}
snippet 3d dipolar-magnetic-field
	% Dipolar magnetic field
	% Author: Cyril Langlois
	%
	% A 3D plot of a dipolar magnetic field similar to the Earth's one.
	% The field lines are drawn in each longitude plane using the dipolar field
	% equation. Like Earth's field, the north magnetic pole lies close to the south
	% geographic pole and vice-versa.
	%
	% The code is based on the Tomasz M. Trzeciak code for stereographic drawing and the plot command.
	\documentclass[11pt]{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows,calc}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Dipolar magnetic field
	:Author: Cyril Langlois
	
	This tikz code provides a 3D plot of a dipolar magnetic field similar to the Earth's one.
	The field lines are drawn in each longitude plane using the dipolar field equation.
	Like Earth's field, the north magnetic pole lies close to the south geographic pole and vice-versa.
	
	The code is based on the `Tomasz M. Trzeciak code for stereographic drawing <http://www.texample.net/tikz/examples/map-projections/>`_ and the plot command.
	
	\end{comment}
	
	
	%%% Macro's for 3D figures %%%
	\newcommand\pgfmathsinandcos[3]{%
	    \pgfmathsetmacro#1{sin(#3)}%
	    \pgfmathsetmacro#2{cos(#3)}%
	}
	\newcommand\LongitudePlane[3][current plane]{%
	    \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	    \pgfmathsinandcos\sint\cost{#3}   % azimuth
	    \tikzset{#1/estyle={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
	}
	\newcommand\LatitudePlane[3][current plane]{%
	    \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	    \pgfmathsinandcos\sint\cost{#3}   % latitude
	    \pgfmathsetmacro\yshift{\cosEl*\sint}
	    \tikzset{#1/estyle={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}} %
	}
	\newcommand\DrawLongitudeCircle[2][1]{
	    \LongitudePlane{\angEl}{#2}
	    \tikzset{current plane/.prefix style={scale=#1}}
	    % angle of "visibility"
	    \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	    \draw[current plane] (\angVis:1) arc (\angVis:\angVis+180:1);
	    \draw[current plane,dashed] (\angVis-180:1) arc (\angVis-180:\angVis:1);
	}
	\newcommand\DrawLatitudeCircle[2][1]{
	    \LatitudePlane{\angEl}{#2}
	    \tikzset{current plane/.prefix style={scale=#1}}
	    \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
	    % angle of "visibility"
	    \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
	    \draw[current plane] (\angVis:1) arc (\angVis:-\angVis-180:1);
	    \draw[current plane,dashed] (180-\angVis:1) arc (180-\angVis:\angVis:1);
	}
	
	
	\begin{document}
	\begin{tikzpicture}[scale=1.0,
	        %Option for nice arrows%
	        >=latex,%
	        inner sep=0pt,%
	        outer sep=2pt,%
	        mark coordinate/.style={outer sep=0pt,
	            minimum size=3pt, fill=black,circle}%
	    ]
	    %% some definitions
	    \def\R{0.5}       % sphere radius
	    \def\angEl{30}    % elevation angle
	    \def\angAz{-140}  % azimuth angle
	    \def\angPhi{-105} % longitude of point
	    \def\angBeta{55}  % latitude of point
	    \def\angGam{-190} % longitude of point
	    %% working planes
	    \pgfmathsetmacro\H{\R*cos(\angEl)}          % Distance to north pole
	    \LongitudePlane[xzplane]{\angEl}{\angAz}    % x-axis plane
	    %
	    \coordinate (O) at (0,0);
	    %
	    \begin{scope}[rotate around={-11.1:(0,0)},
	        field line/.style={color=red, smooth,
	            variable=\t, samples at={0,-5,-10,...,-360}}
	    ]
	        \clip[rotate around={11.1:(0,0)}] (-7,5) rectangle (7,-5);
	
	        % Computes a point on a field line given r and t
	        \newcommand{\fieldlinecurve}[2]{%
	            {(pow(#1,2))*(3*cos(#2)+cos(3*#2))}, {(pow(#1,2))*(sin(#2)+sin(3*#2))}%
	        }
	
	        % Longitudinal plnaes
	        \foreach \u in {0,-40,...,-160}{
	            \LongitudePlane[{{\u}zplane}]{\angEl}{\u}
	            \foreach \r in {0.25,0.5,...,2.25} {
	                \draw[{{\u}zplane}, field line]
	                plot (\fieldlinecurve{\r}{\t});
	            }
	        }
	        \foreach \u in {-200,-240,...,-320}{
	            \LongitudePlane[{{\u}zplane}]{\angEl}{\u}
	            \foreach \r in {0.25,0.5,...,2.25}{
	            \draw[{{\u}zplane}, dashed, field line]
	                plot (\fieldlinecurve{\r}{\t});
	            }
	        }
	        % Drawing plane for the B-vectors
	        \LongitudePlane[bzplane]{\angEl}{0}
	            \foreach \r in {0.25,0.5,...,2.25}{
	            \draw[bzplane, thick, field line]
	                plot (\fieldlinecurve{\r}{\t});
	        }
	
	        \begin{scope}[bzplane, very thick, ->, >=stealth]
	            \draw (\fieldlinecurve{1.25}{-30}) -- +(-30:0.79cm)  node[right] {$\vec{B_{r}}$};
	            \draw (\fieldlinecurve{1.25}{-30}) -- +(60:0.68cm)   node[right] {$\vec{B_{\theta}}$};
	            \draw (\fieldlinecurve{1.25}{30})  -- +(-150:0.79cm) node[below] {$\vec{B_{r}}$};
	            \draw (\fieldlinecurve{1.25}{30})  -- +(120:0.68cm)  node[above] {$\vec{B_{\theta}}$};
	        \end{scope}
	        %
	        \begin{scope}[rotate around={11.1:(0,0)}]
	            \fill[ball color=white,opacity=0.3] (O) circle (\R); %3D lighting effect
	            \draw (O) circle (\R);
	            \DrawLongitudeCircle[\R]{\angAz}      % xzplane
	            \DrawLongitudeCircle[\R]{\angAz + 90} % vzplane
	            \DrawLatitudeCircle[\R]{0}            % equator
	            \DrawLatitudeCircle[\R]{70}           % Latitude 70
	            \DrawLatitudeCircle[\R]{-70}          % Latitude -70
	        \end{scope}
	        %
	        \coordinate[mark coordinate] (Sm) at (0, \H);
	        \coordinate[mark coordinate] (Nm) at (0,-\H);
	        \path[xzplane] (Nm) -- +(0,-0.75) coordinate (Nm1) node[below] {$\mathbf{N}_m$}
	                       (Sm) -- +(0,0.75)  coordinate (Sm1) node[above] {$\mathbf{S}_m$};
	        \draw[very thick, dashed]    (Sm) -- (Nm);
	        \draw[very thick]            (Sm1) -- (Sm);
	        \draw[very thick,->,>=latex'](Nm) -- (Nm1);
	    \end{scope}
	    \node[align=justify, text width=14cm, anchor=north west] at (-7,-5.2)
	        {Schematic Earth dipolar magnetic field. The field lines placed in the
	        page plane are drawn as thick lines, those back with dashed lines and
	        the field lines in front of the page with thin lines.};
	\end{tikzpicture}
	\end{document}
snippet foreach disc
	% Stacked disks
	% Author: Mark Wibrow
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Stacked discs in 3d
	:Tags: Foreach;Pic;3d;Decorative drawings
	:Author: Mark Wibrow
	:Slug: disc
	
	To draw a stack of disks with a 3d impression, we use
	the pic element, which is new in TikZ 3.0 and can be considered
	like combining a node and a tikzpicture.
	
	This example was written by Mark Wibrow answering a question on TeX.SE.
	\end{comment}
	\tikzset{
	  pics/.cd,
	  disc/.style = {
	    code = {
	      \fill [white] ellipse [x radius = 2, y radius = 2/3];
	      \path [left color = black!50, right color = black!50,
	        middle color = black!25] 
	        (-2+.05,-1.1) arc (180:360:2-.05 and 2/3-.05*2/3) -- cycle;
	      \path [top color = black!25, bottom color = white] 
	        (0,.05*2/3) ellipse [x radius = 2-.05, y radius = 2/3-.05*2/3];
	      \path [left color = black!25, right color = black!25,
	        middle color = white] (-2,0) -- (-2,-1) arc (180:360:2 and 2/3)
	        -- (2,0) arc (360:180:2 and 2/3);
	      \foreach \r in {225,315}
	        \foreach \i [evaluate = {\s=30;}] in {0,2,...,30}
	          \fill [black, fill opacity = 1/50] 
	            (0,0) -- (\r+\s-\i:2 and 2/3) -- ++(0,-1) 
	            arc (\r+\s-\i:\r-\s+\i:2 and 2/3) -- ++(0,1) -- cycle;
	      \foreach \r in {45,135}
	        \foreach \i [evaluate = {\s=30;}] in {0,2,...,30}
	          \fill [black, fill opacity = 1/50] 
	            (0,0) -- (\r+\s-\i:2 and 2/3) 
	            arc (\r+\s-\i:\r-\s+\i:2 and 2/3)  -- cycle;
	    }
	  },
	  disc bottom/.style = {
	    code = {
	      \foreach \i in {0,2,...,30}
	        \fill [black, fill opacity = 1/60] (0,-1.1)
	          ellipse [x radius = 2+\i/40, y radius = 2/3+\i/60];
	      \path pic {disc};
	    }
	  }
	}
	\begin{document}
	\begin{tikzpicture}
	\path (0,0) pic {disc bottom} (0,1.25) pic {disc} (0,2.5) pic {disc};
	\end{tikzpicture}
	\end{document}
snippet foreach distributed-processing
	% Author: Robert Felty
	% Source: http://blog.robfelty.com/2007/02/14/pgf-gallery
	% Model structure from Rumelhart \& McClelland (1986, p .222)%
	
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Distributed processing
	:Tags: Foreach, Layers
	
	A neural network example recreated from an illustration in [1]_. 
	
	Note the use of a background layer to draw the lines connecting the nodes. This way
	we don't have to worry about overlapping lines.  
	
	
	:Author: Robert Felty
	:Source: `Deep Thoughts by Robert Felty`__
	
	.. __: http://blog.robfelty.com/2007/02/14/pgf-gallery
	
	.. [1] Rumelhart, D. E. and `McClelland, J. L`__. (1986). *On Learning the Past Tenses of English Verbs*. In Volume 2 of Rumelhart, McClelland, and the PDP Research Group (1986), pp. 216-271. 
	
	.. __: http://www.cnbc.cmu.edu/~jlm/
	\end{comment}
	
	\begin{document}
	
	% Declare layers
	\pgfdeclarelayer{background}
	\pgfsetlayers{background,main}
	
	% Styles
	\tikzstyle{information text}=[text badly centered,font=\small,text width=3cm]
	\begin{tikzpicture}[scale=.8,cap=round]
	    % The graphic
	    \begin{scope}[>=stealth', line width=1pt]
	        \draw[->] (1,.9) node[below, information text]
	            {Phonological representation of root form } -- (1,1.8);
	        \draw[->] (5,-.2) node[below,information text]
	            {Wickelfeature representation of root form } -- (5,.8);
	        \draw[->] (11,-.2) node[below,information text]
	            {Wickelfeature representation of past tense } -- (11,.8);
	        \draw[->] (16,0.9) node[below,information text]
	            {Phonological representation of past tense } -- (16,1.8);
	    \end{scope}
	    \draw (3,6) node[information text] { Fixed Encoding Network };
	    \draw (8,6) node[information text, text width=4cm, ]
	        { Pattern Associator Modifiable Connections };
	    \draw (13.5,6) node[information text] { Decoding/Binding Network };
	    % draw the nodes
	    \foreach \x in {1,16}
	        \foreach \y in {2,3,4} {
	        \filldraw[fill=white] (\x,\y) circle (0.1);
	        }
	    \foreach \x in {5,11}
	        \foreach \y in {1,2,3,4,5} {
	            \filldraw[fill=white] (\x,\y) circle (0.1);
	        }
	    % The lines connecting the nodes are drawn in the background layer.
	    % This way we can hide the lines behind the nodes and don't worry
	    % about the width of each node.    
	    \begin{pgfonlayer}{background}
	        % we add the lines for the nodes starting in y 2,3, and 4
	        \foreach \xa / \xb in {1 / 5, 5 / 11 , 11 / 5 , 16 / 11}
	            \foreach \ya / \yb / \yc / \yd / \ye in {2 / 3 / 4 / 5 / 1, 
	            3 / 4 / 5 / 1 / 2, 4 / 5 / 1 / 2 / 3} {
	                \draw (\xa,\ya) -- (\xb,\ya);
	                \draw (\xa,\ya) -- (\xb,\yb);
	                \draw (\xa,\ya) -- (\xb,\yc);
	                \draw (\xa,\ya) -- (\xb,\yd);
	                \draw (\xa,\ya) -- (\xb,\ye);
	            }
	        % add remaining lines from y1 to y5
	        \foreach \xa / \xb in {5 / 11 , 11 / 5}
	            \foreach \ya / \yb in {1 / 5, 5 / 1} {
	            \draw (\xa,\ya) -- (\xb,\ya);
	            \draw (\xa,\ya) -- (\xb,\yb);
	        }
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\end{document}
snippet diagrams doa-diagram
	% Direction-of-arrival diagram
	% Author: Edgar Fuentes
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Direction-of-arrival diagram
	:Tags: Diagrams;Styles;
	:Author: Edgar Fuentes
	:Slug: doa-diagram
	
	This diagram explains a spatial filter with direction of arrival estimation.
	\end{comment}
	\usetikzlibrary{shapes.geometric}
	\usetikzlibrary{shapes.arrows}
	\usepackage{array}
	\begin{document}
	\begin{tikzpicture} [
	    auto,
	    decision/.style = { diamond, draw=blue, thick, fill=blue!20,
	                        text width=5em, text badly centered,
	                        inner sep=1pt, rounded corners },
	    block/.style    = { rectangle, draw=blue, thick, 
	                        fill=blue!20, text width=10em, text centered,
	                        rounded corners, minimum height=2em },
	    line/.style     = { draw, thick, ->, shorten >=2pt },
	  ]
	  % Define nodes in a matrix
	  \matrix [column sep=5mm, row sep=10mm] {
	                    & \node [text centered] (x) {$\mathbf{X}$};            & \\
	                    & \node (null1) {};                                    & \\
	                    & \node [block] (doa) {\textsf{DoAE}($\mathbf{X}$)};   & \\
	    \node(null3){}; & \node [decision] (uiddes)
	                        {\textsf{UID}($\hat{\mathbf{X}}$)};
	                                  & \node[text centered](tra){$\mathbf{i}$}; \\
	                    & \node [block] (track) {\textsf{DoAT}($\mathbf{x}$)}; & \\
	                    & \node [block] (pesos)
	                        {\textsf{BF}(DoA$_{\mathrm{T}}$,DoAs)};            & \\
	                    & \node [block] (filtrado)
	                        {\textsf{SF}($\mathbf{w}$,$\mathbf{x}$)};          & \\
	                    & \node [text centered] (xf) {$\hat{x}(t)$ };          & \\
	  };
	  % connect all nodes defined above
	  \begin{scope} [every path/.style=line]
	    \path (x)        --    (doa);
	    \path (doa)      --    node [near start] {DoAs} (uiddes);
	    \path (tra)      --    (uiddes);
	    \path (uiddes)   --++  (-3,0) node [near start] {no} |- (null1);
	    \path (uiddes)   --    node [near start] {DoA} (track);
	    \path (track)    --    node [near start] {DoA$_{\mathrm{T}}$} (pesos);
	    \path (pesos)    --    node [near start] {\textbf{w}} (filtrado);
	    \path (filtrado) --    (xf);
	  \end{scope}
	  %
	  % legend for subprocedures
	  \node (leyend) at (7.5, 5){
	    \begin{tabular}{>{\sffamily}l@{: }l}
	      \multicolumn{2}{c}{\textbf{subprocedures}} \\
	      DoAE & direction of arrival estimation     \\
	      UID  & user identification                 \\
	      DoAT & DoA tracking                        \\
	      BF   & beam forming                        \\
	      SF   & spatial filtering
	    \end{tabular}
	  };
	  %
	  % legend for input and output variables
	  \node (leyend) at (7, 0){
	    \begin{tabular}{l@{: }l}
	      \multicolumn{2}{c}{\textbf{variables}}              \\
	      DoA                       & direction of arrival    \\
	      $\mathbf{i}$              & identification sequence \\
	      $\mathbf{X},\,\mathbf{x}$ & signal model            \\
	      DoA$_{\mathrm{T}}$        & DoAs up to date         \\
	      $\hat{x}(t)$              & fitered signal
	      \end{tabular}
	  };
	\end{tikzpicture}
	\end{document}
snippet foreach dome
	% Projection of circles onto a spherical surface
	% Author: Mark Wibrow
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Projection of circles onto a spherical surface
	:Tags: Foreach;Plotting;Plots;3d;Geometry;Mathematics
	:Author: Mark Wibrow
	:Slug: dome
	
	Here we got a semi sphere. On the base area we place circles,
	which are then projected onto the surface of sphere.
	
	Using polar coordinates for the circles seems to be a good choice,
	but for now we take cartesian coordinates. We draw using layers.
	
	This example was written by Mark Wibrow answering a question on TeX.SE.
	\end{comment}
	\begin{document}
	\pgfdeclarelayer{dome floor}
	\pgfdeclarelayer{dome}
	\pgfdeclarelayer{dome surface}
	\pgfsetlayers{dome floor,main,dome,dome surface}
	
	\def\addcircle#1#2#3#4{%
	    \begingroup%
	        \pgfmathparse{#1}\let\R=\pgfmathresult
	        \pgfmathparse{#2}\let\cx=\pgfmathresult
	        \pgfmathparse{#3}\let\cy=\pgfmathresult
	        \pgfmathparse{#4}\let\r=\pgfmathresult
	        \begin{pgfonlayer}{dome floor}
	            \draw [blue!45!black, fill = blue!45, fill opacity = 0.25]
	                plot [domain = 0:360, samples = 40, variable = \i] 
	                    (\cx+\r*cos \i, \cy+\r*sin \i, 0) -- cycle;
	        \end{pgfonlayer}
	        \begin{pgfonlayer}{dome surface}
	            \draw [red!75!black, fill = red!75, fill opacity = 0.25] 
	                plot [domain = 0:360, samples = 60, variable = \t] 
	                    (\cx+\r*cos \t,\cy+\r*sin \t,
	                    {sqrt(max(\R^2-(\cx+\r*cos(\t))^2-(\cy+\r*sin(\t))^2, 0))})
	                    -- cycle;
	        \end{pgfonlayer}
	    \endgroup%
	}
	\begin{tikzpicture}[x = (-30:1cm), y = (30:1cm), z = (90:1cm)]
	\def\R{6}
	
	\begin{pgfonlayer}{dome floor}
	    \draw (-\R,0,0) -- (\R,0,0);
	    \draw (0,-\R,0) -- (0,\R,0);
	    \draw plot [domain = 0:360, samples = 90, variable = \i]
	        (\R*cos \i, \R*sin \i, 0) -- cycle;
	\end{pgfonlayer}
	
	\draw (0,0,0) -- (0,0,\R);
	
	\begin{pgfonlayer}{dome surface}
	    \foreach \i in {0, 30,...,150}
	            \draw [dotted] plot [domain = -90:90, samples = 60, variable = \j]
	                (\R*cos \i*sin \j,\R*sin \i*sin \j, \R*cos \j);
	    \foreach \j in {0, 15,...,90}
	            \draw [dotted] plot [domain = 0:360, samples = 60, variable = \i]
	                    (\R*cos \i*sin \j,\R*sin \i*sin \j, \R*cos \j);
	\end{pgfonlayer}
	
	\def\r{0.5}
	\foreach \m [evaluate = {\N=max(-4, \m-7);}]in {0,...,5}{
	    \foreach \n in {0,-1,...,\N}
	        {\addcircle{\R}{\m*sin 60}{\n-mod(abs(\m),2)*\r}{\r}}}
	\end{tikzpicture}
	\end{document}
snippet 3d dominoes
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Falling dominoes
	:Tags: 3D;Games;Foreach;Coordinate calculations;Fun
	:Author: Mark Wibrow
	:Slug: dominoes
	
	The "wavy" arrangement of the standing dominoes is quite straightforward.
	The four falling dominoes at the end (or start - depending on how you look
	at it) form one big kludge though.
	
	This example was created by Marc Wibrow
	(http://tex.stackexchange.com/users/23215/mark-wibrow)
	answering a question of benedito on TeX.SE
	(http://tex.stackexchange.com/q/149828/213).
	\end{comment}
	\usetikzlibrary{calc}
	
	\tikzset{3D/.cd,
	  x/.store in=\xx, x=0,
	  y/.store in=\yy, y=0,
	  z/.store in=\zz, z=0
	}
	
	\tikzdeclarecoordinatesystem{3D}{%
	  \tikzset{3D/.cd,#1}%
	  \pgfpoint{sin(\yy)*(\xx)}{-((\xx)/75)^2+(\zz)/100*(\xx)}%
	}
	
	\begin{document}
	\begin{tikzpicture}[line join=round, very thin]
	  \def\e{1260}
	  \foreach \x [evaluate={\i=mod(\x+90,360); \j=int((\i<180)*2-1); \t=3;
	    \sc=\x/\e; \n=int((\e-\x)/15+5); \X=\x/\e;}] in {10,25,...,\e} {
	
	    \path [shift={(3D cs:x=\x-\t,y={3*sin(\x-\t)})}, yslant=cos(\x)/5]
	      (-\X/2, 0)   coordinate (A')  ( \X/2, 0)   coordinate (B')
	      ( \X/2,2*\X) coordinate (C')  (-\X/2,2*\X) coordinate (D');
	
	    \path [shift={(3D cs:x=\x,y=3*sin \x)}, yslant=cos(\x)/5]
	      (-\X/2, 0)   coordinate (A) ( \X/2, 0)   coordinate (B)
	      ( \X/2,2*\X) coordinate (C) (-\X/2,2*\X) coordinate (D);
	
	    \filldraw [black!90] (B) -- (B') -- (C') -- (C)  -- cycle;
	    \filldraw [black!80] (A) -- (A') -- (D') -- (D)  -- cycle;
	    \filldraw [black!70] (C) -- (D)  -- (D') -- (C') -- cycle;
	    \filldraw [black]    (A) -- (B)  -- (C)  -- (D)  -- cycle;
	
	    \node [text=white, shift={($(C)!0.5!(D)$)}, anchor=north,
	      yslant=cos(\x)/5, font=\sf, scale=\sc*1.5] at (0,-.33*\X) {\n};
	  }
	  %
	  \foreach \i [evaluate={\x=\i*30-10; \X=1; \n=int(5-\i); \xsl=\x/180}]
	    in {1,...,4} {
	
	    \path [shift={(3D cs:x=\x+\e,y=-3*\x/90)}, yslant=cos \e/5, xslant=\xsl]
	      (-\X/2, 0)           coordinate (A) ( \X/2, 0)           coordinate (B)
	      ( \X/2, \X*2-\x/360) coordinate (C) (-\X/2, \X*2-\x/360) coordinate (D);
	
	    \path [shift={(3D cs:x=\x+\e,y=-3*\x/90)}, shift={(5/50,5/50-\i*2/50)},
	      yslant=cos \e/5, xslant=\xsl]
	      (-\X/2, 0)           coordinate (A') ( \X/2, 0)           coordinate (B')
	      ( \X/2, \X*2-\x/330) coordinate (C') (-\X/2, \X*2-\x/330) coordinate (D');
	
	    \filldraw [black!70] (C) -- (D)  -- (D') -- (C') -- cycle;
	    \filldraw [black!70] (A) -- (B)  -- (B') -- (A') -- cycle;
	    \filldraw [black!90] (B) -- (B') -- (C') -- (C)  -- cycle;
	    \filldraw [black]    (A) -- (B)  -- (C)  -- (D)  -- cycle;
	
	    \node [text=white, shift={($(C)!0.5!(D)$)}, anchor=north, xslant=\xsl,
	      yslant=cos \e/5, font=\sf, scale=1.5] at (0,-.33*\X) {\n};
	  }
	\end{tikzpicture}
	\end{document}
snippet arrows double-arrows
	% Double Arrows a la Chef
	% Author: Dominik Haumann
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Double Arrows a la Chef
	:Tags: Arrows;Decorations;Node Positioning;Block diagrams;Decorative drawings;Electrical engineering
	:Author: Dominik Haumann
	:Slug: double-arrows
	This example shows how to use double arrows with a very specific
	type of arrow head. Such double arrows are often used in control
	theory to distinct vectors from scalars. The title includes the
	addon "à la Chef" because Professors exist who want these arrows
	to look exactly like this. :-)
	\end{comment}
	\usetikzlibrary{arrows, decorations.markings}
	
	% for double arrows a la chef
	% adapt line thickness and line width, if needed
	\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
	   1 with {\arrow[semithick]{open triangle 60}}},
	   double distance=1.4pt, shorten >= 5.5pt,
	   preaction = {decorate},
	   postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
	\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
	
	\begin{document}
	
	\begin{tikzpicture}[thick]
	  \node[draw,rectangle] (a) {A};
	  \node[inner sep=0,minimum size=0,right of=a] (k) {}; % invisible node
	  \node[draw,rectangle,right of=k] (b) {B};
	  \node[draw,rectangle,below of=a] (c) {C};
	
	  % 1st pass: draw arrows
	  \draw[vecArrow] (a) to (b);
	  \draw[vecArrow] (k) |- (c);
	
	  % 2nd pass: copy all from 1st pass, and replace vecArrow with innerWhite
	  \draw[innerWhite] (a) to (b);
	  \draw[innerWhite] (k) |- (c);
	
	  % Note: If you have no branches, the 2nd pass is not needed
	\end{tikzpicture}
	
	\end{document}
snippet diagrams draw-fill-bezier-curves
	% LR constraints - Drawing and filling with arcs and Bezier curves
	% Author: Henri Menke
	\documentclass[tikz, border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: LR constraints - Drawing and filling with arcs and Bezier curves
	:Tags: Diagrams;Styles;Coordinate calculations;Computer Science
	:Author: Henri Menke
	:Slug: draw-fill-bezier-curves
	
	We use TikZ to reproduce a diagram  seen in an article
	"The Left-Right Planarity Test" by Ulrik Brandes.
	
	At first we adjust the bounding box by hand, because the control points
	of the bezier curves exceed the limits of the visible drawing.
	
	The code was written by Henri Menke and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{calc}
	\tikzset{
	    vertex/.style = {
	        circle,
	        fill      = black,
	        outer sep = 2pt,
	        inner sep = 1pt,
	    }
	}
	\begin{document}
	\begin{tikzpicture}[>=stealth]
	  % We need to adjust the bounding box manually
	  % as the control points enlarge it.
	  \path[use as bounding box] (-1,-0.5) rectangle (1.5,5.5);
	
	  \coordinate (o) at (0,0);
	  \node[below] at (o) {root};
	  \draw node[vertex] (a) at (0,1) {};
	  \draw node[vertex] (b) at (0,2) {};
	  \draw node[vertex] (c) at (0,3) {};
	  \draw node[vertex] (d) at (0,4) {};
	  \node[above] at (d) {$v$};
	
	  \draw (d) node[left] {$e_1$} -- (-0.5,4.5);
	  \filldraw[draw=blue, fill=blue!50]
	    (-0.5,4.5) .. controls (-1,5) and (-0.75,4.5) .. ($(c)+(180:4pt)$)
	    arc[start angle=180, end angle=270, radius=4pt]
	    -- ($(b)+(90:4pt)$) .. controls (-1,5) .. (-0.5,4.5);
	  \draw (d) node[right] {$e_2$} -- (0.5,4.5);
	  \filldraw[draw=red, fill=red!50]
	    (0.5,4.5) .. controls (1,5) and (0.75,4.5) .. ($(c)+(0:4pt)$)
	    arc[start angle=0, end angle=-90, radius=4pt]
	    -- ($(b)+(90:4pt)$) arc[start angle=90, end angle=0, radius=4pt]
	    ($(b)+(0:4pt)$) .. controls (1,5) .. (0.5,4.5);
	  \draw[red, thick, ->] (0.5,4.5) .. controls (1,5) .. ($(b)+(0:4pt)$);
	  \draw[->] (-0.5,4.5) .. controls (-1,5) and (3,7) .. (a);
	
	  \draw[->] (o) -- (a) (a) -- (b) (b) -- (c) (c) -- node[left] {$e$} (d);
	\end{tikzpicture}
	\end{document}
snippet graphs drawing-graphs
	% Drawing a graph using the PG 3.0 graphdrawing library
	% Author: Mark Wibrow
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Drawing a graph using the PG 3.0 graphdrawing library
	:Tags: Graphs;Trees;PGF 3.0
	:Author: Mark Wibrow
	:Slug: drawing-graphs
	
	PGF 3.0 offers a new convenient and capable library for drawing graphs.
	The so called `graphdrawin` library requires compiling via LuaTeX.
	
	The code was written by Mark Wibrow and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{graphdrawing}
	\usetikzlibrary{graphs}
	\usegdlibrary{trees}
	\begin{document}
	\begin{tikzpicture}[>=stealth, every node/.style={circle, draw, minimum size=0.75cm}]
	\graph [tree layout, grow=down, fresh nodes, level distance=0.5in, sibling distance=0.5in]
	    {
	        4 -> { 
	          3 -> { 1 -> { 5, " " }, 2,2 },
	          3 -> { 1, 2, 2 },
	          3 -> { 1, 2, 2 }
	        } 
	    };
	\end{tikzpicture}
	\end{document}
snippet vectors dva-vectors
	% Distance, velocity and acceleration vectors
	% Author: Jason Waskiewicz
	\documentclass{article}
	\usepackage[utf8]{inputenc}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Distance, velocity and acceleration vectors
	:Slug: dva-vectors
	
	\end{comment}
	
	\begin{document}
	\begin{tikzpicture}[scale=2,>=stealth]
	
	%Draw Circle radius 1 cm
	    \draw (0,0) circle (1cm);
	    
	%The foreach command counts the angle of the distance vectors and which distance vector
	    \foreach \angle/\count in {20/1,140/2,260/3}
	        {
	
	%Draws the 3 distance vectors
	        \draw [name=distance vectors,very thick,->] (
	            0,0) -- node[near start,fill=white] {$\vec{r}_{\count}$} (\angle:1cm);
	        
	%Draws the 3 velocity vectors at right angles to the distance vectors
	        \draw [name=velocity vectors,rotate around={90:(\angle:1cm)},very thick,->]
	            (\angle:1cm) -- node[fill=white] {$\vec{v}_{\count}$} (\angle:1.6cm) ;
	        
	%Draws the 3 acceleration vectors directed inward and offset slightly from the distance vectors
	        \draw [name=acceleration vectors,very thick,->]
	            (\angle+5:1cm) -- node[fill=white] {$\vec{a}_{\count}$} (\angle+15:0.3cm) ;
	    }
	
	\end{tikzpicture}
	\end{document}
snippet mathematical earth-orbit
	% The Earth's orbit around the Sun
	% Author: Julien Cretel, 25/02/2013
	\documentclass{beamer}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: The Earth's orbit around the Sun
	:Tags: Mathematical Engine;Shadings;Beamer;Physics;Astronomy
	:Author: David Fokkema
	:Slug: earth-orbit
	
	The Earth's orbit is an elliptical motion of the Earth around the Sun.
	This example calculates the distance between Earth and Sun, and the
	direction of the light hitting the Earth, and draws one complete
	step-by-step movement around the sun in a series of frames.
	This could be made to an animation, for example to an animated GIF
	or PNG or a PDF animation.
	\end{comment}
	\setbeamertemplate{navigation symbols}{}
	
	\begin{document}
	\begin{frame}[fragile]
	\frametitle{}
	\begin{center}
	  \begin{tikzpicture}[scale=3.5]
	  \setbeamercovered{invisible}
	  \pgfmathsetmacro{\Sunradius}{0.3}   % Sun radius
	  \pgfmathsetmacro{\Earthradius}{0.1} % Earth radius
	  \pgfmathsetmacro{\e}{0.25}          % Excentricity of the elliptical orbit
	  \pgfmathsetmacro{\b}{sqrt(1-\e*\e)} % Minor radius (major radius = 1)
	
	  % Draw the Sun at the right-hand-side focus
	  \shade[
	    top color=yellow!70,
	    bottom color=red!70,
	    shading angle={45},
	   ] ({sqrt(1-\b*\b)},0) circle (\Sunradius);
	  \visible<1>{
	    \draw ({sqrt(1-\b*\b)},-\Sunradius) node[below] {Sun};
	  }
	
	  % Draw the elliptical path of the Earth.
	  \draw[thin] (0,0) ellipse (1 and {\b});
	  	
	  % This function computes the direction in which light hits the Earth.
	  \pgfmathdeclarefunction{f}{1}{%
	    \pgfmathparse{
	      ((-\e+cos(#1))<0) * ( 180 + atan( \b*sin(#1)/(-\e+cos(#1)) ) ) 
	        +
	      ((-\e+cos(#1))>=0) * ( atan( \b*sin(#1)/(-\e+cos(#1)) ) ) 
	    }
	  }
	
	  % This function computes the distance between Earth and the Sun,
	  % which is used to calculate the varying radiation intensity on Earth.
	  \pgfmathdeclarefunction{d}{1}{%
	    \pgfmathparse{ sqrt((-\e+cos(#1))*(-\e+cos(#1))+\b*sin(#1)*\b*sin(#1)) }
	  }
							
	  % Produces a series of frames showing one revolution
	  % (the total number of frames is controlled by macro \N)
	  \pgfmathtruncatemacro{\N}{12}
	  \foreach \k in {0,1,...,\N}{
	    \pgfmathsetmacro{\theta}{360*\k/\N}
	      \pgfmathsetmacro{\radiation}{100*(1-\e)/(d(\theta)*d(\theta))}
	      \colorlet{Earthlight}{yellow!\radiation!blue}
	      \pgfmathparse{int(\k+1)}
	      \onslide<\pgfmathresult>{
	        % \onslide is used instead of \visible<.-(x)> and \pause,
	        % in order not to break header and footer.
	        \shade[
	          top color=Earthlight,
	          bottom color=blue,
	          shading angle={90+f(\theta)},
	        ] ({cos(\theta)},{\b*sin(\theta)}) circle (\Earthradius);
	        \visible<1>{
	          \draw ({cos(\theta)},{\b*sin(\theta)-\Earthradius}) node[below] {Earth};		
	        }
	      }
	    }
	  \end{tikzpicture}
	\end{center}
	\end{frame}
	\end{document}
snippet shading egg
	% An egg
	% Author: percusse
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{5pt}%
	%%%>
	\begin{comment}
	:Title: Egg
	:Tags: Shadings;Decorative drawings
	:Author: percusse
	:Slug: egg
	\end{comment}
	\usetikzlibrary{shadings}
	\definecolor{eggshell}{RGB}{252,230,201}
	\pgfdeclareradialshading{eggshading}{\pgfpoint{1cm}{1cm}}%
	{color(0cm)=(eggshell!80);
	color(0.5cm)=(brown!75!eggshell);
	color(0.7cm)=(brown);
	color(0.9cm)=(brown!70!black);
	color(1.2cm)=(black)
	}
	\pgfdeclareradialshading{eggshadow}{\pgfpointorigin}%
	{color(0cm)=(black);
	color(2mm)=(gray!80);
	color(3mm)=(gray!40);
	%color(0.3cm)=(black!5!white);
	color(7mm)=(white)
	}
	
	\begin{document}
	\begin{tikzpicture}
	\begin{scope}[yscale=0.93,transform shape]
	    \node[xscale=2,yscale=0.3,shading=eggshadow,circle,minimum size=7mm] at (0,2.75mm){};
	    \shade[shading=eggshading] (0,2.7mm)..controls (9mm,0.25cm) and (7mm,2cm)%
	    ..(0,20.5mm)..controls(-7mm,2cm) and (-9mm,2.5mm)..(0,2.7mm)--cycle;
	\end{scope}
	\end{tikzpicture}
	\end{document}
snippet physics electric-dipole
	% The electric dipole moment (p) in the water molecule 
	% Author: Jimi Oke
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: The electric dipole moment (p) in the water molecule
	:Tags: Physics
	:Author: Jimi Oke
	:Slug: electric-dipole
	
	The diagram shows the geometry of hydrogen and oxygen atoms
	in the water molecule, and the position of the dipole (p).
	Using known dimensions, we can calculate the energy of the dipole,
	and, consequently, the interaction energy between two molecules.
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[>=latex,scale=1.3]
	  \shade[ball color=gray!10!] (0,0) coordinate(Hp) circle (.9) ;
	  \shade[ball color=gray!10!] (2,-1.53) coordinate(O) circle (1.62) ;
	  \shade[ball color=gray!10!] (4,0) coordinate(Hm) circle (.9) ;
	  \draw[thick,dashed] (0,0) -- (2,-1.53) -- (4,0) ;
	  \draw[thick] (2,.2) -- (2,1.5) node[right]{$\mathbf{p}$} ;
	  \draw (2.48,-1.2) arc (33:142:.6)  ;
	  \draw (2,-.95) node[above]{$105^{\circ}$} ;
	  \draw (0,.2) node[left]{H$^+$} ;
	  \draw (4,.2) node[right]{H$^-$} ;
	  \draw (2,-1.63) node[below]{O$^{2-}$} ;
	  \foreach \point in {O,Hp,Hm}
	    \fill [black] (\point) circle (2pt) ;
	\end{tikzpicture}
	\end{document}
snippet fun emoticons
	% Author: Raoul Kessels
	\documentclass[a4paper,12pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Emoticons
	:Tags: Fun
	:Author: Raoul Kessels
	:Slug: emoticons
	This is just to have some fun, not really useful. Except when 
	you need to show that you can do in LaTeX what your ten years
	old son can do in MS Word.
	\end{comment}
	\usetikzlibrary{positioning}
	% The face style, can be changed
	\tikzset{face/.style={shape=circle,minimum size=4ex,shading=radial,outer sep=0pt,
	        inner color=white!50!yellow,outer color= yellow!70!orange}}
	%% Some commands to make the code easier
	\newcommand{\emoticon}[1][]{%
	  \node[face,#1] (emoticon) {};
	  %% The eyes are fixed.
	  \draw[fill=white] (-1ex,0ex) ..controls (-0.5ex,0.2ex)and(0.5ex,0.2ex)..
	        (1ex,0.0ex) ..controls ( 1.5ex,1.5ex)and( 0.2ex,1.7ex)..
	        (0ex,0.4ex) ..controls (-0.2ex,1.7ex)and(-1.5ex,1.5ex)..
	        (-1ex,0ex)--cycle;}
	\newcommand{\pupils}{
	  %% standard pupils
	  \fill[shift={(0.5ex,0.5ex)},rotate=80] 
	       (0,0) ellipse (0.3ex and 0.15ex);
	  \fill[shift={(-0.5ex,0.5ex)},rotate=100] 
	       (0,0) ellipse (0.3ex and 0.15ex);}
	
	\newcommand{\emoticonname}[1]{
	  \node[below=1ex of emoticon,font=\footnotesize,
	        minimum width=4cm]{#1};}
	\begin{document}
	\begin{tikzpicture}
	  \matrix {
	    \emoticon\pupils\emoticonname{basic}
	    %% mouth
	    \draw[thick] (-1ex,-1ex)
	                 ..controls (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  &
	    \emoticon\emoticonname{sad}
	    %% pupils
	    \fill[shift={( 0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-0.5ex)and(0.5ex,-0.5ex)..(1ex,-1ex);
	  &
	    \emoticon\emoticonname{neutral}
	    %% pupils
	    \fill[shift={( 0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-0.5ex,-1ex)--(0.5ex,-1ex);
	  \\
	    \emoticon\pupils\emoticonname{small smile}
	    %% mouth
	    \draw[thick] (-0.5ex,-1ex)
	                 ..controls (-0.25ex,-1.25ex)and(0.25ex,-1.25ex)..(0.5ex,-1ex);
	  &
	    \emoticon\pupils\emoticonname{big smile}
	    %% mouth
	    \draw[thick] (-1.5ex,-0.5ex)
	               ..controls (-0.7ex,-1.7ex)and(0.7ex,-1.7ex)..(1.5ex,-0.5ex);
	  & 
	    \emoticon\pupils\emoticonname{confused}
	    %% mouth
	    \draw[thick] (-1ex,-0.75ex)--(1ex,-1.25ex);
	  \\
	    \emoticon\pupils\emoticonname{sexy}
	    %% mouth
	    \draw[very thick,red,line cap=round] (-1ex,-1ex)
	               ..controls (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	    %% eyelashes
	    \draw (0.60ex,1.20ex)--(0.60ex,1.60ex)
	          (0.85ex,1.25ex)--(0.95ex,1.45ex)
	          (1.00ex,1.00ex)--(1.20ex,1.10ex)
	          (0.35ex,1.15ex)--(0.25ex,1.35ex)
	          (-0.60ex,1.20ex)--(-0.60ex,1.60ex)
	          (-0.85ex,1.25ex)--(-0.95ex,1.45ex)
	          (-1.00ex,1.00ex)--(-1.20ex,1.10ex)
	          (-0.35ex,1.15ex)--(-0.25ex,1.35ex);
	  & 
	    \emoticon\emoticonname{look up}
	    %% pupils
	    \fill[shift={( 0.5ex,1.1ex)},rotate= 80] (0,0) ellipse (0.15ex and 0.15ex);
	    \fill[shift={(-0.5ex,1.1ex)},rotate=100] (0,0) ellipse (0.15ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  & 
	    \emoticon\emoticonname{look down}
	    %% pupils
	    \fill[shift={( 0.5ex,0.25ex)},rotate= 80] (0,0) ellipse (0.15ex and 0.15ex);
	    \fill[shift={(-0.5ex,0.25ex)},rotate=100] (0,0) ellipse (0.15ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  \\
	    \emoticon\pupils\emoticonname{angry}
	    %% pupils
	    \fill[shift={( 0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.5ex,0.5ex)},rotate=90] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-0.5ex)and(0.5ex,-0.5ex)..(1ex,-1ex);
	    %% eyebrows
	    \draw[thick] (0.2ex,1.15ex)--(0.5ex,1.6ex)(-0.2ex,1.15ex)--(-0.5ex,1.6ex);
	  &
	    \emoticon\emoticonname{look left}
	    %% pupils
	    \fill[shift={( 0.25ex,0.5ex)},rotate=100] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.95ex,0.5ex)},rotate=100] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  &
	    \emoticon\emoticonname{look right}
	    %% pupils
	    \fill[shift={( 0.95ex,0.5ex)},rotate=80] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.25ex,0.5ex)},rotate=80] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1.0ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  \\
	    \emoticon\pupils\emoticonname{blush}
	    %% mouth
	    \draw[thick] (-0.5ex,-1ex)
	                 ..controls (-0.25ex,-1.25ex)and(0.25ex,-1.25ex)..(0.5ex,-1ex);
	    %% blush
	    \shade[shading=radial,inner color=white!50!red,
	        outer color= yellow!80!orange] ( 1ex,-0.5ex) circle (0.4ex);
	    \shade[shading=radial,inner color=white!50!red,
	        outer color= yellow!80!orange] (-1ex,-0.5ex) circle (0.4ex);
	  &
	    \emoticon\pupils\emoticonname{\LaTeX}
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	    %% LaTeX
	    \node[fill opacity=0.5,right] at(0.4ex,-1ex){\LaTeX};
	  &
	    \emoticon\pupils\emoticonname{Ti\emph{k}z}
	    %% mouth
	    \draw[thick] (-0.5ex,-1ex)
	         ..controls (-0.25ex,-1.25ex)and(0.25ex,-1.25ex)..(0.5ex,-1ex);
	    %% Tikz
	    \node[fill opacity=0.5,right] at(0.4ex,-1ex){Ti\emph{k}z};
	  \\
	    \emoticon[inner color=white!50!green,outer color=green!70!red]
	    \pupils\emoticonname{martian}
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	  &
	    \emoticon[inner color=white!50!red,outer color= red!70!red!90!black]
	    \pupils\emoticonname{devilish}
	    %% mouth
	    \draw[thick,line cap=round] (-1ex,-1ex)
	         ..controls (-0.5ex,-1.5ex)and(0.5ex,-1.5ex)..(1ex,-1ex);
	    %% tail
	    \draw[very thick,-stealth,red!90!black] (emoticon.330)--++(330:0.01ex)
	         ..controls (3ex,-3ex)and(3.5ex,1ex)..(4ex,-2ex);
	    %% horns
	    \draw ( emoticon.80)..controls ( 0.6ex,2.4ex)..( 1ex,2.5ex)
	          ..controls ( 0.8ex,2.3ex)..(emoticon.70);
	    \draw (emoticon.100)..controls (-0.6ex,2.4ex)..(-1ex,2.5ex)
	          ..controls (-0.8ex,2.3ex)..(emoticon.110); 
	  &
	    \emoticon\emoticonname{almost crying}
	    %% pupils
	    \fill[shift={( 0.5ex,0.5ex)},rotate=105] (0,0) ellipse (0.3ex and 0.15ex);
	    \fill[shift={(-0.5ex,0.5ex)},rotate= 75] (0,0) ellipse (0.3ex and 0.15ex);
	    %% mouth
	    \draw[thick] (-1ex,-1ex)..controls
	        (-0.5ex,-0.8ex)and(0.5ex,-0.8ex)..(1ex,-1ex);
	  \\ };
	\end{tikzpicture}
	\end{document}
snippet random enderman
	% Enderman
	% Author: István Szántai (szantaii)
	\documentclass[tikz]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Enderman
	:Tags: Random;3D;LuaTeX;Games;Fun
	:Author: István Szántai
	:Slug: enderman
	
	Endermen are mysterious creepy creatures in the game Minecraft.
	Staring at them can trigger an attack, so be careful with this code.
	
	http://minecraft.gamepedia.com/Enderman
	
	Lua was chosen for easier programming, so LuaLaTeX is required.
	tikz‑3dplot is used for 3d visualization.
	
	http://sidenote.hu/2014/07/20/drawing-an-enderman-in-latex/
	\end{comment}
	\usepackage{luacode}
	\usepackage{tikz-3dplot}
	
	\definecolor{endermanblack}{HTML}{000000}
	\definecolor{endermangray}{HTML}{161616}
	%\definecolor{endermanpurple}{HTML}{CC00FA}
	%\definecolor{endermanlightpurple}{HTML}{E079FA}
	\definecolor{endermanpurple}{HTML}{FF9EFF}
	\definecolor{endermanlightpurple}{HTML}{FFC9FF}
	\definecolor{particlecolor}{HTML}{DF4AF8}
	
	\begin{luacode*}
	    function draw_coordinate_system()
	        tex.sprint("\\draw[white!50!gray,thick,->] (0,0,0) -- " ..
	            "(3,0,0) node[text=white!50!gray,anchor=north east]{$x$};")
	        tex.sprint("\\draw[white!50!gray,thick,->] (0,0,0) -- " ..
	            "(0,3,0) node[text=white!50!gray,anchor=west]{$y$};")
	        tex.sprint("\\draw[white!50!gray,thick,->] (0,0,0) -- " ..
	            "(0,0,3) node[text=white!50!gray,anchor=south]{$z$};")
	    end
	    
	    function matrix_scalar_multiplication(matrix, scalar)
	        local rows = #matrix
	        local cols = #matrix[1]
	        local tmp_matrix = {}
	        
	        for i = 1, rows do
	            tmp_matrix[i] = {}
	            for j = 1, cols do
	                tmp_matrix[i][j] = matrix[i][j] * scalar
	            end
	        end
	        
	        return tmp_matrix
	    end
	    
	    function shift_coordinates(matrix, array)
	        local matrix_rows = #matrix
	        local matrix_cols = #matrix[1]
	        local array_length = #array
	        local tmp_matrix = {}
	        
	        if matrix_cols == array_length then
	            for i = 1, matrix_rows do
	                tmp_matrix[i] = {}
	                for j = 1, matrix_cols do
	                    tmp_matrix[i][j] = matrix[i][j] + array[j]
	                end
	            end
	            
	            return tmp_matrix
	        else
	            return nil
	        end
	    end
	    
	    function tikzcube(x, y, z, color)
	        local side_1 = {{1, 1, -1},
	            {-1, 1, -1},
	            {-1, -1, -1},
	            {1, -1, -1}}
	        local side_2 = {{-1, 1, -1},
	            {-1, 1, 1},
	            {-1, -1, 1},
	            {-1, -1, -1}}
	        local side_3 = {{-1, -1, -1},
	            {1, -1, -1},
	            {1, -1, 1},
	            {-1, -1, 1}}
	        local side_4 = {{1, 1, -1},
	            {-1, 1, -1},
	            {-1, 1, 1},
	            {1, 1, 1}}
	        local side_5 = {{1, -1, -1},
	            {1, 1, -1},
	            {1, 1, 1},
	            {1, -1, 1}}
	        local side_6 = {{1, 1, 1},
	            {-1, 1, 1},
	            {-1, -1, 1},
	            {1, -1, 1}}
	        local cube_sides = {side_1, side_2, side_3, side_4, side_5, side_6}
	        local tex_cube = ""
	        
	        for i = 1, #cube_sides do
	            tex_cube = tex_cube ..
	                "\\draw[ultra thin, fill=" .. color .. "] "
	            
	            local current_side = matrix_scalar_multiplication(cube_sides[i],
	                0.5)
	            current_side = shift_coordinates(current_side, {x, y, z})
	            
	            local current_side_rows = #current_side
	            local current_side_cols = #current_side[1]
	            
	            for j = 1, current_side_rows do
	                for k = 1, current_side_cols do
	                    if k == 1 then
	                        tex_cube = tex_cube .. "("
	                    end
	                    
	                    tex_cube = tex_cube .. current_side[j][k]
	                    
	                    if k ~= current_side_cols then
	                        tex_cube = tex_cube .. ", "
	                    else
	                        tex_cube = tex_cube .. ") -- "
	                    end
	                end
	            end
	            
	            tex_cube = tex_cube .. "cycle;"
	            
	        end
	        
	        tex.sprint(tex_cube)
	    end
	    
	    function draw_head(x_pos, y_pos, z_pos)
	        local color
	        for x = x_pos, x_pos + 7, 1 do
	            for y = y_pos, y_pos + 7, 1 do
	                for z = z_pos, z_pos + 6, 1 do
	                    if (x == x_pos or x == x_pos + 7 or
	                        y == y_pos or y == y_pos + 7 or
	                        z == z_pos or z == z_pos + 6) and
	                        not (x == x_pos + 7 and y > y_pos
	                            and y < y_pos + 7 and z == z_pos) then
	                        
	                        if x == x_pos + 7 and
	                            (y == y_pos or y == y_pos + 2 or
	                            y == y_pos + 5 or y == y_pos + 7) and
	                            z == z_pos + 2 then
	                            
	                            tikzcube(x, y, z, "endermanlightpurple")
	                        elseif x == x_pos + 7 and
	                            (y == y_pos + 1 or y == y_pos + 6) and
	                            z == z_pos + 2 then
	                            
	                            tikzcube(x, y, z, "endermanpurple")
	                        else
	                            if math.random(0, 8) < 6 then
	                                color = "endermangray"
	                            else
	                                color = "endermanblack"
	                            end
	                            tikzcube(x, y, z, color)
	                        end
	                    end
	                end
	            end
	        end
	    end
	    
	    function draw_bodypart(x_pos, y_pos, z_pos, x_length, y_length, z_length)
	        local color
	        for x = x_pos, x_pos + x_length - 1, 1 do
	            for y = y_pos, y_pos + y_length - 1, 1 do
	                for z = z_pos, z_pos + z_length - 1, 1 do
	                    if x == x_pos or x == x_pos + x_length - 1 or
	                        y == y_pos or y == y_pos + y_length - 1 or
	                        z == z_pos or z == z_pos + z_length - 1 then
	                        
	                        if math.random(0, 8) < 6 then
	                            color = "endermangray"
	                        else
	                            color = "endermanblack"
	                        end
	                        tikzcube(x, y, z, color)
	                    end
	                end
	            end
	        end
	    end
	    
	    function draw_particles(x_min, x_max, y_min, y_max, z_min, z_max)
	        local x
	        local y
	        local z
	        local black_amount
	        local particle_size
	        local particle_scale
	        local particle_count = math.random(30, 40)
	        local particle
	        
	        for i = 1, particle_count, 1 do
	            
	            x = math.random(x_min, x_max)
	            y = math.random(y_min, y_max)
	            z = math.random(z_min, z_max)
	            
	            particle_size = math.random(1, 8)
	            particle_scale = math.random(20, 100) / 100
	            black_amount = math.random(0, 25)
	            
	            tex.sprint("\\tdplottransformmainscreen{" .. x .. "}{" .. y ..
	                "}{" .. z .. "}")
	            for i = 0, particle_size - 1, 1 do
	                for j = 0, particle_size - 1, 1 do
	                    if math.random(0, 1) == 0 and
	                        ((i ~= 0 and j ~= 0) and
	                        (i ~= particle_size - 1 and j ~= 0) and
	                        (j ~= particle_size - 1 and i ~= 0) and
	                        (i ~= particle_size - 1 and j ~= particle_size - 1))
	                            then
	                        
	                        particle = "\\filldraw[black!" .. black_amount ..
	                            "!particlecolor, tdplot_screen_coords] (" ..
	                            i * particle_scale * 0.25 .. "+\\tdplotresx, " ..
	                            j * particle_scale * 0.25 .. "+\\tdplotresy) " ..
	                            "rectangle +(" .. particle_scale .. "*0.25, " ..
	                            particle_scale .. "*0.25);"
	                        
	                        tex.sprint(particle)
	                    end
	                end
	            end
	        end
	    end
	    
	    function draw_enderman(x_rotation, z_rotation)
	        tex.sprint("\\tdplotsetmaincoords{" .. x_rotation .. "}{" ..
	            z_rotation .. "}")
	        tex.sprint("\\begin{tikzpicture}[tdplot_main_coords]")
	        
	        math.randomseed(os.time())
	        
	        draw_bodypart(3, -2, -30, 2, 2, 30) -- right arm
	        draw_bodypart(3, 1, -42, 2, 2, 30) -- right leg
	        draw_bodypart(3, 5, -42, 2, 2, 30) -- left leg
	        draw_bodypart(2, 0, -12, 4, 8, 12) -- body
	        draw_bodypart(3, 8, -30, 2, 2, 30)-- left arm
	        draw_head(0, 0, 0) -- head
	        
	        draw_particles(-10, 10, -10, 10, -44, 10)
	        -- draw_coordinate_system()
	        
	        tex.sprint("\\end{tikzpicture}")
	    end
	\end{luacode*}
	
	\begin{document}
	\luadirect{draw_enderman(70, 130)}
	\end{document}
snippet level energy-level-diagram
	% Simple level diagram, resized and in a figure environment.
	% Mark S. Everitt, 2009
	
	\documentclass[10pt]{article}
	
	% I only need the arrows for this one.
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage,floats]{preview}
	%\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Energy level diagram
	
	A simple level diagram with some transitions.
	\end{comment}
	\usetikzlibrary{arrows}
	
	% Nice captions.
	\usepackage[hang,small,bf]{caption}
	\setlength{\captionmargin}{25pt}
	
	% New commands to keep things tidy.
	\newcommand{\ket}[1]{$\left|#1\right\rangle$}
	\newcommand{\Om}[1]{\small $\omega_{#1}$}
	\newcommand{\De}[1]{$\Delta_{#1}$}
	\newcommand{\Ga}[1]{$\Gamma_{#1}$}
	
	\begin{document}
	
	% Place the TikZ picture in a figure environment.
	\begin{figure}
	\centerline{
	  % Resize it to 5cm wide.
	  \resizebox{7cm}{!}{
	    \begin{tikzpicture}[
	      scale=0.5,
	      level/.style={thick},
	      virtual/.style={thick,densely dashed},
	      trans/.style={thick,<->,shorten >=2pt,shorten <=2pt,>=stealth},
	      classical/.style={thin,double,<->,shorten >=4pt,shorten <=4pt,>=stealth}
	    ]
	    % Draw the energy levels.
	    \draw[level] (2cm,-2em) -- (0cm,-2em) node[left] {\ket{a}};
	    \draw[level] (2cm,11em) -- (4cm,11em) node[midway,above] {\ket{b}};
	    \draw[level] (4cm,-11em) -- (6cm,-11em) node[right] {\ket{c}};
	    % Draw the virtual levels.
	    \draw[virtual] (2cm,8em) -- (4cm,8em) node[midway,above] {\De{1}};
	    \draw[virtual] (4cm,-8em) -- (6cm,-8em) node[midway,below] {\De{2}};
	    \draw[virtual] (2cm,-5em) -- (0cm,-5em) node[midway,above] {\De{3}};
	    % Draw the transitions.
	    \draw[trans] (1cm,-2em) -- (2.5cm,8em) node[midway,left] {\Om{1}};
	    \draw[trans] (3.5cm,8em) -- (5cm,-8em) node[midway,right] {\Om{2}};
	    \draw[classical] (4.5cm,-8em) -- (1.5cm,-5em) node[midway,below] {\Ga{}};
	    \end{tikzpicture}
	  }
	}
	\caption{A level diagram with some transitions drawn in TikZ, resized,
	                and placed in a figure environment.}
	\end{figure}
	
	\end{document}
snippet diagrams energy-levels
	% Energy level diagrams - illustrating Hund's rule
	% Author: Henri Menke
	\documentclass[tikz, border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Energy level diagrams - illustrating Hund's rule
	:Tags: Diagrams;Styles;Foreach;Callouts;Physics
	:Author: Henri Menke
	:Slug: energy-levels
	
	Here we illustrate Hund's rules, which is a set of rules in atomic physics
	written by the German physicist Friedrich Hund. They are used to determine
	the term symbol corresponding to the ground state of a multi-electron atom.
	
	All the coloring is done using styles so it is easy to change
	the style of the drawing.
	
	The code was written by Henri Menke and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{shapes.callouts}
	\tikzset{
	  level/.style   = { ultra thick, blue },
	  connect/.style = { dashed, red },
	  notice/.style  = { draw, rectangle callout, callout relative pointer={#1} },
	  label/.style   = { text width=2cm }
	}
	\begin{document}
	\begin{tikzpicture}
	   % Draw all levels
	  \draw[level] (0,0) -- node[above] {4p4d} (2,0);
	
	  \draw[connect] (2,0)  -- (3,-2) (2,0) -- (3,3);
	  \draw[level]   (3,3)  -- node[above] {$S=0$} node[below] {(Singlets)} (5,3);
	  \draw[level]   (3,-2) -- node[above] {$S=1$} node[below] {(Triplets)} (5,-2);
	
	  \draw[connect] (5,3)    -- (6,4.5) (5,3) -- (6,3.5) (5,3) -- (6,1.5);
	  \draw[connect] (5,-2)   -- (6,-0.5) (5,-2) -- (6,-1.5) (5,-2) -- (6,-3.5);
	  \draw[level]   (6,4.5)  -- node[above] {${}^1P$} (8,4.5);
	  \draw[level]   (6,3.5)  -- node[above] {${}^1D$} (8,3.5);
	  \draw[level]   (6,1.5)  -- node[above] {${}^1F$} (8,1.5);
	  \draw[level]   (6,-0.5) -- node[above] {${}^3P$} (8,-0.5);
	  \draw[level]   (6,-1.5) -- node[above] {${}^3D$} (8,-1.5);
	  \draw[level]   (6,-3.5) -- node[above] {${}^3F$} (8,-3.5);
	
	  \draw[connect] (8,4.5) -- (9,4.5) (8,3.5) -- (9,3.5) (8,1.5) -- (9,1.5);
	  \draw[level]   (9,4.5) -- (11,4.5) node[right] {${}^1P_1$};
	  \draw[level]   (9,3.5) -- (11,3.5) node[right] {${}^1D_2$};
	  \draw[level]   (9,1.5) -- (11,1.5) node[right] {${}^1F_3$};
	
	  \draw[connect] (8,-0.5) -- (9,-0.5) (8,-0.5) -- (9,-0.8) (8,-0.5) -- (9,-1)
	                 (8,-1.5) -- (9,-1.6) (8,-1.5) -- (9,-1.8) (8,-1.5) -- (9,-1.3)
	                 (8,-3.5) -- (9,-3.8) (8,-3.5) -- (9,-3.6) (8,-3.5) -- (9,-3.1);
	  \foreach \i/\j in {2/-0.5, 1/-0.8, 0/-1} {
	    \draw[level] (9,\j) -- (11,\j) node[right] {\scriptsize $\i$};
	  }
	  \node[level, right] at (11.5,-0.8) {${}^3P_{0,1,2}$};
	  \foreach \i/\j in {3/-1.3, 2/-1.6, 1/-1.8} {
	    \draw[level] (9,\j) -- (11,\j) node[right] {\scriptsize $\i$};
	  }
	  \node[level, right] at (11.5,-1.6) {${}^3D_{1,2,3}$};
	  \foreach \i/\j in {4/-3.1, 3/-3.6, 2/-3.8} {
	    \draw[level] (9,\j) -- (11,\j) node[right] {\scriptsize $\i$};
	  }
	  \node[level, right] at (11.5,-3.6) {${}^3F_{2,3,4}$};
	
	  % Draw labels
	  \node[label] at (4,5.5)  {Spin-spin interaction};
	  \node[label] at (7,5.5)  {Orbit-orbit interaction};
	  \node[label] at (10,5.5) {Spin-orbit interaction};
	
	  % Draw annotations
	  \node[notice={(0.5,0.5)}, text width=1.5cm] at (2,-3) {Hunds rule \# 1};
	  \node[notice={(0,1)}] at (4,-4) {Why is triplet lower};
	  \node[notice={(0.7,0.7)}, text width=3cm] at (6,-5)
	    {Why is higher angular momentum state lower energy?};
	  \node[notice={(-0.9,0.9)}, text width=1.5cm] at (9,-5) {Hunds rule \# 2};
	  \node[notice={(-0.2,1.6)}, text width=3cm] at (11,-6.5)
	    {Why is low total angular momentum state lower in energy?};
	  \node[notice={(-0.5,0.5)}, text width=1.5cm] at (12,-5) {Hunds rule \# 3};
	\end{tikzpicture}
	\end{document}
snippet entity entity-relationship-diagram
	% Author: Pável Calado
	% the tikz-er2.sty package is available at:
	% http://tagus.inesc-id.pt/~pcalado/tikzer2/tikz-er2.html
	
	\documentclass[a4paper,12pt,landscape]{article}
	
	\usepackage[landscape]{geometry}
	\usepackage{graphicx}
	
	\usepackage{tikz-er2}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Entity-Relationship diagram
	
	Example of an Entity-Relationship diagram, built using Tikz and the tikz-er2 package (available at `<http://tagus.inesc-id.pt/~pcalado/tikzer2/tikz-er2.html>`_)
	
	\end{comment}
	
	\begin{document}
	
	\thispagestyle{empty}
	
	\usetikzlibrary{positioning}
	\usetikzlibrary{shadows}
	
	\tikzstyle{every entity} = [top color=white, bottom color=blue!30, 
	                            draw=blue!50!black!100, drop shadow]
	\tikzstyle{every weak entity} = [drop shadow={shadow xshift=.7ex, 
	                                 shadow yshift=-.7ex}]
	\tikzstyle{every attribute} = [top color=white, bottom color=yellow!20, 
	                               draw=yellow, node distance=1cm, drop shadow]
	\tikzstyle{every relationship} = [top color=white, bottom color=red!20, 
	                                  draw=red!50!black!100, drop shadow]
	\tikzstyle{every isa} = [top color=white, bottom color=green!20, 
	                         draw=green!50!black!100, drop shadow]
	
	\centering
	\scalebox{.87}{
	\begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
	
	  \node[entity] (emp) {Employee};
	  \node[attribute] (ename) [above=of emp] {Name} edge (emp);
	  \node[attribute] (enum) [above right=of emp] {\key{Number}} edge (emp);
	
	  \node[isa] (isa) [below=1cm of emp] {ISA} edge (emp);
	
	  \node[entity] (mec) [below left=1cm of isa] {Mechanic} edge (isa);
	  \node[entity] (sal) [below right=1cm of isa] {Salesman} edge (isa);
	
	  \node[relationship] (does) [left=of mec] {Does} edge (mec);
	
	  \node[weak entity] (rep) [below=of does] {RepairJob} edge (does);
	  \node[attribute] (rnum) [left=of rep] {\discriminator{Number}} edge (rep);
	  \node[attribute] (desc) [above left=of rep] {Description} edge (rep);
	  \node[attribute] (cost) [below left=of rep] {Cost} edge (rep);
	  \node[attribute] (mat) [left=0.5cm of cost] {Parts} edge (cost);
	  \node[attribute] (work) [below left=0.5cm of cost] {Work} edge (cost);
	
	  \node[ident relationship] (reps) [below=of rep] {Repairs} edge [total] (rep);
	
	  \node[entity] (car) [right=of reps] {Car} edge [<-] (reps);
	  \node[attribute] (lic) [above=of car] {\key{License}} edge (car);
	  \node[attribute] (mod) [below=of car] {Model} edge (car);
	  \node[attribute] (year) [below right=of car] {Year} edge (car);
	  \node[attribute] (manu) [below left=1.5cm of car] {Manufacturer} edge (car);
	  
	  \node[relationship] (buy) [below=of sal] {Buys};
	  \node[attribute] (pri) [above left=of buy] {Price} edge (buy);
	  \node[attribute] (sdate) [left=of buy] {Date} edge (buy);
	  \node[attribute] (bval) [below left=of buy] {Value} edge (buy);
	
	  \node[relationship] (sel) [right=of buy] {Sells};
	  \node[attribute] (sdate) [above right=of sel] {Date} edge (sel);
	  \node[derived attribute] (sval) [right=of sel] {Value} edge (sel);
	  \node[attribute] (com) [below right=of sel] {Comission} edge (sel);
	  
	  \draw[link] (car.10) -| (buy) (buy) edge (sal);
	  \draw[link] (car.-10) -| (sel) (sel) |- (sal);
	
	  \node[entity] (cli) [below right=0.5cm and 3.7cm of car] {Client};
	  \node[attribute] (cid) [right=of cli] {\key{ID}} edge (cli);
	  \node[attribute] (cname) [below left=of cli] {Name} edge (cli);
	  \node[multi attribute] (cphone) [below right=of cli] {Phone} edge (cli);
	  \node[attribute] (cadd) [below=of cli] {Address} edge (cli);
	
	  \draw[link] (cli.70) |- node [pos=0.05, auto, swap] {buyer} (sel);
	  \draw[link] (cli.110) |- node [pos=0.05, auto] {seller} (buy);
	
	\end{tikzpicture}
	}
	
	\end{document}
snippet epc epc-flow-charts
	% EPC flow charts
	% Author: Fabian Schuh
	\documentclass{minimal}
	
	\usepackage{pgf}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  EPC flow charts
	:Grid: 1x2
	
	
	\end{comment}
	\usepackage[utf8]{inputenc}
	\usetikzlibrary{arrows,automata}
	\usetikzlibrary{positioning}
	
	
	\tikzset{
	    state/.style={
	           rectangle,
	           rounded corners,
	           draw=black, very thick,
	           minimum height=2em,
	           inner sep=2pt,
	           text centered,
	           },
	}
	
	\begin{document}
	
	\begin{tikzpicture}[->,>=stealth']
	
	 % Position of QUERY 
	 % Use previously defined 'state' as layout (see above)
	 % use tabular for content to get columns/rows
	 % parbox to limit width of the listing
	 \node[state] (QUERY) 
	 {\begin{tabular}{l}
	  \textbf{Query}\\
	  \parbox{4cm}{\begin{itemize}
	   \item Start
	   \item Parameter $Q$
	   \item Zufallszahl aus \mbox{$[0, 2^Q-1]$} in Slotzähler $SC$
	  \end{itemize}
	  }\\[4em]
	  \textbf{QueryAdjust}\\
	  \parbox{4cm}{\begin{itemize}
	   \item Variiere Q
	   \item neue Zufallszahl
	  \end{itemize}
	  }
	 \end{tabular}};
	  
	 % State: ACK with different content
	 \node[state,    	% layout (defined above)
	  text width=3cm, 	% max text width
	  yshift=2cm, 		% move 2cm in y
	  right of=QUERY, 	% Position is to the right of QUERY
	  node distance=6.5cm, 	% distance to QUERY
	  anchor=center] (ACK) 	% posistion relative to the center of the 'box'
	 {%
	 \begin{tabular}{l} 	% content
	  \textbf{Ack}\\
	  \parbox{2.8cm}{Bestätigen mit $RN_{16}$}
	 \end{tabular}
	 };
	 
	 % STATE QUERYREP
	 \node[state,
	  below of=ACK,
	  yshift=-2cm,
	  anchor=center,
	  text width=3cm] (QUERYREP) 
	 {%
	 \begin{tabular}{l}
	  \textbf{QueryRep}\\
	  \parbox{2.8cm}{Dekrementiere Slotzähler}
	 \end{tabular}
	 };
	
	 % STATE EPC
	 \node[state,
	  right of=ACK,
	  node distance=5cm,
	  anchor=center] (EPC) 
	 {%
	 \begin{tabular}{l}
	  Antwort: \textbf{EPC}\\
	  \parbox{4cm}{Mit nächstem \mbox{\textbf{QueryRep}} als "`inventoried"' markieren.}
	 \end{tabular}
	 };
	
	 % draw the paths and and print some Text below/above the graph
	 \path (QUERY) 	edge[bend left=20]  node[anchor=south,above]{$SC_n=0$}
	                                    node[anchor=north,below]{$RN_{16}$} (ACK)
	 (QUERY)     	edge[bend right=20] node[anchor=south,above]{$SC_n\neq 0$} (QUERYREP)
	 (ACK)       	edge                                                     (EPC)
	 (EPC)       	edge[bend left]                                          (QUERYREP)
	 (QUERYREP)  	edge[loop below]    node[anchor=north,below]{$SC_n\neq 0$} (QUERYREP)
	 (QUERYREP)  	edge                node[anchor=left,right]{$SC_n = 0$} (ACK);
	
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[->,>=stealth']
	
	 % First node
	 % Use previously defined 'state' as layout (see above)
	 % use tabular for content to get columns/rows
	 % parbox to limit width of the listing
	 \node[state] (QUERY) 
	 {\begin{tabular}{l}
	  \textbf{Query}\\
	  \parbox{4cm}{\begin{itemize}
	   \item Start
	   \item Codelänge $L$
	   \item Erzeuge Zufallszahl $i$ aus $[0 \; 2^{Q-1}]$
	   \item Tabelle $T_P$ mit Generatorparameter
	  \end{itemize}
	  \begin{tabular}{l|l|l|l}
	   $i$ & $P_1$ & $P_2$ & $i$ \\\hline
	   $1$ & $45$ & $75$ & $1$\\
	   $2$ & $78$ & $33$ & $1$\\
	   $3$ & $25$ & $38$ & $1$\\
	   \ldots & \ldots & \ldots
	  \end{tabular}
	  }\\[4em]
	  \textbf{QueryAdjust}\\
	  \parbox{4cm}{Wähle neue Spreizsequenz}
	 \end{tabular}};
	
	 % Next node: RAKE
	 \node[state,       % layout (defined above)
	 node distance=6cm,     % distance to QUERY
	 text width=3cm,        % max text width
	 right of=QUERY,        % Position is to the right of QUERY
	 yshift=+3cm] (RAKE)    % move 3cm in y
	 {%                     % posistion relative to the center of the 'box'
	 \begin{tabular}{l}     % content
	  \textbf{RAKE}\\
	  \parbox{2.8cm}{Paralleles Entspreizen aller Sequenzen aus $T_P$}
	 \end{tabular}
	 };
	
	 % STATE ACK
	 \node[state,
	 right of=RAKE,
	 node distance=5cm,
	 text width=3cm] (ACK) 
	 {%
	 \begin{tabular}{l}
	  \textbf{ACK}\\
	  \parbox{2.8cm}{Bestätigen mit $RN_{16}$}
	 \end{tabular}
	 };
	
	 % STATE EPC
	 \node[state,
	 below of=ACK,
	 node distance=5cm] (EPC) 
	 {%
	 \begin{tabular}{l}
	  Antwort: \textbf{EPC}\\
	  \parbox{4cm}{Produktcode entspreizen und erfassen}
	 \end{tabular}
	 };
	
	 % draw the paths and and print some Text below/above the graph
	 \path (QUERY) edge[bend left=50]  node[anchor=south,above,text width=4cm]
	                   {
	                   \begin{itemize}
	                    \item Wähle Zeile $i$ aus $T_P$
	                    \item sende $RN_{16}$ mit $C_i$
	                   \end{itemize}
	                   } (RAKE)
	 (RAKE) edge                    (ACK)
	 (ACK)  edge                    node[anchor=east,right,text width=3cm,xshift=1em]
	                  {
	                  \begin{itemize}
	                   \item $RN_{16}$ empfangen
	                   \item Sende EPC mit $C_i$
	                   \item markiere Tag als "`inventoried"'
	                  \end{itemize}
	                  } (EPC)
	
	 (ACK)  edge[bend left=45] node[anchor=north,below,text width=4cm,yshift=-2em,xshift=-2em]
	                  {\begin{itemize}
	                   \item $RN_{16}$ falsch empfangen
	                   \item Vereinbare neue Sequenz $C_i$
	                  \end{itemize}
	                  } (QUERY)
	 ;
	\end{tikzpicture}
	\end{document}
snippet code eps2pgf
	\documentclass{article}%
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: eps2pgf
	:Tags: Code generation
	:Grid: 1x2
	
	
	Eps2pgf_ is a PostScript interpreter that converts EPS figures to PGF code for 
	inclusion in LaTeX documents. The author is `Paul Wagenaars`_. 
	
	Eps2pgf_ is a Java command line tool. Here is an example on how to create a PGF version
	of the well known PostScript tiger::
	
	    $ java -jar eps2pgf.jar tiger.eps -o tiger.pgf
	
	To display the tiger you have to include it in a LaTeX document:
	
	.. sourcecode:: latex
	
	    \documentclass{article}
	    \usepackage{pgf}
	    \begin{document}
	        \input{tiger.pgf}
	    \end{document}
	
	.. figure:: #eps2pgf1.png
	
	The generated PGF code can be found in the file `tiger.pgf`_. 
	
	The most interesting part of eps2pgf is that it allows you to replace text in the EPS figure with
	arbitrary LaTeX markup. It is in fact an alternative to using tools like PSfrag_, and it is
	even compatible with PSfrag_. See the documentation for more details. 
	
	One application of eps2pgf is to annotate Matlab plots. Here is an example:
	
	.. sourcecode:: matlab
	
	    theta=0:0.05:5;
	    y=sin(theta.^2);
	    plot(theta,y);
	    ylabel('\tex[cc][]{$y$}')
	    xlabel('\tex[cc][]{$\theta$}')
	    title('\tex[cc][]{$\sin\theta^2$}')
	    text(1,0,'\tex{\LaTeX}')
	
	The ``\tex{...}`` syntax allows you to insert raw LaTeX code in your figure. After you have
	saved the above figure as an eps file, you can generate a pgf version using::
	
	    $ java -jar eps2pgf.jar plot.eps -m directcopy -o plot.pgf
	
	.. figure:: #eps2pgf2.png
	
	You can find the generated pgf code in the file `plot.pgf`_. Matlab users may also
	be interested in the script Mathfig2PGF_ written by eps2pgf's author. 
	
	The output from eps2pgf is low level pgf commands. This can make it a bit difficult to modify
	the generated code and to use higher level TikZ commands. The tool seems to be actively 
	developed, so I am sure that future version will offer tighter integration with TikZ. 
	
	.. _eps2pgf: http://sourceforge.net/projects/eps2pgf/
	.. _tiger.pgf: tiger.pgf
	.. _plot.pgf: plot.pgf
	.. _PSfrag: http://en.wikipedia.org/wiki/PSfrag
	.. _Paul Wagenaars: http://www.wagenaars.org/
	.. _Mathfig2PGF: http://www.mathworks.com/matlabcentral/fileexchange/loadFile.do?objectId=12962
	
	\end{comment}
	
	\begin{document}
	
	\input{tiger.pgf}
	% Excerpt from tiger.pgf:
	%% Created by Eps2pgf 0.6.0 (build on 2008-02-04) on Fri Apr 18 08:15:18 CEST 2008
	%\begin{pgfpicture}
	%\pgfpathmoveto{\pgfpoint{0.6cm}{6.033cm}}
	%\pgfpathlineto{\pgfpoint{20.002cm}{6.033cm}}
	%\pgfpathlineto{\pgfpoint{20.002cm}{26.07cm}}
	%\pgfpathlineto{\pgfpoint{0.6cm}{26.07cm}}
	%\pgfpathclose
	%\pgfusepath{clip}
	%\begin{pgfscope}
	%\definecolor{eps2pgf_color}{gray}{0.8}\pgfsetstrokecolor{eps2pgf_color}\pgfsetfillcolor{eps2pgf_color}
	%\pgfpathmoveto{\pgfpoint{0.6cm}{6.033cm}}
	%\pgfpathlineto{\pgfpoint{20.002cm}{6.033cm}}
	%\pgfpathlineto{\pgfpoint{20.002cm}{26.07cm}}
	%\pgfpathlineto{\pgfpoint{0.6cm}{26.07cm}}
	%\pgfpathclose
	%\pgfusepath{fill}
	% ...
	
	\input{plot.pgf}
	% Excerpt from plot.pgf
	% ...
	%\pgfpathlineto{\pgfpoint{14.967cm}{13.811cm}}
	%\pgfpathlineto{\pgfpoint{15.055cm}{14.749cm}}
	%\pgfusepath{stroke}
	%\end{pgfscope}
	%\pgftext[x=5.134cm,y=15.013cm,rotate=90]{$y$}
	%\pgftext[x=10.653cm,y=12.223cm,rotate=0]{$\theta$}
	%\pgftext[x=10.656cm,y=17.45cm,rotate=0]{$\sin\theta^2$}
	%\pgftext[base,left,x=8.02cm,y=14.896cm,rotate=0]{\LaTeX}
	%\pgfsetdash{}{0cm}
	%\pgfusepath{stroke}
	%\end{pgfscope}
	
	\end{document}
snippet animations eratosthenes-sieve
	%%% Sieve of Eratosthenes
	%%% ---------------------
	%%%
	%%%    Step 1: Create a list of consecutive integers 2...n
	%%%    Step 2: Let p=2 be the first prime number
	%%%    Step 3: Mark multiples of p as non-prime.
	%%%    Step 4: First number > p not marked as non-prime is prime.
	%%%    Step 5: Repeat from Step 3 with this new prime.
	%%%
	%%% ---------------------------------------------------------------
	%%% Set-up: Choose desired output: 
	%%%            1. Animation: GIF, or PDF
	%%%            2. Paper version: Step by step) or Final state.
	%%% 
	%%% Author: Peter Grill
	
	%\def\ShowStepByStep{}% Comment out if only want final result
	
	%%% Choose if want animated version. This overrides \ShowStepByStep
	\def\AnimateSieve{}% Comment out if don't want animated version
	
	%%% Chose if want animated gif image instead. Overrides \AnimateSieve
	%\def\AnimatedGif{}% 
	%
	%%% The \AnimatedGif option produces a PDF with each page containing
	%%% a single frame. To convert this to a GIF, use the following, where
	%%% convert is part of ImageMagik
	%%%
	%%%     pdfcrop SieveOfEratosthenes.pdf
	%%%     convert -verbose -delay 100 -loop 0 -density 400 
	%%%                      SieveOfEratosthenes-crop.pdf 
	%%%                      SieveOfEratosthenes.gif
	
	%%% ---------------------------------------------------------------
	%%% Customize: Choose size: NumberOfColumns x NumberOfRows
	%%%            Other options may need tweaking based on size settings
	%%% 
	%%% Note that if the product of \NumOfColumns x \NumOfRows
	%%% is greater than 100, the \FramesToHoldAtEnd should be
	%%% larger than 25.  No check below is made of this, but will
	%%% result in some of larger primes not being highlighted at
	%%% the end of the cycle (if this is not large enough).
	
	\def\NumOfColumns{10}% See note above if product of  
	\def\NumOfRows{10}%    NumOfColumns and NumOfRows > 100.
	
	%% \FramesToHoldAtEnd should be larger than the number of primes
	%% so that they can get highlighted at the end of the process
	\def\FrameRate{1}%
	\def\FramesToHoldAtStart{3}%
	\def\FramesToHoldAtEnd{25}% 25 is enough for 10x10
	
	\def\Scale{0.6}% May need tweaking..
	
	\def\MinipageScale{1.0}%
	\def\MinipageScaleForStepByStep{0.49}%
	
	%% Without this scale adjustment for the animated GIF,
	%% the image is quite large.
	\def\ScaleForAnimatedGif{0.6}%
	
	\def\PrimeColor{yellow}%  Shade for primes found previously
	\def\NewPrimeColor{cyan}% Shade for prime just found
	\def\NewPrimeText{blue}%  Color for primes in list
	\def\NonPrimeColor{red}%  Shade for non-primes
	
	%% List of Primes is typeset into a \node of this width.
	\def\TextWidth{2.0cm}%
	
	%%% ---------------------------------------------------------------
	\ifdefined\AnimatedGif
	    \documentclass[border=2pt,multi=true]{standalone}
	\else\ifdefined\AnimateSieve
	    \documentclass{article}
	\else
	    \documentclass{article}% for paper version
	\fi\fi
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Sieve of Eratosthenes 
	:Tags: Animations;Mathematics
	:Author: Peter Grill
	:Slug: eratosthenes-sieve
	
	The sieve of Eratosthenes is an ancient algorithm for finding all prime
	numbers up to any given limit. It iteratively marks the multiples of each
	prime as composite (i.e. not prime). It starts with the multiples of 2.
	
	A good way for showing the algorithm is using animations. Here the
	animate package is used together with TikZ. The darker the shade of red
	the higher number of times that number got marked as non-prime (i.e.,
	has a higher number of prime factors). At each step, the newly found prime
	is highlighted in blue, and the list of current primes is shown.
	
	The PDF animation can be produced with the following settings:
	
	%\def\ShowStepByStep{}%  Ignored in this case
	\def\AnimateSieve{}%     
	%\def\AnimatedGif{}%     Must be commented
	
	For a 10x10, which requires a long compiling time, use
	
	\def\NumOfColumns{10}%   
	\def\NumOfRows{10}%   
	\def\FramesToHoldAtEnd{25}% 25 is enough for 10x10
	
	Note that this requires a PDF viewer capable of showing animations
	(such as Acrobat).
	
	A gif animation can also be produced, for example with the following
	settings:
	
	%\def\ShowStepByStep{}%  Ignored in this case
	%\def\AnimateSieve{}%    Ignored in this case
	\def\AnimatedGif{}% 
	\def\NumOfColumns{5}%   
	\def\NumOfRows{5}%   
	\def\FramesToHoldAtEnd{10}%
	
	and postprocessed
	
	pdfcrop erathostenes-sieve.pdf
	convert -verbose -delay 100 -loop 0 -density 150 erathostenes-sieve-crop.pdf
	  erathostenes-sieve.gif
	
	Furthermore, there's a paper version:
	
	\def\ShowStepByStep{}%
	%\def\AnimateSieve{}%   This MUST be commented
	%\def\AnimatedGif{}%    This MUST be commented
	\def\NumOfColumns{7}%   
	\def\NumOfRows{7}%   
	\def\FramesToHoldAtEnd{10}%
	
	Non-square sizes can be produced as well by adjusting the value of
	\NumOfColumns and \NumOfRows.
	
	This has been originally posted on
	http://tex.stackexchange.com/q/44673/213
	as answer to a question by the user azetina.
	\end{comment}
	
	%%% Can use the following to show the final state for large 
	%%% (tested up to 53x52) 
	%\usepackage[paperwidth=35in,paperheight=35in]{geometry}
	\usepackage{geometry}
	
	\usepackage{microtype}%       Allow comma into margin in list of primes
	\usepackage{xstring}%         String comparison
	\usepackage{tikz}%            Drawing
	\usetikzlibrary{calc}%        Coordinate calculations
	\usetikzlibrary{backgrounds}% Apply shading on background layer
	
	\ifdefined\AnimatedGif
	    \usepackage{animate}% no controls, or looping needed
	    \def\AnimateSieve{}% Simplifies code
	                       % if this is set for \AnimatedGif as well.
	    \def\Scale{\ScaleForAnimatedGif}% Otherwise GIF is too large
	
	    % Simplifies code below if we just redefine these two from the
	    % animate package so that they do don't much.
	    \renewenvironment{animateinline}[1]{\begingroup}{\endgroup}% 
	    \renewcommand{\newframe}[1][]{\newpage}%
	\else% Note: This \else is skipped for \AnimatedGif
	    \ifdefined\AnimateSieve% 
	        \usepackage[loop,controls]{animate}% looped animation
	        \let\ShowStepByStep\relax% Ensure that \ShowStepByStep is undefined
	    \else% Print version
	        \usepackage{animate}% provides whiledo (could include ifthen)
	
	        % Simplifies code below if we just redefine these two from the
	        % animate package so that they do don't much.
	        \renewenvironment{animateinline}[1]{\begingroup}{\endgroup}% 
	        \renewcommand{\newframe}[1][]{\newpage}%
	
	        \ifdefined\ShowStepByStep
	            \def\MinipageScale{\MinipageScaleForStepByStep}%
	        \fi
	    \fi
	\fi
	
	%%% ---------------------------------------------------------------
	%%% Should not need to adjust anything below this line
	%%%
	\pgfmathtruncatemacro{\MaxNumber}{\NumOfRows*\NumOfColumns}%
	\pgfmathtruncatemacro{\MaxValue}{sqrt(\MaxNumber)}%
	
	% Choose opacity so that we can have the max number of shades
	\pgfmathsetmacro{\Opacity}{1.0/min(20,\MaxValue-1)}%
	
	%% The Sieve algorithm requires that once a number is marked
	%% as non-prime (i.e., was a multiple of some other number)
	%% we don't need to check multiples of that number as they
	%% have already been marked as non-prime.
	%%
	%% Usually one would use an array and set a flag.  But since
	%% variables with numbers are difficult with TeX, we can
	%% define a node named with the number that is non-prime.
	%% Then just check that the node exists to see if it was 
	%% marked as non-prime.
	
	\makeatletter
	% Mark number as either "Prime" or "NonPrime".
	\newcommand*{\MarkNumber}[2][NonPrime]{\node (#1#2) {}}% #1=prefix, #2=num
	
	% http://tex.stackexchange.com/questions/37709/
	\newcommand{\IfNumberAlreadyMarked}[4][NonPrime]{% #1=prefix, #2=num
	    \pgfutil@ifundefined{pgf@sh@ns@#1#2}{#4}{#3}%
	}
	
	% http://tex.stackexchange.com/questions/20655/
	\newcommand*\@nameundef[1]{%
	    \global\expandafter\let\csname #1\endcsname\@undefined%
	}
	
	%% Since we repeat the process from the beginning for the animated
	%% version, use this to clear the nodes so that the numbers are
	%% not marked as multiples of a number from the previous run.
	\newcommand{\ClearAllNumberedNodeNames}{%
	    \foreach \i in {1,...,\MaxValue}{%
	        \@nameundef{pgf@sh@ns@NonPrime\i}%
	        \@nameundef{pgf@sh@ns@Prime\i}%
	    }%
	}
	\makeatother
	
	%% The Sieve algorithm skips multiples of numbers already marked as
	%% non-prime.  So, to number the individual steps, need to use
	%% a counter.
	%% i.e., Step 4 is processing multiples of 5 (since we skip 4).
	\newcounter{StepNumber}%
	
	%%% ---------------------------------------------------------------
	%%%
	%%%  Titles and Labels
	%%%
	
	\newcommand\ListOfPrimes{}
	\newcommand\AddToListOfPrimes[2][fill=\PrimeColor]{%
	    \IfStrEq{\ListOfPrimes}{}{%
	        \def\Separator{}%   First member of list of primes
	    }{%
	        \def\Separator{, }% Subsequent member of list of primes
	    }%
	    %
	    \FillCellForGivenNumber[#1]{#2};%
	    \global\edef\ListOfPrimes{\ListOfPrimes\Separator#2}%
	    \MarkNumber[Prime]{#2};%
	}
	
	\newcommand*{\ClearListOfPrimes}{%
	    \ClearAllNumberedNodeNames;%
	    \renewcommand{\ListOfPrimes}{}%
	}
	
	\newcommand*{\Title}{%
	    {\noindent\Large%
	        \textbf{Sieve of Eratosthenes}~%
	        ($\NumOfColumns \times \NumOfRows$)%
	    }%
	}
	
	\newcommand*{\SubTitleInitial}{%
	    \noindent\textbf{Step \theStepNumber}: Numbers from 2 \ldots\MaxNumber%
	}%
	
	\newcommand*{\SubTitle}[1]{%  For animation
	    \noindent\textbf{Step \theStepNumber}:~%
	    Eliminating multiples of \textcolor{\NewPrimeText}{\textbf{#1}}%
	}
	\newcommand*{\SubTitlePastTense}[1]{% For step by step
	    \noindent\textbf{Step \theStepNumber}:~%
	    Eliminated multiples of \textcolor{\NewPrimeText}{\textbf{#1}}%
	}
	\newcommand*{\SubTitleFinal}{%
	    \IfEq{\the\value{StepNumber}}{0}{%
	        % We are only showing the final result, so no steps to label.
	        % This is when we are not animating (nor showing step by step)
	    }{%
	        \noindent\textbf{Step \theStepNumber}: Remaining are prime.%
	    }%
	}
	
	\newcommand*{\AddTitleNode}{%
	    \ifdefined\AnimateSieve% Otherwise don't need title each time
	        \node [above, yshift=1.0ex]
	          at ($(0,0)!0.5!(\NumOfColumns,0)$) {\Title}
	    \fi%
	}
	
	\newcommand*{\AddSubTitleNode}[1]{% 
	    \IfStrEq{#1}{\empty}{%
	        % This is the final hold frame where we are showing the primes
	        \node [right] at (-1,0) {\SubTitleFinal}
	    }{%
	        \ifdefined\AnimateSieve%
	            \node at ($(0,0)!0.5!(\NumOfColumns,0)$) {\SubTitle{#1}}
	        \else%
	            \node [right] at (-1,0) {\SubTitlePastTense{#1}}
	        \fi%
	    }%
	}
	
	\newcommand*{\AddInitialSubTitleNode}[1]{%
	    \ifdefined\AnimateSieve%
	        \node at ($(0,0)!0.5!(\NumOfColumns,0)$) {\SubTitleInitial}
	    \else%
	        \node [right] at (-1,0) {\SubTitleInitial}
	    \fi%
	}
	
	\newcommand*{\Phantom}[1]{}%
	\newcommand*{\ShowListOfPrimesNode}{%
	    \IfStrEq{\ListOfPrimes}{}{%
	        %% Empty list of primes, so don't want to show anything.
	        %% Just add phantom spacing
	        \renewcommand*{\Phantom}[1]{\phantom{##1}}%
	    }{%
	        \renewcommand*{\Phantom}[1]{##1}%
	    }%
	
	    \node [below right, xshift=0.5em, yshift=-0.5ex, align=left,
	        text width=\TextWidth] at (\NumOfColumns,-1) 
	        {\Phantom{\textbf{Primes:}}};
	
	    \node [below right, xshift=0.2em, yshift=-3.5ex, align=left,
	        text width=\TextWidth] at (\NumOfColumns,-1) 
	        {\Phantom{\textbf{\textcolor{\NewPrimeText}%
	        {\raggedleft\ListOfPrimes}}}};
	}
	
	%%% ---------------------------------------------------------------
	
	%%%
	%%% Step 1: Create a list of integers 2...n
	%%%
	\newcommand*{\DrawGridWithNumbers}{%
	    \begin{scope}[draw=gray, thick]% Add numbers to each node
	        \draw  (0,-1) -- ($(0,-\NumOfRows-1)$);
	        \foreach \col in {1,...,\NumOfColumns} {%
	            \draw  (\col,-1) -- ($(\col,-\NumOfRows-1)$);
	
	            \draw  (0,-1) -- (\NumOfColumns,-1);
	            \foreach \row in {1,...,\NumOfRows}{%
	                \pgfmathtruncatemacro{\value}{\col+\NumOfColumns*(\row-1)}
	                \IfEq{\value}{1}{
	                    %% Suppress number 1 from being printed since first  
	                    %% step of Sieve of Eratosthenes algorithm is to 
	                    %% create a list of integers 2...n
	                }{
	                    \node at ($(\col,-\row)-(0.5,0.5)$) {\textbf{\value}};
	                }
	                \draw (0,-\row-1) -- (\NumOfColumns,-\row-1);
	            }
	        }
	    \end{scope}
	
	    %% Since we just drew the grid we should ensure that none
	    %% of the numbered nodes exist (i.e., that no numbers
	    %% are marked as non-prime.  And reset list of primes.
	
	    \ClearListOfPrimes;
	    \ClearAllNumberedNodeNames;
	
	    \ShowListOfPrimesNode;
	}
	
	\newcommand*{\FillCellForGivenNumber}[2][]{%
	    %% #1 = fill options
	    %% #2 = number
	    %%
	    \pgfmathtruncatemacro{\Column}{mod(#2,\NumOfColumns)}%
	    \IfEq{\Column}{0}{\pgfmathtruncatemacro{\Column}{\NumOfColumns}}{}%
	    \pgfmathtruncatemacro{\Row}{(#2-1)/\NumOfColumns+1}%
	
	    \begin{scope}[on background layer]
	        \fill [#1]
	            (\Column-1,-\Row) --
	            ($(\Column-1,-\Row)+(1,0)$) --
	            ($(\Column-1,-\Row)+(1,-1)$) -- 
	            (\Column-1,-\Row-1) --
	            cycle;
	    \end{scope}
	}
	
	\newcommand*{\ColorMultiplesOf}[2][0]{%
	    %% If only 1 arg is given (i.e., #1=0), then 
	    %%     #2 = the multiple for which the coloring is applied
	    %%
	    %% If two args are given (i.e., #1 != 0) then
	    %%     #1 = Value of \MaxMultiple (used for animated version)
	    %%          In the two arg case we run the entire sequence 
	    %%          from the beginning up until the multiple #1*#2 
	    %%          is reached.
	
	    \IfEq{#1}{0}{% Run the entire sequence
	        \pgfmathtruncatemacro{\MaxMultiple}{\MaxNumber/#2}
	    }{%            Run sequence up until number given for animating
	        \def\MaxMultiple{#1}
	    }
	
	    \foreach \i in {2,...,\MaxMultiple} {
	        \pgfmathtruncatemacro{\NonPrimeNumber}{\i*#2}
	        \FillCellForGivenNumber[
	                fill=\NonPrimeColor, 
	                fill opacity=\Opacity
	            ]
	            {\NonPrimeNumber};
	        \MarkNumber[NonPrime]{\NonPrimeNumber};
	    }
	}
	
	\newcommand*{\BuildFrameInternals}[2][0]{%
	    %% #1 = current multiple to which to build the pattern up to
	    %%      if #1=0 and #2=\MaxValue, then we are in an end hold frame
	    %% #2 = number of whose multiples we are eliminating in this step
	    %%      if #2=1, then only draw grid (provides hold frame at start)
	
	    \AddTitleNode;% Print Main title if \AnimateSieve is defined
	
	    \DrawGridWithNumbers;
	    \IfEq{#2}{1}{%
	        %% This is a hold frame at start so only show grid of numbers
	        \AddInitialSubTitleNode{#2};
	    }{%
	        \IfEq{#2}{2}{%
	            %% No pre-processing steps to be done in this case
	        }{%
	            %% Since we are eliminating multiples of a number  
	            %% other than 2, we need to get the table up to  
	            %% the state where all the multiples of 2...(#2-1) 
	            %% are eliminated.
	
	            \pgfmathsetmacro{\PreviousMultiple}{#2 - 1}%
	            \foreach \n in {2,...,\PreviousMultiple} {%
	                \IfNumberAlreadyMarked[NonPrime]{\n}{%
	                    %% Skip. Multiples are already marked as non-prime
	                    %% since this number is a multiple of a smaller
	                    %% prime.
	                }{%
	                    %% This is a prime. Mark it as prime, and mark 
	                    %% its multiples as non-prime.
	                    \AddToListOfPrimes[fill=\PrimeColor]{\n};
	                    \ColorMultiplesOf{\n};
	                }
	            }
	        }
	
	        \IfNumberAlreadyMarked[NonPrime]{#2}{%
	            %% Already taken care of in a previous run.  This test
	            %% is needed to cover the case where the value of the
	            %% sqrt{NumberOfColumns x NumberOfRows) is not prime.
	            %% For example: 10x10.
	        }{%
	            %% Now eliminate the numbers up to the current state
	            \AddToListOfPrimes[fill=\NewPrimeColor]{#2};
	            \ColorMultiplesOf[#1]{#2};
	        }
	
	        %% If we are holding the very final result don't print title.
	        %% This is the case when #2=\MaxValue and #1=0.
	        %%
	        %% Need to do this at the end so that we can access
	        %% which numbers have been marked as non-prime.
	
	        \IfEq{#2}{\MaxValue}{%
	            \IfEq{#1}{0}{%
	                %% This is the final hold frame
	                \SubTitleFinal;
	
	                \IfNumberAlreadyMarked[NonPrime]{#2}{%
	                }{%
	                    \IfNumberAlreadyMarked[Prime]{#2}{%
	                        %% In this case, #2 is not a new prime so 
	                        %% correct its color. So, don't add it to the
	                        %% list of primes, but correct ensure its
	                        %% color corresponds to an old prime
	                        \FillCellForGivenNumber[fill=\PrimeColor]{#2};
	                    }{%
	                        %% In this case, #2 is a new prime so 
	                        %% add it to the list of primes,                
	                        \AddToListOfPrimes[fill=\NewPrimeColor]{#2};
	                    }%
	                }%
	
	                %% But since this is the final hold frame, we need
	                %% to mark all the numbers not already marked as 
	                %% non-prime as prime. Do one at at time, so that
	                %% this can be seen in the animation.
	
	                \pgfmathtruncatemacro{\StartValue}{\MaxValue+1}%
	                \foreach \p in {\StartValue,...,\MaxNumber}{%
	                    \IfNumberAlreadyMarked[NonPrime]{\p}{%
	                        %% This number has been marked as non-prime
	                    }{%
	                        %% This is a prime
	                        \IfNumberAlreadyMarked[Prime]{\p}{%
	                            %% Already found this prime earlier.
	                            %% So ensure it has appropriate fill.
	                            \AddToListOfPrimes[fill=\PrimeColor]{\p};%
	                        }{%
	                            %% New prime: Mark it as such, and 
	                            %% break out to complete this frame.
	                            \AddToListOfPrimes[fill=\NewPrimeColor]{\p};%
	                            \MarkNumber[Prime]{\p};%
	                            \AddSubTitleNode{};%
	                            \breakforeach;%
	                        }%
	                    }%
	                }%
	            }{%
	                %% Not final hold frame, so normal title
	                \AddSubTitleNode{#2};%
	            }%
	        }{%
	            \AddSubTitleNode{#2};%
	        }%
	    }%
	    \ShowListOfPrimesNode%
	}%
	
	\newcommand*{\AddVerticalSpearationForStepByStep}{%
	    \ifdefined\ShowStepByStep%  So that the minipages for this case
	        \vspace*{4.0ex}%        are not stacked directly on top of
	    \fi%                        each other.
	}%
	
	\newcommand*{\BuildFrame}[2][0]{%
	    %% #1 = current multiple to which to build the pattern up to
	    %% #2 = number of whose multiples we are eliminating in this step
	    %%      if #2=1, then only draw grid (provides hold frame at start)
	    \noindent%
	    \begin{minipage}{\MinipageScale\linewidth}%
	    \centering%
	    \begin{tikzpicture}[scale=\Scale]%
	        \BuildFrameInternals[#1]{#2};
	    \end{tikzpicture}%
	    %
	    \AddVerticalSpearationForStepByStep% Better spacing for Step by Step
	    \end{minipage}%
	}%
	
	\newcommand*{\BuildFinalFrame}{%
	    \noindent%
	    \begin{minipage}{\MinipageScale\linewidth}%
	    \centering%
	    \begin{tikzpicture}[scale=\Scale]%
	        \AddTitleNode;% Print Main title if \AnimateSieve is defined
	        \AddSubTitleNode{};
	        \DrawGridWithNumbers;
	        \foreach \p in {2,...,\MaxValue}{%
	            \IfNumberAlreadyMarked[NonPrime]{\p}{%
	            }{%
	                \AddToListOfPrimes[fill=\PrimeColor]{\p};
	                \ColorMultiplesOf{\p};
	            }%
	        }%
	        \pgfmathtruncatemacro{\StartValue}{\MaxValue+1}%
	        \foreach \p in {\StartValue,...,\MaxNumber}{%
	            \IfNumberAlreadyMarked[NonPrime]{\p}{%
	                %% This number has already been marked as non-prime
	            }{%
	                %% This is a prime. Since we are just printing out
	                %% the final results we don't distinguish between a
	                %% newly found prime and a prime found previously.
	                \AddToListOfPrimes[fill=\PrimeColor]{\p};
	            }%
	        }%
	
	        \ShowListOfPrimesNode;
	    \end{tikzpicture}%
	    %
	    \AddVerticalSpearationForStepByStep% Better spacing for Step by Step
	    \end{minipage}%
	}
	
	\begin{document}
	\ifdefined\AnimateSieve
	    \newcounter{CountK}
	    \newcounter{CountP}
	    \newcounter{CurrentMaxMultiplePlusOne}
	    %
	    \begin{animateinline}{\FrameRate}%
	        \stepcounter{StepNumber}%
	        \setcounter{CountK}{0}%
	        \whiledo{\arabic{CountK} < \FramesToHoldAtStart}{%
	            \BuildFrame[0]{1}% initial hold frame
	            \newframe[\FrameRate]%
	            \stepcounter{CountK}%
	        }%
	        %
	        \setcounter{CountK}{2}%
	        \whiledo{\numexpr\arabic{CountK}-1 < \MaxValue}{%
	            \IfNumberAlreadyMarked[NonPrime]{\arabic{CountK}}{%
	                %% \value{CountK} has already been marked as non-prime.
	                %% Hence, so so are its multiples, and we can skip it.
	            }{%
	                \pgfmathtruncatemacro{\MaxMultiple}{\MaxNumber/\arabic{CountK}}%
	                \setcounter{CurrentMaxMultiplePlusOne}{\MaxMultiple}%
	                \stepcounter{CurrentMaxMultiplePlusOne}%
	                %
	                \setcounter{CountP}{2}% 
	                \stepcounter{StepNumber}%
	                \whiledo{\arabic{CountP} < \arabic{CurrentMaxMultiplePlusOne}}{%
	                    \BuildFrame[\theCountP]{\theCountK}%
	                    \newframe[\FrameRate]%
	                    \stepcounter{CountP}%
	                }%
	            }%
	            \stepcounter{CountK}%
	        }%
	        % At end, add hold frames in case we are looping
	        %
	        % There needs to be enough of these so that each of the
	        % primes (those not colored in) get highlighted at each frame.
	        %
	        \setcounter{CountK}{2}%
	        \whiledo{\numexpr\arabic{CountK}-1 < \FramesToHoldAtEnd}{%
	            \BuildFrame{\MaxValue}%
	            \newframe[\FrameRate]%
	            \stepcounter{CountK}%
	        }
	    \end{animateinline}%
	\else\ifdefined\ShowStepByStep
	    \parbox{0.95\linewidth}{\centering\Title\newline}%
	    \bigskip\par%
	    \setcounter{StepNumber}{1}%
	    \BuildFrame[0]{1}% Initial frame
	    \hfill%
	    %
	    \foreach \k in {2,...,\MaxValue}{%
	        \IfNumberAlreadyMarked[NonPrime]{\k}{%
	            % \k has already been marked as non-prime.
	            % Hence, so so are its multiples, and we can skip it.
	        }{%
	            % This is a prime, so mark it as such and mark all the
	            % multiples up to \MaxMultipleOfK as non-prime
	            \stepcounter{StepNumber}%
	            \pgfmathtruncatemacro{\MaxMultipleOfK}{\MaxNumber/\k}%
	            \BuildFrame[\MaxMultipleOfK]{\k}%
	            \hfill%
	        }%
	    }%
	    %
	    \stepcounter{StepNumber}%
	    \BuildFinalFrame% Final Frame
	\else% We only want to show the final frame
	    \parbox{0.95\linewidth}{\centering\Title}
	    \setcounter{StepNumber}{0}
	    \par
	    \BuildFinalFrame%
	\fi% \ifdefined\ShowStepByStep
	\fi% \ifdefined\AnimateSieve
	\end{document}
snippet styles escher-brick-penrose-triangle
	% Author: Julien Cretel
	% Date:   24/02/2013
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{20pt}%
	%%%>
	\begin{comment}
	:Title: Escher Brick and Penrose Triangle
	:Tags: Styles;Coordinate Calculations;Geometry;Decorative Drawings
	:Author: Julien Cretel
	:Slug: escher-brick-penrose-triangle
	
	The first picture draws an impossible brick, which induces
	an optical illusion similar to that triggered by Escher's
	impossible cube.
	
	The second picture draws a Penrose triangle, another similar
	optical illusion.
	\end{comment}	
	\begin{document}
	  \begin{center}
	    \begin{tikzpicture}[scale=4.5, line join=bevel]
		
	      % \a and \b are two macros defining characteristic
	      % dimensions of the impossible brick.
	      \pgfmathsetmacro{\a}{0.18}
	      \pgfmathsetmacro{\b}{1.37}
	
	      \tikzset{%
	        apply style/.code={\tikzset{#1}},
	        brick_edges/.style={thick,draw=black},
	        face_colourA/.style={fill=gray!50},
	        face_colourB/.style={fill=gray!25},
	        face_colourC/.style={fill=gray!90},
	      }
	
	      \foreach \theta/\v/\facestyleone/\facestyletwo in {%
	        0/0/{brick_edges,face_colourA}/{brick_edges,face_colourC},
	        180/-\a/{brick_edges,face_colourB}/{brick_edges,face_colourC}
	      }{
	      \begin{scope}[rotate=\theta,shift={(\v,0)}]
	        \draw[apply style/.expand once=\facestyleone]  		
	          ({-.5*\b},{1.5*\a}) --
	          ++(\b,0)            --
	          ++(-\a,-\a)         --
	          ++({-\b+2*\a},0)    --
	          ++(0,-{2*\a})       --
	          ++(\b,0)            --
	          ++(-\a,-\a)         --
	          ++(-\b,0)           --
	          cycle;
	        \draw[apply style/.expand once=\facestyletwo] 
	          ({.5*\b},{1.5*\a})  --
	          ++(0,{-2*\a})       --
	          ++(-\a,0)           --
	          ++(0,\a)            --
	          cycle;
	        \end{scope}
	      }
	    \end{tikzpicture}
	
	    \vspace{1cm}
	
	    \begin{tikzpicture}[scale=1, line join=bevel]
		
	    % \a and \b are two macros defining characteristic
	    % dimensions of the Penrose triangle.		
	    \pgfmathsetmacro{\a}{2.5}
	    \pgfmathsetmacro{\b}{0.9}
	
	    \tikzset{%
	      apply style/.code     = {\tikzset{#1}},
	      triangle_edges/.style = {thick,draw=black}
	    }
	
	    \foreach \theta/\facestyle in {%
	        0/{triangle_edges, fill = gray!50},
	      120/{triangle_edges, fill = gray!25},
	      240/{triangle_edges, fill = gray!90}%
	    }{
	      \begin{scope}[rotate=\theta]
	        \draw[apply style/.expand once=\facestyle]
	          ({-sqrt(3)/2*\a},{-0.5*\a})                     --
	          ++(-\b,0)                                       --
	            ({0.5*\b},{\a+3*sqrt(3)/2*\b})                -- % higher point	
	            ({sqrt(3)/2*\a+2.5*\b},{-.5*\a-sqrt(3)/2*\b}) -- % rightmost point
	          ++({-.5*\b},-{sqrt(3)/2*\b})                    -- % lower point
	            ({0.5*\b},{\a+sqrt(3)/2*\b})                  --
	          cycle;
	        \end{scope}
	      }	
		  \end{tikzpicture}
	  \end{center}
	\end{document}
snippet mathematics euclid-algorithm
	% Scheme of Greatest Common Divisor
	% Author: Giuseppe (joematara@hotmail.com)
	\documentclass{article}
	\usepackage{tikz}	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Scheme of Greatest Common Divisor (GCD)
	:Tags: Mathematics
	:Author: Giuseppe
	:Slug: euclid-algorithm
	
	Scheme of Greatest Common Divisor (GCD)
	performed through the Euclidean Algorithm
	and suitable to carry out manual calculations by
	following the coloured arrows:
	
	* inclined arrows stand for division operations
	* horizontal ones for multiplication 
	* vertical for subtraction 
	
	Basically such items are the well known procedure of  
	pupils at elementary schools. 
	
	Remarks: code lines from 'Fill numbers' to the end  
	         are written only for example purpose            
	         and should be erased prior to print the scheme.
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[set style={{help lines}+=[dashed]}]
	\draw[style=help lines] (0,0) grid +(12,12);
	\draw                   (4,11) grid +(1,1);
	\draw                   (6,10) grid +(1,1);
	\draw                   (4,10) grid +(1,1); 
	%-----
	\draw                   (4,9) grid +(1,1);
	\draw                   (6,9) grid +(1,1);
	%-----
	\draw                   (6,8) grid +(1,1);
	\draw                   (4,8) grid +(1,1);
	%
	\draw                   (4,7) grid +(1,1);
	\draw                   (6,7) grid +(1,1);
	%
	\draw                   (6,6) grid +(1,1);
	\draw                   (4,6) grid +(1,1);
	%
	\draw                   (4,5) grid +(1,1);
	\draw                   (6,5) grid +(1,1);
	%
	\draw                   (6,4) grid +(1,1);
	\draw                   (4,4) grid +(1,1);
	%
	\draw                   (4,3) grid +(1,1);
	\draw                   (6,3) grid +(1,1);
	
	%------------------------------------------------------
	% red1
	\draw   [red,very thick,->]   (5,11.2) -- (6,10.8);
	  \draw   [red,thick, ->]   (5.25,10.5) -- (5,10.5); 
	  \draw   [red,thick, ->]   (6,10.5) -- (5.75,10.5);
	\draw   (5.5,10.5) circle (0.2);
	  \draw   [red,thick, ->]   (4.5,10.2) -- (4.5,9.8);
	% blue1
	\draw   [blue,very thick,->]   (6,10.2) -- (5,9.8);
	  \draw   [blue,thick,->]   (5.75,9.5) -- (6,9.5); 
	  \draw   [blue,thick,->]   (5,9.5) -- (5.25,9.5);
	\draw   (5.5,9.5) circle (0.2); 
	  \draw   [blue,thick, ->]   (6.5,9.2) -- (6.5,8.8);
	%-----------------  
	% red2
	\draw   [red,very thick,->]   (5,9.2) -- (6,8.8);
	  \draw   [red,thick, ->]   (5.25,8.5) -- (5,8.5); 
	  \draw   [red,thick, ->]   (6,8.5) -- (5.75,8.5);
	\draw   (5.5,8.5) circle (0.2);
	  \draw   [red,thick, ->]   (4.5,8.2) -- (4.5,7.8);
	% blue2
	\draw   [blue,very thick,->]   (6,8.2) -- (5,7.8);
	  \draw   [blue,thick,->]   (5.75,7.5) -- (6,7.5); 
	  \draw   [blue,thick,->]   (5,7.5) -- (5.25,7.5);
	\draw   (5.5,7.5) circle (0.2); 
	  \draw   [blue,thick, ->]   (6.5,7.2) -- (6.5,6.8);
	%-----------------  
	% red3
	\draw   [red,very thick,->]   (5,7.2) -- (6,6.8);
	  \draw   [red,thick, ->]   (5.25,6.5) -- (5,6.5); 
	  \draw   [red,thick, ->]   (6,6.5) -- (5.75,6.5);
	\draw   (5.5,6.5) circle (0.2);
	  \draw   [red,thick, ->]   (4.5,6.2) -- (4.5,5.8);
	
	% -------- Fill numbers -----------
	\node  at  (4.5,11.5) {2993};
	\node  at  (6.5,10.5) {1095};
	\node  at  (5.5,10.5) {2};  
	\node  at  (4.5,10.5) {2190}; 
	%---
	\node  at  (6.5,9.5) {803}; 
	\node  at  (5.5,9.5) {1}; 
	\node  at  (4.5,9.5) {803};
	%---
	\node  at  (6.5,8.5) {292};
	\node  at  (5.5,8.5) {2}; 
	\node  at  (4.5,8.5) {584};
	%
	\node  at  (4.5,7.5) {219};
	\node  at  (5.5,7.5) {1};
	\node  at  (6.5,7.5) {219};
	%---
	\node  at  (6.5,6.5) {73};
	\node  at  (5.5,6.5) {3};
	\node  at  (4.5,6.5) {219};
	%
	\node  at  (4.5,5.5) {0};
	\end{tikzpicture}
	\end{document}
snippet overlay exam-sheet
	% Exam sheet
	% Author: Alain Matthes
	% Requires pdflatex and two compilations to place the overlays correctly
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Exam sheet
	:Tags: Overlays, Transformations
	
	Overlays and the special ``current page`` node offers precise control of 
	placement on a page. One application is to create exam sheets where candidate details 
	can be hidden using a `dog ears`_ technique. 
	
	:Author: `Alain Matthes`_
	
	.. _Alain Matthes: http://www.altermundus.fr/index.html
	.. _dog ears: http://www.answers.com/topic/dog-ear
	
	\end{comment}
	
	\begin{document}
	 \thispagestyle{empty}
	\begin{tikzpicture}[remember picture, overlay]
	    \node [shift={(-8 cm,-8cm)}]  at (current page.north east)
	        {%
	        \begin{tikzpicture}[remember picture, overlay]
	            \draw(0,0) rectangle (8,8);
	            \draw [fill=gray] (0,8) -- (8,8) -- (8,0) -- cycle ;
	            \path[coordinate]
	                \foreach \k in {1,...,4}{%
	                    (0 pt,8cm -\k *1.2cm) coordinate (d\k)} ;
	            \path[clip] (0,0) rectangle (8,8);
	            \foreach \k/\t in {1/Last Name,2/First Name,3/Birthday,4/Date}{%
	                \node[inner sep=0pt,rotate=-45,%
	                    right=0.5cm,minimum height=12pt](f\k) at (d\k) {\t};
	                \draw  (f\k.south east)-- (8cm -\k * 1.2cm,-6pt );
	            }
	        \end{tikzpicture}
	        };
	        % Draw a page border
	        \draw (current page.north west) rectangle (current page.south east);
	\end{tikzpicture}
	
	
	\end{document}
snippet fonts faking-slanted-small-caps
	% Author: Berteun Damman
	% Faking slanted small caps using TikZ low level transforms.
	\documentclass{minimal}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Faking slanted small caps using TikZ low level transforms
	:Slug: faking-slanted-small-caps
	
	In italicized environments normal small caps often looks wrong because of
	its upright shape. A solution is to simply use all-uppercase in these
	environments, but this too is ugly. Using TikZ one can fake a slant. This
	is not that great, but better than nothing.
	
	Note that `kpfonts <http://www.ctan.org/tex-archive/fonts/kpfonts/>`_ for example
	provides a font which has slanted small caps by default.
	
	\end{comment}
	
	\usepackage{amsthm}
	\newtheorem{lem}{Lemma}
	% If you externalize figures this will give a new figure for
	% each usage!
	\makeatletter
	\newcommand{\textscsl}[1]{%
	   \tikz[baseline=(N.base)]%
	   % The transform says:
	   % x' = 1x + 0.22y + 0pt
	   % y' = 0x + 1y    + 0pt
	   % This gives a slant - adjust the value for each font!
	   \pgfsys@transformcm{1}{0}{0.22}{1}{0pt}{0pt}%
	   \node[inner sep=0pt] (N) {\textsc{#1}};%
	}
	\makeatother
	\begin{document}
	   % In italicized environments normal small caps often looks wrong because of
	   % its upright shape. A solution is to simply use all-uppercase in these
	   % environments, but this too is ugly. Using TikZ one can fake a slant. This
	   % is not that great, but better than nothing.
	   %
	   % Note that http://www.ctan.org/tex-archive/fonts/kpfonts/ for example
	   % provides a font which has slanted small caps by default.
	\begin{preview}
	   \begin{minipage}{4.5cm}
	       \begin{lem}
	           The \textsc{gcd} of two numbers can be used to find
	           the \textsc{lcm} of these numbers.
	       \end{lem}
	       \begin{lem}
	           The \textscsl{gcd} of two numbers can be used to find
	           the \textscsl{lcm} of these numbers.
	       \end{lem}
	   \end{minipage}
	\end{preview}
	\end{document}
snippet styles family-tree
	% A family tree
	% or: an organisational chart
	% Author: Stefan Kottwitz , http://texblog.net
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A family tree
	:Tags: Styles; Trees; Charts
	:Author: Stefan Kottwitz
	:Slug: family-tree
	
	Posted for discussing and improving on http://tex.stackexchange.com/q/39696/213
	\end{comment}
	%
	\usetikzlibrary{trees}
	\begin{document}
	\begin{tikzpicture}[
	  man/.style={rectangle,draw,fill=blue!20},
	  woman/.style={rectangle,draw,fill=red!20,rounded corners=.8ex},
	  grandchild/.style={grow=down,xshift=1em,anchor=west,
	    edge from parent path={(\tikzparentnode.south) |- (\tikzchildnode.west)}},
	  first/.style={level distance=6ex},
	  second/.style={level distance=12ex},
	  third/.style={level distance=18ex},
	  level 1/.style={sibling distance=5em}]
	    % Parents
	    \coordinate
	      child[grow=left] {node[man,anchor=east]{Jim}}
	      child[grow=right] {node[woman,anchor=west]{Jane}}
	      child[grow=down,level distance=0ex]
	    [edge from parent fork down]
	    % Children and grandchildren
	    child{node[man] {Alfred}
	      child[grandchild,first] {node[man]{Joe}}
	      child[grandchild,second] {node[woman]{Heather}}
	      child[grandchild,third] {node[woman] {Barbara}}}
	    child{node[woman] {Berta}
	      child[grandchild,first] {node[man]{Howard}}}
	    child {node[man] {Charles}}
	    child {node[woman]{Doris}
	      child[grandchild,first] {node[man]{Nick}}
	      child[grandchild,second] {node[woman]{Liz}}};
	\end{tikzpicture}
	\end{document}
snippet arrows fancy-arrows
	% Fancy arrows drawn with the PGF 3.0 arrows.meta library
	% Author: Qrrbrbirlbel
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Fancy arrows drawn with the PGF 3.0 arrows.meta library
	:Tags: Arrows;Decorations;Styles;PGF 3.0
	:Author: Qrrbrbirlbel
	:Slug: fancy-arrows
	
	PGF 3.0 provides a new library called arrows.meta. Now you can bend arrows,
	change arrow tips on the fly, have several arrow tips in a row, and you can use
	a special syntax for changing the individual appearance.
	You can scale, color, joing, bend, flex, and more, and now there are
	a lot of more predefined arrow tips.
	
	This code was written by Qrrbrbirlbel and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{shapes.geometric,arrows.meta,decorations.markings}
	\tikzset{
	  big dot/.style={circle, draw, inner sep=0pt, minimum size=3mm, fill=yellow},
	  input/.style={draw, trapezium, trapezium left angle=60, trapezium right angle=120,
	    line width=1.2pt, fill={rgb:black,1;white,2}},
	  obstacle/.style={draw, trapezium, trapezium left angle=120, trapezium right angle=60,
	    line width=1.2pt, fill={rgb:black,1;white,2}},
	  flash/.style args={#1:#2}{postaction=decorate,decoration={name=markings,
	    mark=at position #1 with {%
	    \draw[fill=#2, line width=.75\pgflinewidth, line cap=round, line join=round]
	         (+\pgflinewidth,+7\pgflinewidth)   -- ++ ( left:+2\pgflinewidth) 
	      -- (+-4\pgflinewidth,+-\pgflinewidth) -- ++ (right:+5\pgflinewidth)
	      -- (+-\pgflinewidth,+-7\pgflinewidth) -- ++ (right:+2\pgflinewidth)
	      -- (+4\pgflinewidth,\pgflinewidth)    -- ++ (left:+5\pgflinewidth)
	      -- cycle;}}}
	}
	\begin{document}
	\begin{tikzpicture}[very thick,
	  StealthFill/.tip={Stealth[line width=1pt, scale=1.5]}, arrows={[round]}]
	\node[input]    (goal1)     at (0,0) {GOAL};
	\node[input]    (goal2)     at (4,0) {GOAL};
	\node[obstacle] (obstacle1) at (0,-1.5) {OBSTACLE};
	\node[input]    (goal3)     at (1.5,-3) {GOAL};
	\node[input]    (goal4)     at (4,-3) {GOAL};
	
	\path (goal2) -- node[big dot] (bigdot) {} (goal4);
	\path[line width=1.4pt, line cap=rect]
	  (goal1) edge[flash=.5:red] (goal2)
	  (bigdot) edge (goal3.north)
	           edge (goal4)          
	           edge[-{StealthFill[fill=yellow]}] (goal2)
	  [bend left=10, StealthBar/.style={-{Bar[sep=2] StealthFill[fill=#1]}}]
	    (goal2)     edge[StealthBar=green] (obstacle1)
	    (obstacle1) edge[StealthBar=red]   (goal2);
	\end{tikzpicture}
	\end{document}
snippet headings fancy-chapter-headings
	% Fancy chapter headings
	% Author: Stefan Kottwitz 
	% Source: http://texblog.net/latex-archive/layout/fancy-chapter-tikz/
	\documentclass[svgnames]{report}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Fancy chapter headings
	:Grid: 2x2
	
	An example of how you can use TikZ and absolute positioning to create fancy chapter headings.
	
	:Source: `TeXblog: Fancy chapter headings with TikZ`__
	
	__ http://texblog.net/latex-archive/layout/fancy-chapter-tikz/
	
	\end{comment}
	
	\usepackage{kpfonts}
	\usepackage[explicit]{titlesec}
	\newcommand*\chapterlabel{}
	\titleformat{\chapter}
	  {\gdef\chapterlabel{}
	   \normalfont\sffamily\Huge\bfseries\scshape}
	  {\gdef\chapterlabel{\thechapter\ }}{0pt}
	  {\begin{tikzpicture}[remember picture,overlay]
	    \node[yshift=-3cm] at (current page.north west)
	      {\begin{tikzpicture}[remember picture, overlay]
	        \draw[fill=LightSkyBlue] (0,0) rectangle
	          (\paperwidth,3cm);
	        \node[anchor=east,xshift=.9\paperwidth,rectangle,
	              rounded corners=20pt,inner sep=11pt,
	              fill=MidnightBlue]
	              {\color{white}\chapterlabel#1};
	       \end{tikzpicture}
	      };
	   \end{tikzpicture}
	  }
	\titlespacing*{\chapter}{0pt}{50pt}{-60pt}
	
	\begin{document}
	\tableofcontents
	\chapter{Introduction}
	Text
	\chapter{Main}
	\section{Section}
	Text
	\begin{thebibliography}{99}
	\bibitem{Test} test reference
	\end{thebibliography}
	\end{document}
snippet trees fault-tree
	% A simple fault tree
	% Author: Zhang Long, Mail: zhangloong[at]gmail.com
	%\def\pgfsysdriver{pgfsys-dvipdfm.def}
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Fault tree
	
	A simple fault tree sample. "And" & "Or" gates shapes are from ``shapes.gates.logic.US`` library. Since they are all horizontal in the library, so they are rotated 90 degree before using.
	
	First draw the tree without gates and other symbols like basic event symbol,  then place gates and symbols at the appropriate positions. Defining new "edge from parent path" rather than using "edge from parent fork down"  makes the branches nicer.
	
	**Note**: The node labels are not correctly placed when using the CVS version of PGF. See comments in the source code for details.
	
	\end{comment}
	\usetikzlibrary{shapes.gates.logic.US,trees,positioning,arrows}
	\begin{document}
	\begin{tikzpicture}[
	% Gates and symbols style
	    and/.style={and gate US,thick,draw,fill=red!60,rotate=90,
			anchor=east,xshift=-1mm},
	    or/.style={or gate US,thick,draw,fill=blue!60,rotate=90,
			anchor=east,xshift=-1mm},
	    be/.style={circle,thick,draw,fill=green!60,anchor=north,
			minimum width=0.7cm},
	    tr/.style={buffer gate US,thick,draw,fill=purple!60,rotate=90,
			anchor=east,minimum width=0.8cm},
	% Label style
	    label distance=3mm,
	    every label/.style={blue},
	% Event style
	    event/.style={rectangle,thick,draw,fill=yellow!20,text width=2cm,
			text centered,font=\sffamily,anchor=north},
	% Children and edges style
	    edge from parent/.style={very thick,draw=black!70},
	    edge from parent path={(\tikzparentnode.south) -- ++(0,-1.05cm)
				-| (\tikzchildnode.north)},
	    level 1/.style={sibling distance=7cm,level distance=1.4cm,
				growth parent anchor=south,nodes=event},
	    level 2/.style={sibling distance=7cm},
	    level 3/.style={sibling distance=6cm},
	    level 4/.style={sibling distance=3cm}
	%%  For compatability with PGF CVS add the absolute option:
	%   absolute
	    ]
	%% Draw events and edges
	    \node (g1) [event] {No flow to receiver}
		     child{node (g2) {No flow from Component B}   
		     	child {node (g3) {No flow into Component B}
		     	   child {node (g4) {No flow from Component A1}
		     	      child {node (t1) {No flow from source1}}
		     	      child {node (b2) {Component A1 blocks flow}}
				}
		     	   child {node (g5) {No flow from Component A2}
		     	      child {node (t2) {No flow from source2}}
		     	      child {node (b3) {Component A2 blocks flow}}
				}
			   }
		     	child {node (b1) {Component B blocks flow}}
			};
	%% Place gates and other symbols
	%% In the CVS version of PGF labels are placed differently than in PGF 2.0
	%% To render them correctly replace '-20' with 'right' and add the 'absolute'
	%% option to the tikzpicture environment. The absolute option makes the 
	%% node labels ignore the rotation of the parent node. 
	   \node [or]	at (g2.south)	[label=-20:G02]	{};
	   \node [and]	at (g3.south)	[label=-20:G03]	{};
	   \node [or]	at (g4.south)	[label=-20:G04]	{};
	   \node [or]	at (g5.south)	[label=-20:G05]	{};
	   \node [be]	at (b1.south)	[label=below:B01]	{};
	   \node [be]	at (b2.south)	[label=below:B02]	{};
	   \node [be]	at (b3.south)	[label=below:B03]	{};
	   \node [tr]	at (t1.south)	[label=below:T01]	{};
	   \node [tr]	at (t2.south)	[label=below:T02]	{};
	%% Draw system flow diagram
	   \begin{scope}[xshift=-7.5cm,yshift=-5cm,very thick,
			node distance=1.6cm,on grid,>=stealth',
			block/.style={rectangle,draw,fill=cyan!20},
			comp/.style={circle,draw,fill=orange!40}]
	   \node [block] (re)					{Receiver};
	   \node [comp]	 (cb)	[above=of re]			{B}  edge [->] (re);
	   \node [comp]	 (ca1)	[above=of cb,xshift=-0.8cm]	{A1} edge [->] (cb);
	   \node [comp]	 (ca2)	[right=of ca1]			{A2} edge [->] (cb);
	   \node [block] (s1)	[above=of ca1]		{Source1} edge [->] (ca1);
	   \node [block] (s2)	[right=of s1]		{Source2} edge [->] (ca2);
	   \end{scope}
	\end{tikzpicture}
	\end{document}
snippet decorations feynman-diagram
	% Feynman diagram
	% Requires PGF >= 2.0
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{trees}
	\usetikzlibrary{decorations.pathmorphing}
	\usetikzlibrary{decorations.markings}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Feynman diagram
	:Tags: Decorations, Trees, Physics & chemistry, PGF 2.0
	
	I saw this `Feynman diagram`_ in `Edward Tufte's`_ book `Beautiful evidence` (you can also
	find it in this thread_). It was relatively easy to recreate using trees and decorations.
	
	**Update**: Rewritten using PGF 2.0 features. 
	
	
	.. _Feynman diagram: http://scienceworld.wolfram.com/physics/FeynmanDiagram.html
	.. _Edward Tufte's: http://www.edwardtufte.com/tufte/index
	.. _thread: http://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0001TV&topic_id=1
	.. _workaround: http://sourceforge.net/mailarchive/message.php?msg_id=15276319
	
	\end{comment}
	
	
	\begin{document}
	
	% Define styles for the different kind of edges in a Feynman diagram
	\tikzset{
	    photon/.style={decorate, decoration={snake}, draw=red},
	    electron/.style={draw=blue, postaction={decorate},
	        decoration={markings,mark=at position .55 with {\arrow[draw=blue]{>}}}},
	    gluon/.style={decorate, draw=magenta,
	        decoration={coil,amplitude=4pt, segment length=5pt}} 
	}
	
	\begin{tikzpicture}[
	        thick,
	        % Set the overall layout of the tree
	        level/.style={level distance=1.5cm},
	        level 2/.style={sibling distance=2.6cm},
	        level 3/.style={sibling distance=2cm}
	    ]
	    \coordinate
	        child[grow=left]{
	            child {
	                node {$g$}
	                % The 'edge from parent' is actually not needed because it is
	                % implicitly added.
	                edge from parent [gluon]
	            }
	            child {
	                node {$g$}
	                edge from parent [gluon]
	            }
	            edge from parent [gluon] node [above=3pt] {$g$}
	        }
	        % I have to insert a dummy child to get the tree to grow
	        % correctly to the right.
	        child[grow=right, level distance=0pt] {
	        child  {
	            child {
	                child {
	                    node {$\bar{d}$}
	                    edge from parent [electron]
	                }
	                child {
	                    node {$u$}
	                    edge from parent [electron]
	                }
	                edge from parent [photon]
	            }
	            child {
	                node {$b$}
	                edge from parent [electron]
	            }
	            edge from parent [electron]
	            node [below] {$t$}
	        }
	        child {
	            child {
	                node {$\bar{b}$}
	                edge from parent [electron]
	            }
	            child {
	                child {
	                    node {$\bar{v}$}
	                    edge from parent [electron]
	                }
	                child {
	                    node {$e^{-}$}
	                    edge from parent [electron]
	                }
	                edge from parent [photon]
	            }
	            edge from parent [electron]
	            node [above] {$\bar{t}$}
	        }
	    };
	\end{tikzpicture}
	
	
	\end{document}
snippet styles fiber-coupler
	% Schematic of Wavelength Division Multiplexer (Optical Fiber Coupler)
	% Author: Jimi Oke
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Schematic of Wavelength Division Multiplexer (Optical Fiber Coupler)
	:Tags: Styles; To paths
	:Author: Jimi Oke
	:Slug: fiber-coupler
	
	From Wikipedia: A Fiber optic coupler is a device used in optical fiber systems with one or more input fibers and one or several output fibers. Light entering an input fiber can appear at one or more outputs and its power distribution potentially depending on the Wavelength and polarization.
	
	There are couplers which can combine two inputs at different wavelengths into one output. Wavelength-sensitive couplers are used as multiplexers in wavelength-division multiplexing (WDM) telecom systems to combine several input channels with different wavelengths, or to separate channels.
	\end{comment}
	\usepackage{textcomp}
	\begin{document}
	\begin{tikzpicture}[
	  box/.style={top color=black!30!blue!5, bottom color=black!30,
	  middle color=white},
	  media/.style={font={\footnotesize}},
	  whitetail/.style={very thick, yellow!8!white},
	  bluetail/.style={very thick, blue!90},
	  orangetail/.style={very thick, orange!90!black}]
	
	% frame
	\fill[gray!50,rounded corners] (-5,-2) rectangle (7.5,2);
	
	% coupler box
	\draw[thick, rounded corners] (0,-.3) rectangle (2.5,.3);
	\filldraw[rounded corners, box] (0,-.3) rectangle (2.5,.3);
	
	% fiber leads
	\draw[bluetail] (-4,1) to[out=-30,in=180] (0,.08);
	\draw[whitetail] (-4,-1) to[out=30,in=180] (0,-.08);
	
	\draw[very thick, gray] (0,.08) -- (2.5, .08);
	\draw[very thick, gray] (0,-.08) -- (2.5, -.08);
	
	\draw[orangetail] (2.5,.08) to[out=0,in=210] (6.5,1);
	\draw[whitetail] (2.5,-.08) to[out=0,in=150] (6.5,-1);
	
	% labels
	\path[media,fill=white,draw=black] (-4.4,-1.2) node {O2}
	             (-4.4, 1.2) node {O1}
	             ( 6.9,-1.2) node {I2}
	             ( 6.9, 1.2) node {I1};
	
	\node[media,right] at (2,-3)   {I1: In from gain medium};
	\node[media,right] at (2,-3.5) {I2: Out to wattmeter for monitoring};
	\node[media,right] at (-5,-3) {O1: Connects to Faraday isolator};
	\node[media,right] at(-5,-3.5) {O2: Nd:YAG pump input (1.06 \textmu m)};
	\end{tikzpicture}
	\end{document} 
snippet fibonacci fibonacci-spiral
	% Fibonacci spiral
	% Author: Andrew Mertz
	\documentclass{minimal}
	\usepackage{amsmath,tikz}
	\usetikzlibrary{backgrounds,calc}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{0pt}%
	%%%>
	
	\begin{comment}
	:Title: Fibonacci spiral
	
	A `Fibonacci spiral`_.
	
	.. _Fibonacci spiral: http://en.wikipedia.org/wiki/Fibonacci_number
	
	\end{comment}
	
	\begin{document}
	% I have seen many beautiful depictions of Fibonacci spirals and
	% golden spirals. So I thought it would be nice to make a Fibonacci
	% spiral in TikZ. I like the look of white on black so here I define a
	% black background rectangle.
	\begin{tikzpicture}[background rectangle/.style={fill=black},
	                    show background rectangle] 
	  % Create some counters for holding the Fibonacci numbers
	  \newcounter{a}
	  \newcounter{b}
	  \newcounter{temp}
	
	  % Initialize the counters
	  \setcounter{a}{0}
	  \setcounter{b}{1}
	
	  % The spiral will start at the origin
	  \coordinate (0) at (0,0);
	
	  % This loop defines the number of turns in the spiral. Note that we
	  % will have to be careful not to overflow our counters or make the
	  % spiral too large for TeX to handle. This is easy to do as the
	  % Fibonacci sequence grows exponentially.
	  \foreach \i in {1,...,18}
	  {
	    % Get the "name" of the last point on the spiral
	    \pgfmathsetmacro{\lastpoint}{\i-1}
	
	    % Compute the angle for this turn of the spiral
	    \pgfmathsetmacro{\startangle}{mod(\i-1,4) * 90}
	
	    % Draw this turn of the spiral and remember the point where we end 
	    \draw[white] (\lastpoint) arc 
	      (\startangle : \startangle + 90 : \value{b}/10.0pt) coordinate (\i);
	
	   % Compute the next Fibonacci number
	    \setcounter{temp}{\value{b}}
	    \addtocounter{b}{\value{a}}
	    \setcounter{a}{\value{temp}}
	 }
	
	 % Add some framing for the spiral while at the same time not "boxing"
	 % it in. Note that to put a square around each turn of the spiral we
	 % could have just used the command \draw[white] (\lastpoint)
	 % rectangle (\i); after drawing each turn in the loop above.
	 \foreach \i in {1,3,...,17}
	 {
	   \pgfmathsetmacro{\lastpoint}{\i-1}
	   \draw[white] (\lastpoint) -| (\i);
	 }
	
	 \foreach \i in {2,4,...,16}
	 {
	   \pgfmathsetmacro{\lastpoint}{\i-1}
	   \draw[white] (\lastpoint) |- (\i);
	 }
	
	 \draw[white] (17) -- (17 |- 18);
	 
	 % Add some text displaying the formula for the Fibonacci numbers
	 \node(eq) at ($(18) + (2.5,1)$) 
	   [white,text width = 2cm,font=\fontsize{8}{8}\selectfont] {
	   \begin{displaymath}
	     f(n) = \left\{
	       \begin{array}{lr}
	         0 & \text{~~if } n = 0\\
	         1 & \text{~~if } n = 1\\
	         f(n-1) + f(n-2) & \text{~~if } n \geq 2\\
	      \end{array}
	     \right.
	   \end{displaymath}
	  };
	\end{tikzpicture}
	\end{document}
snippet basics file-folder
	% LocalWords:  tikzpicture eq lr TikZ
	% File folder with archived pages
	% Author:	Leo Arnold
	% Contact:	tex@arney.de
	% License:	CC BY-SA 3.0
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{1cm}%
	%%%>
	\begin{comment}
	:Title: File folder with archived pages
	:Tags: Basics;Decorative Drawings
	:Author: Leo Arnold
	:Slug: file-folder
	
	A schematic drawing of a file folder using basic TikZ commands.
	Measures were taken by hand from a real german file folder for A4 documents.
	\end{comment}
	
	\begin{document}
	
	% Scale to your needs
	\scalebox{0.2}{
	  % All measures in centimeters
	  \begin{tikzpicture}
	    % Basic cardboard
	    \draw[fill=black]
	      (-32,0) rectangle (32,32);
	    \draw[fill=gray!50]
	      (-31.6,0.4) rectangle (31.6,31.6);
	
	    % Fold lines
	    \foreach \i in {-1, 1} {
	      \draw[loosely dashed, line width=1mm]
	        (\i*3.5,0.5) -- (\i*3.5,31.5);
	    }
	
	    % Finger hole
	    \draw[fill=white, line width=2mm]
	      (0,8.8) circle (1.5);
	
	    % Metal plate
	    \draw[fill=gray, line width=1mm, rounded corners]
	      (4,11.6) rectangle (9,20.4);
	
	    \foreach \i in {0, 1, 2} {
	      % Filed pages
	      \draw[fill=white, very thin, shift={(-\i*0.2,\i*0.2)}]
	        (7.8,1.1) rectangle (28.8,30.9);
	      % Punched holes
	      \draw[fill=white, shift={(-\i*0.2,\i*0.2)}]
	        (9,12) circle (0.25);
	      \draw[fill=white, shift={(-\i*0.2,\i*0.2)}]
	        (9,20) circle (0.25);
	    }
	
	    \foreach \i in {0, 1} {
	      % Metal skewers
	      \draw[line cap=round, line width=3mm, shift={(0,\i*8)}]
	        (4.4,12) --
	        (4.4,15) to [controls=+(90:2) and +(90:2)] (8.6,15)
	         -- (8.6,12.4);
	      % Holes opposite to skewers
	      \draw[fill=white, line width=2mm, rounded corners=4mm, shift={(0,\i*8)}]
	        (-8.8,11.6) rectangle (-4.8,12.4);
	    }
	  \end{tikzpicture}
	}
	
	\end{document}
snippet trees filesystem-tree
	% Author: Frantisek Burian
	\documentclass{minimal}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Filesystem tree
	:Tags: Trees; Styles
	:Author: Frantisek Burian
	:Slug: filesystem-tree
	\end{comment}
	\usetikzlibrary{trees}
	\begin{document}
	\tikzstyle{every node}=[draw=black,thick,anchor=west]
	\tikzstyle{selected}=[draw=red,fill=red!30]
	\tikzstyle{optional}=[dashed,fill=gray!50]
	\begin{tikzpicture}[%
	  grow via three points={one child at (0.5,-0.7) and
	  two children at (0.5,-0.7) and (0.5,-1.4)},
	  edge from parent path={(\tikzparentnode.south) |- (\tikzchildnode.west)}]
	  \node {texmf}
	    child { node {doc}}		
	    child { node {fonts}}
	    child { node {source}}
	    child { node [selected] {tex}
	      child { node {generic}}
	      child { node [optional] {latex}}
	      child { node {plain}}
	    }
	    child [missing] {}				
	    child [missing] {}				
	    child [missing] {}				
	    child { node {texdoc}};
	\end{tikzpicture}
	\end{document}
snippet fadings fireworks
	% Fireworks
	% Author: percusse
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{0pt}%
	%%%>
	\begin{comment}
	:Title: Fireworks
	:Tags: Fadings, Scopes, Transparency,
	:Author: percusse
	:Slug: fireworks
	Posted for celebrating Christmas 2011 on http://tex.stackexchange.com/q/39485/213
	
	Displayed with TeXworks PDF previewer. Some PDF viewers don't display
	correctly, noticed with Adobe Reader on Linux and Evince on Linux.
	\end{comment}
	\usetikzlibrary{calc,decorations.pathmorphing}
	%
	\pgfdeclareradialshading{someshade}{\pgfpointorigin}{%
	  color(0mm)=(pgftransparent!40);color(5mm)=(pgftransparent!50);%
	  color(10mm)=(pgftransparent!70);color(2cm)=(pgftransparent!100)}
	\pgfdeclareradialshading{somenodeshade}{\pgfpointorigin}{%
	  color(0mm)=(pgftransparent!0);color(2mm)=(pgftransparent!5);%
	  color(5mm)=(pgftransparent!95);color(20mm)=(pgftransparent!100)}
	\pgfdeclareradialshading{invertshade}{\pgfpointorigin}{%
	  color(0mm)=(pgftransparent!100);color(6mm)=(pgftransparent!95);%
	  color(10mm)=(pgftransparent!60);color(2cm)=(pgftransparent!0)}
	\pgfdeclarefading{fadeit}{\pgfuseshading{someshade}}
	\pgfdeclarefading{fadein}{\pgfuseshading{invertshade}}
	%
	\begin{document}
	\begin{tikzpicture}[projectile/.style={decorate,decoration={random steps,
	  segment length=3pt,amplitude=0.5pt}}]
	  \fill[black] (-4,-4) rectangle (6,5);
	
	  \begin{scope}[xshift=0cm,yshift=-0.4cm,transparency group]
	    \pgfsetfading{fadein}{\pgftransformshift{\pgfpointorigin}}
	    \foreach \x in {0,6,..., 360}{\draw[blue!80!white,projectile,line width=1.1pt]
	      (0,0) to [in=90] (10*rand+\x:rand*1mm+2cm);};
	  \end{scope}
	
	  \begin{scope}[xshift=2cm,yshift=1cm]
	    \foreach \x in {0,8,..., 360}{\draw [yellow!5,thick,projectile] (0.7,0)
	      to  (3*rand+\x :1mm*rand+2.2cm)  node[circle,inner sep=1mm,
	      shade,shading=somenodeshade,opacity=0.1] {};}
	    {\pgfsetfading{fadeit}{\pgftransformshift{\pgfpoint{2.5cm}{1cm}}}};
	    \fill[white] (-3,-3) rectangle (3,3);
	  \end{scope}
	
	  \begin{scope}[xshift=3cm,yshift=-1cm]
	    \foreach \x in {0,10,..., 360}{\def\r1{rand}\draw [yellow]
	      ($(0,0)!abs{\r1}!(\x :5mm)$) to [in=90] ($(0,0)!abs{\r1}+0.2!(\x :8mm)$);}
	    {\pgfsetfading{fadeit}{\pgftransformshift{\pgfpoint{3cm}{-1cm}}}};
	    \fill[yellow,opacity=0.6] (-3,-3) rectangle (3,3);
	  \end{scope}
	
	  \begin{scope}[xshift=-1cm,yshift=1.5cm]
	    \foreach \x in {0,12,..., 360}{\def\r2{rand}\draw [red,line width=0.5pt]
	      ($(0,0)!abs{\r2}!(\x :3mm)$) -- ($(0,0)!abs{\r2}+0.1!(\x :7mm)$);}
	    {\pgfsetfading{fadeit}{\pgftransformshift{\pgfpoint{-1cm}{1.5cm}}}};
	    \fill[red,opacity=0.6] (-3,-3) rectangle (3,3);
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet diagrams FIR-filter
	% Library for block diagrams and signal flow graphs
	% Author: Matthias Hotz
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Digital Signal Processing Library
	:Tags: Diagrams;Block Diagrams;Graphs;Electrical engineering
	:Author: Matthias Hotz
	:Slug: fir-filter
	This library is an extension of the example of Karlheinz Ochs [1] and provides basic building blocks for block diagrams and signal flow graphs. The provided example illustrates a finite impulse response (FIR) filter as block diagram and signal flow graph.
	
	[1] http://www.texample.net/tikz/examples/signal-flow-building-blocks/
	\end{comment}
	\usetikzlibrary{dsp,chains}
	
	\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
	\newcommand{\z}{\mathpzc{z}}
	
	\begin{document}
	% FIR filter as block diagram
	\begin{tikzpicture}
	
		% Place nodes using a matrix
		\matrix (m1) [row sep=2.5mm, column sep=5mm]
		{
			%--------------------------------------------------------------------
			\node[dspnodeopen,dsp/label=above] (m00) {$x[n]$};    &
			\node[coordinate]                  (m01) {};          &
			\node[dspnodefull]                 (m02) {};          &
			\node[dspsquare]                   (m03) {$\z^{-1}$}; &
			\node[dspnodefull]                 (m04) {};          &
			\node[dspsquare]                   (m05) {$\z^{-1}$}; &
			\node[dspnodefull]                 (m06) {};          &
			\node[dspsquare]                   (m07) {$\z^{-1}$}; &
			\node[coordinate]                  (m08) {};          &
			\node[coordinate]                  (m09) {};          &
			\node[coordinate]                  (m0X) {};          \\
			%--------------------------------------------------------------------
			\node[coordinate]                  (m10) {};          &
			\node[coordinate]                  (m11) {};          &
			\node[dspmixer, dsp/label=right]   (m12) {$h[0]$};    &
			\node[coordinate]                  (m13) {};          &
			\node[dspmixer, dsp/label=right]   (m14) {$h[1]$};    &
			\node[coordinate]                  (m15) {};          &
			\node[dspmixer, dsp/label=right]   (m16) {$h[2]$};    &
			\node[coordinate]                  (m17) {};          &
			\node[dspmixer, dsp/label=right]   (m18) {$h[3]$};    &
			\node[coordinate]                  (m19) {};          &
			\node[coordinate]                  (m1X) {};          \\
			%--------------------------------------------------------------------
			\\
			%--------------------------------------------------------------------
			\node[coordinate]                  (m20) {};          &
			\node[coordinate]                  (m21) {};          &
			\node[coordinate]                  (m22) {};          &
			\node[coordinate]                  (m23) {};          &
			\node[dspadder]                    (m24) {};          &
			\node[coordinate]                  (m25) {};          &
			\node[dspadder]                    (m26) {};          &
			\node[coordinate]                  (m27) {};          &
			\node[dspadder]                    (m28) {};          &
			\node[coordinate]                  (m29) {};          &
			\node[dspnodeopen,dsp/label=above] (m2X) {$y[n]$};    \\
			%--------------------------------------------------------------------
		};
	
		% Draw connections
		
		\begin{scope}[start chain]
			\chainin (m00);
			\chainin (m02) [join=by dspflow];
			\chainin (m12) [join=by dspconn];
			\chainin (m22) [join=by dspline];
		\end{scope}
	
		\foreach \i [evaluate = \i as \j using int(\i+1),
		             evaluate = \i as \k using int(\i+2),] in {2,4,6}
		{
			\begin{scope}[start chain]
				\chainin (m0\i);
				\chainin (m0\j) [join=by dspconn];
				\chainin (m0\k) [join=by dspline];
				\chainin (m1\k) [join=by dspconn];
				\chainin (m2\k) [join=by dspconn];
			\end{scope}
			\draw[dspconn] (m2\i) -- (m2\k);
		}
	
		\draw[dspflow] (m28) -- (m2X);
	
	
		% Place nodes using another matrix for another picture
		\matrix (m2) [row sep=15mm, column sep=15mm, below=of m1]
		{
			%--------------------------------------------------------------------
			\node[dspnodeopen,dsp/label=left]  (m00) {$x[n]$};  &
			\node[dspnodeopen]                 (m01) {};        &
			\node[dspnodeopen]                 (m02) {};        &
			\node[dspnodeopen]                 (m03) {};        &
			\node[dspnodeopen]                 (m04) {};        &
			\node[coordinate]                  (m05) {};        \\
			%--------------------------------------------------------------------
			\node[coordinate]                  (m10) {};        &
			\node[dspnodeopen]                 (m11) {};        &
			\node[dspnodeopen]                 (m12) {};        &
			\node[dspnodeopen]                 (m13) {};        &
			\node[dspnodeopen]                 (m14) {};        &
			\node[dspnodeopen,dsp/label=right] (m15) {$y[n]$};  \\
			%--------------------------------------------------------------------
		};
	
		% Draw connections
	
		\draw[dspflow] (m00) -- (m01);
		
		\foreach \i [evaluate = \i as \j using int(\i+1)] in {1,2,3}
			\draw[dspflow] (m0\i) -- node[midway,above] {$\z^{-1}$} (m0\j);
	
		\foreach \i [evaluate = \i as \j using int(\i-1)] in {1,2,...,4}
			\draw[dspflow] (m0\i) -- node[midway,right] {$h[\j]$} (m1\i);
			
		\foreach \i [evaluate = \i as \j using int(\i+1)] in {1,2,...,4}
			\draw[dspflow] (m1\i) -- (m1\j);
		
		% Other elements
		\node[dspsquare, below=of m10, below=10ex]       (c0) {\upsamplertext{L}};
		\node[dspsquare,right= of c0]                    (c1) {\downsamplertext{M}};
		\node[dspfilter,right=of c1]                     (c2) {$H(\z)$};
		\node[dspmultiplier,right=of c2,dsp/label=below] (c3) {$\gamma$};
		\node[dspfilter,right=of c3,minimum size=2cm,text height=2em]
		                                                 (c4) {Weird\\ Stuff};
		\foreach \i [evaluate = \i as \j using int(\i+1)] in {0,1,...,3}
			\draw[dspconn] (c\i) -- (c\j);
	\end{tikzpicture}
	
	\end{document}
snippet flowcharts flexible-flow-chart
	% Flowcharting techniques for easy maintenance
	% Author: Brent Longborough
	\documentclass[x11names]{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows,chains}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5mm}%
	%%%>
	\begin{comment}
	:Title: Easy-maintenance flowchart
	:Tags: flowcharts
	:Author: Brent Longborough
	:Slug: flexible-flow-chart
	
	  This TikZ example illustrates a number of techniques for making TikZ
	  flowcharts easier to maintain:
	    * Use of <on chain> and <on grid> to simplify positioning
	    * Use of global <node distance> options to eliminate the need to 
	      specify individual inter-node distances
	    * Use of <join> to reduce the need for references to node names
	    * Use of <join by> styles to tailor specific connectors
	    * Use of <coordinate> nodes to provide consistent layout for
	      parallel flow lines
	    * A method for consistent annotation of decision box exits
	    * A technique for marking coordinate nodes (for layout debugging)
	
	    I encourage you to tinker at this file - add intermediate boxes,
	    alter the global distance settings, and so on, to see how well (or
	    ill!) it adapts.
	\end{comment}
	\begin{document}
	% =================================================
	% Set up a few colours
	\colorlet{lcfree}{Green3}
	\colorlet{lcnorm}{Blue3}
	\colorlet{lccong}{Red3}
	% -------------------------------------------------
	% Set up a new layer for the debugging marks, and make sure it is on
	% top
	\pgfdeclarelayer{marx}
	\pgfsetlayers{main,marx}
	% A macro for marking coordinates (specific to the coordinate naming
	% scheme used here). Swap the following 2 definitions to deactivate
	% marks.
	\providecommand{\cmark}[2][]{%
	  \begin{pgfonlayer}{marx}
	    \node [nmark] at (c#2#1) {#2};
	  \end{pgfonlayer}{marx}
	  } 
	\providecommand{\cmark}[2][]{\relax} 
	% -------------------------------------------------
	% Start the picture
	\begin{tikzpicture}[%
	    >=triangle 60,              % Nice arrows; your taste may be different
	    start chain=going below,    % General flow is top-to-bottom
	    node distance=6mm and 60mm, % Global setup of box spacing
	    every join/.style={norm},   % Default linetype for connecting boxes
	    ]
	% ------------------------------------------------- 
	% A few box styles 
	% <on chain> *and* <on grid> reduce the need for manual relative
	% positioning of nodes
	\tikzset{
	  base/.style={draw, on chain, on grid, align=center, minimum height=4ex},
	  proc/.style={base, rectangle, text width=8em},
	  test/.style={base, diamond, aspect=2, text width=5em},
	  term/.style={proc, rounded corners},
	  % coord node style is used for placing corners of connecting lines
	  coord/.style={coordinate, on chain, on grid, node distance=6mm and 25mm},
	  % nmark node style is used for coordinate debugging marks
	  nmark/.style={draw, cyan, circle, font={\sffamily\bfseries}},
	  % -------------------------------------------------
	  % Connector line styles for different parts of the diagram
	  norm/.style={->, draw, lcnorm},
	  free/.style={->, draw, lcfree},
	  cong/.style={->, draw, lccong},
	  it/.style={font={\small\itshape}}
	}
	% -------------------------------------------------
	% Start by placing the nodes
	\node [proc, densely dotted, it] (p0) {New trigger message thread};
	% Use join to connect a node to the previous one 
	\node [term, join]      {Trigger scheduler};
	\node [proc, join] (p1) {Get quota $k > 1$};
	\node [proc, join]      {Open queue};
	\node [proc, join]      {Dispatch message};
	\node [test, join] (t1) {Got msg?};
	% No join for exits from test nodes - connections have more complex
	% requirements
	% We continue until all the blocks are positioned
	\node [proc] (p2) {$k \mathbin{{-}{=}} 1$};
	\node [proc, join] (p3) {Dispatch message};
	\node [test, join] (t2) {Got msg?};
	\node [test] (t3) {Capacity?};
	\node [test] (t4) {$k \mathbin{{-}{=}} 1$};
	% We position the next block explicitly as the first block in the
	% second column.  The chain 'comes along with us'. The distance
	% between columns has already been defined, so we don't need to
	% specify it.
	\node [proc, fill=lcfree!25, right=of p1] (p4) {Reset congestion};
	\node [proc, join=by free] {Set \textsc{mq} wait flag};
	\node [proc, join=by free] (p5) {Dispatch message};
	\node [test, join=by free] (t5) {Got msg?};
	\node [test] (t6) {Capacity?};
	% Some more nodes specifically positioned (we could have avoided this,
	% but try it and you'll see the result is ugly).
	\node [test] (t7) [right=of t2] {$k \mathbin{{-}{=}} 1$};
	\node [proc, fill=lccong!25, right=of t3] (p8) {Set congestion};
	\node [proc, join=by cong, right=of t4] (p9) {Close queue};
	\node [term, join] (p10) {Exit trigger message thread};
	% -------------------------------------------------
	% Now we place the coordinate nodes for the connectors with angles, or
	% with annotations. We also mark them for debugging.
	\node [coord, right=of t1] (c1)  {}; \cmark{1}   
	\node [coord, right=of t3] (c3)  {}; \cmark{3}   
	\node [coord, right=of t6] (c6)  {}; \cmark{6}   
	\node [coord, right=of t7] (c7)  {}; \cmark{7}   
	\node [coord, left=of t4]  (c4)  {}; \cmark{4}   
	\node [coord, right=of t4] (c4r) {}; \cmark[r]{4}
	\node [coord, left=of t7]  (c5)  {}; \cmark{5}   
	% -------------------------------------------------
	% A couple of boxes have annotations
	\node [above=0mm of p4, it] {(Queue was empty)};
	\node [above=0mm of p8, it] {(Queue was not empty)};
	% -------------------------------------------------
	% All the other connections come out of tests and need annotating
	% First, the straight north-south connections. In each case, we first
	% draw a path with a (consistently positioned) annotation node, then
	% we draw the arrow itself.
	\path (t1.south) to node [near start, xshift=1em] {$y$} (p2);
	  \draw [*->,lcnorm] (t1.south) -- (p2);
	\path (t2.south) to node [near start, xshift=1em] {$y$} (t3); 
	  \draw [*->,lcnorm] (t2.south) -- (t3);
	\path (t3.south) to node [near start, xshift=1em] {$y$} (t4); 
	  \draw [*->,lcnorm] (t3.south) -- (t4);
	\path (t5.south) to node [near start, xshift=1em] {$y$} (t6); 
	  \draw [*->,lcfree] (t5.south) -- (t6);
	\path (t6.south) to node [near start, xshift=1em] {$y$} (t7); 
	  \draw [*->,lcfree] (t6.south) -- (t7); 
	% ------------------------------------------------- 
	% Now the straight east-west connections. To provide consistent
	% positioning of the test exit annotations, we have positioned
	% coordinates for the vertical part of the connectors. The annotation
	% text is positioned on a path to the coordinate, and then the whole
	% connector is drawn to its destination box.
	\path (t3.east) to node [near start, yshift=1em] {$n$} (c3); 
	  \draw [o->,lccong] (t3.east) -- (p8);
	\path (t4.east) to node [yshift=-1em] {$k \leq 0$} (c4r); 
	  \draw [o->,lcnorm] (t4.east) -- (p9);
	% -------------------------------------------------
	% Finally, the twisty connectors. Again, we place the annotation
	% first, then draw the connector
	\path (t1.east) to node [near start, yshift=1em] {$n$} (c1); 
	  \draw [o->,lcfree] (t1.east) -- (c1) |- (p4);
	\path (t2.east) -| node [very near start, yshift=1em] {$n$} (c1); 
	  \draw [o->,lcfree] (t2.east) -| (c1);
	\path (t4.west) to node [yshift=-1em] {$k>0$} (c4); 
	  \draw [*->,lcnorm] (t4.west) -- (c4) |- (p3);
	\path (t5.east) -| node [very near start, yshift=1em] {$n$} (c6); 
	  \draw [o->,lcfree] (t5.east) -| (c6); 
	\path (t6.east) to node [near start, yshift=1em] {$n$} (c6); 
	  \draw [o->,lcfree] (t6.east) -| (c7); 
	\path (t7.east) to node [yshift=-1em] {$k \leq 0$} (c7); 
	  \draw [o->,lcfree] (t7.east) -- (c7)  |- (p9);
	\path (t7.west) to node [yshift=-1em] {$k>0$} (c5); 
	  \draw [*->,lcfree] (t7.west) -- (c5) |- (p5);
	% -------------------------------------------------
	% A last flourish which breaks all the rules
	\draw [->,MediumPurple4, dotted, thick, shorten >=1mm]
	  (p9.south) -- ++(5mm,-3mm)  -- ++(27mm,0) 
	  |- node [black, near end, yshift=0.75em, it]
	    {(When message + resources available)} (p0);
	% -------------------------------------------------
	\end{tikzpicture}
	% =================================================
	\end{document}
snippet diagrams flowchart
	% Flowchart
	% Author: Qrrbrbirlbel
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Flowchart
	:Tags: Diagrams;Flowcharts;Node positioning;Nodes and shapes
	:Author: Qrrbrbirlbel
	:Slug: flowchart
	
	This example flowchart uses the positioning-plus library and the
	node-families library by the same author. The fit library is implicitly loaded
	by positioning-plus, the backgrounds library is used to draw stuff behind
	other stuff, the calc library for some coordinate calculations and the
	shapes.geometric library for the ellipse shape.
	
	This example was written by Qrrbrbirlbel answering a question on TeX.SE.
	\end{comment}
	\usetikzlibrary{shapes.geometric,backgrounds,
	  positioning-plus,node-families,calc}
	\tikzset{
	  basic box/.style = {
	    shape = rectangle,
	    align = center,
	    draw  = #1,
	    fill  = #1!25,
	    rounded corners},
	  header node/.style = {
	    Minimum Width = header nodes,
	    font          = \strut\Large\ttfamily,
	    text depth    = +0pt,
	    fill          = white,
	    draw},
	  header/.style = {%
	    inner ysep = +1.5em,
	    append after command = {
	      \pgfextra{\let\TikZlastnode\tikzlastnode}
	      node [header node] (header-\TikZlastnode) at (\TikZlastnode.north) {#1}
	      node [span = (\TikZlastnode)(header-\TikZlastnode)]
	        at (fit bounding box) (h-\TikZlastnode) {}
	    }
	  },
	  hv/.style = {to path = {-|(\tikztotarget)\tikztonodes}},
	  vh/.style = {to path = {|-(\tikztotarget)\tikztonodes}},
	  fat blue line/.style = {ultra thick, blue}
	}
	\begin{document}
	\begin{tikzpicture}[node distance = 1.2cm, thick, nodes = {align = center},
	    >=latex]
	  \node[Minimum Width = loop, shape = ellipse, fill = red] (imp-sol)
	    {ellipsoid box};
	  \node[Minimum Width = loop, fill = yellow, below = of imp-sol] (rec-box)
	    {rectangular box, and very wiiiiiiiiiiiiiiide\\2nd line};
	  \node[shift = (left:.5*x_node_dist)] at
	    ($(imp-sol.west|-imp-sol.south)!.5!(rec-box.north west)$) (for-1)
	    {formula 1};
	  \node[shift = (right:.5*x_node_dist)] at
	    ($(imp-sol.east|-imp-sol.south)!.5!(rec-box.north east)$) (for-2)
	    {formula 2};
	  \begin{scope}[on background layer]
	    \node[fit = (for-1)(for-2)(imp-sol)(rec-box), basic box = blue,
	      header = DMFT loop] (dmft-l) {};
	  \end{scope}
	  \path[very thick, blue, hv] (rec-box) edge[->] (for-1) edge[<-] (for-2)
	                              (imp-sol) edge[->] (for-2) edge[<-] (for-1);
	
	  \node[east above = of dmft-l, basic box = green, header = DMFT prelude]
	    (dmft-p) {Math and text math and text math and text\\
	              math and text math and text math and text};
	  \node[north left = of dmft-l, basic box = green, header = $\rho$ update,
	     shift = (down:y_node_dist)] (rho)
	    {Much more text much more text\\much more text much more text};
	  \node[basic box = blue, header = DFT part, anchor = north] at
	    (dmft-p.north-|rho) (dft) {So much text so much text so much text\\
	    I think I need \texttt{tikz-lipsum}\\or something like that.};
	  \node[basic box = green, anchor = north] at
	    ($(dft.north east)!.5!(dmft-p.north west)$) (upd) {update\\$math$};
	  \path[fat blue line, <-, dashed, vh] (rho) edge
	    ({$(rho.south)!.5!(dmft-l.south)$}-|dmft-l.south west);
	  \path[fat blue line, ->]
	    ({$(upd.south)!.5!(dmft-p.south)$}-|dmft-p.south west)
	    coordinate (@) edge[<-, solid] coordinate[pos=.15] (@s)
	    coordinate[pos=.9] (@e) (@-|dft.east)
	    {[every edge/.append style=dashed, vh] (@s) edge[<-] (upd) (@e) edge (upd)}
	    (h-rho) edge[dashed] (dft)
	    ($(dmft-p.south)!.5!(dmft-p.south east)$)
	    coordinate (@) edge (@|-dmft-l.north);
	\end{tikzpicture}
	\end{document}
snippet physics fluor-energy-levels
	% Energy levels of a fluor molecule
	% Author: David Fokkema
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Energy levels of a fluor molecule
	:Tags: Physics;Styles;Diagrams;Foreach;Clipping;Intersections
	:Author: David Fokkema
	:Slug: fluor-energy-levels
	
	In particle physics, the most important experimental problem is that of
	detecting particles.  A cheap and highly efficient solution is using
	*scintillators*.  These kinds of detectors emit light when a charged
	particle traverses the detector.  The light-emitting process is depicted
	in this figure.  The layout was inspired by [this wikipedia
	graphic](http://en.wikipedia.org/wiki/File:Pistates.svg).  The TikZ code
	in my version is a bit complex, mainly due to manual layout tweaks,
	shifting some positions here and there.  The figure shown here is a minor
	revision of the one included in
	[my PhD thesis](http://dx.doi.org/10.3990/1.9789036534383).
	\end{comment}
	
	\usetikzlibrary{calc,arrows,decorations.pathmorphing,intersections}
	\usepackage[font={small,sf},labelfont={bf},labelsep=endash]{caption}
	\usepackage{sansmath}
	\begin{document}
	\begin{center}
	  \sansmath
	  \begin{tikzpicture}[
	    font=\sffamily,
	    level/.style={black,thick},
	    sublevel/.style={black,densely dashed},
	    ionization/.style={black,dashed},
	    transition/.style={black,->,>=stealth',shorten >=1pt},
	    radiative/.style={transition,decorate,decoration={snake,amplitude=1.5}},
	    indirectradiative/.style={radiative,densely dashed},
	    nonradiative/.style={transition,dashed},
	  ]
	  \coordinate (sublevel) at (0, 8pt);
	
	  % Singlet levels
	  \coordinate (S00) at (0, -1);
	  \coordinate (S01) at ($(S00) + (sublevel)$);
	  \coordinate (S02) at ($(S00) + 2*(sublevel)$);
	  \coordinate (S03) at ($(S00) + 3*(sublevel)$);
	  \coordinate (S10) at (0, 3);
	  \coordinate (S11) at ($(S10) + (sublevel)$);
	  \coordinate (S12) at ($(S10) + 2*(sublevel)$);
	  \coordinate (S13) at ($(S10) + 3*(sublevel)$);
	  \coordinate (S20) at (0, 4.5);
	  \coordinate (S21) at ($(S20) + (sublevel)$);
	  \coordinate (S22) at ($(S20) + 2*(sublevel)$);
	  \coordinate (S30) at (0, 6);
	
	  % Draw main levels
	  \foreach \level/\text in {00/0, 10/1, 20/2, 30/3}
	    \draw[level] (S\level) node[left=20pt] {$S_\text$} node[left]
	      {\footnotesize $S_{\level}$} -- +(4, 0);
	
	  % Draw sublevels
	  \foreach \sublevel in {01,02,03,11,12,13,21,22}
	    \draw[sublevel] (S\sublevel) node[left]
	      {\footnotesize $S_{\sublevel}$} -- +(4, 0);
	
	  \node at (2, 6.5) {Singlet};
	
	  % Triplet levels
	  \coordinate (T00) at (5, 2);
	  \coordinate (T01) at ($(T00) + (sublevel)$);
	  \coordinate (T02) at ($(T00) + 2*(sublevel)$);
	  \coordinate (T03) at ($(T00) + 3*(sublevel)$);
	  \coordinate (T10) at (5, 3.5);
	  \coordinate (T11) at ($(T10) + (sublevel)$);
	  \coordinate (T12) at ($(T10) + 2*(sublevel)$);
	  \coordinate (T13) at ($(T10) + 3*(sublevel)$);
	  \coordinate (T20) at (5, 5);
	  \coordinate (T21) at ($(T20) + (sublevel)$);
	
	  % Draw main levels
	  \foreach \level/\text in {00/0, 10/1, 20/2}
	    \draw[level] (T\level) -- +(2, 0)
	      node[right=20pt] {$T_\text$}
	      node[right] {\footnotesize $T_{\level}$};
	
	  % Draw sublevels
	  \foreach \sublevel in {01,02,11,12,13,21}
	    \draw[sublevel] (T\sublevel) -- +(2, 0) node[right]
	      {\footnotesize $T_{\sublevel}$};
	
	  \node at (6, 6.5) {Triplet};
	
	  % Ionization level
	  \draw[ionization] (0, 7.5) node[left=20pt] {$I_\pi$} -- +(7, 0);
	
	  % Excitations
	  \foreach \i/\from/\to in {1/S00/S10, 2/S00/S11, 3/S00/S12, 4/S00/S13,
	                            5/S00/S20, 6/S00/S21, 7/S00/S22, 8/S00/S30}
	    \draw[transition] ([xshift=\i*5pt] \from) -- ([xshift=\i*5pt] \to);
	
	  % Radiative decay (fluorescence)
	  \foreach \i/\from/\to in {1/S10/S00, 2/S10/S01, 3/S10/S02, 4/S10/S03}
	    \draw[radiative] ([xshift=(\i+9)*5pt] \from) --
	      ([xshift=(\i+9)*5pt] \to);
	
	  % Nonradiative decay (internal degradation)
	  \foreach \i/\from/\to in {1/S11/S10, 2/S12/S10, 3/S13/S10, 4/S20/S10,
	                            5/S21/S10, 6/S22/S10, 7/S30/S10}
	    \draw[nonradiative] ([xshift=(\i+9)*5pt] \from) --
	      ([xshift=(\i+9)*5pt] \to);
	
	  % Radiative decay (phosphorescence)
	  %
	  % There is some magic going on to prevent an irritating optical effect.
	  % If the (start) coordinate is taken to be simply (Tstart), the wiggly
	  % lines start at the T00 level.  Because of their differing lengths
	  % however, the wiggles start to form a distracting pattern.  Therefore,
	  % the lines are extended a bit (-\i*5pt) to show a pleasing effect.  They
	  % are clipped so the transition still starts at T00.  If you want to
	  % observe the optical effect, include this line at the correct location:
	  %   \coordinate (start) at (Tstart);
	  \begin{scope}
	    \clip (S00) -- +(7, 0) |- (T00) -| (S00);
	    \foreach \i/\level in {1/(S00), 2/(S01), 3/(S02), 4/(S03)} {
	      \coordinate (Tstart) at ([xshift=\i*7pt] T00);
	      \coordinate (end) at ($(Tstart) + (-135:4.5)$);
	      \coordinate (start) at ($(Tstart)!-\i*5pt!(end)$);
	      \path[name path=trans] (start) -- (end);
	      \path[name path=ground] \level -- +(5, 0);
	      \draw[indirectradiative,name intersections={of=trans and ground}]
	        (start) -- (intersection-1);
	    }
	  \end{scope}
	
	  % Labels (curious coordinates are due to manual placement adjustments)
	  \node[left] at (5pt, 1.5) {\footnotesize Absorption};
	  \node[right,align=center] at (13*5pt, 2cm - 5pt)
	    {\footnotesize Fluorescence\\\footnotesize (fast)};
	  \node[right,align=center] at (5cm + 5pt, 1cm - 5pt)
	    {\footnotesize Phosphorescence\\\footnotesize (indirect, slow)};
	  \node[right,fill=white,align=left] at ([xshift=12*5pt] S13)
	    {\footnotesize Internal degradation};
	
	  % Intersystem crossing
	  \draw[nonradiative,name path=crossing] ($(S10) + (4, 0) - (5pt, 0)$) --
	    ([xshift=5pt] T00);
	  \coordinate (crosslabel) at (4.5, 3.1);
	  \node[right,fill=white] at (crosslabel) {\footnotesize Intersystem crossing};
	  \path[name path=arrow] (crosslabel) -- +(-145:1cm);
	  \draw[->,>=stealth',shorten >=2pt,
	    name intersections={of=crossing and arrow}]
	    (crosslabel) -- (intersection-1);
	  \end{tikzpicture}
	  \captionof{figure}{Typical energy levels for $\pi$-orbitals of a fluor
	    molecule. Spin singlet~($S$) and triplet~($T$) states are separated for
	    clarity. The ionization level $I_\pi$ is shown at the top.  Excited states
	    as well as vibrational sublevels (dashed horizontal lines) are shown. 
	    Internal degradation is a non-radiative process, while fluorescence and
	    phosphorescence are radiative decays.  The decay $T_0 \to S_0$, however,
	    is indirect, by interactions with other molecules.}
	\end{center}
	\end{document}
snippet ions focused-ion-beam-system
	% Focused ion beam system
	% Author: Clemens Helfmeier
	\documentclass{minimal}
	\usepackage[utf8]{inputenc}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Focused ion beam system
	
	The drawing is a schematic construction of a Focused Ion Beam system which
	bombards a target with ions. Due to gas injection you can even modify the
	target, not only destructive but also constructive.
	
	\end{comment}
	
	\usetikzlibrary{arrows,decorations.pathmorphing}
	\def\english#1{\emph{#1}}
	\tikzset{
	  arrow/.style={-stealth', line width=0.5pt},
	  every picture/.append style={line width=1pt},
	}
	\begin{document}
	\begin{tikzpicture}[
	    scale=1.3,
	    fib housing horz/.style={top color=black!10, bottom color=black!40, draw=black!50},
	    fib housing vert/.style={left color=black!10, right color=black!40, draw=black!50},
	    fib housing/.style={fill=black!20, draw=black!50},
	    fib background vert/.style={left color=black!40, right color=black!10, draw=black!50},
	    fib background/.style={fill=black!30, draw=black!50},
	    fib lens thick/.style={draw=black!80, line width=0.04cm},
	    fib lens thinn/.style={draw=black!95, line width=0.02cm},
	    fib mirror/.style={draw=black!60, line width=0.03cm, fill=black!20},
	    fib objective/.style={draw=black!60, line width=0.03cm},
	    fib quadrupole/.style={draw=black!60, line width=0.03cm},
	    fib blanker/.style={draw=black!90, fill=black!60},
	    fib octopole/.style={draw=black!80, line width=0.04cm},
	  ]
	  % Picture created and copyright by Clemens Helfmeier in 2009 for master thesis.
	  % Contact me at: Clemens@Helfmeier.de
	  % Aufbau des FIBs
	  % "falsch" herum, Probe unten, Ionen oben
	  % einzelne Elemente sind rund, insofern auch shading anbringen
	  % jedes element ist 1.4cm hoch.
	  % Die FIB-Säule
	  \begin{scope}[scale=2]
	    \begin{scope}[yshift=0.2]
	      %% Ionenquelle
	      { % Rückseite
	        \path[fib background vert]
	          (-1,0) arc (180:360:1 and 0.05) -- (1,-1) arc (360:180:1 and 0.05) --cycle;
	        \path[fib background vert]
	          (-0.8,0.2) arc (180:360:0.8 and 0.04) -- (1,0) arc (360:180:1 and 0.05) --cycle;
	        \path[fib background vert]
	          (-0.8,-1.2) arc (180:360:0.8 and 0.04) -- (1,-1) arc (360:180:1 and 0.05) --cycle;
	      }
	      { % Innenleben
	        \path[fib housing vert]
	          (-0.3,0) -- (0.3,0) -- (0.3,-0.45) -- (0,-0.7) coordinate (source) -- (-0.3,-0.45) --cycle;
	        \path[draw=black!80, yslant=-0.1]
	          \foreach \x in {0.1,0.2,0.3,0.4} {
	            (-0.3,-\x) arc(210:-30:0.35 and 0.06)
	          };
	        \path[fib lens thinn]
	          (-0.8,-0.9) -- (-0.05,-0.9)
	          (0,-0.9) coordinate (emitter)
	          (0.05,-0.9) -- (0.8,-0.9) coordinate[midway] (extractor);
	        \path[fib lens thick]
	          (-0.4,-0.4) -- (-0.4,-0.8) -- (-0.1,-0.8) (0.1,-0.8) -- (0.4,-0.8) -- (0.4,-0.4) coordinate[midway] (suppressor);
	      }
	      \begin{scope} % Gehäuse
	        \path[clip,decoration={random steps, segment length=6pt, amplitude=2pt}]
	          (-1,0.3) -- (1,0.3) -- (1,-1.3)
	          -- (0.6,-1.3) decorate{ ..controls (0.6,0.2) and (-0.6,0.2).. (-0.6,-1.3)}
	          -- (-1,-1.3) --cycle;
	        \path[fib housing vert]
	          (-1,0) arc (180:0:1 and 0.05) -- (1,-1) arc (0:180:1 and 0.05) --cycle;
	        \path[fib housing vert]
	          (-0.8,0.2) arc (180:0:0.8 and 0.04) -- (1,0) arc (0:180:1 and 0.05) --cycle;
	        \path[fib housing vert]
	          (-0.8,-1.2) arc (180:0:0.8 and 0.04) -- (1,-1) arc (0:180:1 and 0.05) --cycle;
	        \path[fib housing]
	          (0,-1.2) ellipse (0.8 and 0.04);
	      \end{scope}
	      { % Ionenpumpe extern
	        \path[fib housing]
	          (-1,-0.1) rectangle (-1.2,-0.6);
	        \path[fib housing]
	          (-1.2,-0.15) rectangle (-1.25,-0.2)
	          (-1.2,-0.55) rectangle (-1.25,-0.5);
	        \path[fib housing horz]
	          (-1.2,-0.25) rectangle (-1.6,-0.45);
	      }
	    \end{scope}
	    %% Beschleunigung und fokussierung
	    \begin{scope}[yshift=-1.4cm]
	      { % Rückseite
	        \path[fib background vert]
	          (-0.7,0.2) arc (180:360:0.7 and 0.03) -- (0.7,-1.2) arc (360:180:0.7 and 0.03) --cycle;
	      }
	      { % Innenleben
	        \path[fib lens thinn] % Linse
	          (-0.3,-0.25) -- (-0.5,-0.25) -- (-0.5,-0.35) -- (-0.3,-0.35)
	          (0.3,-0.25) -- (0.5,-0.25) -- (0.5,-0.35) -- (0.3,-0.35);
	        \path[fib lens thick]
	          (-0.45,-0.3) -- (-0.35,-0.3) (0.35,-0.3) -- (0.45,-0.3)
	          (0,-0.3) coordinate (ionlens1)
	          (-0.5,-0.25) coordinate (linse1);
	        \path[fib quadrupole] % quadrupole 1
	          (0,-0.45) ellipse (0.33cm and 0.01cm)
	          (0,-0.65) ellipse (0.33cm and 0.01cm)
	          (-0.35,-0.45) -- ++(0,-0.2) (-0.2,-0.45) -- ++(0,-0.2)
	          (0.35,-0.45) -- ++(0,-0.2) (0.2,-0.45) -- ++(0,-0.2)
	          (-0.35,-0.45) coordinate (quadA);
	        \path[fib lens thick]
	          (-0.25,-0.45) -- (0.25,-0.45)
	          (-0.25,-0.65) -- (0.25,-0.65);
	        \path[fib lens thick] % Blende
	          (-0.7,-0.75) -- (-0.05,-0.75) (0.05,-0.75) -- (0.7,-0.75) coordinate[midway] (blende)
	          (0,-0.75) coordinate (ionblende);
	        \path[fib quadrupole] % quadrupole 2
	          (0,-0.85) ellipse (0.33cm and 0.01cm)
	          (0,-1.05) ellipse (0.33cm and 0.01cm)
	          (-0.35,-0.85) -- ++(0,-0.2) (-0.2,-0.85) -- ++(0,-0.2)
	          (0.35,-0.85) -- ++(0,-0.2) (0.2,-0.85) -- ++(0,-0.2)
	          (-0.35,-0.85) coordinate (quadB);
	        \path[fib lens thick]
	          (-0.25,-0.85) -- (0.25,-0.85)
	          (-0.25,-1.05) -- (0.25,-1.05);
	      }
	      \begin{scope} % Gehäuse
	        \path[clip,decoration={random steps, segment length=6pt, amplitude=2pt}]
	          (0.7,0.3) -- (0.7,-1.3)
	          -- (0.6,-1.3) decorate{ ..controls (0.5,-0.6).. (0.6,0.3)} --cycle
	          (-0.7,0.3) -- (-0.6,0.3) decorate{ ..controls (-0.5,-0.6).. (-0.6,-1.3)}
	          -- (-0.7,-1.3) --cycle;
	        \path[fib housing vert]
	          (-0.7,0.2) arc (180:0:0.7 and 0.03) -- (0.7,-1.2) arc (0:180:0.7 and 0.03) --cycle;
	      \end{scope}
	      { % Ionenpumpe extern
	        \path[fib housing]
	          (0.7,-0.1) rectangle (0.9,-0.6);
	        \path[fib housing]
	          (0.9,-0.15) rectangle (0.95,-0.2) (0.95,-0.15) coordinate (ionenpume)
	          (0.9,-0.55) rectangle (0.95,-0.5);
	        \path[fib housing horz]
	          (0.9,-0.25) rectangle (1.3,-0.45);
	      }
	    \end{scope}
	    \begin{scope}[yshift=-2.8cm]
	      % Optik und Ablenkteile
	      { %Rückseite
	        \path[fib background vert]
	          (-0.8,0.2) arc (180:360:0.8 and 0.03) -- (0.8,-1.5) arc (360:180:0.8 and 0.03) --cycle;
	        \path[fib background]
	          (1.3,0.3) rectangle (2.4,-1.1);
	      }
	      { % Innenleben
	        \path[fib blanker] % blanker
	          (-0.3,0.1) rectangle (-0.25,-0.2)
	          (0.3,0.1) rectangle (0.25,-0.2)
	          (-0.3,0.1) coordinate (blanker);
	        \path[fib lens thick]
	          (-0.3,-0.05) -- (-0.4,-0.05) (0.3,-0.05) -- (0.4,-0.05);
	        \path[fib lens thick] % Faradaykäfig
	          (-0.3,-0.25) -- (-0.3,-0.35) -- (-0.15,-0.35) -- (-0.15,-0.25)
	          (-0.3,-0.25) coordinate (faraday)
	          (0.3,-0.25) -- (0.3,-0.35) -- (0.15,-0.35) -- (0.15,-0.25);
	        \path[fib octopole] % octopole 1
	          (0,-0.4) ellipse (0.38cm and 0.01cm)
	          (0,-0.6) ellipse (0.38cm and 0.01cm)
	          (-0.4,-0.4) -- (-0.4,-0.6) (0.4,-0.4) -- (0.4,-0.6)
	          (-0.27,-0.4) -- ++(0,-0.2) (-0.1,-0.4) -- ++(0,-0.2)
	          (0.27,-0.4) -- ++(0,-0.2) (0.1,-0.4) -- ++(0,-0.2)
	          (0,-0.5) coordinate (ionocto1)
	          (-0.4,-0.4) coordinate (octoA);
	        \path[fib octopole] % octopole 2
	          (0,-0.7) ellipse (0.38cm and 0.01cm)
	          (0,-1.05) ellipse (0.38cm and 0.01cm)
	          (-0.4,-0.7) -- (-0.4,-1.05) (0.4,-0.7) -- (0.4,-1.05)
	          (-0.27,-0.7) -- ++(0,-0.35) (-0.1,-0.7) -- ++(0,-0.35)
	          (0.27,-0.7) -- ++(0,-0.35) (0.1,-0.7) -- ++(0,-0.35)
	          (0,-0.88) coordinate (ionocto2)
	          (-0.4,-0.7) coordinate (octoB);
	        \path[fib mirror]
	          (0.4,-0.4) -- (0.6,-0.2) -- (0.4,-0.2) -- cycle;
	        \path[fib mirror]
	          (0.6,-1.2) -- (0.4,-1.4) -- (0.6,-1.4) -- cycle;
	        \path[fib mirror]
	          (-0.1,-1.4) -- (-0.025,-1.325) (0.025,-1.275) -- (0.1,-1.2) -- cycle;
	        \path[fib mirror] % kamera innenleben
	          (1.6,-0.2) -- (1.8,-0.4);
	        \path[fib lens thinn]
	          (1.6,-0.6) arc(100:80:0.575) arc(-80:-100:0.575) -- cycle;
	        \path[draw=black!60, fill=black!20]
	          (1.58,-0.82) -- (1.56,-0.97) -- (1.82,-0.97) -- (1.84,-0.82) --cycle;
	        \path[draw=black!60, shading=ball, ball color=black!30]
	          (1.7,-0.9) ellipse (0.1cm and 0.05cm);
	        \begin{scope}
	          \path[clip]
	            (2.2,-0.3) circle (0.1cm);
	          \path[draw=black!80, line width=0.04cm]
	            (2.2,-0.3) circle (0.1cm)
	            (2.1,-0.2) -- (2.3,-0.4)
	            (2.1,-0.4) -- (2.3,-0.2);
	        \end{scope}
	        \path[fib lens thinn]
	          (1.9,-0.2) arc(170:190:0.575) arc(-10:10:0.575) -- cycle;
	      }
	      \begin{scope} % externes Gehäuse
	        \path[clip,decoration={random steps, segment length=6pt, amplitude=2pt}]
	          (0.8,0) -- (1.3,0) -- (1.3,0.3) -- (2.4,0.3) -- (2.4,-1.1) -- (1.3,-1.1) -- (1.3,-0.6) -- (0.8,-0.6) -- (0.8,-0.1) -- (1.4,-0.1)
	          decorate{ .. controls (1.4,-0.5) .. (1.6,-1) .. controls (2.3,-1) .. (2.3,-0.1) .. controls (1.8,0.2) .. (1.4,0)}
	          -- (1.4,-0.1) -- (0.8,-0.1) --cycle;
	        \path[fib housing horz]
	          (0.8,0) rectangle (1.3,-0.6);
	        \path[fib housing]
	          (1.3,0.3) rectangle (2.4,-1.1);
	      \end{scope}
	      \begin{scope} % Gehäuse
	        \path[clip,decoration={random steps, segment length=6pt, amplitude=2pt}]
	          (0.8,0.3) -- (0.8,-1.6)
	          -- (0.6,-1.6) decorate{ ..controls (0.8,-0.6).. (0.6,0.3)} --cycle
	          (-0.8,0.3) -- (-0.6,0.3) decorate{ ..controls (-0.4,-0.6).. (-0.6,-1.6)}
	          -- (-0.8,-1.6) --cycle;
	        \path[fib housing vert]
	          (-0.8,0.2) arc (180:0:0.8 and 0.03) -- (0.8,-1.5) arc (0:180:0.8 and 0.03) --cycle;
	      \end{scope}
	    \end{scope}
	    \begin{scope}[yshift=-4.5cm]
	      % Deckel
	      { % Rückwand
	        \path[fib background vert]
	          (-0.8,0.2) arc (180:360:0.8 and 0.03) -- (0.8,-0.6) arc (360:180:0.8 and 0.03) -- cycle;
	        \path[fib background vert]
	          (0.8,-0.6) arc (360:180:0.8 and 0.03) -- (-0.3,-1) arc (180:360:0.3 and 0.01) -- cycle;
	      }
	      { % Innenleben
	        \path[fib mirror]
	          (-0.15,-0.4) arc (-75:-50:0.25) -- (-0.05,-0.4) -- cycle;
	        \path[fib mirror]
	          (0.15,-0.4) arc (-105:-130:0.25) -- (0.05,-0.4) -- cycle;
	        \path[fib mirror]
	          (-0.2,-0.1) arc (105:125:0.8) coordinate (tmp) -- (tmp |- -0.2,-0.1) --cycle;
	        \path[fib mirror]
	          (0.2,-0.1) arc (75:55:0.8) coordinate (tmp) -- (tmp |- 0.2,-0.1) --cycle;
	        \path[fib lens thinn] % 2. Linse
	          (-0.15,-0.65) -- (-0.3,-0.65) -- (-0.3,-0.75) -- (-0.15,-0.75)
	          (0.15,-0.65) -- (0.3,-0.65) -- (0.3,-0.75) -- (0.15,-0.75);
	        \path[fib lens thick]
	          (-0.27,-0.7) -- (-0.17,-0.7) (0.17,-0.7) -- (0.27,-0.7)
	          (0,-0.7) coordinate (ionlens2)
	          (-0.27,-0.65) coordinate (linse2);
	      }
	      \begin{scope} % Gehäuse
	        \path[clip,decoration={random steps, segment length=6pt, amplitude=2pt}]
	          (-0.8,0.3) -- (-0.6,0.3) decorate{ ..controls (-0.5,-1.3) and (0.5,-1.3).. (0.6,0.3)}
	          -- (0.8,0.3) -- (0.8,-1) -- (-0.8,-1) -- cycle;
	        \path[fib housing vert]
	          (-0.8,0.2) arc (180:0:0.8 and 0.03) -- (0.8,-0.6) arc (0:180:0.8 and 0.03) -- cycle;
	        \path[fib housing vert]
	          (0.8,-0.6) arc (0:180:0.8 and 0.03) -- (-0.3,-1) arc (180:0:0.3 and 0.01) -- cycle;
	      \end{scope}
	    \end{scope}
	    \begin{scope}[yshift=-6cm, scale=0.5]
	      % Probe
	      \path[draw, rounded corners=1pt]
	        (-1,-0.2) rectangle (1,-0.3);
	      \path[draw, fill, top color=black!5, bottom color=black!20, rounded corners=2pt]
	        (-0.5,0) -- (-0.5,-0.18) -- (0.5,-0.18) -- (0.5,0) -- (0.2,0) -- (0,-0.07) -- (-0.2,0) -- cycle
	        (0,-0.07) coordinate (target);
	      \path[draw, fill=black!60]
	        (-0.5,-0.07) -- (-0.55,-0.07) to[out=180, in=0] (-0.6,-0.13) {[rounded corners=1pt] -- (-0.68,-0.13) --
	          (-0.68,-0.2)} -- (-0.6,-0.2) to[out=0, in=180] (-0.55,-0.14) -- (-0.5,-0.14) -- cycle;
	      \path[draw, fill=black!60]
	        (0.5,-0.07) -- (0.55,-0.07) to[out=0, in=180] (0.6,-0.13) {[rounded corners=1pt] -- (0.68,-0.13) --
	          (0.68,-0.2)} -- (0.6,-0.2) to[out=180, in=0] (0.55,-0.14) -- (0.5,-0.14) -- cycle;
	    \end{scope}
	    \begin{scope}[yshift=-5.7cm, rotate around={-30:(-0.75,0.2)}]
	      % Szintillator
	      \path[draw=black!80, line width=0.03cm] % 1. Antenne
	        (-0.7,0.2) -- (-0.4,0.15) -- (-0.1,0.2);
	      \path[fib housing horz]
	        (-0.9,0.3) -- (-0.6,0.25) arc(90:270:0.1 and 0.15) -- (-0.9,0) arc(270:90:0.1 and 0.15) --cycle;
	      \path[fib housing]
	        (-0.6,0.1) ellipse (0.1 and 0.15);
	      \begin{scope}
	        \path[fib housing]
	          (-0.6,0.1) ellipse (0.07 and 0.11);
	        \path[clip]
	          (-0.6,0.1) ellipse (0.07 and 0.11);
	        \path[shading=ball, ball color=black!30]
	          (-0.5,0) circle (0.4);
	      \end{scope}
	      \path[draw=black!80, line width=0.03cm] % 2. Antenne
	        (-0.9,0.05) -- (-0.6,0) -- (-0.4,-0.2);
	    \end{scope}
	    \begin{scope}[yshift=-6cm]
	      % Gasnadel
	      \path[fib housing horz]
	        (2,0.7) -- (0.35,0.3) -- (0.1,0.1) -- (0.1,0.05) -- (0.4,0.25) -- (2,0.6) -- cycle;
	    \end{scope}
	    \begin{scope} % Strahlen
	      % Ionen
	      \path[draw=black!80, dashed]
	        (source) -- (emitter)
	        (emitter) -- (ionlens1 -| -0.23,0) -- (ionblende -| 0.32,0)
	        (ionblende -| 0.02,0) -- (ionocto1 -| 0.028,0) -- (ionocto2 -| 0.03,0) -- (ionlens2 -| 0.07,0) --
	        (target) --
	        (ionlens2 -| -0.07,0) -- (ionocto2 -| -0.03,0) -- (ionocto1 -| -0.028,0) -- (ionblende -| -0.02,0)
	        (ionblende -| -0.32,0) -- (ionlens1 -| 0.23,0) -- (emitter);
	      \path[fill=white, opacity=0.3]
	        (emitter) -- (ionlens1 -| -0.23,0) -- (ionblende -| 0.32,0) --
	        (ionblende -| 0.02,0) -- (ionocto1 -| 0.028,0) -- (ionocto2 -| 0.03,0) -- (ionlens2 -| 0.07,0) --
	        (target) --
	        (ionlens2 -| -0.07,0) -- (ionocto2 -| -0.03,0) -- (ionocto1 -| -0.028,0) --
	        (ionblende -| -0.02,0) -- (ionblende -| -0.32,0) -- (ionlens1 -| 0.23,0) -- cycle;
	      % Licht
	      \path[draw=red]
	        (1.6,-3) -- (0.6,-3) -- (0.6,-4) -- (0.1,-4) -- (0.1,-4.85) -- (0.34,-4.67) -- (target)
	        (1.8,-3.2) -- (0.4,-3.2) -- (0.4,-4.2) -- (-0.1,-4.2) -- (-0.1,-4.85) -- (-0.34,-4.67) -- (target);
	      \path[draw=red,->]
	        (2.1,-3.1) -- (1.9,-3) -- (1.85,-3);
	      \path[draw=red,->]
	        (2.1,-3.1) -- (1.9,-3.2) -- (1.85,-3.2);
	      \path[draw=red]
	        (1.85,-3) -- (1.6,-3)
	        (1.85,-3.2) -- (1.8,-3.2);
	      \path[draw=red,->]
	        (1.6,-3) -- (1.6,-3.3);
	      \path[draw=red,->]
	        (1.8,-3.2) -- (1.8,-3.3);
	      \path[draw=red]
	        (1.7,-3.7) -- (1.6,-3.4) -- (1.6,-3.3)
	        (1.7,-3.7) -- (1.8,-3.4) -- (1.8,-3.3);
	    \end{scope}
	    % Beschriftung
	    \begin{scope}[arrow]
	      \path[draw] (0.9,0.3) node[anchor=west] {Galliumquelle mit Heizwendel} to[out=180, in=45] (0.2,-0.3);
	      \path[draw] (1.5,-0.6) node[anchor=west] {\english{extractor}} to[out=180, in=45] (extractor);
	      \path[draw,shorten >=0.1cm] (1.5,-0.3) node[anchor=west] {\english{suppressor}} to[out=180, in=45] (suppressor);
	      \path[draw] (-0.7,0.5) node[anchor=east] (tmp) {Ionenpumpe Quelle} (tmp) to[out=-90, in=180] (-1.3, -0.2);
	      \path[draw,shorten >=0.1cm] (-1.1,-1.2) node[anchor=east] {Austritt} to[out=0, in=225] (emitter);
	      \path[draw] (1.5,-1.3) node[anchor=west] {Ionenpumpe} to[out=180, in=45] (1,-1.5);
	      \path[draw,shorten >=0.1cm] (-0.9,-1.8) node[anchor=east] (quad) {Quadrupole 1, 2} to[out=0, in=160] (quadA);
	      \path[draw,shorten >=0.1cm]  (quad) to[out=0, in=160] (quadB);
	      \path[draw,shorten >=0.05cm] (-1.1,-1.4) node[anchor=east] {1. Linse} to[out=0, in=135] (linse1);
	      \path[draw,shorten >=0.05cm] (1.5,-1.8) node[anchor=west] {Blende} to[out=180, in=60] (blende);
	      \path[draw, shorten >=0.1cm] (-1.1,-2.3) node[anchor=east] {\english{blanker}} to[out=0, in=140] (blanker);
	      \path[draw, shorten >=0.1cm] (-1.1,-2.7) node[anchor=east] {Faradaykäfig} to[out=0, in=140] (faraday);
	      \path[draw, shorten >=0.1cm] (-1.1,-3.1) node[anchor=east] (okto) {Oktopole 1, 2} to[out=0, in=140] (octoA);
	      \path[draw, shorten >=0.1cm] (okto) to[out=0, in=140] (octoB);
	      \path[draw] (1.5,-2.1) node[anchor=west] {optische Einkopplung} to[out=180, in=70] (0.5, -2.9);
	      \path[draw,shorten >=0.2cm] (2,-2.35) node[anchor=east] {Lichtquelle} to[out=0, in=50] (2.2,-3.1);
	      \path[draw, shorten >=0.2cm] (2,-4.1) node[anchor=west] {CCD Kamera} to[out=180, in=-70] (1.7,-3.7);
	      \path[draw] (1.5,-4.5) node[anchor=west] {Objektiv} to[out=180, in=20] (0.5,-4.7);
	      \path[draw] (-1.1,-4.7) node[anchor=east] {2. Linse} to[out=0, in=150] (linse2);
	      \path[draw] (1.5,-5.1) node[anchor=west] {Gasinjektionsnadel} to[out=180, in=70] (0.7,-5.6);
	      \path[draw] (1.5,-5.8) node[anchor=west] {Probe} to[out=180, in=20] (0.3,-6);
	      \path[draw] (-1.1,-5.1) node[anchor=east] {Szintillator} to[out=0, in=110] (-0.8,-5.4);
	      \path[draw] (-1.1,-6) node[anchor=east] {Antennen} to[out=0, in=-120] (-0.7,-5.9);
	    \end{scope}
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet calendar foldable-dodecahedron-with-calendar
	\documentclass{article}
	% Folding + calendar example from the PGF manual.
	%
	% Author: Till Tantau
	\usepackage{tikz}
	\usetikzlibrary{calendar,folding}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Foldable dodecahedron with Calendar
	:Tags: Calendars; Manual
	:Author: Till Tantau
	
	An example of the folding library and the folding library, straight from
	the manual.
	\end{comment}
	
	\begin{document}
	    \sffamily\scriptsize
	    \begin{tikzpicture}[transform shape,
	        every calendar/.style={
	            at={(-8ex,4ex)},
	            week list,
	            month label above centered, 
	            month text=\bfseries\textcolor{red}{\%mt} \%y0,
	            if={(Sunday) [black!50]}
	        }]
	    \tikzfoldingdodecahedron[
	        folding line length=2.5cm,
	        face 1={ \calendar [dates=\the\year-01-01 to \the\year-01-last];},
	        face 2={ \calendar [dates=\the\year-02-01 to \the\year-02-last];},
	        face 3={ \calendar [dates=\the\year-03-01 to \the\year-03-last];},
	        face 4={ \calendar [dates=\the\year-04-01 to \the\year-04-last];},
	        face 5={ \calendar [dates=\the\year-05-01 to \the\year-05-last];},
	        face 6={ \calendar [dates=\the\year-06-01 to \the\year-06-last];},
	        face 7={ \calendar [dates=\the\year-07-01 to \the\year-07-last];},
	        face 8={ \calendar [dates=\the\year-08-01 to \the\year-08-last];},
	        face 9={ \calendar [dates=\the\year-09-01 to \the\year-09-last];},
	        face 10={\calendar [dates=\the\year-10-01 to \the\year-10-last];},
	        face 11={\calendar [dates=\the\year-11-01 to \the\year-11-last];},
	        face 12={\calendar [dates=\the\year-12-01 to \the\year-12-last];}
	    ];
	    \end{tikzpicture}
	\end{document}
snippet ford ford-circle
	% Wikipedia : In mathematics, a Ford circle is a circle with centre at (p/q, 1/(2q^2)) and 
	% radius 1/(2q^2), where p/q is an irreducible fraction, i.e. p and q are coprime
	% integers.
	% There is an interesting connection between Farey sequence and Ford circles.
	% The following graphic is based on the Simple algorithm that you can find here
	% http://en.wikipedia.org/wiki/Farey_sequence
	% interesting information can be found here
	% http://mathworld.wolfram.com/FordCircle.html
	
	\documentclass{article}
	\usepackage[dvipsnames]{xcolor}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Ford circle
	
	According to Wikipedia, a `Ford circle`_ is a circle with center at (p/q, 1/(2q^2)) and 
	radius 1/(2q^2), where p/q is an irreducible fraction, i.e. p and q are coprime integers.
	
	There is an interesting connection between the Farey sequence and Ford circles.
	The following graphic is based on the simple algorithm found in the Wikipedia `Faray sequence`_ entry. More information about Ford circles can be found at Mathworld_. 
	
	.. _Ford circle: http://en.wikipedia.org/wiki/Ford_circle
	.. _Faray sequence: http://en.wikipedia.org/wiki/Farey_sequence
	.. _Mathworld: http://mathworld.wolfram.com/FordCircle.html
	
	\end{comment}
	
	\newcommand{\drawcircle}[3]{%
	   \pgfmathparse{1/(2*#2*#2)}
	   \let\tempradius\pgfmathresult
	   \draw[fill=#3] (#1/#2,\tempradius) circle (\tempradius);
	}
	
	\begin{document}
	
	\def\fordN{5}
	\def\fordA{0}
	\def\fordB{1}
	\def\fordC{1}
	\let\fordD\fordN
	\begin{center}\begin{tikzpicture}[scale=4]
	
	\drawcircle{\fordA}{\fordB}{red}
	\foreach \i/\c in 
	    {0/blue,1/yellow,2/green,3/magenta,
	    4/orange,5/magenta,6/green,7/yellow,8/blue,9/red}{%
	 \pgfmathparse{\fordN+\fordB}\global\let\fordK\pgfmathresult
	 \pgfmathparse{floor(\fordK/\fordD)}\global\let\fordK\pgfmathresult
	 \pgfmathparse{\fordK*\fordC}\global\let\fordE\pgfmathresult
	 \pgfmathparse{\fordE-\fordA}\global\let\fordE\pgfmathresult
	 \pgfmathparse{\fordK*\fordD}\global\let\fordF\pgfmathresult
	 \pgfmathparse{\fordF-\fordB}\global\let\fordF\pgfmathresult
	 \global\let\fordA\fordC
	 \global\let\fordB\fordD
	 \global\let\fordC\fordE
	 \global\let\fordD\fordF
	 \drawcircle{\fordA}{\fordB}{\c}
	}
	
	\end{tikzpicture}\end{center}
	\end{document}
	% name Ford Circle
	% utf8
	% pdflatex
	% author Alain Matthes
snippet decorations framed-tikz
	% Nice shaded/framed paragraphs using tikz and framed
	% Author: Jose Luis Diaz
	\documentclass[a5paper]{article}
	\usepackage{lipsum}   % To generate test text 
	\usepackage{framed}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[margin=1cm]{geometry}% for screen preview
	%%%>
	\begin{comment}
	:Title: Nice shaded/framed paragraphs using tikz and framed
	:Tags: Decorations; Shadings
	:Author: Jose Luis Diaz
	:Slug: framed-tikz
	
	The 'Framed' package implements not only environments to add
	a frame/shade to any paragraph, allowing page breaks in the contents.
	It also provides mechanisms for designing your own frames.
	
	In this example, I show how tikz can be combined with framed to draw
	arbitrary shapes around framed paragraphs, even with different style for
	the borders which happen at page boundaries.
	
	In this case, a ``parchment'' environment is created which adds a shadow
	to the paragraph, whose borders are not straigh, but slightly random,
	simulating the irregular edges of a parchment. If the paragraph is broken
	across pages, the ``broken'' edge is slightly more random and pale, as if
	the paper was torn.
	\end{comment}
	\usetikzlibrary{decorations.pathmorphing,calc}
	\pgfmathsetseed{1} % To have predictable results
	% Define a background layer, in which the parchment shape is drawn
	\pgfdeclarelayer{background}
	\pgfsetlayers{background,main}
	
	% define styles for the normal border and the torn border
	\tikzset{
	  normal border/.style={orange!30!black!10, decorate, 
	     decoration={random steps, segment length=2.5cm, amplitude=.7mm}},
	  torn border/.style={orange!30!black!5, decorate, 
	     decoration={random steps, segment length=.5cm, amplitude=1.7mm}}}
	
	% Macro to draw the shape behind the text, when it fits completly in the
	% page
	\def\parchmentframe#1{
	\tikz{
	  \node[inner sep=2em] (A) {#1};  % Draw the text of the node
	  \begin{pgfonlayer}{background}  % Draw the shape behind
	  \fill[normal border] 
	        (A.south east) -- (A.south west) -- 
	        (A.north west) -- (A.north east) -- cycle;
	  \end{pgfonlayer}}}
	
	% Macro to draw the shape, when the text will continue in next page
	\def\parchmentframetop#1{
	\tikz{
	  \node[inner sep=2em] (A) {#1};    % Draw the text of the node
	  \begin{pgfonlayer}{background}    
	  \fill[normal border]              % Draw the ``complete shape'' behind
	        (A.south east) -- (A.south west) -- 
	        (A.north west) -- (A.north east) -- cycle;
	  \fill[torn border]                % Add the torn lower border
	        ($(A.south east)-(0,.2)$) -- ($(A.south west)-(0,.2)$) -- 
	        ($(A.south west)+(0,.2)$) -- ($(A.south east)+(0,.2)$) -- cycle;
	  \end{pgfonlayer}}}
	
	% Macro to draw the shape, when the text continues from previous page
	\def\parchmentframebottom#1{
	\tikz{
	  \node[inner sep=2em] (A) {#1};   % Draw the text of the node
	  \begin{pgfonlayer}{background}   
	  \fill[normal border]             % Draw the ``complete shape'' behind
	        (A.south east) -- (A.south west) -- 
	        (A.north west) -- (A.north east) -- cycle;
	  \fill[torn border]               % Add the torn upper border
	        ($(A.north east)-(0,.2)$) -- ($(A.north west)-(0,.2)$) -- 
	        ($(A.north west)+(0,.2)$) -- ($(A.north east)+(0,.2)$) -- cycle;
	  \end{pgfonlayer}}}
	
	% Macro to draw the shape, when both the text continues from previous page
	% and it will continue in next page
	\def\parchmentframemiddle#1{
	\tikz{
	  \node[inner sep=2em] (A) {#1};   % Draw the text of the node
	  \begin{pgfonlayer}{background}   
	  \fill[normal border]             % Draw the ``complete shape'' behind
	        (A.south east) -- (A.south west) -- 
	        (A.north west) -- (A.north east) -- cycle;
	  \fill[torn border]               % Add the torn lower border
	        ($(A.south east)-(0,.2)$) -- ($(A.south west)-(0,.2)$) -- 
	        ($(A.south west)+(0,.2)$) -- ($(A.south east)+(0,.2)$) -- cycle;
	  \fill[torn border]               % Add the torn upper border
	        ($(A.north east)-(0,.2)$) -- ($(A.north west)-(0,.2)$) -- 
	        ($(A.north west)+(0,.2)$) -- ($(A.north east)+(0,.2)$) -- cycle;
	  \end{pgfonlayer}}}
	
	% Define the environment which puts the frame
	% In this case, the environment also accepts an argument with an optional
	% title (which defaults to ``Example'', which is typeset in a box overlaid
	% on the top border
	\newenvironment{parchment}[1][Example]{%
	  \def\FrameCommand{\parchmentframe}%
	  \def\FirstFrameCommand{\parchmentframetop}%
	  \def\LastFrameCommand{\parchmentframebottom}%
	  \def\MidFrameCommand{\parchmentframemiddle}%
	  \vskip\baselineskip
	  \MakeFramed {\FrameRestore}
	  \noindent\tikz\node[inner sep=1ex, draw=black!20,fill=white, 
	          anchor=west, overlay] at (0em, 2em) {\sffamily#1};\par}%
	{\endMakeFramed}
	
	% Main document, example of usage
	\pagestyle{empty}
	\begin{document}
	\begin{parchment}[Short text]
	  \lipsum[11]
	\end{parchment}
	\lipsum[11]
	\begin{parchment}[Long text spanning over pages]
	\lipsum[11]
	  \begin{itemize}
	    \item \lipsum[14]
	  \end{itemize}
	\lipsum
	\end{parchment}
	\end{document}
snippet matrices free-body-diagrams
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{scopes}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Free body diagrams
	:Slug: free-body-diagrams
	:Tags: Matrices
	
	Illustration of the classical "bodies connected by a string" problem.
	A great advantage of using TikZ for drawing illustrations like this, is that the
	drawings can be parameterized. In this example the inclination angle is
	parameterized. PGF's mathematical engine is then used to do the necessary calculations. 
	
	Note that this example uses the shorthand scope notation in some places. 
	
	\end{comment}
	
	\begin{document}
	
	\def\iangle{35} % Angle of the inclined plane
	\def\down{-90}
	\def\arcr{0.5cm} % Radius of the arc used to indicate angles
	
	\begin{tikzpicture}[
	    force/.style={>=latex,draw=blue,fill=blue},
	    axis/.style={densely dashed,gray,font=\small},
	    M/.style={rectangle,draw,fill=lightgray,minimum size=0.5cm,thin},
	    m/.style={rectangle,draw=black,fill=lightgray,minimum size=0.3cm,thin},
	    plane/.style={draw=black,fill=blue!10},
	    string/.style={draw=red, thick},
	    pulley/.style={thick},
	]
	\matrix[column sep=1cm] {
	    %% Sketch
	    \draw[plane] (0,-1) coordinate (base)
	                     -- coordinate[pos=0.5] (mid) ++(\iangle:3) coordinate (top)
	                     |- (base) -- cycle;
	    \path (mid) node[M,rotate=\iangle,yshift=0.25cm] (M) {};
	    \draw[pulley] (top) -- ++(\iangle:0.25) circle (0.25cm)
	                   ++ (90-\iangle:0.5) coordinate (pulley);
	    \draw[string] (M.east) -- ++(\iangle:1.5cm) arc (90+\iangle:0:0.25)
	                  -- ++(0,-1) node[m] {};
	
	    \draw[->] (base)++(\arcr,0) arc (0:\iangle:\arcr);
	    \path (base)++(\iangle*0.5:\arcr+5pt) node {$\alpha$};
	    %%
	&
	    %% Free body diagram of M
	    \begin{scope}[rotate=\iangle]
	        \node[M,transform shape] (M) {};
	        % Draw axes and help lines
	        {[axis,->]
	            \draw (0,-1) -- (0,2) node[right] {$+y$};
	            \draw (M) -- ++(2,0) node[right] {$+x$};
	            % Indicate angle. The code is a bit awkward.
	            \draw[solid,shorten >=0.5pt] (\down-\iangle:\arcr)
	                arc(\down-\iangle:\down:\arcr);
	            \node at (\down-0.5*\iangle:1.3*\arcr) {$\alpha$};
	        }
	        % Forces
	        {[force,->]
	            % Assuming that Mg = 1. The normal force will therefore be cos(alpha)
	            \draw (M.center) -- ++(0,{cos(\iangle)}) node[above right] {$N$};
	            \draw (M.west) -- ++(-1,0) node[left] {$f_R$};
	            \draw (M.east) -- ++(1,0) node[above] {$T$};
	        }
	    \end{scope}
	    % Draw gravity force. The code is put outside the rotated
	    % scope for simplicity. No need to do any angle calculations. 
	    \draw[force,->] (M.center) -- ++(0,-1) node[below] {$Mg$};
	    %%
	&
	    %%%
	    % Free body diagram of m
	    \node[m] (m) {};
	    \draw[axis,->] (m) -- ++(0,-2) node[left] {$+$};
	    {[force,->]
	        \draw (m.north) -- ++(0,1) node[above] {$T'$};
	        \draw (m.south) -- ++(0,-1) node[right] {$mg$};
	    }
	\\
	};
	\end{tikzpicture}
	
	\end{document}
snippet charts gajski-kuhn-y-chart
	%% Copyright 2009 Ivan Griffin
	%
	% This work may be distributed and/or modified under the
	% conditions of the LaTeX Project Public License, either version 1.3
	% of this license or (at your option) any later version.
	% The latest version of this license is in
	%   http://www.latex-project.org/lppl.txt
	% and version 1.3 or later is part of all distributions of LaTeX
	% version 2005/12/01 or later.
	%
	% This work has the LPPL maintenance status `maintained'.
	% 
	% The Current Maintainer of this work is Ivan Griffin
	%
	% This work consists of the files y_chart_common.tex and y_chart_example.tex
	
	%Description
	%-----------
	%y_chart_common.tex -  TikZ code to draw the 3 axes of the 
	%                      Gajski-Kuhn Y-chart
	%y_chart_example.tex - an example file which connects and describes
	%                      the Y-chart
	
	%Created 2009-11-20 by Ivan Griffin.  Last updated: 2009-11-20
	%-------------------------------------------------------------
	
	
	\documentclass{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[floats,active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Gajski-Kuhn Y-chart
	
	The Gajski-Kuhn Y-chart is a model which captures the considerations in designing semiconductor devices. The three domains of the Gajski-Kuhn Y-chart are on radial axes.  Each of the domains can be divided into levels of abstraction, using concentric rings.  At the top level (outer ring), we consider the architecture of the chip; at the lower levels (inner rings), we successively refine the design into finer detailed implementation:
	
	Creating a structural description from a behavioural one is achieved through the processes of high-level synthesis or logical synthesis.
	
	Creating a physical description from a structural one is achieved through layout synthesis.
	
	\end{comment}
	
	\usetikzlibrary{backgrounds,shapes,arrows,positioning,calc,snakes,fit}
	\usepgflibrary{decorations.markings}
	
	\begin{document}
	
	\begin{figure}[htpb]
	  \centering
	  \begin{tikzpicture}[>=stealth',join=bevel,font=\sffamily,auto,on grid,decoration={markings,
	    mark=at position .5 with \arrow{>}}]
	    %\input{y_chart_common}
	    \coordinate (behaviouralNode) at (135:4cm);
	    \coordinate (structuralNode) at (45:4cm);
	    \coordinate (physicalNode) at (270:4cm);
	    \coordinate (originNode) at (0:0cm);
	
	    \node [above=1em] at (behaviouralNode) {\textbf{Behavioural Domain}};
	    \node [above=1em] at (structuralNode) {\textbf{Structural Domain}};
	    \node [below=1em] at (physicalNode) {\textbf{Physical Domain}};
	
	    \draw[-, very thick] (behaviouralNode.south) -- (0,0) node[left,pos=0]{Systems} node[left,pos=0.2]{Algorithms} node[left,pos=0.4]{Register transfers} node[left,pos=0.6]{Logic} node[left,pos=0.8]{Transfer functions};
	
	    \draw[-, very thick] (structuralNode.south) -- (0,0) node[pos=0]{ } node[pos=0.2]{Processors} node[pos=0.4]{ALUs, RAM, etc.} node[pos=0.6]{Gates, flip-flops, etc.} node[pos=0.8]{Transistors};
	
	    \draw[-, very thick] (physicalNode.south) -- (0,0) node[right,pos=0]{Physical partitions} node[right,pos=0.2]{Floorplans} node[right,pos=0.4]{Module layout} node[right,pos=0.6]{Cell layout} node[right,pos=0.8]{Transistor layout};
	
	    \draw[fill] (barycentric cs:behaviouralNode=1.0,originNode=0) circle (2pt);
	    \draw[fill] (barycentric cs:behaviouralNode=0.8,originNode=0.2) circle (2pt);
	    \draw[fill] (barycentric cs:behaviouralNode=0.6,originNode=0.4) circle (2pt);
	    \draw[fill] (barycentric cs:behaviouralNode=0.4,originNode=0.6) circle (2pt);
	    \draw[fill] (barycentric cs:behaviouralNode=0.2,originNode=0.8) circle (2pt);
	
	    \draw[fill] (barycentric cs:structuralNode=1.0,originNode=0) circle (2pt);
	    \draw[fill] (barycentric cs:structuralNode=0.8,originNode=0.2) circle (2pt);
	    \draw[fill] (barycentric cs:structuralNode=0.6,originNode=0.4) circle (2pt);
	    \draw[fill] (barycentric cs:structuralNode=0.4,originNode=0.6) circle (2pt);
	    \draw[fill] (barycentric cs:structuralNode=0.2,originNode=0.8) circle (2pt);
	
	    \draw[fill] (barycentric cs:physicalNode=1.0,originNode=0) circle (2pt);
	    \draw[fill] (barycentric cs:physicalNode=0.8,originNode=0.2) circle (2pt);
	    \draw[fill] (barycentric cs:physicalNode=0.6,originNode=0.4) circle (2pt);
	    \draw[fill] (barycentric cs:physicalNode=0.4,originNode=0.6) circle (2pt);
	    \draw[fill] (barycentric cs:physicalNode=0.2,originNode=0.8) circle (2pt);
	
	    \draw[black!50] (0,0) circle (4.0cm);
	    \draw[black!50] (0,0) circle (3.2cm);
	    \draw[black!50] (0,0) circle (2.4cm);
	    \draw[black!50] (0,0) circle (1.6cm);
	    \draw[black!50] (0,0) circle (0.8cm);
	
	  \end{tikzpicture}
	  \caption{Gajski-Kuhn \index{Gajski-Kuhn Y-chart}Y-chart} 
	  \label{figure:gajski_kuhn_y_chart__levels_of_abstraction}
	\end{figure}
	
	The three domains of the Gajski-Kuhn Y-chart are on radial axes.  Each of the domains can be divided into levels of abstraction, using concentric rings.  At the top level (outer ring), we consider the architecture of the chip; at the lower levels (inner rings), we successively refine the design into finer detailed implementation:
	
	Creating a structural description from a behavioural one is achieved through the processes of high-level synthesis or logical synthesis.
	
	Creating a physical description from a structural one is achieved through layout synthesis.
	
	\end{document}
snippet physics gamma-interaction
	\documentclass[a4paper,10pt]{article}
	\usepackage[usenames,dvipsnames,x11names]{xcolor}
	\usepackage{tikz}
	\usetikzlibrary{arrows,snakes,shapes}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Gamma interaction
	:Tags: Physics & chemistry, Snakes
	:Use page: 2
	
	An illustration of the different ways gamma radiation interacts with matter.
	
	Notice the smart use of snakes with different ``segment length`` values to illustrate
	change of wavelengths.
	
	| Author: Poul Riis
	\end{comment}
	
	
	%\proton{xposition,yposition}
	\newcommand{\proton}[1]{%
	    \shade[ball color=red] (#1) circle (.25);\draw (#1) node{$+$};
	}
	
	%\neutron{xposition,yposition}
	\newcommand{\neutron}[1]{%
	    \shade[ball color=green] (#1) circle (.25);
	}
	
	%\electron{xwidth,ywidth,rotation angle}
	\newcommand{\electron}[3]{%
	    \draw[rotate = #3](0,0) ellipse (#1 and #2)[color=blue];
	    \shade[ball color=Gold2] (0,#2)[rotate=#3] circle (.1);
	}
	
	\newcommand{\nucleus}{%
	    \neutron{0.1,0.3}
	    \proton{0,0}
	    \neutron{0.3,0.2}
	    \proton{-0.2,0.1}
	    \neutron{-0.1,0.3}
	    \proton{0.2,-0.15}
	    \neutron{-0.05,-0.12}
	    \proton{0.17,0.21}
	}
	
	%\photoelectron{xwidth,ywidth,rotation angle}
	\newcommand{\photoelectron}[3]{%
	    \draw[rotate = #3](0,0) ellipse (#1 and #2)[color=blue];%
	    \draw[snake=coil,%
	        line after snake=0pt, segment aspect=0,%
	        segment length=20pt,color=red!50!blue](#3:#1)-- +(-6,0)%
	        node[fill=white!70!Gold2,draw=red!80!white, above=0.2cm,pos=0.5]%
	            {Incoming $\gamma$-photon};%
	    \draw[-stealth,Gold2](#3:#1) -- ++ (5,0.625);%
	    \shade[ball color=Gold2](#3:#1)  --  ++(4,0.5)%
	        node[fill=white!70!Gold2,draw=red!80!white,%
	        text width=3cm, below right=0.2cm]%
	            {Photoelectron from an inner shell} circle(0.1);%
	    \fill  (#1,0)[rotate=#3,color=white,opaque] circle (.1);%
	    \draw  (#1,0)[rotate=#3,color=Gold2] circle (.1) ;%
	}
	
	%\comptonelectron{xwidth,ywidth,rotation angle}
	\newcommand{\comptonelectron}[3]{%
	    \draw[rotate = #3](0,0) ellipse (#1 and #2)[color=blue];%
	    \draw[snake=coil, line after snake=0pt,%
	        segment aspect=0, segment length=10pt,color=red!50!blue]%
	        (#3:#1)-- +(-6,0)%
	        node[fill=white!70!Gold2,draw=red!80!white, above=0.2cm,pos=0.5]%
	            {Incoming $\gamma$-photon};%
	    \draw[-stealth,Gold2](#3:#1) -- ++ (5,2.5);%
	    \shade[ball color=Gold2](#3:#1)  --  ++(4,2.0)%
	        node[fill=white!70!Gold2,draw=red!80!white, text width=3cm,%
	        below right=0.2cm]{Scattered electron from an outer shell} circle(0.1);%
	    \fill  (#1,0)[rotate=#3,color=white,opaque] circle (.1);%
	    \draw  (#1,0)[rotate=#3,color=Gold2] circle (.1) ;%
	    \draw[snake=coil, line after snake=1mm, segment aspect=0,%
	        segment length=15pt,color=red!50!blue,-stealth] (#3:#1)-- ++(6,-3)%
	        node[fill=white!70!Gold2,draw=red!80!white, right=1cm,pos=0.5]%
	            {Scattered $\gamma$-photon};%
	}
	
	%\paircreation{impact parameter}
	\newcommand{\paircreation}[1]{%
	    \draw[snake=coil, line after snake=0pt, segment aspect=0,%
	        segment length=5pt,color=red!50!blue] (0,#1)-- +(-6,0)%
	        node[fill=white!70!Gold2,draw=red!80!white, above=0.2cm,pos=0.5]%
	            {Incoming $\gamma$-photon};%
	    \draw[-stealth,Gold2](0,#1) -- ++ (5,2.5);%
	    \shade[ball color=Gold2](0,#1)  --  ++(4,2.0)%
	        node[fill=white!70!Gold2,draw=red!80!white, below right=0.2cm]%
	            {Positron} circle(0.1);%
	    \draw[-stealth,Gold2](0,#1) -- ++ (4,-2.0);%
	    \shade[ball color=Gold2](0,#1)  --  ++(3.2,-1.6)%
	        node[fill=white!70!Gold2!,draw=red!80!white, above right=0.2cm]%
	            {Electron} circle(0.1);%
	}
	%
	\begin{document}
	
	\pagestyle{empty}
	
	\begin{figure}
	    \centering
	    \begin{tikzpicture}[scale=0.65]
	        \nucleus
	        \electron{1.2}{1.4}{260}
	        \electron{4}{2}{30}
	        \electron{5}{1}{60}
	        \electron{5.5}{1.5}{150}
	        \electron{4.8}{2.25}{80}
	        \photoelectron{1.5}{0.75}{80}
	    \end{tikzpicture}
	\caption{Photoelectric effect}
	\end{figure}
	
	\begin{figure}
	    \centering
	    \begin{tikzpicture}[scale=0.65]
	        \nucleus
	        \electron{1.5}{0.75}{80}
	        \electron{1.2}{1.4}{260}
	        \electron{4}{2}{30}
	        \electron{5}{1}{60}
	        \electron{5.5}{1.5}{150}
	        \comptonelectron{4.8}{2.25}{80}
	    \end{tikzpicture}
	    \caption{Compton scattering}
	\end{figure}
	
	\begin{figure}
	    \centering
	    \begin{tikzpicture}[scale=0.65]
	        \nucleus
	        \electron{1.5}{0.75}{80}
	        \electron{1.2}{1.4}{260}
	        \electron{4}{2}{30}
	        \electron{5}{1}{60}
	        \electron{5.5}{1.5}{150}
	        \electron{4.8}{2.25}{80}
	        \paircreation{1}
	    \end{tikzpicture}
	    \caption{Pair creation.}
	\end{figure}
	
	\end{document}
snippet genaille genaille-and-lucas-sticks
	% Genaille and Lucas sticks for multiplication and division
	% Author : Arnaud Lefebvre (IREM Rouen)
	% GL sticks provide an easy method to perform multiplications
	% and divisions: just read the result... 
	
	\documentclass{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Genaille and Lucas sticks for multiplication and division
	:Slug: genaille-and-lucas-sticks
	
	GL sticks provide an easy method to perform multiplications
	and divisions: just read the result... 
	
	\end{comment}
	
	%-----------------------------------------------
	% environment for drawing sticks 
	% an option of the form scale=VALUE can be given
	%------------------------------------------------
	\newenvironment{sticks}[1][scale=.6]
	 {\begin{tikzpicture}[#1]\def\W{0}\def\WS{0}}
	 {\end{tikzpicture}}
	
	%------------------------------------------------------------
	% \stickME draws an empty multiplication stick 
	%------------------------------------------------------------
	\newcommand{\stickME}{%
	 \begin{scope}[xshift=\W cm]
	   \pgfmathparse{\W+2}
	   \global\let\W\pgfmathresult
	   \draw [black,rounded corners] (2,0) -- (2,24) -- (0,24) -- (0,0); 
	   \draw (0,0) -- (2,0);
	   \foreach \x in {.5,1,...,22} {
	     \draw (1.5,\x) -- (2,\x);
	   }
	   \draw (1.5,0) -- (1.5,22);
	   \foreach \x in {4.5,8.5,12,15,17.5,19.5,21,22} {
	     \draw (0,\x) -- (2,\x);
	   }
	 \end{scope}
	}
	
	%--------------------------------------------------------
	% \stickDE draws an empty division stick 
	%--------------------------------------------------------
	\newcommand{\stickDE}{%
	 \begin{scope}[xshift=\W cm]
	   \pgfmathparse{\W+2}
	   \global\let\W\pgfmathresult
	   \draw [black,rounded corners] (2,0) -- (2,24) -- (0,24) -- (0,0); 
	   \draw (0,0) -- (2,0);
	   \foreach \x in {.5,1,...,22} {
	     \draw (0,\x) -- (.5,\x);
	   }
	   \draw (.5,0) -- (.5,22);
	   \foreach \x in {4.5,8.5,12,15,17.5,19.5,21,22} {
	     \draw (0,\x) -- (2,\x);
	   }
	 \end{scope}
	}
	
	%-------------------------------------------------------------
	% \drawX draws the special X stick 
	%-------------------------------------------------------------
	\newcommand{\stickX}{%
	 \stickME
	 \begin{scope}[xshift=\WS cm]
	   \pgfmathparse{\WS+2}
	   \global\let\WS\pgfmathresult
	   \node at (1,23) {X};
	   \pgfmathparse{21.75}
	   \global\let\z\pgfmathresult
	   \pgfmathparse{21.5}
	   \global\let\w\pgfmathresult
	   \foreach \x in {2,3,4,5,6,7,8,9} {
	     \node at (.75,\w) {\x};
	     \pgfmathparse{\w-.75-.5*(\x-1)}
	     \global\let\w\pgfmathresult
	     \pgfmathparse{\x-1}
	     \foreach \y in {0,...,\pgfmathresult} {
	       \node[scale=.5] at (1.75,\z){\y}; 
	       \pgfmathparse{-0.5+\z}
	       \global\let\z\pgfmathresult
	     }
	   }
	 \end{scope}
	}
	
	%-----------------------------------------------
	% \stickR draws the special R stick 
	%-----------------------------------------------
	\newcommand{\stickR}{%
	 \stickDE
	 \begin{scope}[xshift=\WS cm]
	   \pgfmathparse{\WS+2}
	   \global\let\WS\pgfmathresult
	   \node at (1,23) {R};
	   \pgfmathparse{21.75}
	   \global\let\z\pgfmathresult
	   \pgfmathparse{21.5}
	   \global\let\w\pgfmathresult
	   \foreach \x in {2,3,4,5,6,7,8,9} {
	     \node at (1.25,\w) {\x};
	     \pgfmathparse{\w-.75-.5*(\x-1)}
	     \global\let\w\pgfmathresult
	     \pgfmathparse{\x-1}
	     \foreach \y in {0,...,\pgfmathresult} {
	       \node[scale=.5] at (.25,\z){\y}; 
	       \pgfmathparse{-0.5+\z}
	       \global\let\z\pgfmathresult
	     }
	   }
	 \end{scope}
	}
	
	%------------------------------------------------------------------
	% \stickM draws the stick of a multiplication table 
	% #1 is the number of the table: value between 0 and 9
	% #2 is the color of the triangles
	%------------------------------------------------------------------
	\newcommand{\stickM}[2]{%
	 \stickME
	 \begin{scope}[xshift=\WS cm]
	   \pgfmathparse{\WS+2}
	   \global\let\WS\pgfmathresult
	   \node at (1,23) {#1};
	   \pgfmathparse{21.75}
	   \global\let\z\pgfmathresult
	   \pgfmathparse{21.75}
	   \global\let\w\pgfmathresult
	   \foreach \x in {2,3,4,5,6,7,8,9} {
	     \pgfmathparse{\x-1}
	     \foreach \y in {0,...,\pgfmathresult} {
	       \pgfmathmod{#1*\x+\y}{10}
	       \pgfmathtruncatemacro\u\pgfmathresult
	       \pgfmathtruncatemacro\d{(#1*\x+\y)/10}
	       \node[scale=.5] at (1.75,\z){\u}; 
	       \pgfmathparse{\z+.25}
	       \let\a\pgfmathresult
	       \pgfmathparse{\w-.5*\d}
	       \let\b\pgfmathresult
	       \pgfmathparse{\z-.25}
	       \let\c\pgfmathresult
	       \draw[color=#2, fill=#2, thin] (0,\b) -- (1.5,\a) -- (1.5,\c) -- (0,\b);
	       \pgfmathparse{-0.5+\z}
	       \global\let\z\pgfmathresult
	     }
	     \pgfmathparse{\w-\x*.5}
	     \global\let\w\pgfmathresult
	   }
	 \end{scope}
	}
	
	%------------------------------------------------------------
	% \stickD draws the stick of a division table 
	% #1 is the number of the table: value between 0 and 9
	% #2 is the color of the lines
	%------------------------------------------------------------
	\newcommand{\stickD}[2]{%
	 \stickDE
	 \begin{scope}[xshift=\WS cm]
	   \pgfmathparse{\WS+2}
	   \global\let\WS\pgfmathresult
	   \node at (1,23) {#1};
	   \pgfmathparse{21.75}
	   \global\let\z\pgfmathresult
	   \pgfmathparse{21.75}
	   \global\let\w\pgfmathresult
	   \foreach \x in {2,3,4,5,6,7,8,9} {
	     \pgfmathparse{\x-1}
	     \foreach \y in {0,...,\pgfmathresult} {
	       \pgfmathtruncatemacro\q{(#1+10*\y)/\x}
	       \node[scale=.5] at (.25,\z){\q}; 
	       \pgfmathmod{#1+10*\y}{\x}
	       \pgfmathparse{\w-.5*\pgfmathresult}
	       \let\r\pgfmathresult
	       \draw[color=#2] (.5,\z) -- (2,\r);
	       \pgfmathparse{-0.5+\z}
	       \global\let\z\pgfmathresult
	     }
	     \pgfmathparse{\w-\x*.5}
	     \global\let\w\pgfmathresult
	   }
	 \end{scope}
	}
	
	\begin{document}
	\pagestyle{empty}
	
	% starting sticks environment
	\begin{sticks}
	  % drawing the special X stick
	  \stickX
	  % drawing the muliplication tables sticks in red 
	  \stickM{0}{red}
	  \stickM{1}{red}
	  \stickM{2}{red}
	  \stickM{3}{red}
	  \stickM{4}{red}
	  \stickM{5}{red}
	  \stickM{6}{red}
	  \stickM{7}{red}
	  \stickM{8}{red}
	  \stickM{9}{red}
	\end{sticks}
	% starting sticks environment
	\begin{sticks}
	  % drawing the division tables sticks in red 
	  \stickD{0}{red}
	  \stickD{1}{red}
	  \stickD{2}{red}
	  \stickD{3}{red}
	  \stickD{4}{red}
	  \stickD{5}{red}
	  \stickD{6}{red}
	  \stickD{7}{red}
	  \stickD{8}{red}
	  \stickD{9}{red}
	  % drawing the special R stick
	  \stickR
	\end{sticks}
	\end{document}
snippet foreach geometric-series
	% Geometric representation of the sum 1/4 + 1/16 + 1/64 + 1/256 + ...
	% Author: Jimi Oke
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Representation of a geometric series
	:Tags: Foreach; Scopes
	:Author: Jimi Oke
	:Slug: geometric-series
	
	The infinite series 1/4 + 1/16 + 1/64 + 1/256 + ... is one of the first computed infinite series in the history of mathematics, already used by Archimedes. Its sum is 1/3. 
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[scale=.35]\footnotesize
	 \pgfmathsetmacro{\xone}{-.4}
	 \pgfmathsetmacro{\xtwo}{ 16.4}
	 \pgfmathsetmacro{\yone}{-.4}
	 \pgfmathsetmacro{\ytwo}{16.4}
	
	\begin{scope}<+->;
	% grid
	  \draw[step=1cm,gray,very thin] (\xone,\yone) grid (\xtwo,\ytwo);
	
	% ticks
	  \foreach \x/\xtext in { 8/\frac{1}{2}, 16/1}
	  \draw[gray,xshift=\x cm] (0,.3) -- (0,0) node[below] {$\xtext$};
	  \foreach \y/\ytext in {8/\frac{1}{2},16/1}
	    \draw[gray, yshift=\y cm] (.3,0) -- (0,0)
	    node[left] {$\ytext$};
	
	% origin
	 \draw[gray] (0,0) node[anchor=north east] {$O$};
	
	% axes
	  \draw[gray,thick,<->] (\xone, 0) -- (\xtwo, 0) node[right] {$x$};
	  \draw[gray,thick,<->] (0, \yone) -- (0, \ytwo) node[above] {$y$};
	\end{scope}
	
	% function
	\begin{scope}[thick,red]
	  \foreach \x in {16, 8, 4, 2, 1,.5,.25}
	    \draw (16-\x, 16-\x) rectangle (16,16);
	
	  \foreach \x in {16, 8, 4, 2, 1,.5,.25}
	  \filldraw[thin,red,opacity=.3] (16-\x, 16-\x)
	    rectangle (16-.5*\x,16-.5*\x);
	
	\foreach \x in {16, 8, 4, 2, 1,.5,.25}{
	  \filldraw[thin,blue,opacity=.2] (16-\x, 16-.5*\x)
	    rectangle (16-.5*\x,16);
	  \filldraw[thin,blue,opacity=.2] (16-.5*\x, 16-\x)
	    rectangle (16,16-.5*\x);}
	\end{scope}
	\end{tikzpicture}
	\end{document} 
snippet foreach glider
	% Glider, a hacker emblem (http://www.catb.org/hacker-emblem/)
	% Author: Alex Hirzel
	% License: Public Domain
	\documentclass[border=1mm]{standalone}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Glider, a hacker emblem
	:Tags: Foreach;Fun
	:Author: Alex Hirzel
	:Slug: glider
	
	The glider is a pattern from the Game of Life, and it's used as
	an emblem representing the hacker community.
	(http://www.catb.org/hacker-emblem/)
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[thick]
	\draw (0,0) grid (3,3);
	\foreach \c in {(0,0), (1,0), (2,0), (2,1), (1,2)}
	    \fill \c + (0.5,0.5) circle (0.42);
	\end{tikzpicture}
	\end{document}
snippet remember global-nodes
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{amsmath}
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	% For every picture that defines or uses external nodes, you'll have to
	% apply the 'remember picture' style. To avoid some typing, we'll apply
	% the style to all pictures.
	\tikzstyle{every picture}+=[remember picture]
	
	% By default all math in TikZ nodes are set in inline mode. Change this to
	% displaystyle so that we don't get small fractions.
	\everymath{\displaystyle}
	
	\begin{comment}
	:Title: Global nodes
	:Tags: Remember picture, Physics & chemistry, Overlays
	
	With version 1.09 or later of PGF/TikZ, it is possible to access nodes in
	other pictures. This is a very useful feature for presentations, posters and
	such. The catch is that it only works with pdfTeX and requires you to run
	TeX twice.
	
	| Author: Kjell Magne Fauske
	
	\end{comment}
	
	
	
	\begin{itemize}
	    \item Coriolis acceleration
	        \tikz\node [fill=blue!20,draw,circle] (n1) {};
	\end{itemize}
	
	% Below we mix an ordinary equation with TikZ nodes. Note that we have to
	% adjust the baseline of the nodes to get proper alignment with the rest of
	% the equation.
	\begin{equation}
	\vec{a}_p = \vec{a}_o+\frac{{}^bd^2}{dt^2}\vec{r} +
	        \tikz[baseline]{
	            \node[fill=blue!20,anchor=base] (t1)
	            {$ 2\vec{\omega}_{ib}\times\frac{{}^bd}{dt}\vec{r}$};
	        } +
	        \tikz[baseline]{
	            \node[fill=red!20,anchor=base] (t2)
	            {$\vec{\alpha}_{ib}\times\vec{r}$};
	        } +
	        \tikz[baseline]{
	            \node[fill=green!20,anchor=base] (t3)
	            {$\vec{\omega}_{ib}\times(\vec{\omega}_{ib}\times\vec{r})$};
	        }
	\end{equation}
	
	\begin{itemize}
	    \item Transversal acceleration
	        \tikz\node [fill=red!20,draw,circle] (n2) {};
	    \item Centripetal acceleration
	        \tikz\node [fill=green!20,draw,circle] (n3) {};
	\end{itemize}
	
	% Now it's time to draw some edges between the global nodes. Note that we
	% have to apply the 'overlay' style.
	\begin{tikzpicture}[overlay]
	        \path[->] (n1) edge [bend left] (t1);
	        \path[->] (n2) edge [bend right] (t2);
	        \path[->] (n3) edge [out=0, in=-90] (t3);
	\end{tikzpicture}
	
	\end{document}
snippet plots gnuplot-basics
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	
	% GNUPLOT required
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: GNUPLOT basics
	:Tags: Plots, GNUPLOT, External file
	
	PGF/TikZ provides a convenient mechanism for plotting functions using `GNUPLOT`_.
	To run this example for the first time you have to do the following:
	
	- GNUPLOT must be installed on your system. Try typing ``gnuplot`` on the command line to
	  see if it's installed. Windows users may have to rename ``wgnuplot`` to ``gnuplot``.
	- You must allow TeX to run external programs. The command line option to enable this is
	  usually ``--shell-escape`` or ``--enable-write18``
	  
	PGF will call GNUPLOT for you and store the data in a file. Next time you compile the example,
	data will be loaded from the generated file. See section 11.12.3 in the manual for 
	more information. 
	
	.. _GNUPLOT: http://www.gnuplot.info/
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	
	\begin{tikzpicture}[domain=0:4]
	    \draw[very thin,color=gray] (-0.1,-1.1) grid (3.9,3.9);
	    \draw[->] (-0.2,0) -- (4.2,0) node[right] {$x$};
	    \draw[->] (0,-1.2) -- (0,4.2) node[above] {$f(x)$};
	    \draw[color=red] plot[id=x] function{x} 
	        node[right] {$f(x) =x$};
	    \draw[color=blue] plot[id=sin] function{sin(x)} 
	        node[right] {$f(x) = \sin x$};
	    \draw[color=orange] plot[id=exp] function{0.05*exp(x)} 
	        node[right] {$f(x) = \frac{1}{20} \mathrm e^x$};
	\end{tikzpicture}
	
	
	\end{document}
snippet gnuplot gnuplot-tikz-terminal
	% Gnuplot TikZ terminal
	% Author: Peter Hedwig
	\documentclass{article}
	
	%\usepackage{tikz}
	\usepackage{gnuplot-lua-tikz}
	\usepackage{mathpazo}
	\usepackage{verbatim}
	
	\begin{document}
	
	\begin{comment}
	:Title: Gnuplot TikZ terminal
	:Tags: GNUPLOT, Code generation
	
	A demonstration of output from Peter Hedwig's Gnuplot `TikZ terminal`_ . The terminal 
	translates plots to a series
	of TikZ commands. This ensures font and line width consistency, and it is straightforward
	to customize the plot afterwards. For more details and examples, see Peter Hedwig's `gnuplot page`_. 
	
	Gnuplot code for generating the plot::
	
	    set terminal lua fulldoc \
	    solid originreset plotsize 9,6.5
	    set output 'ntest.tex'
	
	    set format x "%2.0f"
	    set format y "%3.2f"
	
	    unset key
	    set label 1 '$\mu$' at 5.5, 0.0193014, 0 left norotate back nopoint offset character 0, 0, 0
	    set label 2 '$\sigma$' at 7.73607, 0.108213, 0 left norotate back nopoint offset character 0, 0, 0
	    set arrow 1 from 5, 0, 0 to 5, 0.178412, 0 nohead back nofilled linetype -1 linewidth 1.000
	    set arrow 2 from 5, 0.108213, 0 to 7.23607, 0.108213, 0 nohead back nofilled linetype -1 linewidth 1.000
	    set samples 200, 200
	    set ytics border in scale 1,0.5 mirror norotate  offset character 0, 0, 0 0.00000,0.0193014,0.193014
	    set title "poisson PDF using normal approximation"
	    set xlabel '$k, x$ \tikz[baseline]{\draw[yshift=.7ex,->](0,0)--(.7,0);}'
	    set xrange [ -2.00000 : 15.0000 ] noreverse nowriteback
	    set ylabel 'probability density \tikz[baseline]{\draw[yshift=.7ex,->](0,0)--(.7,0);}'
	    set yrange [ 0.00000 : 0.193014 ] noreverse nowriteback
	
	    isint(x)=(int(x)==x)
	
	    normal(x,mu,sigma)=sigma<=0?1/0:invsqrt2pi/sigma*exp(-0.5*((x-mu)/sigma)**2)
	    poisson(x,mu)=mu<=0?1/0:!isint(x)?1/0:x<0?0.0:exp(x*log(mu)-lgamma(x+1)-mu)
	
	    rnd(x) = floor(x+0.5)
	    fourinvsqrtpi = 2.25675833419103
	    invsqrt2pi = 0.398942280401433
	    twopi = 6.28318530717959
	    mu = 5.0
	    sigma = 2.23606797749979
	
	    plot poisson(rnd(x), mu) with histeps,\
	    normal(x, mu, sigma) # title '$\mathrm{normal}(x, \mu, \sigma)$'
	
	
	:Author: Peter Hedwig
	
	.. _TikZ terminal: http://peter.affenbande.org/gnuplot/
	.. _gnuplot page: http://peter.affenbande.org/gnuplot/
	.. _Lua: http://www.lua.org/
	\end{comment}
	
	
	
	\begin{tikzpicture}[gnuplot]
	%% generated with GNUPLOT 4.2p0 (Lua 5.1.2; terminal rev. 42, script rev. 48)
	%% Thu Aug 16 14:56:08 2007
	%% DEBUG reset
	%% DEBUG backtext
	\color{gp_lt_color_b}
	\gpsetlinetype{gp_lt_border}
	\gpsetlinewidth{1.00}
	\draw (0.000,0.000)--(0.125,0.000);
	\draw (9.000,0.000)--(8.875,0.000);
	\node[anchor=mid east] at (-0.180,0.000) {0.00};
	\draw (0.000,0.650)--(0.125,0.650);
	\draw (9.000,0.650)--(8.875,0.650);
	\node[anchor=mid east] at (-0.180,0.650) {0.02};
	\draw (0.000,1.300)--(0.125,1.300);
	\draw (9.000,1.300)--(8.875,1.300);
	\node[anchor=mid east] at (-0.180,1.300) {0.04};
	\draw (0.000,1.950)--(0.125,1.950);
	\draw (9.000,1.950)--(8.875,1.950);
	\node[anchor=mid east] at (-0.180,1.950) {0.06};
	\draw (0.000,2.600)--(0.125,2.600);
	\draw (9.000,2.600)--(8.875,2.600);
	\node[anchor=mid east] at (-0.180,2.600) {0.08};
	\draw (0.000,3.250)--(0.125,3.250);
	\draw (9.000,3.250)--(8.875,3.250);
	\node[anchor=mid east] at (-0.180,3.250) {0.10};
	\draw (0.000,3.900)--(0.125,3.900);
	\draw (9.000,3.900)--(8.875,3.900);
	\node[anchor=mid east] at (-0.180,3.900) {0.12};
	\draw (0.000,4.550)--(0.125,4.550);
	\draw (9.000,4.550)--(8.875,4.550);
	\node[anchor=mid east] at (-0.180,4.550) {0.14};
	\draw (0.000,5.200)--(0.125,5.200);
	\draw (9.000,5.200)--(8.875,5.200);
	\node[anchor=mid east] at (-0.180,5.200) {0.15};
	\draw (0.000,5.850)--(0.125,5.850);
	\draw (9.000,5.850)--(8.875,5.850);
	\node[anchor=mid east] at (-0.180,5.850) {0.17};
	\draw (0.000,6.500)--(0.125,6.500);
	\draw (9.000,6.500)--(8.875,6.500);
	\node[anchor=mid east] at (-0.180,6.500) {0.19};
	\draw (0.000,0.000)--(0.000,0.128);
	\draw (0.000,6.500)--(0.000,6.372);
	\node[anchor=mid] at (0.000,-0.298) {-2};
	\draw (1.059,0.000)--(1.059,0.128);
	\draw (1.059,6.500)--(1.059,6.372);
	\node[anchor=mid] at (1.059,-0.298) { 0};
	\draw (2.117,0.000)--(2.117,0.128);
	\draw (2.117,6.500)--(2.117,6.372);
	\node[anchor=mid] at (2.117,-0.298) { 2};
	\draw (3.177,0.000)--(3.177,0.128);
	\draw (3.177,6.500)--(3.177,6.372);
	\node[anchor=mid] at (3.177,-0.298) { 4};
	\draw (4.236,0.000)--(4.236,0.128);
	\draw (4.236,6.500)--(4.236,6.372);
	\node[anchor=mid] at (4.236,-0.298) { 6};
	\draw (5.294,0.000)--(5.294,0.128);
	\draw (5.294,6.500)--(5.294,6.372);
	\node[anchor=mid] at (5.294,-0.298) { 8};
	\draw (6.353,0.000)--(6.353,0.128);
	\draw (6.353,6.500)--(6.353,6.372);
	\node[anchor=mid] at (6.353,-0.298) {10};
	\draw (7.411,0.000)--(7.411,0.128);
	\draw (7.411,6.500)--(7.411,6.372);
	\node[anchor=mid] at (7.411,-0.298) {12};
	\draw (8.470,0.000)--(8.470,0.128);
	\draw (8.470,6.500)--(8.470,6.372);
	\node[anchor=mid] at (8.470,-0.298) {14};
	\draw (0.000,6.500)--(0.000,0.000)--(9.000,0.000)--(9.000,6.500)--cycle;
	\node[anchor=mid,rotate=90] at (-1.282,3.250) {probability density \tikz[baseline]{\draw[yshift=.7ex,->](0,0)--(.7,0);}};
	\node[anchor=mid] at (4.500,-0.746) {$k, x$ \tikz[baseline]{\draw[yshift=.7ex,->](0,0)--(.7,0);}};
	\node[anchor=mid] at (4.500,6.948) {poisson PDF using normal approximation};
	\node[anchor=mid west] at (3.970,0.650) {$\mu$};
	\node[anchor=mid west] at (5.155,3.644) {$\sigma$};
	\draw[](3.706,0.000)--(3.706,6.008);
	\draw[](3.706,3.644)--(4.889,3.644);
	%% DEBUG fronttext
	\color{gp_lt_color0}
	\draw (-0.022,0.000)--(-0.022,0.000);
	\draw (0.000,0.000)--(0.022,0.000)--(0.067,0.000)--(0.114,0.000)%
	  --(0.159,0.000)--(0.204,0.000)--(0.249,0.000)--(0.294,0.000)--(0.340,0.000)%
	  --(0.385,0.000)--(0.430,0.000)--(0.475,0.000)--(0.520,0.000)--(0.566,0.000)%
	  --(0.611,0.000)--(0.656,0.000)--(0.701,0.000)--(0.746,0.000)--(0.792,0.000)%
	  --(0.792,0.227)--(0.837,0.227)--(0.882,0.227)--(0.927,0.227)--(0.972,0.227)%
	  --(1.018,0.227)--(1.063,0.227)--(1.108,0.227)--(1.153,0.227)--(1.198,0.227)%
	  --(1.244,0.227)--(1.289,0.227)--(1.334,0.227)--(1.334,1.134)--(1.379,1.134)%
	  --(1.424,1.134)--(1.470,1.134)--(1.515,1.134)--(1.560,1.134)--(1.605,1.134)%
	  --(1.650,1.134)--(1.696,1.134)--(1.741,1.134)--(1.786,1.134)--(1.831,1.134)%
	  --(1.831,2.836)--(1.876,2.836)--(1.923,2.836)--(1.968,2.836)--(2.013,2.836)%
	  --(2.058,2.836)--(2.103,2.836)--(2.149,2.836)--(2.194,2.836)--(2.239,2.836)%
	  --(2.284,2.836)--(2.329,2.836)--(2.375,2.836)--(2.375,4.727)--(2.420,4.727)%
	  --(2.465,4.727)--(2.510,4.727)--(2.555,4.727)--(2.601,4.727)--(2.646,4.727)%
	  --(2.691,4.727)--(2.736,4.727)--(2.781,4.727)--(2.827,4.727)--(2.872,4.727)%
	  --(2.917,4.727)--(2.917,5.909)--(2.962,5.909)--(3.007,5.909)--(3.053,5.909)%
	  --(3.098,5.909)--(3.143,5.909)--(3.188,5.909)--(3.233,5.909)--(3.279,5.909)%
	  --(3.324,5.909)--(3.369,5.909)--(3.414,5.909)--(3.459,5.909)--(3.505,5.909)%
	  --(3.550,5.909)--(3.595,5.909)--(3.640,5.909)--(3.685,5.909)--(3.732,5.909)%
	  --(3.777,5.909)--(3.822,5.909)--(3.867,5.909)--(3.912,5.909)--(3.958,5.909)%
	  --(3.958,4.924)--(4.003,4.924)--(4.048,4.924)--(4.093,4.924)--(4.138,4.924)%
	  --(4.184,4.924)--(4.229,4.924)--(4.274,4.924)--(4.319,4.924)--(4.364,4.924)%
	  --(4.410,4.924)--(4.455,4.924)--(4.500,4.924)--(4.500,3.517)--(4.545,3.517)%
	  --(4.590,3.517)--(4.636,3.517)--(4.681,3.517)--(4.726,3.517)--(4.771,3.517)%
	  --(4.816,3.517)--(4.862,3.517)--(4.907,3.517)--(4.952,3.517)--(4.997,3.517)%
	  --(5.042,3.517)--(5.042,2.199)--(5.088,2.199)--(5.133,2.199)--(5.178,2.199)%
	  --(5.223,2.199)--(5.268,2.199)--(5.314,2.199)--(5.359,2.199)--(5.404,2.199)%
	  --(5.449,2.199)--(5.494,2.199)--(5.541,2.199)--(5.541,1.221)--(5.586,1.221)%
	  --(5.631,1.221)--(5.676,1.221)--(5.721,1.221)--(5.767,1.221)--(5.812,1.221)%
	  --(5.857,1.221)--(5.902,1.221)--(5.947,1.221)--(5.993,1.221)--(6.038,1.221)%
	  --(6.083,1.221)--(6.083,0.611)--(6.128,0.611)--(6.173,0.611)--(6.219,0.611)%
	  --(6.264,0.611)--(6.309,0.611)--(6.354,0.611)--(6.399,0.611)--(6.445,0.611)%
	  --(6.490,0.611)--(6.535,0.611)--(6.580,0.611)--(6.625,0.611)--(6.625,0.278)%
	  --(6.671,0.278)--(6.716,0.278)--(6.761,0.278)--(6.806,0.278)--(6.851,0.278)%
	  --(6.897,0.278)--(6.942,0.278)--(6.987,0.278)--(7.032,0.278)--(7.077,0.278)%
	  --(7.123,0.278)--(7.168,0.278)--(7.168,0.115)--(7.213,0.115)--(7.258,0.115)%
	  --(7.303,0.115)--(7.350,0.115)--(7.395,0.115)--(7.440,0.115)--(7.485,0.115)%
	  --(7.530,0.115)--(7.576,0.115)--(7.621,0.115)--(7.666,0.115)--(7.666,0.045)%
	  --(7.711,0.045)--(7.756,0.045)--(7.802,0.045)--(7.847,0.045)--(7.892,0.045)%
	  --(7.937,0.045)--(7.982,0.045)--(8.028,0.045)--(8.073,0.045)--(8.118,0.045)%
	  --(8.163,0.045)--(8.208,0.045)--(8.208,0.016)--(8.254,0.016)--(8.299,0.016)%
	  --(8.344,0.016)--(8.389,0.016)--(8.434,0.016)--(8.480,0.016)--(8.525,0.016)%
	  --(8.570,0.016)--(8.615,0.016)--(8.660,0.016)--(8.706,0.016)--(8.751,0.016)%
	  --(8.751,0.005)--(8.796,0.005)--(8.841,0.005)--(8.886,0.005)--(8.932,0.005)%
	  --(8.977,0.005)--(9.000,0.005);
	\color{gp_lt_color1}
	\draw (0.000,0.045)--(0.045,0.051)--(0.090,0.056)--(0.136,0.064)%
	  --(0.181,0.071)--(0.226,0.080)--(0.271,0.090)--(0.316,0.099)--(0.362,0.111)%
	  --(0.407,0.124)--(0.452,0.138)--(0.497,0.153)--(0.542,0.169)--(0.588,0.187)%
	  --(0.633,0.207)--(0.678,0.228)--(0.723,0.251)--(0.768,0.277)--(0.814,0.304)%
	  --(0.859,0.333)--(0.904,0.366)--(0.949,0.400)--(0.994,0.437)--(1.041,0.476)%
	  --(1.086,0.518)--(1.131,0.564)--(1.176,0.612)--(1.221,0.664)--(1.267,0.719)%
	  --(1.312,0.777)--(1.357,0.839)--(1.402,0.905)--(1.447,0.973)--(1.493,1.046)%
	  --(1.538,1.123)--(1.583,1.203)--(1.628,1.288)--(1.673,1.376)--(1.719,1.468)%
	  --(1.764,1.564)--(1.809,1.664)--(1.854,1.768)--(1.899,1.875)--(1.945,1.986)%
	  --(1.990,2.102)--(2.035,2.219)--(2.080,2.340)--(2.125,2.465)--(2.171,2.592)%
	  --(2.216,2.722)--(2.261,2.854)--(2.306,2.988)--(2.351,3.123)--(2.397,3.261)%
	  --(2.442,3.398)--(2.487,3.538)--(2.532,3.677)--(2.577,3.816)--(2.623,3.955)%
	  --(2.668,4.092)--(2.713,4.228)--(2.758,4.363)--(2.803,4.495)--(2.850,4.625)%
	  --(2.895,4.751)--(2.940,4.873)--(2.985,4.991)--(3.030,5.105)--(3.076,5.214)%
	  --(3.121,5.317)--(3.166,5.415)--(3.211,5.506)--(3.256,5.590)--(3.302,5.668)%
	  --(3.347,5.738)--(3.392,5.801)--(3.437,5.856)--(3.482,5.902)--(3.528,5.940)%
	  --(3.573,5.970)--(3.618,5.992)--(3.663,6.004)--(3.708,6.008)--(3.754,6.003)%
	  --(3.799,5.990)--(3.844,5.968)--(3.889,5.936)--(3.934,5.897)--(3.980,5.849)%
	  --(4.025,5.794)--(4.070,5.730)--(4.115,5.659)--(4.160,5.581)--(4.206,5.495)%
	  --(4.251,5.403)--(4.296,5.305)--(4.341,5.201)--(4.386,5.092)--(4.433,4.978)%
	  --(4.478,4.858)--(4.522,4.736)--(4.567,4.609)--(4.614,4.480)--(4.659,4.347)%
	  --(4.704,4.213)--(4.749,4.076)--(4.794,3.938)--(4.840,3.800)--(4.885,3.660)%
	  --(4.930,3.521)--(4.975,3.383)--(5.020,3.244)--(5.066,3.107)--(5.111,2.971)%
	  --(5.156,2.838)--(5.201,2.706)--(5.246,2.577)--(5.292,2.450)--(5.337,2.326)%
	  --(5.382,2.205)--(5.427,2.088)--(5.472,1.973)--(5.518,1.863)--(5.563,1.756)%
	  --(5.608,1.652)--(5.653,1.553)--(5.698,1.458)--(5.744,1.365)--(5.789,1.278)%
	  --(5.834,1.194)--(5.879,1.113)--(5.924,1.037)--(5.970,0.965)--(6.015,0.896)%
	  --(6.060,0.832)--(6.105,0.770)--(6.150,0.712)--(6.196,0.657)--(6.241,0.606)%
	  --(6.286,0.558)--(6.331,0.513)--(6.376,0.471)--(6.423,0.432)--(6.468,0.395)%
	  --(6.513,0.361)--(6.558,0.330)--(6.603,0.301)--(6.649,0.274)--(6.694,0.249)%
	  --(6.739,0.226)--(6.784,0.205)--(6.829,0.185)--(6.875,0.167)--(6.920,0.151)%
	  --(6.965,0.136)--(7.010,0.122)--(7.055,0.109)--(7.101,0.099)--(7.146,0.088)%
	  --(7.191,0.079)--(7.236,0.070)--(7.281,0.063)--(7.327,0.056)--(7.372,0.050)%
	  --(7.417,0.044)--(7.462,0.039)--(7.507,0.035)--(7.553,0.031)--(7.598,0.027)%
	  --(7.643,0.024)--(7.688,0.021)--(7.733,0.018)--(7.779,0.016)--(7.824,0.014)%
	  --(7.869,0.012)--(7.914,0.011)--(7.959,0.009)--(8.005,0.008)--(8.050,0.007)%
	  --(8.095,0.006)--(8.140,0.005)--(8.185,0.005)--(8.232,0.004)--(8.277,0.003)%
	  --(8.322,0.003)--(8.367,0.002)--(8.412,0.002)--(8.458,0.002)--(8.503,0.002)%
	  --(8.548,0.002)--(8.593,0.001)--(8.638,0.001)--(8.684,0.001)--(8.729,0.001)%
	  --(8.774,0.001)--(8.819,0.001)--(8.864,0.001)--(8.910,0.000)--(8.955,0.000)--(9.000,0.000);
	\color{gp_lt_color_b}
	\draw (0.000,6.500)--(0.000,0.000)--(9.000,0.000)--(9.000,6.500)--cycle;
	%% DEBUG end_text
	%% coordinates of the plot area
	\coordinate (gpbb lowerleft 1) at (0.000,0.000);
	\coordinate (gpbb lowerright 1) at (9.000,0.000);
	\coordinate (gpbb upperright 1) at (9.000,6.500);
	\coordinate (gpbb upperleft 1) at (0.000,6.500);
	
	%%
	%% show plot corners
	%%
	\draw[color=red] plot[mark=x] coordinates {(gpbb upperright 1)};
	\draw[color=red] plot[mark=x] coordinates {(gpbb lowerright 1)};
	\draw[color=red] plot[mark=x] coordinates {(gpbb upperleft 1)};
	\draw[color=red] plot[mark=x] coordinates {(gpbb lowerleft 1)};
	\end{tikzpicture}
	
	
	\end{document}
snippet plotting graph-paper
	% Graph paper
	% Author: Benjamin Abel
	\documentclass{article}
	\usepackage{geometry}
	\geometry{hmargin=1cm,vmargin=1cm}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Graph paper
	:Tags: Plotting;Transparency;Graphs;Plots
	:Author: Benjamin Abel
	:Slug: graph-paper
	A little document that permits to draw a graph paper for students.
	\end{comment}
	\def\width{18}
	\def\hauteur{13}
	
	\begin{document}
	
	\begin{tikzpicture}[x=1cm, y=1cm, semitransparent]
	\draw[step=1mm, line width=0.1mm, black!30!white] (0,0) grid (\width,\hauteur);
	\draw[step=5mm, line width=0.2mm, black!40!white] (0,0) grid (\width,\hauteur);
	\draw[step=5cm, line width=0.5mm, black!50!white] (0,0) grid (\width,\hauteur);
	\draw[step=1cm, line width=0.3mm, black!90!white] (0,0) grid (\width,\hauteur);
	\end{tikzpicture}
	
	\end{document}
snippet graphs graph
	% Drawing a graph
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Drawing a graph
	:Tags: Graphs;Computer Science
	:Author: Stefan Kottwitz
	:Slug: graph
	
	In graph theory, models and drawings often consists mostly
	of vertices, edges, and labels. So, it may be possible,
	to use a simpler language for generating a diagram of a graph.
	
	The tkz-graph package offers a convenient interface.
	
	The code is fully explained in the LaTeX Cookbook, Chapter 11,
	Science and Technology, Application in graph theory.
	\end{comment}
	\usepackage{tkz-graph}
	\GraphInit[vstyle = Shade]
	\tikzset{
	  LabelStyle/.style = { rectangle, rounded corners, draw,
	                        minimum width = 2em, fill = yellow!50,
	                        text = red, font = \bfseries },
	  VertexStyle/.append style = { inner sep=5pt,
	                                font = \Large\bfseries},
	  EdgeStyle/.append style = {->, bend left} }
	\thispagestyle{empty}
	\begin{document}
	\begin{tikzpicture}
	  \SetGraphUnit{5}
	  \Vertex{B}
	  \WE(B){A}
	  \EA(B){C}
	  \Edge[label = 1](A)(B)
	  \Edge[label = 2](B)(C)
	  \Edge[label = 3](C)(B)
	  \Edge[label = 4](B)(A)
	  \Loop[dist = 4cm, dir = NO, label = 5](A.west)
	  \Loop[dist = 4cm, dir = SO, label = 6](C.east)
	  \tikzset{EdgeStyle/.append style = {bend left = 50}}
	  \Edge[label = 7](A)(C)
	  \Edge[label = 8](C)(A)
	\end{tikzpicture}
	\end{document}
snippet gray gray-code-in-4-cube
	% Gray Code in 4-cube
	% Author: Yury Chebiryak <http://yury.chebiryak.name/index.html>
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Gray Code in 4-cube
	
	Depicts a Gray code traversing all the nodes of a 4-dimensional hypercube. See `<http://yury.chebiryak.name/hypercubes.htm>`_ for more details.
	
	\end{comment}
	\begin{document}
	\pagestyle{empty}
	
	 \begin{figure}[bt]
	 \centering
	 \scalebox{0.6}
	 {
	 \begin{tikzpicture}[scale=5]
		 \tikzstyle{vertex}=[circle,minimum size=20pt,inner sep=0pt]
		 \tikzstyle{selected vertex} = [vertex, fill=red!24]
		 \tikzstyle{selected edge} = [draw,line width=5pt,-,red!50]
		 \tikzstyle{edge} = [draw,thick,-,black]
		 \node[vertex] (v0) at (0,0) {$0000$};
		 \node[vertex] (v1) at (0,1) {$0001$};
		 \node[vertex] (v2) at (1,0) {$0010$};
		 \node[vertex] (v3) at (1,1) {$0011$};
		 \node[vertex] (v4) at (0.23, 0.4) {$0100$};
		 \node[vertex] (v5) at (0.23,1.4) {$0101$};
		 \node[vertex] (v6) at (1.23,0.4) {$0110$};
		 \node[vertex] (v7) at (1.23,1.4) {$0111$};
		 \node[vertex] (v8) at (-1,-1) {$1000$};
		 \node[vertex] (v9) at (-1,2) {$1001$};
		 \node[vertex] (v13) at (-0.66,2.7) {$1101$};
		 \node[vertex] (v12) at (-0.66,-0.3) {$1100$};
		 \node[vertex] (v10) at (2,-1) {$1010$};
		 \node[vertex] (v14) at (2.34,-0.3) {$1110$};
		 \node[vertex] (v11) at (2,2) {$1011$};
		 \node[vertex] (v15) at (2.34,2.7) {$1111$};
		 \draw[edge] (v0) -- (v1) -- (v3) -- (v2) -- (v0);
		 \draw[edge] (v0) -- (v4) -- (v5) -- (v1) -- (v0);
		 \draw[edge] (v2) -- (v6) -- (v7) -- (v3) -- (v2);
		 \draw[edge] (v4) -- (v6) -- (v7) -- (v5) -- (v4);
		 \draw[edge] (v8) -- (v9) -- (v13) -- (v12) -- (v8);
		 \draw[edge] (v0) -- (v4) -- (v12) -- (v8) -- (v0);
		 \draw[edge] (v1) -- (v9) -- (v13) -- (v5) -- (v1);
		 \draw[edge] (v2) -- (v10) -- (v14) -- (v6) -- (v2);
		 \draw[edge] (v8) -- (v10) -- (v14) -- (v12) -- (v8);
		 \draw[edge] (v3) -- (v11) -- (v15) -- (v7) -- (v3);
		 \draw[edge] (v10) -- (v11) -- (v15) -- (v14) -- (v10);
		 \draw[edge] (v9) -- (v11) -- (v15) -- (v13) -- (v9);
		 \draw[selected edge] (v0) -- (v2);
		 \draw[selected edge] (v2) -- (v6);
		 \draw[selected edge] (v6) -- (v4);
		 \draw[selected edge] (v4) -- (v5);
		 \draw[selected edge] (v5) -- (v13);
		 \draw[selected edge] (v13) -- (v12);
		 \draw[selected edge] (v12) -- (v14);
		 \draw[selected edge] (v14) -- (v15);
		 \draw[selected edge] (v15) -- (v7);
		 \draw[selected edge] (v7) -- (v3);
		 \draw[selected edge] (v3) -- (v1);
		 \draw[selected edge] (v1) -- (v9);
		 \draw[selected edge] (v9) -- (v11);
		 \draw[selected edge] (v11) -- (v10);
		 \draw[selected edge] (v10) -- (v8);
		 \draw[selected edge] (v8) -- (v0);
	 \end{tikzpicture}
	 }
	 \caption{Complete Gray Code}
	 \end{figure}
	\end{document}
snippet decorations growing-wave-decoration
	% Author: Nick Papior Andersen
	%%%<
	% A decoration of a path which evolves with time. 
	% Settings is there such that you can change the
	% start amplitude, end amplitude and the wave length.
	% Furthermore you decide whether it should start as a cosine or sine wave.
	% The input of the items is also enabled as lists. Thus it regulates it self along the path.
	%
	% Of course the start size and end size can be switched which gives a decreasing wave.
	%%%>
	
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Growing wave decoration
	
	A decoration of a path which evolves with time. 
	Options are available for changing the
	start amplitude, end amplitude and the wave length.
	Furthermore you decide whether it should start as a cosine or sine wave.
	The input of the items is also enabled as lists. Thus it regulates it self along the path.
	The start size and end size can be switched which gives a decreasing wave.
	
	\end{comment}
	
	\usetikzlibrary{decorations.pathreplacing}
	
	\def\pgfdecorationgrowthstart{0cm}
	\def\pgfdecorationgrowthendsizelist{0cm}
	\def\pgfdecorationgrowthwavelengthlist{0cm}
	\def\pgfdecorationgrowthendstepslist{1}
	\def\pgfdecorationgrowthendstep{1}
	\newif\ifpgfdecorationgrowthsine
	\newif\ifpgfdecorationgrowthcosine
	\newif\ifpgfdecorationonewavelength
	\pgfdecorationgrowthcosinefalse
	\pgfdecorationgrowthsinetrue
	\pgfkeys{%
	    /pgf/decoration/.cd,
	    growth start size/.initial=0.5cm,
	    growth end size/.initial=3cm,
	    growth end steps/.initial=1,
	    growth wave length/.initial=3pt,
	    growth sine/.code={\pgfdecorationgrowthsinetrue\pgfdecorationgrowthcosinefalse},
	    growth cosine/.code={\pgfdecorationgrowthsinefalse\pgfdecorationgrowthcosinetrue}
	}
	\def\pgfdecorationgrowthsetup{%
	    \global\edef\pgfdecorationgrowthstart{\pgfkeysvalueof{/pgf/decoration/growth start size}}%
	    \global\edef\pgfdecorationgrowthendsizelist{\pgfkeysvalueof{/pgf/decoration/growth end size}}%
	    \global\edef\pgfdecorationgrowthendstepslist{\pgfkeysvalueof{/pgf/decoration/growth end steps}}%
	    \global\edef\pgfdecorationgrowthwavelengthlist{\pgfkeysvalueof{/pgf/decoration/growth wave length}}%
	}
	
	\def\pgfdecorationgrowthsteps{1} % To keep track of steps from ending
	\def\pgfdecorationliststeps{2} % To keep track of list items from ending, has to start from 2
	
	\pgfdeclaredecoration{growth wave}{initial}%
	{
	    \state{initial}[width=0pt,next state=first] {%
	        \pgfdecorationgrowthsetup%
	        \pgfpathlineto{\pgfqpoint{0pt}{0pt}}%
	        \global\edef\pgfdecorationgrowthsteps{0}%
	        \global\edef\pgfdecorationliststeps{2}%
	        \foreach \endsize in \pgfdecorationgrowthendsizelist {%
	            \global\edef\pgfdecorationgrowthendsize{\endsize}%
	            \breakforeach%
	        }%
	        \foreach \growthstep in \pgfdecorationgrowthendstepslist {%
	            \global\edef\pgfdecorationgrowthendstep{\growthstep}%
	            \breakforeach%
	        }%
	        \foreach \wavelength in \pgfdecorationgrowthwavelengthlist {%
	            \global\edef\pgfdecorationgrowthwavelength{\wavelength}%
	            \breakforeach%
	        }%
	        \pgfmathparse{(\pgfdecorationgrowthendsize - \pgfdecorationgrowthstart) * 2 * %
	                \pgfdecorationgrowthwavelength / ( \pgfdecoratedremainingdistance * \pgfdecorationgrowthendstep)}%
	        \global\edef\pgfdecorationgrowth{\pgfmathresult}%
	    }%
	    
	    \state{first}[width=2*\pgfdecorationgrowthwavelength,next state=second] {%
	        \pgfdecorationgrowthstepcounters%
	        \pgfmathparse{\pgfdecorationgrowthstart + \pgfdecorationgrowthsteps * \pgfdecorationgrowth}%
	        % The wave starts
	        \ifpgfdecorationgrowthsine%
	            \pgfpathsine{\pgfqpoint{\pgfdecorationgrowthwavelength}{\pgfmathresult pt}}%
	            \pgfpathcosine{\pgfqpoint{\pgfdecorationgrowthwavelength}{-\pgfmathresult pt}}%
	        \fi%
	        \ifpgfdecorationgrowthcosine%
	            \pgfpathsine{\pgfqpoint{\pgfdecorationgrowthwavelength}{-\pgfmathresult pt}}%
	            \pgfpathcosine{\pgfqpoint{\pgfdecorationgrowthwavelength}{\pgfmathresult pt}}%
	        \fi%
	        \pgfdecorationgrowthstateend%
	    }%
	    
	    \state{second}[width=2*\pgfdecorationgrowthwavelength,next state=first] {%
	        \pgfdecorationgrowthstepcounters%
	        \pgfmathparse{\pgfdecorationgrowthstart + \pgfdecorationgrowthsteps * \pgfdecorationgrowth}%
	        % The wave continues
	        \ifpgfdecorationgrowthsine%
	            \pgfpathsine{\pgfqpoint{\pgfdecorationgrowthwavelength}{-\pgfmathresult pt}}%
	            \pgfpathcosine{\pgfqpoint{\pgfdecorationgrowthwavelength}{\pgfmathresult pt}}%
	        \fi%
	        \ifpgfdecorationgrowthcosine%
	            \pgfpathsine{\pgfqpoint{\pgfdecorationgrowthwavelength}{\pgfmathresult pt}}%
	            \pgfpathcosine{\pgfqpoint{\pgfdecorationgrowthwavelength}{-\pgfmathresult pt}}%
	        \fi%
	        \pgfdecorationgrowthstateend%
	    }
	    \state{final} {%
	        \pgfpathlineto{\pgfpointdecoratedpathlast}%
	    }%
	}
	\def\pgfdecorationgrowthstateend{%
	    \pgfmathadd{\pgfdecorationgrowthsteps}{1}%
	    \global\edef\pgfdecorationgrowthsteps{\pgfmathresult} % Redefine the steps counter, globally.
	}
	
	\def\pgfdecorationgrowthstepcounters{%
	    \pgfmathparse{\pgfdecorationgrowthendstep * \pgfdecoratedpathlength}
	    \ifdim\pgfdecoratedcompleteddistance>\pgfmathresult pt%
	        \foreach \endsize [count=\count] in \pgfdecorationgrowthendsizelist {%
	            \ifnum\count=\pgfdecorationliststeps%
	                \global\edef\pgfdecorationgrowthendsize{\endsize}%
	                \breakforeach%
	            \else%
	                \global\edef\pgfdecorationgrowthstart{\endsize}%
	            \fi%
	        }%
	        \global\edef\tempa{0}%
	        \foreach \growthstep [count=\count] in \pgfdecorationgrowthendstepslist {%
	            \ifnum\count=\pgfdecorationliststeps%
	                \global\edef\pgfdecorationgrowthendstep{\growthstep}%
	                \breakforeach%
	            \else%
	                \global\edef\tempa{\growthstep}%
	            \fi%
	        }%
	        \foreach \wavelength [count=\count] in \pgfdecorationgrowthwavelengthlist {%
	            \ifnum\count=\pgfdecorationliststeps%
	                \global\edef\pgfdecorationgrowthwavelength{\wavelength}%
	                \breakforeach%
	            \fi%
	        }%
	        \pgfmathparse{int(\pgfdecorationliststeps+1)}%
	        \global\edef\pgfdecorationliststeps{\pgfmathresult}%
	        \global\edef\pgfdecorationgrowthsteps{0}% Redefine the steps counter, globally.
	        \pgfmathparse{(\pgfdecorationgrowthendsize-\pgfdecorationgrowthstart) * 2 %
	                * \pgfdecorationgrowthwavelength / (\pgfdecoratedpathlength * (\pgfdecorationgrowthendstep -\tempa))}%
	        \global\edef\pgfdecorationgrowth{\pgfmathresult}%
	    \fi%
	}
	
	\begin{document}
	
	\begin{tikzpicture}
	    \draw[decorate,decoration={growth wave,
	        growth start size=2pt,
	        growth end size=.5cm,
	        growth wave length=5pt,
	        growth cosine}] (0,0) -- (3,0);
	    \draw[decorate,decoration={growth wave,
	        growth start size=0pt,
	        growth end size=.5cm,
	        growth wave length=2pt,
	        growth cosine},fill,color=red] (0,-1) rectangle (4,-4);
	    \foreach \start/\end/\xstep/\ystep in {0/-10/5/-5,5/-5/10/-10,10/-10/5/-15,5/-15/0/-10} {
	        \draw[fill,color=red,decorate,decoration={growth wave, % Choose the decoration
	            growth start size=1pt,               % Sets the start amplitude of the wave
	            growth end size={1cm,3cm,1cm,1pt},   % Sets the end amplitude of the wave
	            growth end steps={0.25,.5,.75,1},    % Sets the percentual path positions where the transitions
	                                                 % should be made
	            growth wave length={1pt,3pt,3pt,1pt},% Sets the wave lengths
	            growth sine}]                        % The wave starts as a sine
	                (\start,\end) -- (\xstep,\ystep);
	
	        \draw[fill,color=blue,decorate,decoration={growth wave, % Choose the decoration
	            growth start size=1pt,              % Sets the start amplitude of the wave
	            growth end size={1cm,3cm,1cm,1pt},  % Sets the end amplitudes of the wave
	            growth end steps={0.25,.5,.75,1},   % Sets the percentual path positions where the transitions 
	                                                % should be made
	            growth wave length={1pt,3pt,3pt,1pt},% Sets the wave lengths
	            growth cosine}]                     % The wave starts as a cosine
	                (\start,\end) -- (\xstep,\ystep);
	    }
	    \draw[xshift=5cm, decorate,decoration={growth wave,
	        growth start size=1cm,
	        growth end size=1pt,
	        growth wave length=2pt,
	        growth cosine},fill,color=red] (0,0) -- (3,0);
	\end{tikzpicture}
	
	\end{document}
snippet guitar guitar-chords
	% Guitar chords
	% Author: Christoph
	% Source: http://rio.eta-ori.net/latex-chords/chords.sty
	%         http://rio.eta-ori.net/latex-chords/example.tex
	\documentclass{article}
	\usepackage{subfig}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Guitar chords
	
	Demonstration of `chords.sty`_, a library for generating guitar chord diagrams. 
	
	.. _chords.sty: http://rio.eta-ori.net/latex-chords/chords.sty
	\end{comment}
	
	%% Code from chords.sty
	% Counters
	\newcounter{chords-string}
	\newcounter{chords-fret}
	
	% Variables
	\newcommand{\chordreset}{
	  \def\chordtuning{E,A,D,G,B,E}
	  \def\chordfretstart{1}
	  \def\chordfretend{4}
	}
	\chordreset
	
	% The chord environmant
	% \begin{chord}
	% \begin{chord}[D,G,D,G,H,E]
	\newenvironment{chord}
	{
	  % A single note
	  % \single <string> <fret> <finger>
	  \newcommand{\single}[3]{
	    \draw node[single] at (##1,##2) {##3};
	  }
	  % A bar
	  % \bar <startstring> <fret> <finger>
	  \renewcommand{\bar}[3]{
	    \draw[bar] (##1,##2) -- node[midway] {##3} (1,##2);
	  }
	  % No strike
	  % \nostrike <string>
	  \newcommand{\nostrike}[1]{
	    \draw[nostrike] (##1,\chordfretstart-.5) +(-135:.2cm) -- +(45:.2cm);
	    \draw[nostrike] (##1,\chordfretstart-.5) +(135:.2cm) -- +(-45:.2cm);
	  }
	  \begin{tikzpicture}[
	    single/.style={draw,circle,fill=white},
	    bar/.style={cap=round,double,double distance=18pt},
	    nostrike/.style={line width=.8mm},
	    cm={0,-0.8,1,0,(0,0)}
	  ]
	  \setcounter{chords-string}{6}
	  \foreach \tuning in \chordtuning
	  {
	    \node at (\value{chords-string},\chordfretstart-1) {\tuning};
	    \addtocounter{chords-string}{-1}
	  }
	  \draw[yshift=-0.5cm] (1,\chordfretstart) grid (6,\chordfretend+1);
	
	  \foreach \fret in {\chordfretstart,...,\chordfretend}
	  {
	    \setcounter{chords-fret}\fret
	    \draw node at (0,\fret) {\Roman{chords-fret}};
	  }
	}
	{
	  \end{tikzpicture}
	}
	
	%% End of chords.sty file
	
	\begin{document}
	
	\begin{figure}
	\subfloat[F major]{
	\begin{chord}
	  \bar 6 1 1    % bar from 6th string down with index finger on 1st fret
	  \single 5 3 3 % ringfinger on 5th string 3rd fret
	  \single 4 3 4 % pinky on 4th string 3rd fret
	  \single 3 2 2 % index on 3rd string 2nd fret
	\end{chord}
	\chordreset}
	%
	\subfloat[D major bared]{
	\def\chordfretstart{5} % start diagram at 5th fret
	\def\chordfretend{8}   % end diagram at 8th fret
	\begin{chord}
	  \bar 5 5 1
	  \single 2 7 4
	  \single 3 7 3
	  \single 4 7 2
	  \nostrike 6 % do not strike 6th string
	\end{chord}
	\chordreset}
	\end{figure}
	
	\end{document}
snippet decorations hand-drawn-lines
	% Simulating hand-drawn lines with TikZ
	% Author: percusse
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Simulating hand-drawn lines with TikZ
	:Tags: Decorations;Decorative drawings;Mathematics
	:Author: percusse
	:Slug: hand-drawn-lines
	
	Sometimes, vector graphics look too clean. This example shows
	how to let them appear like hand-drawn with a pencil. It bases
	on the "bent" decoration.
	\end{comment}
	\usetikzlibrary{calc,decorations.pathmorphing,patterns}
	\pgfdeclaredecoration{penciline}{initial}{
	    \state{initial}[width=+\pgfdecoratedinputsegmentremainingdistance,
	    auto corner on length=1mm,]{
	        \pgfpathcurveto%
	        {% From
	            \pgfqpoint{\pgfdecoratedinputsegmentremainingdistance}
	                      {\pgfdecorationsegmentamplitude}
	        }
	        {%  Control 1
	        \pgfmathrand
	        \pgfpointadd{\pgfqpoint{\pgfdecoratedinputsegmentremainingdistance}{0pt}}
	                    {\pgfqpoint{-\pgfdecorationsegmentaspect
	                     \pgfdecoratedinputsegmentremainingdistance}%
	                               {\pgfmathresult\pgfdecorationsegmentamplitude}
	                    }
	        }
	        {%TO 
	        \pgfpointadd{\pgfpointdecoratedinputsegmentlast}{\pgfpoint{1pt}{1pt}}
	        }
	    }
	    \state{final}{}
	}
	\begin{document}
	\begin{tikzpicture}[decoration=penciline, decorate]
	  \draw[decorate,style=help lines] (-2,-2) grid[step=1cm] (4,4);
	  \draw[decorate,thick] (0,0) -- (0,3) -- (3,3);
	  \draw[decorate,ultra thick,blue] (3,3) arc (0:-90:2cm);
	        % supposed to be an arc
	  \draw[decorate,thick,pattern=north east lines] (-0.4cm,-0.8cm)
	    rectangle (1.2,-2);
	  \node[decorate,draw,inner sep=0.5cm,fill=yellow,circle] (a) at (2,0) {};
	        % That's not even an ellipse
	  \node[decorate,draw,inner sep=0.3cm,fill=red] (b) at (2,-2) {};
	  \draw[decorate] (b) to[in=-45,out=45] (a);
	        % This was supposed to be an edge
	  \node[decorate,draw,minimum height=2cm,minimum width=1cm] (c) at (-1.5,0) {};
	  \draw[decorate,->,dashed] (-0.5cm,-0.5cm) -- (-0.5cm,3.5cm)  -| (c.north);
	\end{tikzpicture}
	\end{document}
snippet coordinates hierarchical-diagram
	% Hierarchical diagram
	% Author: cfr
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Hierarchical diagram
	:Tags: Coordinate calculations;Forest;Diagrams
	:Author: cfr
	:Slug: hierarchical-diagram
	
	The following diagram uses the forest package to create the diagram as a
	tree. Shading gives a little depth to the nodes, the shadows library enhances
	this effect. Two phantom children are used to help aligning the final nodes
	of the tree and the connecting lines to the first of these are added after
	the tree is complete, since this node has four parents.
	
	This example was written by cfr answering a question on TeX.SE.
	\end{comment}
	\usepackage{forest}
	\usetikzlibrary{arrows.meta, shapes.geometric, calc, shadows}
	
	\colorlet{mygreen}{green!75!black}
	\colorlet{col1in}{red!30}
	\colorlet{col1out}{red!40}
	\colorlet{col2in}{mygreen!40}
	\colorlet{col2out}{mygreen!50}
	\colorlet{col3in}{blue!30}
	\colorlet{col3out}{blue!40}
	\colorlet{col4in}{mygreen!20}
	\colorlet{col4out}{mygreen!30}
	\colorlet{col5in}{blue!10}
	\colorlet{col5out}{blue!20}
	\colorlet{col6in}{blue!20}
	\colorlet{col6out}{blue!30}
	\colorlet{col7out}{orange}
	\colorlet{col7in}{orange!50}
	\colorlet{col8out}{orange!40}
	\colorlet{col8in}{orange!20}
	\colorlet{linecol}{blue!60}
	
	\begin{document}
	\pgfkeys{/forest,
	  rect/.append style   = {rectangle, rounded corners = 2pt,
	                         inner color = col6in, outer color = col6out},
	  ellip/.append style  = {ellipse, inner color = col5in,
	                          outer color = col5out},
	  orect/.append style  = {rect, font = \sffamily\bfseries\LARGE,
	                         text width = 325pt, text centered,
	                         minimum height = 10pt, outer color = col7out,
	                         inner color=col7in},
	  oellip/.append style = {ellip, inner color = col8in, outer color = col8out,
	                          font = \sffamily\bfseries\large, text centered}}
	\begin{forest}
	  for tree={
	      font=\sffamily\bfseries,
	      line width=1pt,
	      draw=linecol,
	      ellip,
	      align=center,
	      child anchor=north,
	      parent anchor=south,
	      drop shadow,
	      l sep+=12.5pt,
	      edge path={
	        \noexpand\path[color=linecol, rounded corners=5pt,
	          >={Stealth[length=10pt]}, line width=1pt, ->, \forestoption{edge}]
	          (!u.parent anchor) -- +(0,-5pt) -|
	          (.child anchor)\forestoption{edge label};
	        },
	      where level={3}{tier=tier3}{},
	      where level={0}{l sep-=15pt}{},
	      where level={1}{
	        if n={1}{
	          edge path={
	            \noexpand\path[color=linecol, rounded corners=5pt,
	              >={Stealth[length=10pt]}, line width=1pt, ->,
	              \forestoption{edge}]
	              (!u.west) -| (.child anchor)\forestoption{edge label};
	            },
	        }{
	          edge path={
	            \noexpand\path[color=linecol, rounded corners=5pt,
	              >={Stealth[length=10pt]}, line width=1pt, ->,
	              \forestoption{edge}]
	              (!u.east) -| (.child anchor)\forestoption{edge label};
	            },
	        }
	      }{},
	  }
	  [Compressed Sensing\\Theory, inner color=col1in, outer color=col1out
	    [Projection Matrix\\Theory, inner color=col2in, outer color=col2out
	      [Optimise Projection\\Matrix, inner color=col4in, outer color=col4out]
	      [Reduce Number of\\Measurements, inner color=col4in, outer color=col4out]
	    ]
	    [Reconstruction\\Algorithms, inner color=col3in, outer color=col3out
	      [Convex Relaxation
	        [Sparse Signal\\Estimate, rect, name=sse1
	        ]
	      ]
	      [Greedy Pursuits
	        [Sparse Signal\\Estimate, rect, name=sse2
	        ]
	      ]
	      [, phantom, calign with current
	        [A\\B, phantom
	          [Our Work, orect, name=us
	            [{Improved Sparse Signal Estimate!}, oellip
	            ]
	          ]
	        ]
	      ]
	      [Non-Convex\\Minimisation Methods
	        [Sparse Signal\\Estimate, rect, name=sse3
	        ]
	      ]
	      [Combinatorial\\Algorithms
	        [Sparse Signal\\Estimate, rect, name=sse4
	        ]
	      ]
	    ]
	  ]
	  \begin{scope}[color = linecol, rounded corners = 5pt,
	    >={Stealth[length=10pt]}, line width=1pt, ->]
	    \draw (sse2.south) -- (us.north -| sse2.south);
	    \draw (sse3.south) -- (us.north -| sse3.south);
	    \coordinate (c1) at ($(sse1.south)!2/5!(sse2.south)$);
	    \coordinate (c2) at ($(sse3.south)!2/5!(sse4.south)$);
	    \draw (sse1.south) -- +(0,-10pt) -| (us.north -| c1);
	    \draw (sse4.south) -- +(0,-10pt) -| (us.north -| c2);
	  \end{scope}
	\end{forest}
	\end{document}
snippet fadings high-harmonics
	% High harmonics
	% Author: Fawad Karimi
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: High harmonics
	:Tags: Fadings;Physics
	:Author: Fawad Karimi
	:Slug: high-harmonics
	\end{comment}
	\usetikzlibrary{fadings}
	\renewcommand*{\familydefault}{\sfdefault}
	\begin{document}
	\begin{tikzpicture}
		%------------------fundamental and harmonics
	   \fill[red,path fading=east] (0:0) -- (10:6) -- (-10:6) -- cycle;
	   \fill[red,path fading=west] (0:0) -- (-10:-6) -- (10:-6) -- cycle;
	   \fill[blue!70!,path fading=east] (0:0) -- (3:6) -- (-3:6) -- cycle;
	
	    %-----------captions
	    [above]{bla}
	    \draw (2.5,0)node[right] {\small higher harmonics:xuv--soft x-ray } ;
	  	\draw (-5.5,0.5)node[right] {\small pump laser} ;
	  	\draw (-5.5,0)node[right]{\small fs pulsed laser:vis--nir};
	    \node [below] at (0,-0.5) {gas cell filled with inert gas} ;
	    %	\node [above] at (0, 0.5)
	   %----------transparent gas cell
	    \begin{scope}[fill opacity = 0.4]
	    \draw[gray!25,fill=gray!10] (-1.5,0.5) rectangle +(3,-1);
	  \end{scope} 
	\end{tikzpicture}
	
	\end{document}
snippet fit highlighting-matrix
	% Highlighting elements in matrices
	% Author: Stefan Kottwitz
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Highlighting elements in matrices
	:Tags: Fit; Matrices; Mathematics
	:Author: Stefan Kottwitz
	:Slug: highlighting-matrix
	A submatrix within a matrix should be highlightened. Instead of simply
	drawing a rectangle, we can use TikZ for 
	  - producing a rectangle node,
	  - using the fit library for fitting the desired area,
	  - defining a style for the highlighted node, so separated from the code
	    and easy to change,
	  - using the TikZ options `overlay` and `remember picture`, for later
	    referring to those nodes, for example for drawing arrows and
	    annotations later.
	
	Several compiler runs are required.
	
	Written for answering a question on TeX.SX:
	    http://tex.stackexchange.com/a/40333/213
	\end{comment}
	\usetikzlibrary{fit}
	\tikzset{%
	  highlight/.style={rectangle,rounded corners,fill=red!15,draw,fill opacity=0.5,thick,inner sep=0pt}
	}
	\newcommand{\tikzmark}[2]{\tikz[overlay,remember picture,baseline=(#1.base)] \node (#1) {#2};}
	%
	\newcommand{\Highlight}[1][submatrix]{%
	    \tikz[overlay,remember picture]{
	    \node[highlight,fit=(left.north west) (right.south east)] (#1) {};}
	}
	\begin{document}
	\[
	  M = \left(\begin{array}{*5{c}}
	    \tikzmark{left}{1} & 2 & 3 & 4 & 5\\
	    6 & 7 & 8 & 9 & 10 \\
	    11 & 12 & \tikzmark{right}{13} & 14 & 15 \\
	    16 & 17 & 18 & 19 & 20
	  \end{array}\right)
	  \Highlight[first]
	  \qquad
	  M^T = \left(\begin{array}{*5{c}}
	    \tikzmark{left}{1} & 6 & 11 & 16 \\
	    2 & 7 & 12 & 17 \\
	    3 & 8 & \tikzmark{right}{13} & 18 \\
	    4 & 9 & 14 & 19 \\
	    5 & 10 & 15 & 20
	  \end{array}\right)
	\]
	\Highlight[second]
	
	\tikz[overlay,remember picture] {
	  \draw[->,thick,red,dashed] (first) -- (second) node [pos=0.66,above] {Transpose};
	  \node[above of=first] {$N$};
	  \node[above of=second] {$N^T$};
	}
	\end{document}​
snippet paths hilbert-curve
	% Author: Marc van Dongen
	\documentclass[12pt]{article}
	
	\usepackage{tikz}
	\usepackage{ifthen}
	
	\usepackage[position=top,labelformat=empty]{subfig}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Hilbert curve
	:Tags: Paths, Macros
	
	A `Hilbert curve`_ drawn using recursive TeX macros and PGF.
	
	**Warning**. Drawing Hilbert curves of order n > 6 is not recommended.
	Computing time increases exponentially and TeX will soon run out of memory resources.
	
	:Author: `Marc van Dongen`_
	:Source: `pgf-users mailing list`_
	
	.. _Hilbert curve: http://mathworld.wolfram.com/HilbertCurve.html
	.. _Marc van Dongen: http://csweb.ucc.ie/~dongen/
	.. _pgf-users mailing list: http://sourceforge.net/mailarchive/forum.php?thread_name=20070516084358.GA2855%40bordewijk.ucc.ie&forum_name=pgf-users
	\end{comment}
	
	\newdimen\HilbertLastX
	\newdimen\HilbertLastY
	\newcounter{HilbertOrder}
	
	\def\DrawToNext#1#2{%
	   \advance \HilbertLastX by #1
	   \advance \HilbertLastY by #2
	   \pgfpathlineto{\pgfqpoint{\HilbertLastX}{\HilbertLastY}}
	   % Alternative implementation using plot streams:
	   % \pgfplotstreampoint{\pgfqpoint{\HilbertLastX}{\HilbertLastY}}
	}
	
	% \Hilbert[right_x,right_y,left_x,left_x,up_x,up_y,down_x,down_y]
	\def\Hilbert[#1,#2,#3,#4,#5,#6,#7,#8] {
	  \ifnum\value{HilbertOrder} > 0%
	     \addtocounter{HilbertOrder}{-1}
	     \Hilbert[#5,#6,#7,#8,#1,#2,#3,#4]
	     \DrawToNext {#1} {#2}
	     \Hilbert[#1,#2,#3,#4,#5,#6,#7,#8]
	     \DrawToNext {#5} {#6}
	     \Hilbert[#1,#2,#3,#4,#5,#6,#7,#8]
	     \DrawToNext {#3} {#4}
	     \Hilbert[#7,#8,#5,#6,#3,#4,#1,#2]
	     \addtocounter{HilbertOrder}{1}
	  \fi
	}
	
	
	% \hilbert((x,y),order)
	\def\hilbert((#1,#2),#3){%
	   \advance \HilbertLastX by #1
	   \advance \HilbertLastY by #2
	   \pgfpathmoveto{\pgfqpoint{\HilbertLastX}{\HilbertLastY}}
	   % Alternative implementation using plot streams:
	   % \pgfplothandlerlineto
	   % \pgfplotstreamstart
	   % \pgfplotstreampoint{\pgfqpoint{\HilbertLastX}{\HilbertLastY}}
	   \setcounter{HilbertOrder}{#3}
	   \Hilbert[1mm,0mm,-1mm,0mm,0mm,1mm,0mm,-1mm]
	   \pgfusepath{stroke}%
	}
	
	\begin{document}
	\begin{figure}%
	    \centering
	    % draw Hilbert curves of order n=1,...,5
	    % Warning! Curves with order > 6 may crash TeX
	    \subfloat[$n=1$]{\tikz[scale=18] \hilbert((0mm,0mm),1);}~~
	    \subfloat[$n=2$]{\tikz[scale=6] \hilbert((0mm,0mm),2);}~~
	    \subfloat[$n=3$]{\tikz[scale=2.6] \hilbert((0mm,0mm),3);}~~
	    \subfloat[$n=4$]{\tikz[scale=1.2] \hilbert((0mm,0mm),4);}~~
	    \subfloat[$n=5$]{\tikz[scale=0.58] \hilbert((0mm,0mm),5);}%
	\end{figure}%
	
	\end{document}
snippet coordinates homotopy
	% Homotopy of paths
	% Author: Alain Matthes
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Homotopy of paths
	:Tags: Coordinate calculations, Decorations, Diagrams, Geometry, Mathematics
	:Author: Alain Matthes
	:Slug: homotopy
	http://texblog.net/latex-archive/maths/jpgfdraw-example/ rewritten in TikZ
	
	Following an illustration in Singer/Thorpe: Lecture Notes in Elementary Topology
	and Geometry, the example has been drawn by Stefan Kottwitz using jpgfdraw,
	and programmed by Alain Matthes on http://tex.stackexchange.com/q/1238/ .
	\end{comment}
	\usetikzlibrary{arrows,calc,shapes,decorations.pathreplacing}
	\begin{document}
	\begin{tikzpicture}
	  \node at (0,0) {$F : I \times I \rightarrow X$};
	  \node[label=below:$x_1$]  (x1) at (6,0)  {$\bullet$};
	  \node[label=above:$x_0$]  (x0) at (9,4)  {$\bullet$};  
	  \node  at (9.5,2)  {$\subset X$}; 
	  \draw (x1.center) to [out=5,in=-90]++(2.8,1.8) to[out=90,in=-95](x0.center);
	  \draw (x1.center) to [out=10,in=-110]++(2.6,2) to[out=70,in=-103](x0.center); 
	  \draw (x1.center) to [out=15,in=-105](x0.center);
	  \draw (x1.center) to [out=30,in=-150](x0.center);
	  \draw (x1.center) to [out=45,in=-170](x0.center); 
	  \draw (x1.center) to [out=50,in=-105]++(1.2,3)to [out=75,in=-172](x0.center); 
	  \draw (x1.center) to [out=55,in=-100]++(1.0,3) to[out=80,in=-175](x0.center); 
	  \draw (x1.center) to [out=60,in=-90]++(0.8,3) to[out=90,in=-180] (x0.center);
	  \begin{scope}[every node/.style={draw, anchor=text, rectangle split,
	    rectangle split parts=7,minimum width=2cm}]
	    \node (R) at (2,4){ \nodepart{two} \nodepart{three}
	    \nodepart{four}$I\times I$\nodepart{five}\nodepart{six}\nodepart{seven}};
	  \end{scope}
	  \draw[decorate,decoration={brace,mirror,raise=6pt,amplitude=10pt}, thick]
	    (R.north west)--(R.south west) ;
	  \draw[decorate,decoration={brace,raise=6pt,amplitude=10pt}, thick]
	    (R.north east)--(R.south east); 
	  \draw[->] ($(R.west)+(-20pt,0)$) to[out=-180,in=240] ++(0,2)
	    to [out=60,in=120]node[above,midway]{$F(0,t_2)$}(x0) ; 
	  \draw[->] ($(R.north)+(0,10pt)$) to [out=60,in=120]
	    node[above,midway]{$\beta \simeq \alpha$} ++(4.5,-1) ; 
	  \draw[->] ($(R.east)+(20pt,0)$)  to [out=0,in=140]
	    node[right,midway]{$F(1,t_2)$}(x1) ; 
	  \draw[->] ($(R.south)+(0,-20pt)$)  to [out=-85,in=-30]
	    node[below,midway]{$\alpha$}++(7,0) ;    
	\end{tikzpicture}
	\end{document}
snippet hsv hsv-shading
	% HSV shading
	% Author: Ken Stars
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: HSV shading
	
	PGF supports several types of shadings. The most advanced type of shading is "functional shadings". For such shadings the color of each point is calculated by calling a user specified function for each point in the shaded area. The shading function is specified using a simplified form of a subset of the PostScript_ language.
	
	.. _PostScript: http://en.wikipedia.org/wiki/PostScript
	
	In this impressive example a functional shading is used to draw a slice of the cone shaped `HSV color space`_. Note the smooth color transitions. The most interesting part of the code is the
	conversion from HSV to RGB.
	
	.. _HSV color space: http://en.wikipedia.org/wiki/HSL_and_HSV
	
	:Source: `PGF-users mailing list`__
	
	.. __: http://www.nabble.com/The-hsb-color-model-td20118168.html
	
	\end{comment}
	
	\begin{document}
	
	
	\pgfdeclarefunctionalshading{HSVsweep}
	{\pgfpoint{-2cm}{-2cm}}
	{\pgfpoint{2cm}{2cm}}
	{}
	{ % x y
	 2 copy % ... x y x y
	 2 copy 0 eq exch 0 eq and
	 { pop pop 0.0 } % silently deal with error: return
	               % arbitrary heading of zero for origin
	 {atan 360.0 div} % ... x y heading;  heading being in
	                 %the interval [0, 1.0]
	 ifelse  % because we will use it for 'Hue'
	 dup 360 eq { pop 0.0 }{} ifelse % if heading is 360
	                                 %degrees, make it zero instead
	 3 1 roll % ... heading x y
	 dup mul % ... heading x y*y
	 exch dup mul % ... heading y*y x*x
	 add sqrt % ... heading ra_pt (distance from origin in points)
	 56 div % scale it means a ra of just under 2 cm
	 dup 1.0 ge % BOOLEAN. ready to clamp to interval [0, 1.0]
	 { pop 1.0 }{} ifelse % We shall use the scaled ra as 'Saturation'
	 2.5 mul 0.25 sub % now, Ra in [0.1, 0.5] --> Saturation
	                % in [0.0, 1.0]. Saturation varies between the two radii
	 1 % ... H S V ( with 'Value' set to literal constant of 1.0 )
	 1 index 1.0 eq % TEST I [ S == 1.0 ]
	 { % BLOCK A [ take stack to V V V ] achromatic case
	   3 1 roll pop pop dup dup
	 }
	 { % BLOCK B take stack to V T Q P i
	   % C version to use as model:
	     % H' = H * 6
	     % i = floor(H')
	     % f = H' - i
	     % P = V * (1.0 - S)
	     % Q = V * (1.0 - (S*f))
	     % T = V * (1.0 - (S * (1.0 - f)))
	   3 -1 roll 6.0 mul dup 4 1 roll % H' S V H'
	   floor % H' S V i
	   dup  5 1 roll % i H' S V i
	   3 index sub neg % i H' S V f
	   1.0 3 index sub % i H' S V f (1.0 - S )
	   2 index mul % i H' S V f P
	   6 1 roll % P i H' S V f
	   dup 3 index mul neg 1.0 add % P i H' S V f ( 1.0 - (f*S))
	   2 index mul % P i H' S V f Q
	   7 1 roll % Q P i H' S V f
	   neg 1.0 add % Q P i H' S V (1.0 - f)
	   2 index mul neg 1.0  add % Q P i H' S V (1.0 - S * (1.0 - f))
	   1 index mul % Q P i H' S V T
	   7 2 roll % V T Q P i H' S
	   pop pop % V T Q P i
	   %%%
	   % end of BLOCK B. The rest is just stack manipulation
	   dup 0 eq % TEST II [ i == 0 ]
	   { % BLOCK C [ take stack to V T P ]
	   pop exch pop
	   }
	   { dup 1 eq % TEST III [ i == 1 ]
	     { % BLOCK D [ take stack to Q V P ]
	   pop exch 4 1 roll exch pop
	     }
	     { dup 2 eq % TEST IV [ i == 2 ]
	       { % BLOCK E [ take stack to P V T ]
	       pop 4 1 roll pop
	       }
	       { dup 3 eq % TEST V [ i == 3 ]
	         { % BLOCK F [ take stack to P Q V ]
	         pop exch 4 2 roll pop
	         }
	         { dup 4 eq % TEST VI [ i == 4 ]
	           { % BLOCK G [ take stack to T P V ]
	           pop exch pop 3 -1 roll
	           }
	           { % BLOCK H [ take stack to V P Q ]
	           pop 3 1 roll exch pop
	           }
	           ifelse
	         }
	         ifelse % for V
	       }
	       ifelse % for IV
	     }
	     ifelse % for III
	   }
	   ifelse % for II
	   % BLOCK I
	 }
	 ifelse % for I
	 % BLOCK J
	 % .. RGB at last
	 % Fix for Apple's PDF viewer shading bug:
	 cvr 3 1 roll cvr 3 1 roll cvr 3 1 roll 
	}
	
	\begin{tikzpicture}
	 \def\ra{3.8cm}
	 \def\raB{1cm}
	    \draw[shading=HSVsweep,even odd rule] (0,0) circle (\ra) circle (\raB);
	    \foreach \x  in {0, 30, ..., 330}
	        \draw (-\x+90:3.8) -- (-\x+90:4.0) (-\x+90:4.4) node {$\x^\circ$};
	\end{tikzpicture}
	
	% The shading can also be used for other shapes
	%\begin{tikzpicture}
	%    \draw[shading=HSVsweep,shading angle=90] (0,0) rectangle (4,8);
	%\end{tikzpicture}
	
	\end{document}
	
	
	See:
	James D FOLEY et al
	"Computer Graphics, Principals and Practice"
	2nd edition
	ISBN 0-204-84840-6
	
	Page 593. Figure 13.34
	"Algorithm for converting from HSV to RGB color space"
	(This is C. I had to convert it to Postscript. Mostly
	lots of nasty stack manipulation)
snippet loops h-tree
	% H-tree and B-tree
	% Author: Andrew Stacey
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: H-tree and b-tree
	:Tags: Loops;Trees;Graphs;Fractals
	:Author: Andrew Stacey
	:Slug: h-tree
	
	The H-tree got his name because of its repeating pattern which looks
	like the letter "H". It is also called H-fractal, it's a space-filling
	curve with a Hausdorff dimension of 2.
	
	A binary tree is a tree where each node has no more than two child nodes.
	
	The example shows how to build up a tree recursively using a \foreach loop.
	It uses the tree stuff already in TikZ. With a slight modification,
	the routine for drawing the H-tree can be adapted to a full binary tree.
	\end{comment}
	\tikzset{
	  htree leaves/.initial=2,
	  sibling angle/.initial=20,
	  htree level/.initial={}
	}
	
	\makeatletter
	
	\def\htree@growth{%
	  \pgftransformrotate{%
	    (\pgfkeysvalueof{/tikz/sibling angle})*(-.5-.5*\tikznumberofchildren
	      +\tikznumberofcurrentchild)}%
	  \pgftransformxshift{\the\tikzleveldistance}%
	  \pgfkeysvalueof{/tikz/htree level}%
	}
	\tikzstyle{htree}=[
	  growth function=\htree@growth,
	  sibling angle=180,
	  htree level={
	    \tikzleveldistance=.707\tikzleveldistance
	    \pgfsetlinewidth{.707*\the\pgflinewidth}
	  }
	]
	
	\tikzstyle{btree}=[
	  growth function=\htree@growth,
	  sibling angle=60,
	  htree level={
	    \tikzleveldistance=.55\tikzleveldistance
	    \pgfsetlinewidth{.707*\the\pgflinewidth}
	  }
	]
	
	\long\def\ge@addto@macro#1#2{%
	  \begingroup
	  \toks@\expandafter\expandafter\expandafter{\expandafter#1#2}%
	  \xdef#1{\the\toks@}%
	  \endgroup}
	
	\newcommand{\htree}[2][]{%
	  \def\htree@start{\noexpand\coordinate}
	  \def\htree@end{}
	  \foreach \l in {0,...,#2} {
	    \g@addto@macro\htree@start{child foreach \noexpand\x in {1,2} {\iffalse}\fi}
	    \g@addto@macro\htree@end{\iffalse{\fi}}
	    \global\let\htree@start\htree@start
	    \global\let\htree@end\htree@end
	  }
	  \edef\htree@cmd{\htree@start\htree@end;}
	  \begin{scope}[htree,#1]
	  \htree@cmd
	  \end{scope}
	}
	
	\makeatother
	
	\begin{document}
	\begin{tikzpicture}[
	  rotate=90,
	  yscale=.5,
	  level distance=3cm,
	  line width=8pt,
	]
	\htree{7}
	\htree[btree,yshift=-12cm,xshift=-3cm]{7}
	\end{tikzpicture}
	\end{document}
snippet decorations hydrogen-splitting
	% Splitting of Hydrogen in different strong magnetic fields
	% Author: Stephan Fuchs, Uni Bonn
	\documentclass{standalone}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Splitting of Hydrogen in different strong magnetic fields
	:Tags: decorations;physics;chemistry
	:Author: Stephan Fuchs
	:Slug: hydrogen-splitting
	
	This picture shows the splitting of Hydrogen in different
	strong magnetic fields.
	
	The "standalone" class has been used to fit the paper canvas
	to the big picture.
	\end{comment}
	\usetikzlibrary{decorations.pathmorphing}
	\usetikzlibrary{arrows}
	\usepackage{nicefrac}
	\begin{document}
	  \begin{tikzpicture}[ scale=0.5, level/.style={very thick} ]
	    \tikzset{photon/.style={<->,decorate, decoration={snake}, draw=red,
	      line width=0.4mm,>=triangle 60}}
	    \tikzset{rotdis/.style={<->,decorate, draw=red,line width=0.4mm}}
	    % Draw the energy levels.
	    %  0 Field
	    \draw[level] (3cm, 6cm) -- (5cm, 6cm)node at (3,6)[left]{$^{1}$S$_{1/2}$};
	    \draw[level] ( 5cm, 6cm) -- ( 6cm, 7.5cm);
	    \draw[level] ( 5cm, 6cm) -- ( 6cm, 0cm);
	    \draw[level,blue] ( 6cm, 7.5cm) -- ( 10cm, 7.5cm)node[above]{1};
	    \draw[level,blue] ( 6cm, 0cm) -- ( 10cm, 0cm)node[above]{0};
	    \draw[-,very thick, dashed](5cm,6cm)--(10cm,6cm);
	    \draw[rotdis] (7cm,7.5cm) -- (7cm,6cm)node[right,midway]{$1/4$ A$_{H}$};
	    \draw[rotdis] (7cm,6cm) -- (7cm,0cm)node[right,midway]{$3/4$ A$_{H}$};
	    \draw[blue] (10.cm,9cm)node{F};
	    \draw[](8cm,-1cm)node{0 Feld N\"aherung};
	    \draw[](8cm,17cm)node[font=\large]{\underline{0-Feld}};
	   %  weak field Field
	    \draw[level,blue] ( 13cm, 7.5cm) -- ( 17cm, 7.5cm)node[right]{\ 0};
	    \draw[level,blue] ( 13cm, 8.2cm) -- ( 17cm, 8.2cm)node[right]{\ 1};
	    \draw[level,blue] ( 13cm, 6.8cm) -- ( 17cm, 6.8cm)node[right]{-1};
	    \draw[level,blue] ( 13cm, 0cm) -- ( 17cm, 0cm)node[above]{0};
	    \draw[level] ( 12cm, 7.5cm) -- ( 12.8cm, 7.5cm);
	    \draw[-,very thick, dashed] ( 12cm, 6cm) -- ( 17cm, 6cm);
	    \draw[](15cm,17cm)node[font=\large]{\underline{Zeeman}};
	   % Breit Rabi
	     \draw[level] ( 19.5cm, 6.8cm) -- ( 21cm, 6.8cm); 
	     \draw[level] ( 19.5cm, 7.5cm) -- ( 21cm, 7.5cm); 
	     \draw[level] ( 19.5cm, 8.2cm) -- ( 21cm, 8.2cm); 
	     \draw[level] ( 19.5cm, 0cm) -- ( 21cm, 0cm); 
	     \draw[level,blue]  ( 21cm, 6.8cm) -- (25cm,-1cm); 
	     \draw[level,blue]  ( 21cm, 7.5cm) -- (25cm,12cm);  
	     \draw[level,blue]  ( 21cm, 8.2cm) -- (25cm,15cm);  
	     \draw[level,blue] ( 21cm, 0cm)  --(25cm,-4cm);  
	     \draw[-,very thick, dashed] ( 19.5cm, 6cm) -- ( 25cm, 6cm);
	     \draw[](22cm,17cm)node[font=\large]{\underline{Breit Rabi}};
	    % Paschen Back
	    \draw[level,blue] ( 25cm, -1cm) -- ( 29cm,-1cm); 
	     \draw[level,blue] ( 25cm, 12cm) -- ( 29cm, 12cm); 
	     \draw[level,blue] ( 25cm, 15cm) -- ( 32cm, 15cm); 
	     \draw[level,blue] ( 25cm, -4cm) -- ( 32cm, -4cm); 
	     \draw[photon] ( 31.5cm, -4cm) -- ( 31.5cm, 15cm); 
	     \draw[photon] ( 28.cm, -1cm) -- ( 28.cm, 12cm); 
	     \draw[level,green!50!black,dashed] ( 25cm, 13.5cm) -- ( 28cm, 13.5cm); 
	     \draw[level,green!50!black,dashed] ( 25cm, -2.5cm) -- ( 28cm, -2.5cm);
	     \draw[rotdis] (26cm,-2.5cm) -- (26cm,6cm)node at (26cm,4cm)[left]
	      {$\frac{1}{2}g_{e}\mu_{B}B$};
	    \draw[rotdis] (26cm,6cm) -- (26cm,13.5cm)node at (26cm,8cm)[left]
	      {$\frac{1}{2}g_{e}\mu_{B}B$};
	    \draw[rotdis] (28cm,-4cm) -- (28cm,-1cm)node[right,midway]{$1/2 A_{H}$};
	    \draw[rotdis] (28cm,12cm) -- (28cm,15cm)node[right,midway]{$1/2 A_{H}$};
	    \draw[](35cm,-4cm)node[font=\large]{ $0=-\nicefrac{1}{2}+\nicefrac{1}{2}$};
	    \draw[](35cm,-1cm)node[font=\large]{$-1=-\nicefrac{1}{2}-\nicefrac{1}{2}$};
	    \draw[](35cm,12cm)node[font=\large]{ $0=\nicefrac{1}{2}-\nicefrac{1}{2}$};
	    \draw[](35cm,15cm)node[font=\large]{ $1=\nicefrac{1}{2}+\nicefrac{1}{2}$};
	    \draw[](35cm,17cm)node[font=\large]{$m=m_{j}+m_{i}$};
	    \draw[](28cm,17cm)node[font=\large]{\underline{Paschen Back}};
	     \draw[<-, draw=green!50!black,line width=1mm](31.5cm,8cm)--(35cm,9cm)
	      node[right,font=\large]{$\Delta m=1$};
	    \draw[<-, draw=green!50!black,line width=1mm](28.cm,4cm)--(35cm,9cm);
	  \end{tikzpicture}
	\end{document}
snippet hypercicle hypercycle
	% Hypercycle
	% Author: Florian Hollandt
	\documentclass{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Hypercycle
	:Grid: 2x1
	
	This example shows the power and flexibility of PGF's style mechanism.
	The same paths are used to draw the diagrams, but by altering styles
	different visual results are achieved. 
	
	\end{comment}
	\usetikzlibrary{shapes}
	
	\setlength\oddsidemargin{0in}
	
	
	\begin{document}
	
	\pagestyle{empty}
	
	
	\def\n{5}   % Number of Information carrier / Enzyme pairs
	\def\d{2}   % Width of the figure
	
	
	\tikzstyle{every picture}=[execute at end picture={
	\foreach \x in {1,...,\n}{
	        \path (360*\x/\n:\d)
	        node [info carrier] (I\x) {$I_{\x}$};
	    \draw [I to I]
	        (I\x.200+360*\x/\n) arc (140:360:\r/6) arc (0:20:\r/6);
	        \path (360*\x/\n:2*\d) 
	        node [enzyme] (E\x) {$E_{\x}$};
	    \draw  [I to E]
	        (I\x) to (E\x);
	    \draw [E to I]
	        (360*\x/\n-360/\n:2*\d) to (I\x.center);
	};
	}]
	
	
	\paragraph{Plain}
	
	\begin{center}
	\tikzstyle{radius}=[
	    execute at begin picture={
	        \def\r{2*3/4}
	    }
	]
	\tikzstyle{every node}=[
	    node distance=\d cm
	]
	\tikzstyle{info carrier}=[
	    inner sep=2pt
	]
	\tikzstyle{enzyme}=[]
	\tikzstyle{every path}=[
	    shorten >=2pt,
	    shorten <=2pt
	]
	\tikzstyle{I to E}=[
	    ->,
	    shorten >=2pt,
	    shorten <=2pt
	]
	\tikzstyle{E to I}=[
	    ->,
	    densely dotted,
	    shorten >=6mm,
	    shorten <=4mm
	]
	\tikzstyle{I to I}=[
	    ->,
	    rotate=360*\x/\n
	]
	\begin{tikzpicture}[radius]
	\end{tikzpicture}
	\end{center}
	
	\paragraph{Fancy}
	
	\begin{center}
	\tikzstyle{radius}=[
	    execute at begin picture={
	        \def\r{2.1}
	    }
	]
	\tikzstyle{every node}=[
	    node distance=\d cm
	]
	\tikzstyle{info carrier}=[
	    shape=rectangle,
	    draw=black,
	    rounded corners=0.5,
	    shading=radial,
	    outer color=orange,
	    inner color=white
	]
	\tikzstyle{enzyme}=[
	    inner sep=2pt,
	    shape=ellipse,
	    draw=black,
	    rounded corners=0.5,
	    ball color=green
	]
	\tikzstyle{every path}=[
	    shorten >=2pt,
	    shorten <=2pt,
	    thick
	]
	\tikzstyle{I to E}=[
	    -stealth,
	    controls=(10+360*\x/\n:\d*4/3) and (-10+360*\x/\n:\d*5/3),
	    shorten >=2pt,
	    shorten <=2pt,
	    in=360*\x/\n+225
	]
	\tikzstyle{E to I}=[
	    -stealth,
	    controls=(360*\x/\n-360/\n+30:\d*5/3) and (360*\x/\n-360/\n-00:\d*4/3),
	    densely dotted,
	    shorten >=8mm,
	    shorten <=5mm
	]
	\tikzstyle{I to I}=[
	    -stealth,
	    shorten >=0pt,
	    shorten <=2pt,
	    rotate=360*\x/\n
	]
	\begin{tikzpicture}[radius]
	\end{tikzpicture}
	\end{center}
	
	\end{document}
snippet spectrum idealised-directional-spectrum
	% Idealised directional spectrum
	% Author: Marco Miani
	\documentclass{article}
	% Set target color model to RGB
	\usepackage[rgb]{xcolor}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage, floats]{preview}
	%\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Idealised directional spectrum
	
	Idealised representation of directional spectrum (energy units omitted) for a typical north-westerly
	swell, mixed with presence wind sea .
	\end{comment}
	\begin{document}
	\begin{figure}[t]
	    
	    \begin{tikzpicture}[scale=.95]  
	        \draw (0, 0) circle (3.8cm);
	        \foreach \x  in {0, 30, ..., 330}
	        \draw (-\x+90:3.8) -- (-\x+90:4.0) (-\x+90:4.4) node {$\x^\circ$};
	        \foreach \x  in {0,1, ..., 3}
	        \draw[dashed,ultra thin,gray] (0,0)circle(\x);
	        \draw[->,dashed,gray](0,0) to[] (3.5,0);
	        %Add labels with names of the primary and secondary colors.
	        \foreach \x/\text in {1/f$_{S}$, 3/f$_{W}$}
	        \draw (\x,0) node [below]{\text};
	        \foreach \x/\text in {.5,.6,...,1.5}
	        \draw [-,thin,red] (90:\x) arc(90:135:\x);
	        \draw[-,ultra thin,red,dashed] (0,0) to[] (0,7);
	        \draw[-,ultra thin,red,dashed] (0,0) to[] (-5.4,5);
	        \foreach \x/\text in {2.5,2.6,...,3.5}
	        \draw [-,thin,blue] (60:\x) arc(60:165:\x); 
	        \draw[-,ultra thin,blue,dashed] (0,0) to[] (3.5,6);
	        \draw[-,ultra thin,blue,dashed] (0,0) to[] (-7,1.9);
	            
	        \draw [<->,ultra thin,blue!20] (65:5) arc(65:160:5);
	        \draw [<->,ultra thin,red!20] (95:7) arc(95:130:7);
	        \path[font=\footnotesize]
	        (-3.5,6.5) node[above right] {$Swell\ Sea$}
	        (-5,2.5) node[left] {$Wind\ Sea$};
	        %(.5,0) node[above right] {$0.1\ Hz$}
	        %   (3.8,.2) node[left] {$0.3\ Hz$};
	        %   
	    
	    \end{tikzpicture}
	    \caption[Idealised directional spectrum]{Idealised representation of directional spectrum (energy units omitted) for a typical north-westerly swell, mixed with presence wind sea . Typical case of Sub Developed Sea: Swell and Wind Sea occupy two different frequency bands (denoted separately with f$_{S}$$\approx$0.1 Hz and f$_W$$\approx$0.3Hz) but still a strong local wind sea is observable. It spans over a wider area, being under direct effect of wind and therefore not having had time yet to reach spectral maturation and fully develop. Conversely, swell sea (low frequencies), is the result of spectral disintegration being confined in its typical frequency domain: evidently it has travelled long distances away from where it was originated (fetch). Assume that energy is denser for swell band.}
	    \label{fig:sp2d}
	\end{figure}
	\end{document}
snippet maps india-map
	% India map
	% Author: Umesh Rai
	\documentclass[portrait,a1,final]{a0poster}
	
	\usepackage{graphics}
	\usepackage{tikz}
	\usetikzlibrary{shapes,positioning,decorations.pathmorphing}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: India map
	
	This map is based on an SVG drawing converted to TikZ code using the `svg2tikz converter`_.  The code has been manually edited after the conversion.
	
	.. _svg2tikz converter: http://code.google.com/p/inkscape2tikz/
	
	\end{comment}
	\begin{document}
	
	\definecolor{c231F20}{RGB}{35,31,32}
	\definecolor{cFFFFD0}{RGB}{255,255,208}
	\definecolor{cc6e9af}{RGB}{198,233,175}
	\definecolor{c80b3ff}{RGB}{128,179,255}
	\definecolor{cffe680}{RGB}{255,230,128}
	\definecolor{cd35f5f}{RGB}{211,95,95}
	\definecolor{c338000}{RGB}{51,128,0}
	\definecolor{cb380ff}{RGB}{179,128,255}
	\definecolor{cF7D3AA}{RGB}{247,211,170}
	\definecolor{cFFFFFF}{RGB}{255,255,255}
	\definecolor{c2E97FF}{RGB}{46,151,255}
	\definecolor{c9EC7F3}{RGB}{158,199,243}
	\definecolor{c66a034}{RGB}{102,160,52}
	\definecolor{c231f20}{RGB}{35,31,32}
	\definecolor{ceaeaea}{RGB}{234,234,234}
	
	
	
	\begin{figure}
	\centering
	%\scalebox{0.7}{
	\begin{tikzpicture}[y=0.80pt,x=0.80pt,yscale=-1, inner sep=0pt, outer sep=0pt]
	
	%%%% Indian Map - State wise
	\begin{scope}%%% India Map
	  \begin{scope}%%% Indian Territory
	    \begin{scope}%%% States
	      %%% Bihar
	      \path[draw=c231F20,fill=cFFFFD0] (511.2400,139.4400) .. controls
	        (503.1700,137.0900) and (494.6700,137.6100) .. (486.4500,136.1300) .. controls
	        (479.3100,134.8500) and (473.6500,131.2500) .. (467.4600,127.7400) .. controls
	        (461.0900,124.1300) and (454.8300,123.1500) .. (447.6100,122.4300) .. controls
	        (438.3500,121.5100) and (429.0700,120.7400) .. (419.7600,120.6000) .. controls
	        (406.9000,120.4000) and (389.5200,119.6800) .. (381.5300,131.9000) .. controls
	        (377.3500,138.3000) and (375.7100,146.0900) .. (373.5500,153.3000) .. controls
	        (371.1000,161.4800) and (367.3500,168.8000) .. (362.7800,175.9900) .. controls
	        (358.6000,182.5600) and (353.5100,189.0600) .. (351.2700,196.6100) .. controls
	        (348.8600,204.7700) and (349.6700,213.3600) .. (350.9100,221.6400) .. controls
	        (353.0400,235.9500) and (353.3700,249.3700) .. (353.0900,263.7700) .. controls
	        (352.8900,274.1600) and (353.7500,284.7800) .. (360.4700,293.2200) .. controls
	        (369.7400,304.8600) and (386.0500,310.9100) .. (399.3000,316.7000) .. controls
	        (415.3900,323.7200) and (431.5700,330.4700) .. (447.5800,337.7000) .. controls
	        (463.2800,344.7900) and (479.1900,352.1200) .. (495.8800,356.5900) .. controls
	        (524.9000,364.3600) and (556.9000,363.2100) .. (584.2300,350.1500) .. controls
	        (596.6900,344.1900) and (608.7600,335.9300) .. (615.7400,323.7300) .. controls
	        (621.6400,313.4400) and (623.1700,301.5200) .. (623.0800,289.8400) .. controls
	        (622.9700,276.0400) and (620.4500,262.3300) .. (620.6900,248.5400) .. controls
	        (620.8300,240.3400) and (621.9600,232.1700) .. (624.0400,224.2400) .. controls
	        (626.2400,215.8000) and (630.7200,207.9100) .. (632.2200,199.3200) .. controls
	        (634.0200,189.0500) and (634.2100,177.4600) .. (634.4000,167.0200) .. controls
	        (630.1300,165.3900) and (625.5600,165.4900) .. (621.0700,165.8200) .. controls
	        (615.9400,166.2000) and (611.1700,165.9500) .. (606.0500,165.6000) .. controls
	        (595.5200,164.8800) and (585.8100,160.5200) .. (575.7800,157.5300) .. controls
	        (554.3800,151.1400) and (532.7000,145.6800) .. (511.2400,139.4400);
	
	      %%% Sikkim
	      \path[draw=c231F20,fill=cFFFFD0] (670.6000,131.3300) .. controls
	        (674.2100,113.4800) and (676.7900,91.4700) .. (656.5000,82.8900) .. controls
	        (650.8000,80.4800) and (644.3500,80.7900) .. (638.3000,81.0600) .. controls
	        (633.4300,81.2800) and (627.6500,80.8300) .. (623.2900,83.3900) .. controls
	        (611.8100,90.1400) and (605.2100,101.9100) .. (600.6200,113.9600) .. controls
	        (595.7900,126.6500) and (594.4700,139.5600) .. (599.3500,152.4700) .. controls
	        (600.9000,156.5800) and (606.2400,158.3700) .. (610.0800,159.4700) .. controls
	        (616.4000,161.2800) and (622.7700,163.3300) .. (629.2600,164.4600) .. controls
	        (638.9700,166.1600) and (652.6300,165.3100) .. (661.0100,159.5200) .. controls
	        (670.0800,153.2700) and (668.6700,140.8900) .. (670.6000,131.3300);
	
	      %%% Jharkhand
	      \path[draw=c231F20,fill=cFFFFD0] (499.9300,456.7100) .. controls
	        (487.7500,454.6600) and (476.1000,450.2400) .. (465.1100,444.7000) .. controls
	        (453.2900,438.7400) and (443.1300,430.4900) .. (431.6400,424.1000) .. controls
	        (421.7100,418.5800) and (409.2700,420.8400) .. (402.7900,409.9400) .. controls
	        (400.2000,405.5900) and (398.5900,400.7800) .. (396.3800,396.2400) .. controls
	        (393.8000,390.9500) and (390.2600,386.1600) .. (386.9400,381.3300) .. controls
	        (379.8600,371.0600) and (375.4000,360.1900) .. (372.5600,348.0600) .. controls
	        (371.0300,341.5500) and (370.3800,334.9200) .. (369.0900,328.3800) .. controls
	        (367.9200,322.4200) and (366.1900,315.7900) .. (367.9500,309.7700) .. controls
	        (368.6700,307.3100) and (370.1600,305.2800) .. (371.1100,302.9400) .. controls
	        (371.9000,300.9900) and (372.3300,298.6200) .. (373.9000,297.1100) .. controls
	        (377.2700,293.8600) and (384.6000,296.2700) .. (387.8900,298.5000) .. controls
	        (392.4600,301.6000) and (400.1100,300.5500) .. (405.3900,300.9100) .. controls
	        (410.6800,301.2700) and (413.5700,301.9900) .. (414.1300,296.2800) .. controls
	        (418.4800,296.1600) and (419.5500,299.5400) .. (421.0800,302.5400) .. controls
	        (422.9000,306.1100) and (427.0800,301.8100) .. (429.3600,301.2700) .. controls
	        (434.1100,300.1500) and (433.0400,305.7300) .. (433.3200,308.3500) .. controls
	        (433.8700,313.4200) and (441.2300,313.8300) .. (445.0700,313.6800) .. controls
	        (445.5500,312.0800) and (445.4700,310.4600) .. (445.6300,308.7800) .. controls
	        (447.6400,308.7100) and (450.3800,309.3400) .. (451.7300,307.3000) .. controls
	        (453.0300,305.3200) and (452.3900,303.2300) .. (455.4600,302.8500) .. controls
	        (459.3700,302.3700) and (459.4800,308.2500) .. (462.8500,309.9000) .. controls
	        (464.0600,310.4900) and (465.5200,311.2600) .. (466.9200,310.8500) .. controls
	        (468.3700,310.4300) and (468.3900,308.4200) .. (469.9600,307.9400) .. controls
	        (472.5100,307.1700) and (477.6900,308.5500) .. (477.2400,304.2600) .. controls
	        (481.2900,301.9600) and (485.2900,303.2800) .. (489.5300,302.4300) .. controls
	        (490.6400,302.2100) and (491.1500,300.3800) .. (491.4400,299.4900) .. controls
	        (491.9200,297.9800) and (492.4900,298.2000) .. (494.1000,297.9600) .. controls
	        (495.4700,297.7500) and (496.3300,297.7000) .. (496.6100,296.2400) .. controls
	        (496.8300,295.4400) and (496.9400,294.6200) .. (496.9400,293.7900) .. controls
	        (496.9500,292.0100) and (498.4300,292.1300) .. (499.0000,290.7500) .. controls
	        (499.6600,289.1500) and (498.1900,287.1200) .. (500.1000,286.0700) .. controls
	        (501.6000,285.2500) and (504.1500,286.1400) .. (505.7400,286.2800) .. controls
	        (505.7100,290.9300) and (513.9600,287.3700) .. (516.0900,287.2200) .. controls
	        (516.3500,287.6400) and (516.5100,287.6000) .. (516.7400,287.9000) .. controls
	        (517.1000,290.0000) and (518.7100,290.4400) .. (520.0300,291.7800) .. controls
	        (521.9200,293.6900) and (520.4900,296.9300) .. (520.5800,299.2500) .. controls
	        (524.2800,300.3000) and (528.2900,295.4300) .. (528.5000,301.8400) .. controls
	        (528.5500,303.4100) and (527.4800,306.2400) .. (528.7500,307.5500) .. controls
	        (530.1600,309.0000) and (533.1100,306.6700) .. (533.3900,309.6000) .. controls
	        (538.5200,310.6900) and (537.1500,304.5800) .. (538.5000,301.6800) .. controls
	        (539.0200,300.5700) and (540.2000,300.6200) .. (540.8900,299.7600) .. controls
	        (541.5500,298.9300) and (541.0200,297.7700) .. (541.9600,297.0900) .. controls
	        (544.3400,295.3700) and (545.3800,298.7900) .. (545.3500,300.5600) .. controls
	        (548.0700,301.2100) and (551.7600,298.5700) .. (551.8400,295.8100) .. controls
	        (554.4700,296.2600) and (555.8700,301.1700) .. (559.0100,299.5700) .. controls
	        (559.4000,297.8500) and (558.0200,295.8400) .. (560.1800,294.9800) .. controls
	        (561.2100,294.5700) and (563.3100,295.4100) .. (563.8600,294.2900) .. controls
	        (564.9900,291.9900) and (565.1500,288.4100) .. (565.0200,285.8900) .. controls
	        (564.8700,283.0200) and (567.7300,283.8600) .. (568.6700,281.6100) .. controls
	        (570.2700,277.7800) and (565.9500,270.7500) .. (572.2000,270.0900) .. controls
	        (575.9200,269.7000) and (576.4600,264.2800) .. (577.5200,261.4100) .. controls
	        (580.2400,261.2800) and (583.0500,261.6200) .. (585.7800,261.5100) .. controls
	        (586.2400,259.9800) and (585.0100,257.9900) .. (587.4800,258.1200) .. controls
	        (587.5300,257.7400) and (587.5600,254.4100) .. (587.7700,254.3900) .. controls
	        (591.1800,253.9900) and (594.6700,255.0400) .. (597.3400,257.1800) .. controls
	        (600.0700,259.3800) and (602.1100,261.3300) .. (605.7400,261.8200) .. controls
	        (609.0900,262.2700) and (611.3300,263.8000) .. (613.3200,266.5000) .. controls
	        (616.5400,270.8700) and (617.7900,276.3800) .. (619.0100,281.5700) .. controls
	        (620.5100,287.9700) and (622.8900,293.9400) .. (624.7800,300.2100) .. controls
	        (626.7300,306.6900) and (627.9900,313.6500) .. (626.5700,320.3700) .. controls
	        (625.0100,327.7400) and (619.9500,334.3500) .. (616.6300,341.0500) .. controls
	        (613.4700,347.4400) and (611.1800,354.0500) .. (608.5900,360.6700) .. controls
	        (605.9300,367.4800) and (601.4200,373.4300) .. (599.1900,380.4200) .. controls
	        (591.3600,404.9800) and (588.9600,436.3000) .. (564.5300,450.8700) .. controls
	        (545.3800,462.3000) and (520.9800,460.2700) .. (499.9300,456.7100);
	
	      %%% Rajasthan
	      \path[draw=c231F20,fill=cFFFFD0] (-121.8500,-15.1000) .. controls
	        (-108.9600,-24.1300) and (-96.6600,-34.4400) .. (-81.8400,-40.2400) ..
	        controls (-66.4300,-46.2700) and (-51.5800,-36.7900) .. (-40.4200,-26.8200) ..
	        controls (-34.9700,-21.9400) and (-29.9900,-16.5800) .. (-24.6300,-11.6100) ..
	        controls (-18.5000,-5.9200) and (-11.7700,-1.7900) .. (-4.7500,2.6800) ..
	        controls (9.5000,11.7600) and (22.2700,23.2400) .. (34.6200,34.6900) ..
	        controls (47.1300,46.3000) and (58.7800,58.8400) .. (71.4100,70.2900) ..
	        controls (77.7500,76.0400) and (84.5300,81.3500) .. (91.2200,86.6700) ..
	        controls (98.0500,92.1000) and (106.1800,96.9900) .. (112.1300,103.3800) ..
	        controls (116.7700,108.3600) and (119.7000,114.7200) .. (121.4400,121.2300) ..
	        controls (123.6600,129.5100) and (126.6700,137.2900) .. (129.7500,145.2900) ..
	        controls (135.6700,160.6300) and (138.1200,176.2400) .. (135.9900,192.6200) ..
	        controls (133.9300,208.4300) and (125.7200,221.0900) .. (116.8900,233.9900) ..
	        controls (107.2900,247.9900) and (97.1500,261.7100) .. (89.1600,276.7300) ..
	        controls (81.6600,290.8200) and (75.7200,305.6900) .. (67.3700,319.3400) ..
	        controls (58.7400,333.4400) and (47.4900,345.0100) .. (34.3700,355.0200) ..
	        controls (28.2100,359.7200) and (21.6400,363.7900) .. (15.3500,368.3000) ..
	        controls (8.5500,373.1800) and (2.1000,378.5400) .. (-4.9400,383.1000) ..
	        controls (-17.4700,391.2200) and (-31.1700,391.2700) .. (-45.5800,392.6500) ..
	        controls (-79.8100,395.9200) and (-111.2600,386.6300) .. (-143.4500,375.9800)
	        .. controls (-173.5400,366.0300) and (-199.7700,347.6900) ..
	        (-224.4200,328.2600) .. controls (-236.7800,318.5100) and (-248.8600,308.4200)
	        .. (-261.2200,298.6800) .. controls (-274.0200,288.6000) and
	        (-285.2000,279.6700) .. (-293.1000,265.1100) .. controls (-308.0100,237.6500)
	        and (-321.3600,210.8800) .. (-326.5000,179.7400) .. controls
	        (-331.4100,150.0400) and (-329.9600,119.0900) .. (-321.0500,90.2700) ..
	        controls (-315.6600,72.8400) and (-307.6400,55.3500) .. (-296.1200,41.0700) ..
	        controls (-283.7400,25.7400) and (-267.9900,19.3000) .. (-248.5600,18.1900) ..
	        controls (-239.3300,17.6700) and (-230.0800,18.0400) .. (-220.8500,18.3500) ..
	        controls (-212.5800,18.6300) and (-203.7200,19.4400) .. (-195.6000,17.5100) ..
	        controls (-188.4300,15.8100) and (-182.9700,9.9800) .. (-175.8700,8.6000) ..
	        controls (-168.4700,7.1600) and (-159.2900,8.6200) .. (-155.8400,0.1200) ..
	        controls (-144.3300,-4.7500) and (-132.3300,-7.7500) .. (-121.8500,-15.1000);
	
	      %%% West Bengal
	      \path[draw=c231F20,fill=cFFFFD0] (614.2500,172.7100) .. controls
	        (609.5800,168.4400) and (606.6100,162.2000) .. (602.0500,157.6900) .. controls
	        (598.7100,154.3900) and (594.0100,151.3300) .. (593.9100,146.1200) .. controls
	        (593.8200,141.4900) and (599.9400,139.0700) .. (603.8100,139.7300) .. controls
	        (606.2100,140.1400) and (607.4700,142.4400) .. (609.7900,143.0000) .. controls
	        (613.6200,143.9200) and (611.7900,144.6300) .. (613.4400,147.2000) .. controls
	        (613.3000,146.9900) and (615.4800,148.5300) .. (615.4200,148.5100) .. controls
	        (616.6200,148.9500) and (619.8000,148.8600) .. (621.1400,148.9000) .. controls
	        (623.5900,148.9700) and (624.0900,148.9800) .. (626.1300,150.0900) .. controls
	        (630.4000,152.4000) and (631.9800,149.5100) .. (635.2000,147.7800) .. controls
	        (635.2800,146.8200) and (635.2600,145.8100) .. (635.3600,144.8600) .. controls
	        (638.0600,142.7600) and (639.6100,145.9500) .. (641.8000,146.5600) .. controls
	        (644.3900,147.2800) and (644.4500,144.1000) .. (646.1000,147.8200) .. controls
	        (646.6500,147.0100) and (647.2700,146.2900) .. (648.1100,145.6700) .. controls
	        (651.4800,146.9200) and (652.8100,147.2500) .. (656.5600,145.9700) .. controls
	        (659.3900,145.0000) and (662.1100,143.8800) .. (665.0500,143.2300) .. controls
	        (670.8100,141.9400) and (676.8100,141.8400) .. (682.6200,142.8000) .. controls
	        (693.6100,144.6000) and (704.0700,150.1700) .. (711.3700,158.6100) .. controls
	        (719.0200,167.4600) and (722.6200,179.4100) .. (720.4700,190.9800) .. controls
	        (719.3200,197.1800) and (716.2800,202.7000) .. (712.1400,207.4100) .. controls
	        (707.5300,212.6600) and (701.5700,216.0500) .. (696.6400,220.8800) .. controls
	        (691.4500,225.9700) and (692.3300,233.0300) .. (691.7000,239.6700) .. controls
	        (690.8600,248.5400) and (687.7100,257.1900) .. (685.3600,265.7400) .. controls
	        (680.6800,282.7900) and (679.0700,300.6100) .. (675.6400,317.9300) .. controls
	        (674.5700,323.3800) and (673.9000,328.9200) .. (675.3200,334.3700) .. controls
	        (677.2200,341.6100) and (681.7100,347.8900) .. (685.1000,354.4800) .. controls
	        (692.7600,369.4000) and (697.3600,385.1900) .. (699.7100,401.7500) .. controls
	        (701.8100,416.5600) and (702.8700,431.5500) .. (702.5700,446.5100) .. controls
	        (702.3500,457.6200) and (702.9000,470.6800) .. (695.8000,479.9800) .. controls
	        (684.0200,495.4200) and (659.9300,497.1400) .. (642.1600,495.3600) .. controls
	        (627.0700,493.8500) and (612.5100,489.3600) .. (597.9600,485.3500) .. controls
	        (588.1700,482.6500) and (574.6500,481.3100) .. (569.0000,471.6300) .. controls
	        (565.9000,466.3100) and (563.8400,460.4400) .. (560.5600,455.2200) .. controls
	        (558.5200,451.9700) and (553.7500,448.9000) .. (552.5500,445.3100) .. controls
	        (550.9300,440.4600) and (549.8800,431.7200) .. (552.1200,427.0300) .. controls
	        (553.2900,424.5800) and (554.9800,422.5300) .. (557.7600,422.1100) .. controls
	        (560.3800,421.7100) and (561.5800,419.2000) .. (563.9700,418.8900) .. controls
	        (562.0200,416.5700) and (561.2100,418.2600) .. (560.7600,414.8800) .. controls
	        (560.3800,412.1000) and (558.3200,412.1900) .. (556.2200,410.4300) .. controls
	        (557.1800,408.5300) and (559.3700,409.3900) .. (558.2900,406.7300) .. controls
	        (557.5700,404.9400) and (553.5800,403.5600) .. (554.0200,401.4000) .. controls
	        (552.6500,401.0900) and (551.4600,401.7100) .. (550.0900,401.5400) .. controls
	        (550.3400,400.4500) and (550.5900,399.1400) .. (550.4200,397.9700) .. controls
	        (548.3900,397.8300) and (546.2100,396.5700) .. (544.8400,395.1100) .. controls
	        (543.9800,394.1900) and (542.1800,392.4400) .. (541.5300,391.4300) .. controls
	        (539.0900,387.6500) and (542.2600,384.3200) .. (545.4500,383.0300) .. controls
	        (546.2800,380.1700) and (539.3200,380.8600) .. (537.5700,380.9400) .. controls
	        (537.5300,381.1200) and (537.4900,381.3100) .. (537.4400,381.4900) .. controls
	        (536.2300,381.7200) and (535.7200,381.1100) .. (535.8100,379.8800) .. controls
	        (532.5900,379.6100) and (530.0800,381.5100) .. (527.9100,378.2000) .. controls
	        (526.4200,375.9200) and (525.5000,373.8900) .. (522.3200,374.7600) .. controls
	        (521.0800,371.2100) and (518.7400,371.1600) .. (515.3100,371.4200) .. controls
	        (513.5600,371.5500) and (513.2700,371.0300) .. (513.2800,369.5500) .. controls
	        (513.3000,367.8300) and (510.3500,368.5100) .. (509.3800,368.4000) .. controls
	        (509.0900,366.6900) and (509.9900,363.5700) .. (510.9100,362.1900) .. controls
	        (514.2200,362.2000) and (513.5100,354.9200) .. (511.5100,353.5300) .. controls
	        (514.3300,353.4000) and (517.2500,353.7400) .. (520.0800,353.6400) .. controls
	        (520.6000,351.7900) and (518.9800,350.7800) .. (519.2900,349.0400) .. controls
	        (521.3600,348.5200) and (523.7400,348.6900) .. (525.8900,348.8800) .. controls
	        (526.1000,353.4700) and (527.8700,355.1700) .. (532.4700,355.3500) .. controls
	        (534.6300,355.4300) and (535.2800,355.2100) .. (535.8800,353.1000) .. controls
	        (536.7100,350.1800) and (537.5400,349.5200) .. (540.0900,347.7300) .. controls
	        (542.5000,346.0400) and (544.8800,344.1700) .. (547.5500,342.9000) .. controls
	        (550.2200,341.6300) and (552.9200,341.9100) .. (555.7000,341.2400) .. controls
	        (559.0000,340.4500) and (557.4900,331.0000) .. (562.0800,335.3800) .. controls
	        (562.1900,334.1100) and (561.9700,331.1000) .. (563.9700,331.2200) .. controls
	        (568.0100,331.4600) and (571.1900,334.6800) .. (575.5100,334.3600) .. controls
	        (575.8400,332.6800) and (575.6900,331.1700) .. (574.1100,330.3500) .. controls
	        (576.2000,330.3700) and (577.7000,331.7000) .. (579.6000,331.4700) .. controls
	        (579.7600,330.3700) and (579.9100,329.2800) .. (580.0600,328.1800) .. controls
	        (580.5100,326.9800) and (581.4100,326.9900) .. (581.4900,325.5500) .. controls
	        (581.5400,324.5300) and (578.0500,321.3500) .. (579.8100,321.0200) .. controls
	        (581.2700,320.7500) and (583.9400,320.8700) .. (585.2600,321.6300) .. controls
	        (587.4300,322.8800) and (587.1700,324.9100) .. (590.1700,324.7200) .. controls
	        (590.2800,323.6600) and (590.2500,322.5500) .. (590.3600,321.4900) .. controls
	        (590.5500,321.4600) and (590.7300,321.4200) .. (590.9200,321.3900) .. controls
	        (591.3000,318.6500) and (591.0700,314.5000) .. (595.3900,317.1800) .. controls
	        (594.9600,314.2900) and (598.1900,314.6400) .. (600.1500,314.6200) .. controls
	        (599.8700,313.5000) and (598.9300,312.0500) .. (597.6300,311.8900) .. controls
	        (597.2500,310.2800) and (601.1600,308.5900) .. (602.1700,307.2700) .. controls
	        (604.7800,303.8700) and (605.7400,301.8900) .. (605.6200,297.5100) .. controls
	        (600.7300,296.4700) and (605.1100,293.6800) .. (604.1700,291.8100) .. controls
	        (606.0200,291.7100) and (607.9300,291.9100) .. (609.7800,291.8400) .. controls
	        (609.9600,289.7800) and (610.8400,286.7900) .. (609.6900,284.8700) .. controls
	        (608.5300,282.9300) and (605.2700,283.2200) .. (606.1700,280.1600) .. controls
	        (606.8800,280.0300) and (607.3200,279.5100) .. (608.0900,279.4300) .. controls
	        (608.5300,274.5400) and (610.4700,269.3200) .. (607.4000,264.9000) .. controls
	        (606.4000,263.4500) and (603.0000,261.5700) .. (603.0600,259.8100) .. controls
	        (603.1300,257.3500) and (606.3700,256.3900) .. (607.3200,254.3900) .. controls
	        (605.2200,253.3000) and (601.6600,245.4900) .. (602.0900,243.3100) .. controls
	        (603.7100,243.2500) and (605.3900,243.3800) .. (607.0100,243.3500) .. controls
	        (607.2500,240.9300) and (607.3400,238.6500) .. (610.2100,238.1100) .. controls
	        (612.6800,237.6500) and (613.7800,240.4300) .. (616.1400,240.2200) .. controls
	        (615.6000,234.0200) and (615.1500,226.0200) .. (607.5800,225.3100) .. controls
	        (607.1400,222.7000) and (603.7700,222.8100) .. (602.7500,220.4600) .. controls
	        (601.3700,217.3100) and (604.6600,213.3200) .. (604.9600,209.9800) .. controls
	        (606.4500,210.2000) and (607.9600,210.3700) .. (609.5400,210.3300) .. controls
	        (610.0600,208.9700) and (610.4100,207.3700) .. (611.2700,206.1600) .. controls
	        (612.2700,204.7700) and (614.7100,204.9400) .. (615.4000,203.6700) .. controls
	        (616.3400,201.9300) and (616.7600,200.6000) .. (618.5700,199.5200) .. controls
	        (619.9500,198.6900) and (621.7100,198.2800) .. (622.7600,196.9900) .. controls
	        (625.9100,193.1400) and (621.3700,188.5900) .. (621.9400,184.4600) .. controls
	        (622.2700,182.0700) and (623.3100,178.6200) .. (620.4500,177.3400) .. controls
	        (617.8700,176.2400) and (616.3300,174.6100) .. (614.2500,172.7100);
	
	      %%% Madhya pradesh
	      \path[draw=c231F20,fill=cFFFFD0] (-99.8800,369.7000) .. controls
	        (-96.1800,366.5100) and (-95.3500,355.1400) .. (-88.7800,356.3300) .. controls
	        (-86.8500,356.6800) and (-84.9500,357.2200) .. (-83.0500,357.7000) .. controls
	        (-82.2700,357.9000) and (-82.3400,358.1000) .. (-82.0000,357.3300) .. controls
	        (-81.4200,356.0200) and (-78.0100,357.3700) .. (-76.9600,357.7400) .. controls
	        (-73.9700,352.9500) and (-66.8700,355.2200) .. (-63.3800,351.3800) .. controls
	        (-60.5600,348.2800) and (-69.8500,345.5100) .. (-71.5600,344.8200) .. controls
	        (-68.7900,342.1900) and (-70.5600,341.2800) .. (-70.3300,338.0300) .. controls
	        (-65.3000,336.2000) and (-59.3700,335.4500) .. (-54.7100,332.7600) .. controls
	        (-50.8300,330.5200) and (-50.2800,326.0400) .. (-50.3300,321.9700) .. controls
	        (-50.3600,319.7400) and (-50.8000,317.4600) .. (-50.5600,315.2300) .. controls
	        (-50.2500,312.4600) and (-48.5900,311.2600) .. (-47.1100,309.1400) .. controls
	        (-45.6100,307.0000) and (-46.3800,305.0400) .. (-47.4300,302.9600) .. controls
	        (-48.7300,300.3900) and (-48.6700,297.2900) .. (-48.7700,294.4900) .. controls
	        (-51.7100,294.2300) and (-54.7500,294.3600) .. (-57.6900,294.1100) .. controls
	        (-56.6400,292.5700) and (-54.7500,291.6000) .. (-54.0900,289.7800) .. controls
	        (-53.3500,287.7200) and (-55.0800,285.0200) .. (-52.4800,283.8300) .. controls
	        (-53.1700,282.0000) and (-55.8300,281.1900) .. (-57.8200,281.0800) .. controls
	        (-57.8900,279.2700) and (-58.5700,276.8100) .. (-57.6500,275.1200) .. controls
	        (-56.8100,273.5500) and (-53.1100,273.6000) .. (-53.1500,271.6100) .. controls
	        (-53.2000,268.9600) and (-57.1800,263.6600) .. (-51.5200,264.8600) .. controls
	        (-51.8900,267.7000) and (-50.2700,265.9700) .. (-49.0000,267.3200) .. controls
	        (-47.7400,268.6400) and (-46.9000,270.9200) .. (-44.6300,270.4000) .. controls
	        (-44.6700,264.4000) and (-54.6900,259.8600) .. (-50.5400,253.3500) .. controls
	        (-48.1300,254.2100) and (-48.1800,256.8300) .. (-46.8100,258.5900) .. controls
	        (-45.2100,260.6300) and (-41.6400,260.7200) .. (-39.4600,259.7200) .. controls
	        (-36.2100,258.2400) and (-37.7200,255.1300) .. (-36.2000,252.6900) .. controls
	        (-34.2100,249.4900) and (-29.0700,250.7100) .. (-26.0400,250.9900) .. controls
	        (-25.9500,253.4000) and (-26.0200,255.9500) .. (-26.2300,258.3500) .. controls
	        (-30.0200,257.7600) and (-29.1500,261.8000) .. (-29.4000,264.2800) .. controls
	        (-32.9100,264.2700) and (-34.4500,268.7600) .. (-30.5300,269.5400) .. controls
	        (-25.6000,270.5300) and (-20.5100,270.8500) .. (-15.5200,271.3000) .. controls
	        (-16.6800,276.3400) and (-12.1100,272.7900) .. (-10.1700,271.5700) .. controls
	        (-7.3300,269.7800) and (-6.0200,269.2900) .. (-1.9100,269.6500) .. controls
	        (-1.8000,272.5700) and (-2.1000,275.5800) .. (-1.9800,278.5000) .. controls
	        (-0.5100,279.1400) and (1.1800,279.3200) .. (2.7600,279.3500) .. controls
	        (2.9500,282.5800) and (2.4500,291.4200) .. (-2.8500,285.6500) .. controls
	        (-5.2400,286.2400) and (-6.3500,289.6600) .. (-5.9800,291.8200) .. controls
	        (-5.6300,293.8800) and (-3.0200,292.3200) .. (-3.3600,295.9200) .. controls
	        (-3.5700,298.0700) and (-5.1400,300.1700) .. (-4.5800,302.3700) .. controls
	        (-3.9200,304.9900) and (-0.7000,304.5900) .. (-0.3300,306.5900) .. controls
	        (-3.3400,307.5500) and (-5.2100,309.5300) .. (-8.5800,310.1100) .. controls
	        (-11.8200,310.6700) and (-13.2000,310.0800) .. (-15.9200,308.5600) .. controls
	        (-20.4000,306.0700) and (-19.9500,316.0000) .. (-19.5800,318.1400) .. controls
	        (-13.8900,318.1900) and (-14.5400,320.8500) .. (-10.7100,323.5400) .. controls
	        (-9.8500,321.9000) and (-10.4600,319.4400) .. (-9.5000,317.5600) .. controls
	        (-6.5300,316.9300) and (-2.8700,318.2700) .. (0.3600,318.1600) .. controls
	        (0.8500,316.6300) and (2.2800,316.0800) .. (3.9400,316.2500) .. controls
	        (4.3500,313.9400) and (2.8500,312.4600) .. (2.7400,310.3700) .. controls
	        (4.8600,309.5800) and (7.3900,309.9700) .. (8.8900,308.0200) .. controls
	        (10.8100,305.5200) and (12.5300,301.7800) .. (12.5900,298.5900) .. controls
	        (16.3700,297.4800) and (19.9700,299.3200) .. (23.5400,300.3000) .. controls
	        (27.1300,301.2800) and (30.9600,301.1600) .. (34.4500,302.5400) .. controls
	        (34.2800,301.7200) and (34.8200,300.4900) .. (34.6800,299.6700) .. controls
	        (36.1000,299.6600) and (37.6200,299.6500) .. (39.0400,299.6200) .. controls
	        (39.2100,299.3600) and (39.4500,298.8700) .. (39.5400,298.7500) .. controls
	        (39.6700,300.1700) and (39.6200,301.7200) .. (39.6200,303.1500) .. controls
	        (41.8500,303.2800) and (43.1200,304.8200) .. (45.4600,304.4500) .. controls
	        (45.1100,306.5200) and (45.9900,308.7000) .. (48.3800,308.3800) .. controls
	        (48.5000,305.2400) and (54.0100,305.9300) .. (54.0400,302.6800) .. controls
	        (49.8700,301.4600) and (51.9400,288.3600) .. (50.6300,284.5700) .. controls
	        (53.9800,283.9400) and (54.8800,286.9000) .. (57.6000,287.7600) .. controls
	        (61.3500,288.9400) and (62.6200,283.5800) .. (62.7700,280.9900) .. controls
	        (62.9800,277.2700) and (61.2900,275.1200) .. (57.7300,274.3600) .. controls
	        (53.5400,273.4700) and (51.5100,272.7600) .. (50.0600,268.5200) .. controls
	        (52.2600,268.4000) and (56.6700,268.9900) .. (56.3400,265.5800) .. controls
	        (56.1300,263.4000) and (54.2600,262.9000) .. (53.6900,261.0400) .. controls
	        (53.1600,259.3200) and (53.7700,257.3200) .. (53.9300,255.5900) .. controls
	        (58.0500,255.4400) and (62.1400,256.3200) .. (66.2500,255.9100) .. controls
	        (69.5900,255.5800) and (72.0600,253.4400) .. (75.0800,252.2400) .. controls
	        (74.7700,253.2600) and (75.2300,254.5000) .. (75.0300,255.4800) .. controls
	        (76.7700,255.3100) and (78.5100,254.4300) .. (80.4300,254.6200) .. controls
	        (80.7800,250.7400) and (80.8300,246.6500) .. (80.7700,242.7500) .. controls
	        (77.1800,243.1800) and (78.4800,238.9500) .. (78.3900,236.6800) .. controls
	        (73.4200,236.4000) and (73.0600,238.2900) .. (71.7000,242.3500) .. controls
	        (70.2200,242.0200) and (69.2200,240.8400) .. (67.7700,240.5000) .. controls
	        (65.7500,240.0300) and (64.6400,241.3800) .. (62.7600,241.7100) .. controls
	        (57.4000,242.6400) and (50.3300,241.3200) .. (45.3200,239.4300) .. controls
	        (42.1700,238.2400) and (40.1400,237.0200) .. (39.5700,233.5000) .. controls
	        (38.7300,228.3700) and (36.9500,223.4500) .. (35.2700,218.5300) .. controls
	        (39.5800,219.1500) and (37.6100,213.2500) .. (40.0100,211.6500) .. controls
	        (44.4700,211.5800) and (48.8000,210.1600) .. (51.1300,206.3500) .. controls
	        (53.7200,202.1200) and (57.5000,196.7300) .. (62.7300,195.7000) .. controls
	        (65.3700,195.1800) and (68.1500,195.2800) .. (69.9200,192.9000) .. controls
	        (71.1400,191.2500) and (71.8900,189.6600) .. (73.8400,188.7500) .. controls
	        (76.8400,187.3500) and (82.8200,187.0800) .. (84.4500,183.7400) .. controls
	        (87.8500,183.4900) and (91.3200,182.5100) .. (94.1200,180.5400) .. controls
	        (95.2500,179.7500) and (95.9500,178.5400) .. (96.9400,177.6100) .. controls
	        (98.7800,175.8600) and (101.3900,176.3900) .. (103.6000,175.5500) .. controls
	        (104.7300,166.7000) and (115.6600,170.4700) .. (121.3400,169.5100) .. controls
	        (121.3000,169.5100) and (122.6400,165.5100) .. (122.8000,165.1600) .. controls
	        (123.7300,163.0500) and (125.6400,161.9600) .. (127.8300,161.4300) .. controls
	        (134.8500,159.7600) and (138.8900,154.9100) .. (145.2900,151.9200) .. controls
	        (158.8100,145.6000) and (175.0900,151.0900) .. (188.1900,155.9200) .. controls
	        (204.3400,161.8800) and (219.9500,169.5100) .. (235.5400,176.7700) .. controls
	        (250.9200,183.9300) and (266.1600,191.4100) .. (280.9000,199.8000) .. controls
	        (295.1300,207.9100) and (308.1000,217.6400) .. (321.8600,226.4300) .. controls
	        (332.8500,233.4500) and (349.0200,240.7100) .. (355.5700,252.5900) .. controls
	        (358.5900,258.0800) and (358.8800,264.5800) .. (359.1800,270.6900) .. controls
	        (359.5300,278.0900) and (360.4000,284.6200) .. (363.0700,291.5700) .. controls
	        (367.4700,302.9900) and (375.4700,324.1900) .. (362.8400,333.4800) .. controls
	        (360.5000,335.2000) and (357.7000,336.5900) .. (356.6500,339.5100) .. controls
	        (355.4700,342.7800) and (356.5200,346.4000) .. (356.4600,349.7600) .. controls
	        (356.3400,357.2000) and (348.8000,363.3200) .. (345.2700,369.4100) .. controls
	        (342.2200,374.6500) and (343.3600,379.5300) .. (344.9900,385.1500) .. controls
	        (347.3000,393.1400) and (348.4800,399.2600) .. (344.4900,407.0000) .. controls
	        (341.0300,413.7100) and (336.1000,419.5300) .. (331.6500,425.5900) .. controls
	        (326.5300,432.5800) and (322.4900,440.2700) .. (317.5000,447.3600) .. controls
	        (307.5000,461.5700) and (295.5700,474.1700) .. (284.5900,487.6000) .. controls
	        (280.0300,493.1800) and (276.2600,499.2600) .. (271.8600,504.9200) .. controls
	        (267.2200,510.8900) and (260.4500,511.9700) .. (253.2300,511.9600) .. controls
	        (246.4600,511.9500) and (239.7700,511.3400) .. (232.9900,511.6300) .. controls
	        (225.5300,511.9400) and (217.4400,512.5500) .. (210.4100,509.5400) .. controls
	        (204.0600,506.8200) and (198.8700,501.7700) .. (193.5300,497.5400) .. controls
	        (187.1200,492.4800) and (180.2600,489.2600) .. (172.5100,486.7500) .. controls
	        (156.9300,481.7000) and (140.4200,479.6800) .. (124.0800,480.0400) .. controls
	        (109.6400,480.3600) and (95.4500,483.1500) .. (81.1300,484.7000) .. controls
	        (65.2200,486.4200) and (49.2200,487.3400) .. (33.2200,487.1500) .. controls
	        (3.1100,486.8100) and (-28.3200,483.0700) .. (-56.5200,472.0400) .. controls
	        (-68.7000,467.2800) and (-79.3700,460.1000) .. (-90.9600,454.2300) .. controls
	        (-101.4100,448.9400) and (-111.6800,443.7700) .. (-116.0800,432.2100) ..
	        controls (-120.7200,420.0100) and (-120.6200,406.1900) .. (-118.6900,393.4600)
	        .. controls (-116.9900,381.5400) and (-108.3000,376.9500) ..
	        (-99.8800,369.7000);
	
	      %%% Chhattisgarh
	      \path[draw=c231F20,fill=cFFFFD0] (237.0200,468.6200) .. controls
	        (246.3400,467.9900) and (242.5200,454.9600) .. (242.6600,449.4600) .. controls
	        (247.2100,450.1500) and (249.7700,446.6500) .. (248.8100,442.5700) .. controls
	        (248.3300,440.5300) and (247.4700,438.4300) .. (247.4900,436.3100) .. controls
	        (247.5100,433.4600) and (249.7700,434.2800) .. (251.6800,433.5600) .. controls
	        (251.8700,431.4000) and (251.7600,429.1600) .. (251.9500,427.0000) .. controls
	        (254.5300,426.8400) and (256.1700,428.8800) .. (258.5100,428.4000) .. controls
	        (258.6200,427.1300) and (258.6600,425.7800) .. (258.6000,424.5000) .. controls
	        (255.6000,423.2800) and (259.6200,419.0500) .. (259.8800,417.5000) .. controls
	        (261.1200,417.9100) and (262.5100,417.9500) .. (263.8100,417.8500) .. controls
	        (264.1200,414.4700) and (263.8700,410.9900) .. (264.1700,407.6100) .. controls
	        (267.2100,407.4800) and (270.3500,407.9700) .. (273.2800,406.8800) .. controls
	        (274.6800,406.3600) and (275.2300,405.6100) .. (276.8900,405.8800) .. controls
	        (278.3100,406.1100) and (279.6400,407.5900) .. (281.1600,407.2800) .. controls
	        (281.6000,403.1500) and (287.5600,404.3700) .. (289.3900,401.8600) .. controls
	        (290.7200,400.0300) and (290.3600,399.5700) .. (292.5800,398.3500) .. controls
	        (294.4000,397.3500) and (297.1300,396.9500) .. (297.2800,394.4000) .. controls
	        (297.4000,392.3500) and (296.8800,390.7700) .. (298.7200,389.3000) .. controls
	        (300.2900,388.0500) and (301.8800,387.2700) .. (302.3100,385.1200) .. controls
	        (302.6700,383.3400) and (302.5200,381.3300) .. (304.0300,380.0300) .. controls
	        (305.4100,378.8400) and (306.7800,378.4700) .. (306.5100,376.3000) .. controls
	        (312.9900,376.0800) and (318.4700,375.8200) .. (317.5000,367.5200) .. controls
	        (317.0800,363.9100) and (312.7200,355.7300) .. (308.4000,355.8800) .. controls
	        (308.4000,354.0700) and (306.4100,351.9200) .. (304.7600,351.5300) .. controls
	        (303.2600,355.0500) and (301.4900,351.0300) .. (299.4300,350.2900) .. controls
	        (296.4200,349.2000) and (293.6500,352.9600) .. (291.4700,351.0700) .. controls
	        (286.5400,346.7900) and (289.7600,344.4600) .. (293.4300,341.3100) .. controls
	        (298.2300,337.1900) and (293.9400,336.2800) .. (290.9100,334.0000) .. controls
	        (287.0800,331.1200) and (298.7800,325.9900) .. (297.9100,333.5700) .. controls
	        (300.8100,334.2500) and (321.7100,331.2100) .. (320.9500,336.5100) .. controls
	        (323.0600,336.6900) and (328.3700,334.4200) .. (328.6400,337.3800) .. controls
	        (330.4400,337.6200) and (332.3900,336.8200) .. (334.1400,337.5100) .. controls
	        (335.7500,338.1500) and (335.2600,341.1700) .. (336.9000,340.4300) .. controls
	        (338.4800,339.7100) and (337.3600,336.5800) .. (339.0100,335.6600) .. controls
	        (339.8600,335.1900) and (341.5100,336.2800) .. (342.7000,335.8200) .. controls
	        (344.2400,335.2100) and (343.8300,333.0400) .. (344.0900,331.7800) .. controls
	        (344.6000,329.3700) and (347.0900,330.0900) .. (348.8400,329.8100) .. controls
	        (351.0700,329.4500) and (350.4800,327.0100) .. (351.7400,325.7400) .. controls
	        (353.5900,323.8900) and (356.8400,325.6900) .. (359.0600,324.7400) .. controls
	        (364.3500,322.4700) and (368.9000,319.9200) .. (374.6900,319.0600) .. controls
	        (378.3300,318.5200) and (388.4500,317.2700) .. (388.6900,323.0700) .. controls
	        (388.9000,328.1800) and (390.6600,329.6200) .. (394.9400,332.2000) .. controls
	        (396.8400,333.3400) and (398.1400,334.7400) .. (398.6700,336.9200) .. controls
	        (399.1300,338.8100) and (399.8100,341.6300) .. (402.3900,341.1300) .. controls
	        (402.4600,343.0000) and (402.3800,345.6400) .. (404.4500,346.5200) .. controls
	        (406.3200,347.3100) and (409.6800,345.5600) .. (411.0500,346.6400) .. controls
	        (416.1400,350.6500) and (410.6800,358.6100) .. (411.9400,364.0000) .. controls
	        (416.2200,363.2600) and (414.8200,371.4300) .. (415.3700,374.1100) .. controls
	        (417.8200,374.2700) and (418.7700,377.0700) .. (419.8200,378.8400) .. controls
	        (422.0500,382.5800) and (425.8600,381.2100) .. (429.5000,381.6100) .. controls
	        (428.5900,384.7500) and (427.7500,387.3600) .. (427.6500,390.6600) .. controls
	        (427.5500,394.1200) and (423.4900,393.9300) .. (421.4600,395.7800) .. controls
	        (415.7200,400.9800) and (414.5800,406.8100) .. (415.0000,414.5400) .. controls
	        (415.4000,421.8300) and (417.8800,427.9400) .. (421.5200,434.1700) .. controls
	        (424.5500,439.3500) and (426.5300,444.1700) .. (426.6600,450.2300) .. controls
	        (426.8100,457.2700) and (427.3100,465.1200) .. (425.4700,471.9800) .. controls
	        (423.3400,479.9100) and (416.8500,486.3700) .. (411.2600,492.0800) .. controls
	        (400.8500,502.7100) and (389.0900,512.0900) .. (379.0800,523.0700) .. controls
	        (368.7300,534.4300) and (362.5900,549.7200) .. (356.1600,563.5100) .. controls
	        (352.8500,570.6000) and (351.1200,578.0300) .. (349.0500,585.5400) .. controls
	        (346.7900,593.7700) and (343.2000,601.4700) .. (338.9800,608.8700) .. controls
	        (330.8000,623.2200) and (319.6400,634.7400) .. (309.8500,647.8500) .. controls
	        (300.6500,660.1800) and (294.2200,671.7700) .. (278.1800,675.5300) .. controls
	        (258.7400,680.0800) and (234.4500,681.5800) .. (221.5700,663.6200) .. controls
	        (214.7300,654.0700) and (210.0000,643.1700) .. (205.9500,632.2100) .. controls
	        (201.8100,621.0100) and (197.7200,609.5400) .. (194.7100,597.9900) .. controls
	        (191.4400,585.4800) and (191.1800,573.1400) .. (195.1500,560.7600) .. controls
	        (199.2800,547.8900) and (205.1000,535.6500) .. (209.9100,523.0300) .. controls
	        (212.0500,517.4200) and (214.2300,511.6600) .. (214.8500,505.6500) .. controls
	        (215.3700,500.5700) and (211.3200,493.3000) .. (213.9700,488.8100) .. controls
	        (215.1200,486.8500) and (217.3900,485.9600) .. (218.8200,484.2400) .. controls
	        (220.1100,482.6900) and (220.9800,480.8600) .. (221.8700,479.0700) .. controls
	        (223.7000,475.3700) and (225.9100,472.0400) .. (230.4400,471.7900) .. controls
	        (231.1000,469.0100) and (234.1000,468.8200) .. (237.0200,468.6200);
	
	      %%% Orissa
	      \path[draw=c231F20,fill=cFFFFD0] (602.8700,468.6000) .. controls
	        (604.7700,475.1800) and (602.1000,483.7500) .. (601.5500,490.4700) .. controls
	        (600.8200,499.3900) and (599.9500,508.3300) .. (598.1200,517.1000) .. controls
	        (594.6800,533.5800) and (588.3300,549.8600) .. (580.8900,564.9300) .. controls
	        (573.9400,579.0200) and (565.6400,592.5800) .. (554.2300,603.5400) .. controls
	        (543.7300,613.6300) and (531.2900,621.5700) .. (518.1400,627.7600) .. controls
	        (502.9900,634.8900) and (487.4500,638.1000) .. (470.7300,638.5200) .. controls
	        (462.6800,638.7200) and (454.6400,638.4800) .. (446.5900,638.3200) .. controls
	        (438.3400,638.1600) and (431.7000,637.9800) .. (424.4500,642.3600) .. controls
	        (418.3000,646.0700) and (412.7500,650.2200) .. (406.1200,653.0900) .. controls
	        (397.7400,656.7100) and (389.0900,659.6800) .. (380.6800,663.2700) .. controls
	        (364.4800,670.1800) and (347.5000,675.3800) .. (331.0200,681.6000) .. controls
	        (319.0100,686.1300) and (306.6000,690.1000) .. (293.6900,690.7600) .. controls
	        (280.5200,691.4300) and (269.0900,688.0200) .. (258.0300,680.9500) .. controls
	        (250.0000,675.8200) and (254.2600,661.5500) .. (263.7600,661.7000) .. controls
	        (266.8300,661.7400) and (270.6800,657.0200) .. (272.5300,654.7400) .. controls
	        (275.3000,651.3100) and (275.1800,646.7300) .. (275.5700,642.5600) .. controls
	        (278.0700,642.1400) and (279.1200,640.4100) .. (280.9900,639.0000) .. controls
	        (282.0600,638.1900) and (282.2900,637.5500) .. (283.6700,637.1800) .. controls
	        (284.9700,636.8400) and (286.4700,637.9600) .. (287.7100,637.3200) .. controls
	        (291.8000,635.2100) and (291.9200,629.0400) .. (295.0700,626.0400) .. controls
	        (296.7400,626.0100) and (298.3500,625.7600) .. (299.9700,625.5100) .. controls
	        (300.4900,621.3800) and (299.7400,620.3400) .. (296.3600,618.3400) .. controls
	        (298.5000,617.7200) and (301.0000,617.9700) .. (303.1900,617.5800) .. controls
	        (303.4700,614.0400) and (307.0200,615.5500) .. (308.9300,613.7100) .. controls
	        (310.8100,611.9000) and (310.7800,607.7900) .. (310.6800,605.4000) .. controls
	        (311.8500,605.6500) and (313.4600,605.2100) .. (314.5600,605.2400) .. controls
	        (315.2000,598.3700) and (312.5700,592.1000) .. (312.4900,585.3700) .. controls
	        (312.4600,582.7100) and (313.6700,579.1800) .. (312.3400,576.6800) .. controls
	        (311.2600,574.6500) and (308.9000,574.3000) .. (308.3800,571.7800) .. controls
	        (307.4000,571.9400) and (306.0200,571.3700) .. (305.0300,571.5300) .. controls
	        (304.8800,566.5900) and (309.6100,561.5900) .. (308.1900,556.7400) .. controls
	        (307.2600,553.5800) and (302.5500,555.6600) .. (302.3800,551.5800) .. controls
	        (301.0300,551.7500) and (299.4500,552.0800) .. (298.0200,551.8100) .. controls
	        (295.4300,547.2300) and (299.0700,543.6200) .. (299.3400,538.9800) .. controls
	        (301.6500,538.9000) and (305.9500,538.0400) .. (305.3100,541.4900) .. controls
	        (311.4200,542.0300) and (317.3400,540.9500) .. (322.1600,544.5900) .. controls
	        (322.2600,547.2600) and (320.4300,554.1500) .. (324.9600,553.0200) .. controls
	        (324.2000,547.8100) and (333.2500,549.4300) .. (336.0800,550.4500) .. controls
	        (336.1500,552.3800) and (336.0100,554.3800) .. (336.0800,556.3100) .. controls
	        (338.9400,556.8900) and (339.9900,554.8700) .. (341.5200,553.4300) .. controls
	        (341.7800,550.8800) and (342.7200,547.3200) .. (341.0500,545.0100) .. controls
	        (340.8700,544.7600) and (334.0500,545.0400) .. (333.1100,544.8600) .. controls
	        (330.8100,544.4100) and (326.3600,544.2000) .. (326.1000,541.2500) .. controls
	        (325.8600,538.6100) and (326.5000,535.8300) .. (327.0000,533.2600) .. controls
	        (327.9900,528.1500) and (330.3700,522.9200) .. (327.2500,518.2400) .. controls
	        (326.3800,516.9300) and (324.6000,517.8500) .. (324.3200,515.8400) .. controls
	        (324.0700,514.0100) and (324.3000,511.9600) .. (324.2400,510.1200) .. controls
	        (324.0400,504.2600) and (324.1300,498.3800) .. (324.6500,492.5400) .. controls
	        (325.5300,492.4000) and (326.7100,492.6500) .. (327.5000,493.1200) .. controls
	        (327.5700,495.1400) and (329.0500,497.8700) .. (331.4900,497.1800) .. controls
	        (332.9800,496.7600) and (334.1100,493.7500) .. (334.7500,492.5400) .. controls
	        (337.1600,487.9700) and (338.6300,483.5500) .. (339.0900,478.3800) .. controls
	        (344.7500,478.1700) and (350.3500,479.3700) .. (356.0000,479.1900) .. controls
	        (357.8800,479.1300) and (361.3100,478.4800) .. (362.7700,480.0300) .. controls
	        (364.5300,481.9000) and (366.1000,481.5700) .. (368.5000,481.4900) .. controls
	        (368.7800,479.5000) and (369.9900,477.9600) .. (370.6400,476.1100) .. controls
	        (371.2300,474.4000) and (370.4000,472.2000) .. (371.3600,470.6100) .. controls
	        (373.0800,467.7600) and (378.2500,469.3900) .. (380.8800,469.2900) .. controls
	        (381.4000,466.7900) and (378.5700,465.7800) .. (378.4100,463.3200) .. controls
	        (378.2500,460.8200) and (378.8100,456.9100) .. (380.1400,454.7500) .. controls
	        (381.1600,453.0900) and (384.1000,452.6400) .. (384.2800,451.2700) .. controls
	        (384.4900,449.6900) and (383.5200,447.8000) .. (385.4600,447.3700) .. controls
	        (386.1800,442.9500) and (388.6600,441.9100) .. (392.2500,439.6800) .. controls
	        (390.7200,436.3200) and (386.7000,434.2400) .. (388.9800,430.1100) .. controls
	        (390.1000,428.0800) and (391.7600,429.6600) .. (391.8500,426.5000) .. controls
	        (391.9100,424.4000) and (395.2400,422.4800) .. (396.7700,421.4600) .. controls
	        (400.0400,419.2900) and (404.6300,415.1800) .. (408.3800,414.2100) .. controls
	        (414.6100,412.6100) and (414.4500,410.7500) .. (414.1800,404.6900) .. controls
	        (413.9200,404.5200) and (413.4300,404.2800) .. (413.3100,404.1900) .. controls
	        (415.2400,404.0800) and (417.3800,403.8400) .. (418.9200,405.2700) .. controls
	        (420.6100,406.8300) and (420.5400,409.1600) .. (421.9700,410.7900) .. controls
	        (425.1500,414.4300) and (434.0700,415.6900) .. (438.0600,413.4700) .. controls
	        (439.9400,412.4200) and (441.6500,410.9900) .. (443.8500,410.6500) .. controls
	        (447.5800,410.0900) and (451.3400,411.4400) .. (455.0800,410.7900) .. controls
	        (457.8800,410.3000) and (460.7600,409.9600) .. (463.4100,408.8800) .. controls
	        (465.8800,407.8700) and (467.9900,405.3300) .. (470.9300,406.1400) .. controls
	        (471.1400,411.7800) and (471.0200,417.8900) .. (470.4700,423.5000) .. controls
	        (470.1900,423.5500) and (469.9100,423.6000) .. (469.6300,423.6500) .. controls
	        (469.4200,426.1300) and (466.9100,425.9000) .. (465.9700,427.8800) .. controls
	        (470.2400,428.2000) and (473.9300,431.8800) .. (478.3000,431.2400) .. controls
	        (481.6400,430.7500) and (482.9200,426.9500) .. (485.7500,425.5100) .. controls
	        (489.2100,423.7500) and (493.8400,425.3100) .. (497.1600,426.7200) .. controls
	        (500.4300,428.1100) and (504.1900,431.6700) .. (507.7200,428.1200) .. controls
	        (510.8500,429.3200) and (509.1800,431.7900) .. (507.5300,433.4600) .. controls
	        (509.9900,434.0800) and (511.5400,434.8800) .. (514.4000,434.6500) .. controls
	        (515.7400,432.0500) and (514.4900,427.4900) .. (519.1100,427.7700) .. controls
	        (519.8500,424.3600) and (517.0600,422.4300) .. (517.4800,419.3700) .. controls
	        (522.3700,417.6600) and (516.2700,408.3800) .. (515.2700,405.7800) .. controls
	        (518.2300,405.6400) and (524.0300,403.3900) .. (523.8000,407.8500) .. controls
	        (527.6000,408.1900) and (532.8000,406.7900) .. (535.6200,410.0900) .. controls
	        (536.9900,411.6900) and (541.0300,415.9900) .. (540.6100,418.3100) .. controls
	        (541.3000,418.3500) and (542.3200,418.2000) .. (542.9900,417.8500) .. controls
	        (544.3000,411.0900) and (554.6700,416.9400) .. (553.5700,422.6400) .. controls
	        (554.9700,422.5500) and (556.1000,423.1200) .. (557.4200,423.4000) .. controls
	        (558.8700,430.1900) and (564.6200,426.4000) .. (568.3400,430.1800) .. controls
	        (571.3600,433.2400) and (567.8600,436.8800) .. (569.8800,440.0800) .. controls
	        (570.9200,441.7400) and (574.2600,444.0700) .. (574.3000,440.4800) .. controls
	        (577.4900,439.7800) and (577.2900,440.0600) .. (578.8400,436.4700) .. controls
	        (582.2600,436.3200) and (582.5200,439.8500) .. (583.0200,442.3600) .. controls
	        (583.8200,446.3500) and (588.2100,445.5300) .. (590.7800,447.7700) .. controls
	        (594.5200,451.0300) and (597.0900,450.8900) .. (596.6300,456.7700) .. controls
	        (596.2600,462.0700) and (601.5400,464.0000) .. (602.8700,468.6000);
	
	      %%% Gujarat
	      \path[draw=c231F20,fill=cFFFFD0] (-140.6500,276.9000) .. controls
	        (-139.2500,274.6900) and (-136.3900,276.1600) .. (-133.5500,276.4100) ..
	        controls (-133.4700,278.7000) and (-134.7100,280.8700) .. (-134.2900,282.9700)
	        .. controls (-132.6800,283.1200) and (-131.0000,282.7600) ..
	        (-129.7100,283.8900) .. controls (-132.8200,285.7400) and (-136.2800,286.4900)
	        .. (-136.9000,290.6300) .. controls (-137.4500,294.3200) and
	        (-135.5200,297.9500) .. (-131.4200,297.8400) .. controls (-132.5900,301.9000)
	        and (-130.0400,304.7300) .. (-127.0600,300.8700) .. controls
	        (-123.6300,296.4400) and (-119.5700,301.8500) .. (-120.9100,306.0400) ..
	        controls (-121.9300,309.2300) and (-129.3500,312.9300) .. (-127.6000,316.6700)
	        .. controls (-126.6100,318.7800) and (-123.8200,317.8700) ..
	        (-122.3900,319.5700) .. controls (-120.6900,321.5900) and (-122.3700,324.5800)
	        .. (-120.4900,326.6700) .. controls (-110.5200,321.8200) and
	        (-117.8700,333.2600) .. (-114.3800,336.7200) .. controls (-112.5600,338.5300)
	        and (-108.4800,336.9200) .. (-106.1300,337.8300) .. controls
	        (-103.7100,338.7600) and (-104.1500,342.8300) .. (-100.7700,342.4000) ..
	        controls (-100.7400,342.5900) and (-100.7000,342.7700) .. (-100.6700,342.9600)
	        .. controls (-98.5500,343.1700) and (-94.8800,342.4800) .. (-93.2200,344.1600)
	        .. controls (-90.8500,346.5700) and (-92.1000,348.0200) .. (-92.5600,350.6500)
	        .. controls (-93.2100,354.4100) and (-87.5900,351.8700) .. (-85.9800,352.3100)
	        .. controls (-82.6700,353.2200) and (-84.1700,358.9800) .. (-84.4000,361.2400)
	        .. controls (-84.6700,363.8900) and (-84.5700,367.6100) .. (-81.3900,368.4200)
	        .. controls (-78.5300,369.1400) and (-76.3100,368.0600) .. (-76.5000,372.0100)
	        .. controls (-76.6600,375.3800) and (-78.6900,377.8800) .. (-80.9600,380.2300)
	        .. controls (-83.9500,383.3200) and (-85.2900,382.5700) .. (-89.6300,382.7700)
	        .. controls (-90.3000,384.5000) and (-91.1800,386.2700) .. (-92.6600,387.4600)
	        .. controls (-95.2800,389.5600) and (-97.9500,387.6500) ..
	        (-100.8400,388.1500) .. controls (-102.5300,396.4900) and (-88.4000,389.9200)
	        .. (-89.4900,398.7000) .. controls (-90.3100,398.7300) and
	        (-106.7700,398.7600) .. (-103.0600,403.4700) .. controls (-101.0600,406.0100)
	        and (-100.1700,408.3100) .. (-98.5700,411.0600) .. controls
	        (-97.6900,412.5800) and (-100.4700,415.6900) .. (-100.2500,418.0700) ..
	        controls (-99.7600,423.4200) and (-93.3400,426.1300) .. (-89.7400,429.2200) ..
	        controls (-82.9800,435.0100) and (-83.9100,441.1400) .. (-81.2500,448.8400) ..
	        controls (-78.7900,455.9700) and (-75.8200,463.0000) .. (-73.1500,470.0600) ..
	        controls (-70.4200,477.2600) and (-66.5500,484.4900) .. (-66.5500,492.3800) ..
	        controls (-66.5600,506.9500) and (-78.8900,510.8900) .. (-90.1400,515.7200) ..
	        controls (-105.8700,522.4800) and (-121.0600,529.5900) .. (-138.0800,532.5900)
	        .. controls (-146.2400,534.0200) and (-154.7200,534.9200) ..
	        (-163.0000,534.2000) .. controls (-171.4500,533.4700) and (-179.5800,530.9600)
	        .. (-187.8000,529.0400) .. controls (-195.7700,527.1700) and
	        (-203.6300,526.8900) .. (-211.7400,526.1100) .. controls (-220.5200,525.2500)
	        and (-229.1900,523.6000) .. (-237.7700,521.6100) .. controls
	        (-254.2400,517.7900) and (-270.6200,513.6400) .. (-287.1000,509.8400) ..
	        controls (-301.8200,506.4400) and (-318.7100,502.9600) .. (-330.4000,492.7900)
	        .. controls (-340.8200,483.7200) and (-347.6800,471.2700) ..
	        (-356.4900,460.7700) .. controls (-361.0500,455.3400) and (-365.8000,449.9500)
	        .. (-369.1100,443.6300) .. controls (-372.9800,436.2500) and
	        (-374.5300,427.5800) .. (-376.2400,419.5000) .. controls (-379.8400,402.5600)
	        and (-382.9600,385.5200) .. (-386.6100,368.6000) .. controls
	        (-390.2300,351.8100) and (-396.6100,335.5600) .. (-399.2800,318.6000) ..
	        controls (-401.7600,302.8600) and (-407.1800,288.1000) .. (-397.6700,273.6000)
	        .. controls (-383.5700,252.1200) and (-352.0300,243.9400) ..
	        (-327.9400,241.2300) .. controls (-317.4200,240.0400) and (-306.5300,240.0200)
	        .. (-296.1600,242.3800) .. controls (-286.1500,244.6600) and
	        (-277.1900,249.8100) .. (-267.4200,252.7800) .. controls (-262.5700,254.2500)
	        and (-257.8200,254.5000) .. (-252.8500,255.1700) .. controls
	        (-247.1700,255.9300) and (-243.6000,257.0300) .. (-238.2000,254.5300) ..
	        controls (-236.4600,253.7200) and (-229.6200,251.6000) .. (-227.8100,253.2900)
	        .. controls (-226.8100,254.2200) and (-227.6900,256.5800) ..
	        (-227.0800,257.8500) .. controls (-226.1500,259.7800) and (-224.0900,259.8900)
	        .. (-222.2500,259.3300) .. controls (-222.1900,258.3800) and
	        (-222.1300,257.3800) .. (-222.0700,256.4300) .. controls (-218.9400,256.5700)
	        and (-215.3800,255.0100) .. (-212.4100,256.4900) .. controls
	        (-209.9200,257.7300) and (-208.2600,258.1800) .. (-205.4200,257.9300) ..
	        controls (-202.9800,257.7200) and (-200.6100,257.8600) .. (-199.6700,260.4400)
	        .. controls (-199.0900,262.0300) and (-198.5200,264.6400) ..
	        (-196.2300,264.0300) .. controls (-196.2900,262.4200) and (-195.1200,259.2900)
	        .. (-193.1000,259.8700) .. controls (-193.0300,261.1500) and
	        (-192.1200,262.0100) .. (-190.8100,261.8300) .. controls (-190.1600,259.0800)
	        and (-186.2900,257.1400) .. (-183.6500,257.4500) .. controls
	        (-183.5500,259.7300) and (-183.7700,261.9300) .. (-181.4800,263.2200) ..
	        controls (-179.1700,264.5200) and (-174.8500,262.2000) .. (-173.1400,264.6500)
	        .. controls (-172.0100,266.2700) and (-172.7600,268.0700) ..
	        (-170.7800,269.6700) .. controls (-168.6100,271.4300) and (-168.0500,272.6900)
	        .. (-167.9400,275.4600) .. controls (-165.4100,274.6900) and
	        (-165.1900,272.8100) .. (-163.8000,270.9800) .. controls (-161.6700,270.4300)
	        and (-158.8000,275.2100) .. (-156.3300,275.8400) .. controls
	        (-156.2600,277.5700) and (-156.3400,279.1500) .. (-156.0200,280.7800) ..
	        controls (-152.8300,281.0000) and (-145.7100,279.4500) .. (-145.0200,283.3900)
	        .. controls (-141.2600,284.6400) and (-141.8300,278.7600) ..
	        (-140.6500,276.9000);
	
	      %%% Maharashtra
	      \path[draw=c231F20,fill=cFFFFD0] (-172.6500,509.6800) .. controls
	        (-170.5200,509.3500) and (-167.9500,509.5600) .. (-166.3600,511.1900) ..
	        controls (-164.8000,512.7700) and (-164.8000,515.5900) .. (-162.7600,516.7800)
	        .. controls (-160.9500,517.8400) and (-158.1600,515.4100) ..
	        (-156.4100,515.0000) .. controls (-154.8000,514.6100) and (-152.9500,515.5000)
	        .. (-151.4400,514.9000) .. controls (-150.9400,514.7000) and
	        (-150.2200,513.1100) .. (-149.9300,513.1100) .. controls (-148.6500,513.0600)
	        and (-147.3000,513.1600) .. (-146.0200,513.1100) .. controls
	        (-145.8300,510.9800) and (-146.5800,506.7800) .. (-144.2900,505.5200) ..
	        controls (-142.0000,504.2700) and (-143.5400,500.8100) .. (-142.9200,498.8800)
	        .. controls (-142.2100,496.6300) and (-138.5600,488.4100) ..
	        (-143.5100,487.8600) .. controls (-142.8700,486.6300) and (-142.1600,485.3100)
	        .. (-141.8100,483.9300) .. controls (-139.4300,483.6900) and
	        (-139.5300,485.5900) .. (-138.2900,486.9800) .. controls (-136.6100,488.8500)
	        and (-134.2100,488.3200) .. (-131.9800,488.5300) .. controls
	        (-131.9300,489.8100) and (-132.0300,491.1500) .. (-131.9800,492.4400) ..
	        controls (-129.7700,492.3100) and (-129.3600,493.1700) .. (-128.0600,494.6500)
	        .. controls (-127.0000,490.9000) and (-120.2900,494.5100) ..
	        (-120.0400,489.9200) .. controls (-119.9800,488.7900) and (-121.6800,487.8500)
	        .. (-121.4400,486.5500) .. controls (-121.2300,485.4200) and
	        (-115.8200,485.5900) .. (-114.8100,485.2000) .. controls (-113.9900,478.5200)
	        and (-115.4000,473.9000) .. (-120.3400,469.5500) .. controls
	        (-122.8900,467.3100) and (-123.2400,465.8000) .. (-126.9900,465.6600) ..
	        controls (-127.4400,465.6400) and (-129.8200,465.6000) .. (-130.2300,465.1100)
	        .. controls (-130.3900,464.9100) and (-130.7700,463.1900) ..
	        (-130.5600,463.1800) .. controls (-128.1600,463.0900) and (-125.6700,463.9000)
	        .. (-123.3100,463.2500) .. controls (-121.8700,462.8600) and
	        (-120.6100,461.8400) .. (-119.0500,461.4200) .. controls (-116.6100,460.7700)
	        and (-118.0700,457.7900) .. (-117.1100,456.2500) .. controls
	        (-115.4600,453.5900) and (-110.8700,454.5400) .. (-108.3200,453.9700) ..
	        controls (-108.2600,453.0200) and (-108.2000,452.0200) .. (-108.1400,451.0800)
	        .. controls (-106.3800,451.0100) and (-104.6000,451.4400) ..
	        (-103.1300,450.1800) .. controls (-102.4600,449.6000) and (-101.9100,448.2000)
	        .. (-101.0200,447.9300) .. controls (-99.2200,447.3900) and
	        (-97.0800,448.5100) .. (-95.2300,448.4400) .. controls (-93.2900,448.3700) and
	        (-91.7200,446.9600) .. (-89.7800,447.1900) .. controls (-93.6200,443.7300) and
	        (-102.1700,439.4000) .. (-106.9900,443.7300) .. controls (-113.9500,449.9800)
	        and (-111.4100,439.5200) .. (-115.5600,439.7700) .. controls
	        (-115.7700,438.2700) and (-114.0000,435.8900) .. (-112.8800,435.4900) ..
	        controls (-112.7400,434.1200) and (-112.7000,432.6400) .. (-112.7700,431.2700)
	        .. controls (-114.4400,430.6600) and (-116.7800,430.7000) ..
	        (-115.9300,428.1800) .. controls (-114.3100,428.1100) and (-112.5400,428.8000)
	        .. (-110.9500,428.2600) .. controls (-108.8300,427.5400) and
	        (-108.9100,424.7700) .. (-106.4200,424.2800) .. controls (-105.3300,424.2000)
	        and (-104.2400,424.1500) .. (-103.1400,424.1200) .. controls
	        (-101.6500,423.9200) and (-100.6300,422.6900) .. (-99.1600,422.4600) ..
	        controls (-97.1400,422.1400) and (-95.1000,423.8000) .. (-93.2900,424.4400) ..
	        controls (-88.0300,426.3000) and (-88.8600,419.9100) .. (-84.9300,420.2100) ..
	        controls (-84.7200,420.2300) and (-78.8000,425.3800) .. (-78.8400,425.1200) ..
	        controls (-78.0600,430.1400) and (-78.9200,435.2400) .. (-74.8600,439.2200) ..
	        controls (-71.1400,442.8600) and (-64.5400,439.1400) .. (-60.0000,439.6100) ..
	        controls (-54.0800,440.2200) and (-52.2900,441.9200) .. (-49.8900,446.9400) ..
	        controls (-47.7500,451.4000) and (-46.4300,453.9500) .. (-41.2400,453.7200) ..
	        controls (-38.9100,453.6200) and (-37.1100,455.3400) .. (-34.7000,454.7800) ..
	        controls (-31.9700,454.1500) and (-30.3100,453.6400) .. (-27.6400,454.9000) ..
	        controls (-22.5400,457.3100) and (-15.5200,454.8800) .. (-9.9800,454.9900) ..
	        controls (-7.2800,455.0400) and (-5.5000,454.5600) .. (-4.1300,457.1400) ..
	        controls (-3.4200,458.4800) and (-0.5700,458.2900) .. (0.7800,458.9500) ..
	        controls (3.5700,460.3100) and (4.1400,468.6900) .. (3.1200,471.2400) ..
	        controls (2.9300,471.2700) and (2.7400,471.3100) .. (2.5500,471.3400) ..
	        controls (2.6200,474.7100) and (9.4200,473.6200) .. (11.4100,473.5500) ..
	        controls (13.1900,473.4800) and (14.9500,474.0400) .. (16.7300,473.9000) ..
	        controls (19.0900,473.7200) and (17.9700,470.8400) .. (18.0000,469.4000) ..
	        controls (19.9700,469.3300) and (22.0200,470.0300) .. (23.9700,469.5000) ..
	        controls (25.6200,469.0500) and (26.4600,467.0900) .. (28.3400,467.2200) ..
	        controls (29.1200,464.6100) and (27.9300,463.8600) .. (25.6000,463.2200) ..
	        controls (26.8500,461.2400) and (28.2200,458.5400) .. (30.9100,458.6100) ..
	        controls (31.1400,456.9600) and (32.2600,456.7700) .. (33.5700,456.2300) ..
	        controls (35.8600,455.2800) and (35.7000,452.4700) .. (35.2300,450.4800) ..
	        controls (37.5700,450.2900) and (38.5500,449.3200) .. (38.3500,446.8800) ..
	        controls (42.2700,446.6800) and (44.4500,444.6000) .. (48.0800,443.8400) ..
	        controls (49.8100,443.4800) and (54.7700,442.7100) .. (54.4800,445.8000) ..
	        controls (55.5800,444.7300) and (58.1500,445.3900) .. (59.7300,445.3200) ..
	        controls (62.1700,441.1600) and (64.7300,439.1100) .. (70.0400,440.1400) ..
	        controls (75.4400,441.1900) and (76.0900,449.1300) .. (79.0000,452.8100) ..
	        controls (77.9100,453.0600) and (76.8300,453.7200) .. (76.3000,454.5400) ..
	        controls (76.1700,454.0000) and (75.6300,453.0800) .. (75.7000,452.2500) ..
	        controls (74.0300,453.4700) and (70.7600,452.2700) .. (68.6800,452.3400) ..
	        controls (69.4800,454.6500) and (70.4000,460.9500) .. (73.0500,461.3800) ..
	        controls (72.9600,460.0000) and (75.0600,455.9100) .. (76.6400,458.4900) ..
	        controls (78.4900,461.5200) and (79.2600,460.0500) .. (82.2100,460.7700) ..
	        controls (90.2200,462.7100) and (96.2100,458.2500) .. (103.9400,458.1900) ..
	        controls (104.5200,454.5500) and (107.8000,450.8800) .. (111.7100,452.8100) ..
	        controls (113.1600,453.5300) and (114.9000,454.8800) .. (116.5900,453.8900) ..
	        controls (117.9900,453.0600) and (117.7000,450.4500) .. (119.8800,450.9900) ..
	        controls (119.9400,452.7300) and (119.3800,454.5500) .. (119.9400,456.2600) ..
	        controls (120.9200,459.2900) and (123.7300,456.6600) .. (124.5700,455.1300) ..
	        controls (127.7700,454.4200) and (130.2000,458.6700) .. (132.7800,459.8200) ..
	        controls (137.1400,461.7700) and (142.3000,458.9800) .. (146.8100,459.2700) ..
	        controls (147.0100,456.9600) and (146.4700,454.9600) .. (146.7300,452.6900) ..
	        controls (149.8700,452.5600) and (153.5000,454.4000) .. (156.9000,454.6000) ..
	        controls (156.5900,453.9400) and (156.9400,453.2900) .. (156.7900,452.6200) ..
	        controls (157.7700,452.3200) and (158.9700,452.1400) .. (160.0500,452.2700) ..
	        controls (160.5000,450.8600) and (161.1500,445.6600) .. (164.0300,447.8900) ..
	        controls (166.4900,449.8000) and (165.7300,452.3800) .. (169.7400,452.4400) ..
	        controls (172.4900,452.4700) and (175.1400,452.7300) .. (175.2500,456.0500) ..
	        controls (175.3400,458.9100) and (181.9000,457.0400) .. (183.3000,456.8000) ..
	        controls (187.5600,456.0800) and (189.9800,456.9800) .. (193.7100,458.9100) ..
	        controls (196.4100,460.3100) and (199.9700,460.0800) .. (202.9100,459.9300) ..
	        controls (206.3800,459.7500) and (207.7600,459.2000) .. (210.1100,456.7300) ..
	        controls (210.6200,456.1900) and (212.1500,454.9500) .. (212.9200,455.9900) ..
	        controls (214.1600,457.6500) and (214.7400,457.4000) .. (216.8900,457.5200) ..
	        controls (217.4300,459.2900) and (220.5400,458.8600) .. (221.5500,461.4100) ..
	        controls (223.2800,465.7500) and (226.5900,469.8300) .. (231.3600,470.5400) ..
	        controls (234.6800,471.0300) and (239.6200,471.2200) .. (237.8300,476.2200) ..
	        controls (237.1400,478.1500) and (235.4200,478.8100) .. (233.5500,479.1500) ..
	        controls (231.7000,479.4800) and (230.2500,482.2700) .. (228.4000,481.7600) ..
	        controls (228.7600,479.7100) and (227.0800,479.4700) .. (225.4400,479.7800) ..
	        controls (225.5400,481.2600) and (226.1700,482.6200) .. (226.2800,484.0900) ..
	        controls (226.4400,486.2500) and (225.7600,488.4600) .. (226.5800,490.5600) ..
	        controls (227.5000,492.9400) and (230.5700,492.3200) .. (231.9800,494.3100) ..
	        controls (236.1900,500.2900) and (228.8200,505.8700) .. (228.9700,511.8300) ..
	        controls (230.6100,512.2800) and (232.4400,510.4900) .. (234.5900,510.7400) ..
	        controls (234.6300,513.0400) and (233.9900,515.2700) .. (233.8000,517.5500) ..
	        controls (233.6000,520.0000) and (234.2300,522.4700) .. (233.0300,524.7600) ..
	        controls (232.3900,525.9800) and (225.5400,530.0100) .. (225.2000,527.8700) ..
	        controls (225.4700,529.6000) and (223.5800,530.0800) .. (223.0200,531.4500) ..
	        controls (222.4500,532.8500) and (222.9200,534.6100) .. (222.9800,536.0600) ..
	        controls (224.0200,536.0500) and (224.9300,535.6300) .. (225.6200,534.8700) ..
	        controls (228.7700,536.9300) and (230.2700,537.1900) .. (230.1600,541.3000) ..
	        controls (230.0400,546.0800) and (229.3200,546.3500) .. (224.7100,546.5500) ..
	        controls (224.3100,548.4200) and (226.3600,549.7300) .. (225.7900,551.4600) ..
	        controls (225.1500,553.3800) and (222.8900,553.3500) .. (224.1500,555.8200) ..
	        controls (226.6300,554.8200) and (228.2000,552.0400) .. (231.1800,553.6600) ..
	        controls (233.4400,554.9000) and (232.6700,558.3800) .. (235.3200,559.2000) ..
	        controls (235.6300,563.3000) and (235.3900,565.2700) .. (239.5400,565.3100) ..
	        controls (239.5900,566.2000) and (239.9300,566.9900) .. (239.8900,567.8900) ..
	        controls (242.5100,568.1300) and (247.0000,567.9600) .. (248.1100,571.0600) ..
	        controls (248.8800,573.2000) and (245.4100,574.1200) .. (246.0400,576.3900) ..
	        controls (246.6500,576.4700) and (247.3200,577.0600) .. (247.6900,577.1500) ..
	        controls (246.6800,577.9800) and (245.4200,578.5300) .. (245.5100,580.0500) ..
	        controls (244.7700,580.6900) and (244.9700,580.4500) .. (244.4700,581.3600) ..
	        controls (243.2900,582.2100) and (242.2600,582.2000) .. (241.4000,583.2800) ..
	        controls (239.2500,583.5400) and (236.8400,583.0500) .. (234.7800,582.5000) ..
	        controls (232.5200,581.9000) and (232.1000,578.9900) .. (230.2600,577.8800) ..
	        controls (228.2600,576.6700) and (222.8800,585.3800) .. (219.3600,584.8200) ..
	        controls (219.2600,585.1000) and (219.2800,585.4200) .. (219.2400,585.7100) ..
	        controls (216.0400,586.4500) and (219.0900,591.6800) .. (216.2300,592.2200) ..
	        controls (213.4200,592.7400) and (214.4100,599.0900) .. (215.2700,600.7700) ..
	        controls (216.3200,602.8100) and (221.9600,605.1400) .. (217.3800,607.6800) ..
	        controls (214.8000,609.1100) and (211.2100,607.9700) .. (211.9600,612.2300) ..
	        controls (212.7700,612.5800) and (213.6600,613.1600) .. (214.2000,613.6800) ..
	        controls (211.0100,615.5000) and (207.2700,615.9100) .. (204.0400,617.8200) ..
	        controls (201.0300,619.6000) and (198.4300,621.9400) .. (195.0200,622.9700) ..
	        controls (191.9700,623.8900) and (188.8000,624.3300) .. (185.7100,625.0600) ..
	        controls (181.7200,626.0100) and (179.1800,629.1000) .. (176.1600,631.6300) ..
	        controls (163.2200,642.4700) and (151.0100,654.1400) .. (138.9200,665.9200) ..
	        controls (126.7900,677.7400) and (114.7800,689.6900) .. (102.2700,701.1000) ..
	        controls (90.0700,712.2300) and (77.0900,722.3300) .. (64.2400,732.6700) ..
	        controls (40.0000,752.2000) and (14.9500,773.5700) .. (-15.2400,783.2800) ..
	        controls (-43.5800,792.3900) and (-73.8000,793.5300) .. (-103.0500,798.0500)
	        .. controls (-128.7800,802.0300) and (-156.9200,805.8300) ..
	        (-181.7700,795.7500) .. controls (-208.7900,784.7900) and (-224.1300,758.5300)
	        .. (-228.7600,730.8100) .. controls (-233.6900,701.2600) and
	        (-229.2100,670.5700) .. (-225.5600,641.1300) .. controls (-223.4700,624.2500)
	        and (-220.8000,607.3600) .. (-216.0200,591.0100) .. controls
	        (-211.5300,575.6500) and (-203.5600,561.6700) .. (-198.8800,546.4100) ..
	        controls (-197.4000,541.5600) and (-196.3200,536.5800) .. (-195.9100,531.5100)
	        .. controls (-195.5600,527.2900) and (-196.3800,522.9600) ..
	        (-195.6100,518.7800) .. controls (-194.8500,514.6600) and (-191.4900,513.2200)
	        .. (-187.6800,512.5900) .. controls (-183.5700,511.9100) and
	        (-179.6800,513.9800) .. (-175.8300,513.3400) .. controls (-175.9000,510.9300)
	        and (-174.5300,509.9600) .. (-172.6500,509.6800);
	
	      %%% Goa
	      \path[draw=c231F20,fill=cFFFFD0] (-138.4900,807.2000) .. controls
	        (-134.9600,813.3400) and (-130.9100,825.3500) .. (-121.8700,824.2400) ..
	        controls (-109.5900,822.7200) and (-103.1900,808.4700) .. (-100.9400,797.9800)
	        .. controls (-99.8400,792.8500) and (-98.8300,787.2500) .. (-99.0400,781.9900)
	        .. controls (-99.2700,776.2100) and (-103.3900,773.5200) ..
	        (-107.9200,770.7100) .. controls (-109.9200,769.4700) and (-111.7300,768.0300)
	        .. (-113.6600,766.7000) .. controls (-116.6300,764.6500) and
	        (-120.2200,764.9100) .. (-123.6800,764.9500) .. controls (-125.8500,764.9800)
	        and (-127.5600,766.3000) .. (-129.6400,766.6100) .. controls
	        (-132.9400,767.0900) and (-136.9800,765.0300) .. (-140.3600,764.7300) ..
	        controls (-140.5300,760.1000) and (-143.8400,758.2900) .. (-144.9500,754.0200)
	        .. controls (-147.5000,753.8000) and (-149.3200,753.7300) ..
	        (-149.9600,756.4600) .. controls (-153.1600,756.5800) and (-156.3600,756.1900)
	        .. (-159.5700,756.3100) .. controls (-159.8800,756.3200) and
	        (-160.4200,760.5000) .. (-160.4700,760.8100) .. controls (-161.3200,765.7300)
	        and (-162.0500,770.8200) .. (-161.3900,775.8100) .. controls
	        (-160.5100,782.4800) and (-155.3900,785.7700) .. (-150.6500,789.8300) ..
	        controls (-145.2600,794.4500) and (-141.9600,801.1500) ..
	        (-138.4900,807.2000);
	
	      %%% Andhra_Pradesh
	      \path[draw=c231F20,fill=cFFFFD0] (63.0300,648.1200) .. controls
	        (58.5600,661.4200) and (44.5600,667.9600) .. (35.0200,677.1900) .. controls
	        (29.4600,682.5700) and (24.2500,688.3100) .. (18.4200,693.4100) .. controls
	        (12.6400,698.4600) and (4.4600,701.4000) .. (1.7100,709.0200) .. controls
	        (-1.0200,716.5900) and (-5.1400,720.9800) .. (-10.6000,726.7900) .. controls
	        (-16.1600,732.7100) and (-19.1100,739.0900) .. (-19.4800,747.2200) .. controls
	        (-20.2500,764.3300) and (-19.9200,781.4200) .. (-21.0700,798.5300) .. controls
	        (-21.8500,810.2100) and (-22.6200,822.2300) .. (-19.8600,833.7200) .. controls
	        (-16.9400,845.8900) and (-10.0700,856.6300) .. (-2.7300,866.6100) .. controls
	        (17.1100,893.5700) and (40.3100,918.3500) .. (57.3100,947.3100) .. controls
	        (64.4400,959.4600) and (69.4100,972.8800) .. (77.9800,984.1700) .. controls
	        (86.7300,995.7100) and (99.3300,1002.9200) .. (113.5600,1005.4400) .. controls
	        (127.6500,1007.9300) and (142.4400,1006.1300) .. (155.8500,1001.3300) ..
	        controls (170.3700,996.1300) and (181.9600,986.0500) .. (193.9900,976.7900) ..
	        controls (206.4000,967.2400) and (221.2200,961.1900) .. (233.2400,951.1900) ..
	        controls (244.4900,941.8300) and (253.5400,929.5300) .. (260.9100,917.0100) ..
	        controls (275.7900,891.7300) and (284.2600,863.4300) .. (293.7500,835.8800) ..
	        controls (298.3000,822.6700) and (303.1800,809.7900) .. (310.5000,797.8200) ..
	        controls (317.6900,786.0600) and (326.5200,775.3900) .. (336.0900,765.4700) ..
	        controls (355.0800,745.8000) and (376.7400,728.9200) .. (395.6400,709.1600) ..
	        controls (405.9400,698.3900) and (417.5300,688.9500) .. (428.0700,678.4200) ..
	        controls (439.8200,666.7000) and (449.2600,653.0900) .. (458.0300,639.0700) ..
	        controls (461.9100,632.8700) and (465.0300,626.3400) .. (468.5600,619.9700) ..
	        controls (470.6600,616.1900) and (474.6300,610.5500) .. (473.4800,605.9600) ..
	        controls (472.1100,600.4900) and (462.9100,601.2600) .. (458.8000,601.4600) ..
	        controls (456.0300,601.5900) and (453.0700,601.9700) .. (450.3100,601.6500) ..
	        controls (446.3100,601.1800) and (448.2300,598.7400) .. (447.8200,596.0600) ..
	        controls (445.1900,595.8500) and (444.2400,596.2700) .. (442.1900,597.5900) ..
	        controls (441.8700,598.8600) and (442.8300,599.5800) .. (444.0400,599.6300) ..
	        controls (444.6900,602.6800) and (437.6100,601.4700) .. (435.6200,603.3700) ..
	        controls (435.0800,604.1800) and (434.3900,604.8300) .. (433.5600,605.3300) ..
	        controls (432.8100,605.6500) and (431.4900,604.6700) .. (430.9200,605.5600) ..
	        controls (430.5600,606.1100) and (433.0200,609.4000) .. (433.4200,609.9300) ..
	        controls (429.2600,610.0900) and (430.0500,614.1900) .. (426.3300,614.5500) ..
	        controls (426.4400,615.0900) and (426.0800,615.9000) .. (426.1900,616.4400) ..
	        controls (423.2100,616.5500) and (419.7400,617.2700) .. (416.8700,616.1700) ..
	        controls (413.5200,614.8900) and (412.0700,613.4500) .. (408.2300,613.3500) ..
	        controls (406.3600,613.3000) and (402.9800,614.2700) .. (402.6000,611.4900) ..
	        controls (402.0800,607.7100) and (399.6900,605.5800) .. (398.4200,602.1300) ..
	        controls (397.3900,601.8700) and (396.6700,602.2900) .. (396.3800,603.3000) ..
	        controls (393.4400,603.9800) and (391.0600,597.9300) .. (391.2200,595.6000) ..
	        controls (390.8200,595.2300) and (390.1800,594.9300) .. (389.6700,594.8800) ..
	        controls (389.5000,596.7900) and (389.7600,603.8600) .. (386.1200,600.7200) ..
	        controls (385.6000,601.3300) and (385.1300,602.3700) .. (384.8000,603.0400) ..
	        controls (384.1400,601.6300) and (383.9300,599.9600) .. (382.8000,599.0400) ..
	        controls (381.9700,600.8900) and (381.1400,604.4900) .. (381.2200,606.6200) ..
	        controls (378.3300,604.9400) and (377.7800,601.0100) .. (373.8500,604.2000) ..
	        controls (371.5900,606.0300) and (377.0000,607.1300) .. (377.2500,608.8300) ..
	        controls (377.6400,608.8500) and (378.1100,608.9800) .. (378.4900,608.9600) ..
	        controls (376.6500,609.0600) and (375.0400,613.4600) .. (373.2700,614.2800) ..
	        controls (371.5100,615.0900) and (369.5000,615.4700) .. (367.6000,615.7700) ..
	        controls (365.8100,616.0500) and (364.0400,615.1800) .. (362.3300,615.5600) ..
	        controls (361.0600,615.8500) and (363.3900,620.6500) .. (360.0900,621.1200) ..
	        controls (358.2500,621.3800) and (357.4200,622.4600) .. (357.2200,624.3300) ..
	        controls (356.9300,626.9800) and (359.9200,626.8500) .. (360.3100,629.1100) ..
	        controls (361.6900,629.1100) and (361.8800,630.2900) .. (361.4800,631.4800) ..
	        controls (358.8900,630.9400) and (358.4600,633.0800) .. (358.4700,635.0800) ..
	        controls (359.6900,635.3700) and (359.4800,635.3400) .. (359.6700,636.4500) ..
	        controls (356.9100,636.1400) and (355.8900,639.3700) .. (353.3800,639.4400) ..
	        controls (351.5400,639.4900) and (350.8100,637.7300) .. (349.9800,636.4400) ..
	        controls (348.8300,634.6500) and (347.0300,634.4500) .. (345.0800,634.5100) ..
	        controls (344.9600,635.7900) and (344.9900,637.1300) .. (344.8800,638.4100) ..
	        controls (341.7100,638.0500) and (335.1300,648.2800) .. (333.8400,641.9100) ..
	        controls (334.9600,641.2500) and (338.1000,639.0700) .. (335.6200,638.1600) ..
	        controls (334.6200,635.0900) and (332.5500,630.0300) .. (328.6000,628.9100) ..
	        controls (326.6200,631.8800) and (325.7000,633.2300) .. (322.0600,634.0000) ..
	        controls (321.8500,636.1800) and (322.9900,638.2900) .. (322.8200,640.5100) ..
	        controls (323.1200,640.5800) and (323.4200,640.6000) .. (323.7200,640.6300) ..
	        controls (323.9700,641.9600) and (323.1100,642.1200) .. (322.2000,642.6200) ..
	        controls (320.4200,643.5800) and (320.9000,646.1900) .. (320.9600,647.8100) ..
	        controls (321.7900,647.8400) and (322.3200,648.3300) .. (323.1900,648.3000) ..
	        controls (323.3400,648.8700) and (323.3200,649.9700) .. (323.1300,650.5300) ..
	        controls (321.1900,650.4200) and (321.8300,652.7800) .. (321.6900,654.1700) ..
	        controls (320.0700,654.3700) and (319.4000,653.6100) .. (318.3800,655.1400) ..
	        controls (317.4300,656.5600) and (318.0300,658.9700) .. (315.5900,658.7700) ..
	        controls (313.9100,658.6300) and (313.6400,656.9200) .. (313.1200,655.6900) ..
	        controls (312.3600,653.9000) and (309.6200,654.0100) .. (308.0100,653.8600) ..
	        controls (304.0100,653.4900) and (303.1800,658.1900) .. (299.5100,658.6700) ..
	        controls (295.7200,659.1700) and (293.4400,658.1200) .. (292.9900,662.7900) ..
	        controls (291.6100,663.1000) and (290.4000,663.8500) .. (288.9900,664.0700) ..
	        controls (287.5300,664.2900) and (286.0600,663.5600) .. (284.6200,664.0200) ..
	        controls (281.8400,664.9000) and (280.7800,665.5300) .. (277.5600,665.4500) ..
	        controls (274.1100,665.3600) and (270.2500,665.6300) .. (266.8800,666.3700) ..
	        controls (264.3200,666.9300) and (263.0200,664.2700) .. (260.5100,664.6200) ..
	        controls (255.3200,665.3300) and (250.9400,671.2700) .. (251.1700,662.4300) ..
	        controls (251.2500,659.4800) and (251.7700,656.1600) .. (249.6000,653.7900) ..
	        controls (247.4300,651.4100) and (250.6600,649.0600) .. (249.2400,647.3200) ..
	        controls (249.2200,647.2300) and (249.2000,647.1500) .. (249.1700,647.0600) ..
	        controls (247.5300,646.7500) and (247.0500,648.5000) .. (245.2300,647.8600) ..
	        controls (245.0900,646.6900) and (244.7800,645.4900) .. (244.8900,644.2800) ..
	        controls (242.0300,644.0300) and (239.8100,647.2600) .. (237.2500,645.9800) ..
	        controls (236.5000,643.5700) and (239.5600,642.2300) .. (238.3700,639.6600) ..
	        controls (237.0100,636.7100) and (236.5200,633.6700) .. (234.9100,630.8300) ..
	        controls (233.4400,628.2200) and (226.3500,615.9700) .. (222.8200,620.0800) ..
	        controls (221.2900,621.8500) and (217.6500,620.6100) .. (216.3900,619.0900) ..
	        controls (215.5600,618.0900) and (214.9700,616.9100) .. (213.9700,616.0500) ..
	        controls (212.4300,614.7500) and (211.2400,615.6200) .. (209.5100,615.2800) ..
	        controls (205.8800,614.5700) and (202.3200,613.7400) .. (199.4200,611.3200) ..
	        controls (198.2900,610.3800) and (194.8100,607.2100) .. (198.2900,606.9100) ..
	        controls (198.5200,604.6300) and (197.8100,597.6200) .. (195.4100,596.6700) ..
	        controls (191.4700,595.1300) and (193.3800,592.0400) .. (195.6800,589.7700) ..
	        controls (198.2300,587.2400) and (196.9000,583.0100) .. (197.9600,579.9100) ..
	        controls (198.5300,578.2200) and (199.2600,576.7800) .. (199.1900,574.9400) ..
	        controls (199.1200,573.2600) and (197.6200,572.2400) .. (197.5900,570.6100) ..
	        controls (194.3700,570.2400) and (190.8700,567.2100) .. (189.0700,564.6500) ..
	        controls (188.2000,563.4100) and (187.8000,563.1400) .. (186.3900,563.5700) ..
	        controls (183.8300,564.3700) and (181.9500,563.0600) .. (179.4500,563.1200) ..
	        controls (178.9800,564.5200) and (178.4900,566.5600) .. (176.6800,566.2800) ..
	        controls (176.8300,565.3100) and (175.9400,563.4900) .. (174.6500,564.3200) ..
	        controls (173.5600,565.0300) and (174.8400,566.6300) .. (174.2000,567.5200) ..
	        controls (172.2200,570.2800) and (169.2200,566.4200) .. (169.6000,564.1900) ..
	        controls (168.9400,564.3000) and (168.0200,563.9200) .. (167.3600,564.0300) ..
	        controls (167.5000,563.5000) and (167.1700,562.6500) .. (167.3200,562.1100) ..
	        controls (165.8900,561.9800) and (163.7700,562.4100) .. (162.5100,561.5500) ..
	        controls (162.0200,561.2200) and (161.6000,559.4000) .. (161.2800,559.3000) ..
	        controls (160.8200,559.1600) and (160.3100,559.1500) .. (159.8400,559.2700) ..
	        controls (159.5900,560.7100) and (159.6900,562.3400) .. (159.5500,563.8300) ..
	        controls (157.6400,564.5100) and (158.6500,566.8700) .. (159.8100,567.8400) ..
	        controls (156.4200,568.8000) and (155.4900,564.4300) .. (152.6800,564.7700) ..
	        controls (152.6500,565.0300) and (152.5400,565.3700) .. (152.4900,565.6700) ..
	        controls (149.4900,565.1000) and (146.3300,566.0600) .. (143.5400,565.4300) ..
	        controls (143.4800,563.7100) and (143.2400,561.2700) .. (144.9500,560.1700) ..
	        controls (146.1000,559.4300) and (147.0700,559.2900) .. (146.6600,557.6000) ..
	        controls (144.3700,557.1100) and (141.7800,557.8600) .. (139.3800,557.6400) ..
	        controls (139.2800,555.0300) and (139.5800,552.3400) .. (139.4800,549.7300) ..
	        controls (136.6000,549.4700) and (133.8300,549.8000) .. (131.0700,548.7700) ..
	        controls (127.5500,547.4600) and (124.3300,549.6000) .. (120.8400,548.8100) ..
	        controls (121.3500,546.3700) and (114.0900,543.9300) .. (112.5800,542.1100) ..
	        controls (112.1500,543.0500) and (111.2700,543.7700) .. (110.2300,544.0000) ..
	        controls (110.7100,547.0000) and (115.3000,548.5200) .. (112.6100,551.9000) ..
	        controls (111.8800,552.8200) and (110.3400,552.4500) .. (109.8100,553.4600) ..
	        controls (108.7900,555.3900) and (110.7800,554.8800) .. (110.9100,556.2800) ..
	        controls (111.1000,558.3200) and (110.9400,564.7200) .. (109.6100,566.2600) ..
	        controls (106.2600,570.1400) and (103.2400,569.4800) .. (98.5300,570.0400) ..
	        controls (98.5000,571.3100) and (99.5900,571.6100) .. (100.4800,572.1200) ..
	        controls (102.1900,573.0900) and (101.9700,575.1400) .. (103.3100,576.3800) ..
	        controls (103.1100,576.5700) and (102.4400,577.2200) .. (102.2500,577.3700) ..
	        controls (99.8700,577.5200) and (96.5300,576.7100) .. (95.0900,579.1900) ..
	        controls (96.5300,576.0800) and (92.1000,575.2200) .. (92.5800,572.2500) ..
	        controls (91.4100,571.9900) and (90.2600,572.1800) .. (89.0900,572.4700) ..
	        controls (89.7700,575.3100) and (87.3300,575.6500) .. (86.2600,577.7500) ..
	        controls (84.8800,580.4400) and (87.1500,583.5800) .. (83.4600,584.8500) ..
	        controls (76.4800,587.2600) and (86.2500,592.2900) .. (85.8700,595.9500) ..
	        controls (86.0800,595.9800) and (88.3800,596.2000) .. (88.3800,596.1700) ..
	        controls (88.4700,598.5800) and (87.4400,599.3100) .. (85.4300,600.1900) ..
	        controls (82.2900,601.5600) and (80.4600,604.6000) .. (78.8900,607.4900) ..
	        controls (78.3200,608.5300) and (77.4100,613.7300) .. (76.6300,613.9800) ..
	        controls (74.5400,614.6500) and (72.2100,612.8300) .. (70.1600,613.6600) ..
	        controls (70.6900,615.4200) and (69.5800,616.3600) .. (67.8500,616.0300) ..
	        controls (68.3800,617.1300) and (68.4100,618.5500) .. (67.1300,619.0100) ..
	        controls (66.8500,621.0300) and (67.9100,621.4000) .. (68.5600,623.0600) ..
	        controls (69.5200,625.5300) and (68.1200,628.0700) .. (67.2200,630.3100) ..
	        controls (66.1500,632.9800) and (65.1600,635.6900) .. (64.4200,638.4700) ..
	        controls (63.5500,641.5800) and (64.0900,644.9700) .. (63.0300,648.1200);
	
	      %%% Karnataka
	      \path[draw=c231F20,fill=cFFFFD0] (31.2700,768.0700) .. controls
	        (34.6000,757.5200) and (49.7900,764.7400) .. (57.2200,764.5200) .. controls
	        (57.7200,758.9400) and (55.1600,748.5100) .. (58.8500,743.6000) .. controls
	        (61.9400,743.4500) and (64.1700,744.0100) .. (64.1300,740.2200) .. controls
	        (63.2500,740.1400) and (62.3300,740.1600) .. (61.4500,740.0700) .. controls
	        (60.7400,737.9300) and (56.5500,738.1900) .. (54.8300,738.0500) .. controls
	        (50.9200,737.7200) and (47.6400,735.2200) .. (43.7400,734.8600) .. controls
	        (42.9000,729.9000) and (49.8000,732.4900) .. (52.5400,731.5300) .. controls
	        (53.0100,730.2200) and (54.4800,727.5100) .. (56.1600,727.6700) .. controls
	        (56.4200,726.7700) and (56.2700,725.5600) .. (57.2200,725.1900) .. controls
	        (57.6100,723.7000) and (56.8100,722.7400) .. (55.3500,722.6400) .. controls
	        (56.2300,720.6200) and (54.5500,718.5100) .. (55.0800,716.4500) .. controls
	        (56.0300,716.4100) and (57.0100,716.4900) .. (57.9600,716.4500) .. controls
	        (58.5200,713.7600) and (55.3900,711.8200) .. (57.1200,709.1800) .. controls
	        (59.0600,706.2200) and (59.0500,703.2900) .. (59.8900,699.9000) .. controls
	        (60.9400,695.6400) and (58.6800,697.2600) .. (56.0100,695.6700) .. controls
	        (53.0800,693.9300) and (56.3700,690.3300) .. (58.6200,690.6500) .. controls
	        (59.5000,684.4900) and (68.2900,678.4800) .. (73.7700,678.2700) .. controls
	        (74.6900,675.2900) and (69.5700,675.0100) .. (67.7900,674.9100) .. controls
	        (66.2000,674.8300) and (64.5600,675.0100) .. (62.9900,674.8000) .. controls
	        (60.8800,674.5200) and (60.2500,672.7200) .. (57.9100,672.6000) .. controls
	        (57.4400,669.7200) and (59.7800,669.6900) .. (61.9300,669.7000) .. controls
	        (62.2400,666.4000) and (62.2500,665.4100) .. (65.5700,665.2900) .. controls
	        (65.6900,663.8300) and (65.6200,662.3200) .. (65.7500,660.8600) .. controls
	        (67.8100,661.2900) and (72.3400,657.2300) .. (72.7900,655.2400) .. controls
	        (73.4700,652.2500) and (69.0000,645.7500) .. (73.8500,645.7100) .. controls
	        (73.9600,644.4300) and (74.0000,643.0700) .. (73.9500,641.7800) .. controls
	        (72.3000,641.6500) and (73.0400,637.8000) .. (73.1600,636.5000) .. controls
	        (73.7200,636.4900) and (74.2700,636.4800) .. (74.8300,636.4600) .. controls
	        (74.7700,636.4500) and (73.8900,633.0900) .. (73.9400,632.7600) .. controls
	        (73.9200,632.9100) and (66.9600,630.9800) .. (66.0300,632.3900) .. controls
	        (61.5100,639.2000) and (62.2000,627.0400) .. (62.0900,624.6800) .. controls
	        (57.2700,624.3000) and (58.4900,625.2800) .. (56.4400,628.7400) .. controls
	        (54.7300,631.6400) and (51.3900,632.3000) .. (49.7900,634.8500) .. controls
	        (46.8600,639.5400) and (38.9900,631.9400) .. (36.6900,639.1900) .. controls
	        (38.0700,639.5000) and (38.9200,640.4900) .. (38.9200,641.9000) .. controls
	        (38.9100,644.6500) and (38.8900,644.4200) .. (36.2800,644.5500) .. controls
	        (36.1900,645.6400) and (36.6200,647.2300) .. (36.2300,648.0900) .. controls
	        (36.2800,647.9700) and (34.6500,649.3400) .. (34.8200,649.2400) .. controls
	        (32.2600,650.7700) and (29.2700,651.1200) .. (26.6100,649.7300) .. controls
	        (26.6800,649.1300) and (26.5000,648.4100) .. (26.5800,647.8100) .. controls
	        (26.3500,647.8000) and (26.1300,647.7900) .. (25.9000,647.7900) .. controls
	        (25.7500,649.4600) and (24.6900,651.7500) .. (26.3300,653.0200) .. controls
	        (28.4300,654.6500) and (27.9600,655.9300) .. (25.3100,656.8900) .. controls
	        (22.1000,658.0500) and (21.9100,664.7300) .. (19.2700,658.3900) .. controls
	        (17.2000,658.5200) and (15.3900,657.2100) .. (13.3000,657.4400) .. controls
	        (10.7400,657.7200) and (10.4800,659.7000) .. (8.9800,661.3800) .. controls
	        (7.9400,662.5500) and (8.6900,665.4900) .. (6.9200,665.6700) .. controls
	        (4.9700,665.8700) and (3.3100,664.3000) .. (1.3500,664.4300) .. controls
	        (1.0000,665.6500) and (1.7700,666.5900) .. (2.0900,667.6900) .. controls
	        (2.5700,669.3600) and (1.3000,670.3600) .. (1.1200,671.9000) .. controls
	        (0.8700,674.0300) and (1.4800,677.5700) .. (3.9300,678.2800) .. controls
	        (3.9300,679.6200) and (2.5900,680.4000) .. (2.4000,681.6900) .. controls
	        (-0.8100,679.7700) and (-1.7100,678.3600) .. (-5.7400,678.3700) .. controls
	        (-6.0100,678.3700) and (-13.7400,675.6300) .. (-13.7600,675.5700) .. controls
	        (-13.6200,675.9200) and (-13.7500,676.6500) .. (-13.6300,676.9900) .. controls
	        (-15.7400,677.9200) and (-19.2700,676.9900) .. (-21.5800,676.7900) .. controls
	        (-22.3700,674.8400) and (-24.9900,670.4500) .. (-27.4600,670.9600) .. controls
	        (-28.2400,672.3100) and (-31.9400,671.5000) .. (-32.7900,670.5700) .. controls
	        (-34.6000,668.6100) and (-35.5100,666.4400) .. (-38.6600,666.9000) .. controls
	        (-38.9000,669.6300) and (-39.5500,672.1700) .. (-39.8300,674.8200) .. controls
	        (-40.1300,677.6400) and (-37.6100,679.7000) .. (-37.8900,682.6200) .. controls
	        (-39.9000,683.5900) and (-41.0100,685.3600) .. (-39.9100,687.5000) .. controls
	        (-38.6300,689.9900) and (-39.1500,691.1300) .. (-38.8900,693.9100) .. controls
	        (-38.7700,695.1900) and (-38.6200,699.0900) .. (-41.4400,697.3000) .. controls
	        (-43.6100,695.9200) and (-41.6700,694.4200) .. (-45.4000,694.5300) .. controls
	        (-45.4900,695.5700) and (-45.4800,696.6600) .. (-45.5300,697.7100) .. controls
	        (-50.5100,697.8900) and (-57.5000,695.6400) .. (-62.3000,697.3500) .. controls
	        (-62.0300,698.6700) and (-60.9700,700.6500) .. (-62.6700,701.4500) .. controls
	        (-64.2500,702.2000) and (-66.9500,702.4800) .. (-68.1200,700.9000) .. controls
	        (-71.1400,696.8000) and (-76.4500,696.3200) .. (-81.1500,696.6300) .. controls
	        (-79.8900,697.2400) and (-80.4700,700.2700) .. (-80.5800,701.5700) .. controls
	        (-81.1900,701.4900) and (-81.9100,701.6600) .. (-82.5200,701.5900) .. controls
	        (-82.7800,704.5300) and (-83.6600,707.2900) .. (-87.0600,707.4900) .. controls
	        (-88.7200,707.5800) and (-92.6400,708.1700) .. (-93.3700,710.0000) .. controls
	        (-97.2500,709.6200) and (-99.5100,712.5100) .. (-96.5000,715.1700) .. controls
	        (-98.7500,715.0900) and (-100.7700,716.2300) .. (-103.2500,716.0100) ..
	        controls (-103.3300,714.1600) and (-103.2400,712.3800) .. (-105.3700,711.7300)
	        .. controls (-106.8900,711.2700) and (-110.0800,711.1500) ..
	        (-111.0000,712.8500) .. controls (-112.2900,715.2500) and (-110.3800,715.0900)
	        .. (-113.8300,715.5200) .. controls (-116.0200,715.8000) and
	        (-116.0400,717.0700) .. (-116.2100,718.9300) .. controls (-118.5100,719.4000)
	        and (-118.8900,716.8000) .. (-121.1100,716.8800) .. controls
	        (-121.3700,720.1000) and (-114.7800,724.1200) .. (-116.8600,726.4700) ..
	        controls (-118.3400,728.1500) and (-119.4700,727.5300) .. (-118.7400,730.6800)
	        .. controls (-118.3800,732.2400) and (-116.6100,734.4500) ..
	        (-115.7100,731.8100) .. controls (-110.8300,730.9600) and (-109.2600,739.5100)
	        .. (-109.5400,742.6600) .. controls (-112.2200,742.7600) and
	        (-114.3500,742.4700) .. (-116.7800,743.5600) .. controls (-117.8600,747.2800)
	        and (-113.9500,746.1000) .. (-112.0100,747.4700) .. controls
	        (-109.2500,749.4200) and (-113.8900,754.1000) .. (-116.0600,754.3500) ..
	        controls (-116.1900,755.7200) and (-116.1200,757.1500) .. (-116.2400,758.5200)
	        .. controls (-118.5100,758.6000) and (-119.8200,757.1800) ..
	        (-121.9100,757.4500) .. controls (-121.8900,757.5900) and (-121.9300,757.9500)
	        .. (-121.9300,758.1200) .. controls (-120.9300,758.3900) and
	        (-120.4100,759.2000) .. (-120.3000,760.1800) .. controls (-123.6800,759.4400)
	        and (-132.5800,761.1200) .. (-131.3400,766.3100) .. controls
	        (-127.7200,766.6300) and (-126.8100,766.5000) .. (-124.3000,769.1900) ..
	        controls (-123.1500,770.4200) and (-120.0200,773.8000) .. (-122.9500,774.9200)
	        .. controls (-121.8400,776.6200) and (-123.8900,780.2000) ..
	        (-124.0500,782.1800) .. controls (-121.3400,782.9400) and (-119.5900,784.5900)
	        .. (-120.2700,787.6300) .. controls (-121.0700,787.4700) and
	        (-121.5500,787.7500) .. (-121.6900,788.4700) .. controls (-122.1500,789.7200)
	        and (-124.5800,789.6000) .. (-125.5700,789.6000) .. controls
	        (-125.9400,792.3900) and (-121.6600,791.0800) .. (-122.7900,794.2400) ..
	        controls (-122.9700,794.2700) and (-123.1600,794.3100) .. (-123.3500,794.3400)
	        .. controls (-123.5400,796.2700) and (-122.5500,800.0400) ..
	        (-124.5200,801.3100) .. controls (-126.4600,802.5600) and (-125.8800,803.4800)
	        .. (-126.0900,805.5200) .. controls (-128.1000,805.9200) and
	        (-129.0300,803.8200) .. (-130.9400,803.4500) .. controls (-130.7500,804.0200)
	        and (-130.9500,805.0900) .. (-130.7900,805.7300) .. controls
	        (-134.9600,805.8800) and (-138.5800,805.4400) .. (-142.4300,806.5200) ..
	        controls (-143.2100,815.2800) and (-134.2200,821.7500) .. (-133.0100,830.3900)
	        .. controls (-131.4600,841.5200) and (-132.4700,853.2100) ..
	        (-132.0000,864.4300) .. controls (-130.9500,889.6000) and (-126.4500,914.0800)
	        .. (-123.0400,938.9700) .. controls (-112.3600,936.1200) and
	        (-103.8800,947.2700) .. (-98.3100,954.6000) .. controls (-90.6200,964.7300)
	        and (-82.4900,973.5600) .. (-72.9600,982.0800) .. controls (-61.6000,992.2400)
	        and (-49.3400,1001.5800) .. (-35.8000,1008.6800) .. controls
	        (-21.7600,1016.0500) and (-5.7500,1020.7500) .. (9.7200,1024.0800) .. controls
	        (26.2700,1027.6400) and (39.7200,1023.1900) .. (54.9200,1016.9000) .. controls
	        (65.8900,1012.3700) and (77.1900,1007.6700) .. (85.6100,999.0100) .. controls
	        (95.0200,989.3400) and (95.4800,978.4300) .. (90.6500,966.3800) .. controls
	        (89.1600,962.6700) and (88.7500,959.4200) .. (88.8700,955.4400) .. controls
	        (88.9800,951.6700) and (87.9800,948.1800) .. (87.5100,944.4700) .. controls
	        (87.1000,941.2200) and (87.2800,937.1700) .. (90.2300,935.0900) .. controls
	        (91.4900,934.2000) and (95.2300,934.3500) .. (94.6100,932.1200) .. controls
	        (92.3100,932.2300) and (88.7700,928.7400) .. (92.7200,928.4800) .. controls
	        (96.1900,928.2500) and (96.6300,933.5800) .. (99.3100,933.5900) .. controls
	        (102.4800,933.6000) and (99.7000,927.1200) .. (99.8400,925.7200) .. controls
	        (100.1700,922.5500) and (102.2700,922.6600) .. (104.9100,922.5600) .. controls
	        (104.7900,921.3200) and (104.4300,918.5900) .. (106.2700,918.5900) .. controls
	        (106.5100,916.9100) and (108.4800,910.3100) .. (106.5100,909.2100) .. controls
	        (103.8500,907.7200) and (99.9600,908.8400) .. (97.0500,908.5900) .. controls
	        (96.8700,907.4700) and (96.5500,906.3900) .. (96.0900,905.3500) .. controls
	        (95.8600,903.7900) and (96.1600,901.8700) .. (96.2600,900.3200) .. controls
	        (96.3500,898.9000) and (97.5500,894.5300) .. (95.8600,893.5600) .. controls
	        (94.3900,892.7200) and (87.1800,892.7900) .. (87.0300,895.0600) .. controls
	        (86.6800,895.1500) and (86.1800,895.1500) .. (85.8300,895.0300) .. controls
	        (85.8100,893.3400) and (86.6700,891.7300) .. (86.4000,890.1100) .. controls
	        (85.7400,889.9100) and (85.1200,889.6300) .. (84.5400,889.2600) .. controls
	        (83.1700,888.6300) and (82.3200,889.7900) .. (80.9800,889.3900) .. controls
	        (79.1200,887.5600) and (81.1400,887.4200) .. (82.7000,887.4400) .. controls
	        (82.8400,885.1900) and (84.6100,878.7900) .. (81.9600,877.5200) .. controls
	        (80.4800,876.8100) and (76.0100,876.6000) .. (76.3800,879.2500) .. controls
	        (75.8200,879.3500) and (75.0000,879.3300) .. (74.4500,879.2000) .. controls
	        (74.3500,876.2000) and (76.4000,875.3700) .. (76.3100,872.3100) .. controls
	        (75.7600,872.1800) and (74.9300,872.1600) .. (74.3800,872.2600) .. controls
	        (74.3000,873.0500) and (74.3200,873.8900) .. (74.2400,874.6800) .. controls
	        (73.8100,874.7900) and (72.9800,874.7700) .. (72.5600,874.6400) .. controls
	        (72.6500,872.3700) and (67.8900,872.9700) .. (66.3100,873.0600) .. controls
	        (67.3000,873.8900) and (67.0100,875.2800) .. (66.9100,876.4900) .. controls
	        (65.0300,876.9600) and (64.2800,878.0500) .. (63.1000,879.4300) .. controls
	        (61.7600,880.9900) and (59.9300,880.7800) .. (58.0800,880.8500) .. controls
	        (58.1000,881.1200) and (57.9600,881.5000) .. (57.9800,881.7700) .. controls
	        (54.9900,881.8800) and (51.9900,881.6300) .. (49.0100,881.6100) .. controls
	        (48.9100,882.7200) and (49.1800,883.8700) .. (47.9300,884.2300) .. controls
	        (47.8400,884.0100) and (47.5600,882.7300) .. (47.9100,882.5800) .. controls
	        (44.4700,882.3800) and (45.4100,879.2300) .. (45.3100,876.5000) .. controls
	        (42.4700,876.2500) and (37.4700,876.5300) .. (35.1500,874.6700) .. controls
	        (33.5300,873.3700) and (32.6300,871.3600) .. (30.1800,871.8600) .. controls
	        (30.0800,873.0400) and (31.1600,879.4600) .. (29.6500,879.7800) .. controls
	        (27.2600,880.2900) and (24.5900,879.5600) .. (22.1900,879.3400) .. controls
	        (21.9000,877.5700) and (22.7300,875.3300) .. (23.3500,873.6900) .. controls
	        (27.2600,873.3100) and (27.0000,869.8600) .. (24.9300,867.4300) .. controls
	        (24.1200,866.4700) and (22.8500,866.4500) .. (22.0100,865.5900) .. controls
	        (20.7800,864.3500) and (22.1400,862.3000) .. (22.0900,860.8800) .. controls
	        (20.6900,860.3900) and (19.0300,858.9200) .. (17.4400,858.9300) .. controls
	        (17.4200,858.1300) and (17.4400,857.3000) .. (17.5000,856.5000) .. controls
	        (21.5200,856.5200) and (24.6700,858.9900) .. (25.8100,862.8100) .. controls
	        (26.8800,866.3800) and (31.0300,863.8300) .. (31.2500,868.8000) .. controls
	        (32.4900,869.2200) and (33.3500,868.6700) .. (33.5500,867.4400) .. controls
	        (37.7000,866.6500) and (40.9300,868.1300) .. (42.6700,871.9900) .. controls
	        (44.8300,876.7800) and (50.3600,870.2800) .. (45.4100,868.8000) .. controls
	        (42.3100,867.8700) and (41.6800,863.0100) .. (44.2100,860.5700) .. controls
	        (45.7700,859.0600) and (52.1700,861.6200) .. (51.3000,857.8700) .. controls
	        (49.7200,857.7400) and (48.6400,856.0000) .. (48.0500,854.7300) .. controls
	        (47.6800,853.9600) and (47.4600,853.1400) .. (47.4000,852.2800) .. controls
	        (47.0400,850.2900) and (45.8900,851.2000) .. (44.8000,850.1700) .. controls
	        (44.6700,851.3800) and (45.9100,855.8400) .. (45.5500,856.4400) .. controls
	        (44.8900,857.5500) and (42.0900,853.8600) .. (40.4200,853.7600) .. controls
	        (40.5000,852.3000) and (40.1900,850.8700) .. (40.2600,849.3800) .. controls
	        (40.0100,849.5300) and (39.8200,849.4600) .. (39.5300,849.5500) .. controls
	        (39.0300,851.7900) and (35.9100,850.7600) .. (34.4400,850.4700) .. controls
	        (30.6700,849.7400) and (30.5800,852.3300) .. (30.2400,855.2400) .. controls
	        (29.1900,855.2800) and (28.1100,855.2400) .. (27.0700,855.1600) .. controls
	        (26.6700,853.2900) and (23.6300,854.2500) .. (22.4000,854.2300) .. controls
	        (19.5400,854.1700) and (20.6900,850.5400) .. (20.6200,848.8100) .. controls
	        (18.5400,849.1700) and (18.5600,847.4600) .. (18.2500,845.9900) .. controls
	        (18.4700,845.9200) and (18.7000,845.9500) .. (18.9300,845.9300) .. controls
	        (19.3300,845.2600) and (19.3200,845.3500) .. (19.9600,844.9500) .. controls
	        (20.1000,843.5800) and (21.2100,842.8700) .. (22.5300,843.0200) .. controls
	        (23.1700,840.5800) and (21.3200,841.3700) .. (19.8400,841.4900) .. controls
	        (17.6600,841.6700) and (17.0000,839.7000) .. (15.1700,839.0700) .. controls
	        (15.3100,837.2500) and (14.4000,837.1700) .. (13.3000,836.1400) .. controls
	        (12.0600,834.9900) and (12.2300,832.7800) .. (12.4000,831.2800) .. controls
	        (12.4900,830.5300) and (13.8100,824.8500) .. (14.0400,824.8400) .. controls
	        (14.6200,824.8100) and (15.0700,824.4700) .. (15.7300,824.5600) .. controls
	        (16.0500,820.9600) and (16.7700,817.5000) .. (17.0100,813.9000) .. controls
	        (13.4400,813.5800) and (12.8700,812.6900) .. (13.1900,809.0400) .. controls
	        (14.3900,809.0200) and (14.6400,807.5400) .. (15.0400,806.6300) .. controls
	        (16.5500,808.3900) and (17.9000,811.7900) .. (20.7700,811.6000) .. controls
	        (22.8500,811.4600) and (24.7700,810.1100) .. (26.9400,810.8500) .. controls
	        (29.2200,811.6300) and (30.3400,813.1600) .. (32.1800,810.5400) .. controls
	        (33.7400,808.3100) and (36.9700,807.7200) .. (35.6100,804.1200) .. controls
	        (35.5200,803.8800) and (33.9800,803.5500) .. (33.6900,803.1100) .. controls
	        (32.8100,801.7400) and (33.2300,799.1900) .. (33.2600,797.6900) .. controls
	        (33.3100,794.4000) and (29.1500,791.8400) .. (27.0300,789.7400) .. controls
	        (25.0700,787.8100) and (29.3800,786.3400) .. (29.6300,783.7700) .. controls
	        (30.0000,779.9900) and (30.1100,778.6100) .. (34.0200,778.4600) .. controls
	        (34.2200,777.2300) and (33.7400,776.1900) .. (33.6200,775.0200) .. controls
	        (30.5400,774.2100) and (30.4100,770.7900) .. (31.2700,768.0700);
	
	      %%% Kerala
	      \path[draw=c231F20,fill=cFFFFD0] (-92.3600,930.5500) .. controls
	        (-90.8100,930.3200) and (-91.5800,933.2700) .. (-91.5500,933.9900) .. controls
	        (-89.8700,933.3200) and (-87.9800,935.8300) .. (-89.8600,936.6200) .. controls
	        (-89.7500,937.5900) and (-88.8800,938.6400) .. (-87.7200,938.3500) .. controls
	        (-87.0500,935.8900) and (-85.9600,935.5400) .. (-83.8700,936.9900) .. controls
	        (-81.0100,938.9700) and (-83.9600,939.2000) .. (-83.4500,941.2200) .. controls
	        (-82.4000,941.3100) and (-81.3000,941.2800) .. (-80.2500,941.3800) .. controls
	        (-80.2100,942.2700) and (-80.2900,943.2000) .. (-80.2300,944.0900) .. controls
	        (-79.9400,943.4700) and (-77.4000,941.2200) .. (-76.7300,941.2100) .. controls
	        (-76.6800,942.4500) and (-76.5600,944.1000) .. (-77.0200,945.1800) .. controls
	        (-74.8500,945.7400) and (-74.7500,947.1000) .. (-73.8300,948.9800) .. controls
	        (-73.4700,949.1100) and (-72.7700,949.1200) .. (-72.4100,949.0100) .. controls
	        (-72.0700,947.0800) and (-68.6000,947.3700) .. (-69.5900,949.2400) .. controls
	        (-70.2300,950.4400) and (-72.3500,951.0000) .. (-72.2100,952.5700) .. controls
	        (-72.0800,954.0000) and (-70.9700,954.4400) .. (-71.0400,956.1600) .. controls
	        (-71.1800,959.7600) and (-69.7500,959.1900) .. (-66.7000,959.8900) .. controls
	        (-64.1600,960.4700) and (-61.6400,965.4100) .. (-62.0100,967.8200) .. controls
	        (-59.2800,967.6300) and (-57.6000,970.5100) .. (-55.8000,972.0600) .. controls
	        (-53.8800,973.7200) and (-48.7000,972.4000) .. (-48.2800,975.0900) .. controls
	        (-47.7300,978.6300) and (-47.0300,980.1300) .. (-43.3000,981.3500) .. controls
	        (-41.8600,981.8200) and (-40.4000,982.0800) .. (-38.8700,981.9800) .. controls
	        (-36.9500,981.8600) and (-34.3700,980.2100) .. (-32.5100,980.6800) .. controls
	        (-32.4400,982.3900) and (-32.6300,984.1500) .. (-32.5700,985.8700) .. controls
	        (-30.9500,985.5000) and (-28.1600,985.2500) .. (-27.0000,986.7700) .. controls
	        (-26.5300,987.3800) and (-26.1100,989.9500) .. (-25.2200,990.0600) .. controls
	        (-25.1900,989.9200) and (-25.1600,989.7800) .. (-25.1300,989.6400) .. controls
	        (-22.9600,989.1400) and (-21.9900,992.7100) .. (-20.1000,993.3000) .. controls
	        (-18.2000,993.8900) and (-15.0200,992.8300) .. (-14.2700,995.3900) .. controls
	        (-12.5200,1001.4100) and (-5.4500,1006.6700) .. (0.6600,1008.3500) .. controls
	        (8.2000,1010.4300) and (13.6500,1014.8800) .. (19.9300,1019.4600) .. controls
	        (26.4500,1024.2200) and (32.5200,1029.4800) .. (38.4100,1034.9800) .. controls
	        (43.1600,1039.4100) and (47.7400,1044.2000) .. (50.8500,1049.9500) .. controls
	        (54.7600,1057.1700) and (55.5400,1065.8500) .. (56.4700,1073.8700) .. controls
	        (58.4500,1091.0200) and (58.0300,1108.8500) .. (51.9400,1125.1800) .. controls
	        (49.2900,1132.2700) and (46.0400,1139.1700) .. (44.2200,1146.5400) .. controls
	        (42.2300,1154.5600) and (42.7500,1162.6300) .. (39.7600,1170.4800) .. controls
	        (37.0700,1177.5200) and (33.0300,1183.9800) .. (28.6200,1190.0700) .. controls
	        (24.8200,1195.3200) and (21.8600,1201.5000) .. (16.6500,1205.5800) .. controls
	        (6.5300,1213.5300) and (-8.6200,1204.2000) .. (-17.6100,1198.6000) .. controls
	        (-29.0500,1191.4700) and (-37.7200,1181.6200) .. (-44.5000,1170.0500) ..
	        controls (-54.8600,1152.3500) and (-61.2900,1132.4300) .. (-68.7000,1113.4000)
	        .. controls (-78.6100,1087.9400) and (-89.2400,1062.5700) ..
	        (-98.2200,1036.7800) .. controls (-106.3100,1013.5200) and
	        (-106.8100,988.5900) .. (-112.7900,964.8300) .. controls (-114.2800,958.9200)
	        and (-116.5500,953.7800) .. (-119.0700,948.2700) .. controls
	        (-120.0300,946.1800) and (-123.7300,939.3300) .. (-121.3600,937.2700) ..
	        controls (-118.5200,934.8200) and (-112.2200,932.9800) .. (-108.6300,932.2400)
	        .. controls (-105.8000,931.6600) and (-102.7600,931.3000) ..
	        (-99.8700,931.5700) .. controls (-98.6600,931.7300) and (-97.4500,931.8300) ..
	        (-96.2200,931.8600) .. controls (-94.4300,931.8800) and (-93.9300,930.7900) ..
	        (-92.3600,930.5500);
	
	      %%% Tamil_Nadu
	      \path[draw=c231F20,fill=cFFFFD0] (236.3400,931.1500) .. controls
	        (241.6000,946.8400) and (248.0400,964.1000) .. (240.9100,980.3000) .. controls
	        (235.6300,992.2900) and (224.0700,999.8700) .. (217.9800,1011.3700) ..
	        controls (209.5200,1027.3400) and (202.5300,1044.0500) .. (193.9500,1059.9700)
	        .. controls (185.5300,1075.5700) and (177.5200,1091.5200) ..
	        (168.4600,1106.7500) .. controls (164.4700,1113.4600) and (160.5500,1119.9700)
	        .. (155.8700,1126.2200) .. controls (150.8700,1132.8900) and
	        (149.5600,1139.7700) .. (148.4000,1147.8300) .. controls (147.4600,1154.4000)
	        and (145.8700,1161.0400) .. (140.4600,1165.3900) .. controls
	        (135.2600,1169.5700) and (128.6700,1171.5400) .. (122.8400,1174.6400) ..
	        controls (109.7900,1181.5900) and (99.3800,1194.3400) .. (87.9300,1203.5700)
	        .. controls (82.3900,1208.0300) and (76.3300,1213.0600) .. (69.6900,1215.8000)
	        .. controls (62.7700,1218.6600) and (54.9200,1218.8100) .. (47.5400,1218.6400)
	        .. controls (35.6100,1218.3700) and (21.0700,1218.0500) .. (11.4100,1210.0400)
	        .. controls (6.6300,1206.0800) and (4.9800,1199.2800) .. (8.7600,1193.9700) ..
	        controls (10.3300,1191.7600) and (17.5200,1190.9500) .. (17.8700,1189.4100) ..
	        controls (18.2100,1189.4500) and (18.7600,1189.4000) .. (19.1000,1189.3300) ..
	        controls (19.2700,1187.5000) and (19.1800,1185.5900) .. (19.3500,1183.7600) ..
	        controls (19.7100,1183.8100) and (20.2300,1183.6400) .. (20.5900,1183.6900) ..
	        controls (20.7100,1182.5100) and (20.6700,1181.2800) .. (20.7900,1180.1000) ..
	        controls (25.7800,1182.2300) and (24.1800,1177.8200) .. (23.5000,1174.5200) ..
	        controls (23.3200,1174.4800) and (23.1300,1174.4400) .. (22.9500,1174.3900) ..
	        controls (22.9300,1171.7700) and (20.1000,1170.0200) .. (20.3800,1167.3900) ..
	        controls (20.5700,1165.6100) and (22.9400,1162.8800) .. (24.8100,1162.7600) ..
	        controls (25.5800,1161.0000) and (25.4700,1158.7900) .. (25.2700,1156.9300) ..
	        controls (23.1300,1156.5300) and (20.9300,1152.5400) .. (20.5800,1150.6200) ..
	        controls (20.1200,1148.1600) and (23.3300,1148.4700) .. (24.5500,1146.2500) ..
	        controls (26.0700,1143.4800) and (25.5900,1133.2300) .. (29.9300,1134.1700) ..
	        controls (29.8300,1132.3500) and (31.2300,1126.3500) .. (32.8000,1125.2900) ..
	        controls (35.9200,1123.1900) and (31.7300,1121.2400) .. (31.9900,1118.3700) ..
	        controls (30.1100,1117.5500) and (29.3700,1119.1500) .. (28.5800,1120.4500) ..
	        controls (25.6900,1120.9300) and (24.2600,1117.4500) .. (21.6400,1116.9700) ..
	        controls (25.1400,1116.8300) and (22.3000,1108.8200) .. (26.2400,1107.7000) ..
	        controls (26.0400,1106.6100) and (25.9100,1105.2800) .. (25.9800,1104.1200) ..
	        controls (25.8000,1104.0800) and (25.6100,1104.0400) .. (25.4300,1103.9900) ..
	        controls (24.6600,1100.2400) and (33.7900,1093.5100) .. (25.7300,1092.3100) ..
	        controls (25.8700,1090.9600) and (25.0500,1090.0500) .. (25.1500,1088.7300) ..
	        controls (30.1400,1089.2700) and (29.7400,1078.0200) .. (26.6800,1076.3400) ..
	        controls (24.5800,1075.1800) and (20.6000,1075.7100) .. (19.1100,1077.5600) ..
	        controls (17.2100,1079.9200) and (13.3800,1079.2400) .. (13.4600,1082.9800) ..
	        controls (12.9000,1083.3200) and (12.2100,1083.4300) .. (11.5600,1083.2700) ..
	        controls (11.3300,1080.4800) and (8.9300,1080.9300) .. (7.1000,1079.7700) ..
	        controls (5.3500,1078.6500) and (5.2700,1075.4100) .. (4.9700,1073.6100) ..
	        controls (4.4600,1070.4800) and (4.6000,1068.0500) .. (5.5200,1064.9700) ..
	        controls (6.2500,1062.5100) and (5.2200,1058.3400) .. (7.7600,1056.7800) ..
	        controls (8.0600,1053.7400) and (8.6700,1049.7500) .. (6.6600,1047.1200) ..
	        controls (5.4300,1045.5200) and (-1.0700,1042.0100) .. (-3.1500,1042.1300) ..
	        controls (-2.5100,1040.3000) and (-3.2400,1037.7500) .. (-2.3100,1035.9200) ..
	        controls (-1.5100,1036.0000) and (-0.5400,1035.7800) .. (0.2600,1035.8800) ..
	        controls (0.4000,1032.8700) and (1.6800,1028.0500) .. (-1.7700,1026.3400) ..
	        controls (-5.7800,1024.3500) and (-11.4600,1025.9500) .. (-15.7400,1025.8300)
	        .. controls (-15.4600,1025.8200) and (-15.1700,1025.8200) ..
	        (-14.8900,1025.8000) .. controls (-14.5900,1024.1700) and (-10.8700,1018.8400)
	        .. (-9.3300,1018.2600) .. controls (-9.2900,1016.4500) and
	        (-11.0600,1016.3300) .. (-12.3500,1015.9200) .. controls (-13.8900,1015.4200)
	        and (-14.3500,1013.8700) .. (-15.5900,1013.0200) .. controls
	        (-17.1000,1011.9800) and (-18.8500,1012.5700) .. (-20.2500,1011.2900) ..
	        controls (-21.7700,1009.9000) and (-23.8600,1010.3300) .. (-25.7700,1010.1600)
	        .. controls (-25.8700,1007.3200) and (-25.8500,1004.2200) ..
	        (-25.2000,1001.5900) .. controls (-23.0500,1002.2000) and (-22.1400,1004.1300)
	        .. (-19.3300,1003.6500) .. controls (-18.9500,999.6400) and
	        (-14.6600,1002.2400) .. (-14.3900,997.8700) .. controls (-12.6300,997.8000)
	        and (-9.5900,996.9200) .. (-8.0400,998.0700) .. controls (-7.3600,998.5700)
	        and (-7.0100,1003.3100) .. (-7.1700,1003.3000) .. controls (-5.6300,1003.4500)
	        and (-4.3200,1002.2700) .. (-2.8200,1002.1300) .. controls (-0.8200,1001.9400)
	        and (1.2800,1002.2100) .. (3.2700,1002.4500) .. controls (8.1200,1003.0300)
	        and (8.0600,1002.1900) .. (9.1500,997.9500) .. controls (10.0500,994.4400) and
	        (12.5400,992.5700) .. (16.0300,991.9700) .. controls (17.5300,991.7100) and
	        (19.6300,991.4300) .. (20.8200,992.6500) .. controls (21.6900,993.5400) and
	        (22.4600,995.7600) .. (24.0900,995.4200) .. controls (24.2800,994.5400) and
	        (24.6600,993.7900) .. (24.6000,992.8600) .. controls (27.9300,991.8000) and
	        (30.4400,992.6100) .. (33.6600,993.3100) .. controls (36.1200,993.8500) and
	        (40.1600,995.8500) .. (42.5200,995.5600) .. controls (42.6800,992.8700) and
	        (43.1300,989.6000) .. (45.1100,987.5800) .. controls (47.9200,984.7300) and
	        (52.2700,985.6800) .. (55.8400,985.5500) .. controls (55.9800,984.0900) and
	        (55.6600,982.1800) .. (57.2100,981.3300) .. controls (58.1300,980.8300) and
	        (58.9900,980.4700) .. (59.2900,979.3700) .. controls (59.8200,977.4300) and
	        (59.9800,974.9000) .. (59.4500,972.9400) .. controls (58.1600,968.1900) and
	        (47.2200,971.5700) .. (44.3100,968.1700) .. controls (46.3300,967.0200) and
	        (50.0000,964.8100) .. (51.5200,963.1100) .. controls (53.6000,960.7900) and
	        (53.0600,957.0100) .. (52.9600,954.1700) .. controls (52.5100,954.2400) and
	        (51.8200,953.9500) .. (51.3700,954.0300) .. controls (52.3800,951.4600) and
	        (51.7100,947.8900) .. (51.9500,945.1300) .. controls (54.6400,945.0300) and
	        (60.6400,946.0200) .. (62.1300,942.9200) .. controls (63.2800,940.5400) and
	        (63.4500,937.6700) .. (64.0500,935.1300) .. controls (64.6900,932.4400) and
	        (71.1900,934.4100) .. (72.4200,936.0200) .. controls (75.8500,940.5000) and
	        (76.0200,933.6300) .. (79.2200,935.1700) .. controls (80.7500,935.9100) and
	        (81.2500,937.8000) .. (82.9600,938.5600) .. controls (84.4100,939.2000) and
	        (86.0100,939.4700) .. (87.4600,940.0600) .. controls (88.5000,940.4800) and
	        (88.1900,942.4500) .. (88.5200,943.2500) .. controls (89.2700,945.0700) and
	        (92.5900,946.6100) .. (94.2200,947.4800) .. controls (98.0900,949.5600) and
	        (101.0700,945.7700) .. (103.7000,943.4200) .. controls (105.5600,941.7500) and
	        (107.1700,936.2000) .. (110.0300,936.5100) .. controls (110.2400,934.1600) and
	        (110.3400,931.6200) .. (110.2100,929.2700) .. controls (110.0300,929.2300) and
	        (109.8400,929.1900) .. (109.6600,929.1400) .. controls (109.4400,927.9400) and
	        (109.8700,926.7400) .. (110.0900,925.5900) .. controls (115.4200,922.9600) and
	        (123.3600,921.4000) .. (129.2500,922.8300) .. controls (132.1300,923.5300) and
	        (132.8500,926.9900) .. (135.8100,927.4300) .. controls (137.6300,927.7000) and
	        (141.2700,927.3800) .. (140.9300,924.7200) .. controls (141.5900,924.8600) and
	        (142.5200,924.5300) .. (143.1800,924.6800) .. controls (143.8700,917.7800) and
	        (146.7900,926.1100) .. (148.4300,922.4000) .. controls (149.4800,920.0100) and
	        (150.1300,919.2300) .. (152.6000,918.5800) .. controls (155.2100,917.8900) and
	        (152.5700,914.2000) .. (155.2100,912.7400) .. controls (149.9000,910.8900) and
	        (154.6300,909.5500) .. (157.7200,909.8900) .. controls (161.8000,910.3400) and
	        (162.4800,911.6800) .. (162.6200,915.5100) .. controls (163.2700,915.3700) and
	        (164.3000,914.9800) .. (164.8900,914.5500) .. controls (165.3900,909.3300) and
	        (169.9900,914.1400) .. (169.6100,917.3600) .. controls (171.0400,917.9500) and
	        (172.6600,917.8500) .. (174.1900,917.8100) .. controls (173.9500,912.1500) and
	        (177.4300,913.4800) .. (181.6800,913.3200) .. controls (182.2800,911.5300) and
	        (180.3200,911.1300) .. (180.8800,909.4000) .. controls (184.4400,907.5900) and
	        (182.9300,902.6600) .. (187.6300,903.1200) .. controls (187.7900,901.4000) and
	        (187.7100,899.6100) .. (187.8700,897.8900) .. controls (189.0600,897.6800) and
	        (190.0700,897.8600) .. (190.5300,898.8500) .. controls (190.7900,898.8800) and
	        (191.1800,898.8600) .. (191.4200,898.9800) .. controls (191.5600,899.8700) and
	        (191.9100,900.6500) .. (191.8000,901.5700) .. controls (193.8000,902.2100) and
	        (194.6900,900.7100) .. (195.2100,899.0600) .. controls (199.9000,900.7200) and
	        (204.0200,903.4900) .. (208.8200,904.9400) .. controls (212.9400,906.1800) and
	        (217.1700,907.2100) .. (221.0400,909.1500) .. controls (229.4800,913.4000) and
	        (233.5100,922.6800) .. (236.3400,931.1500);
	
	      %%% Uttar Pradesh
	      \path[draw=c231F20,fill=cFFFFD0] (188.2200,3.5700) .. controls
	        (174.8100,-6.6400) and (159.6500,-14.3200) .. (145.7100,-23.7500) .. controls
	        (132.5000,-32.6900) and (118.9700,-42.8700) .. (103.4800,-47.4900) .. controls
	        (90.4500,-51.3700) and (76.1400,-50.3400) .. (65.6200,-41.0600) .. controls
	        (53.9800,-30.7900) and (48.7600,-15.4600) .. (41.6600,-2.1400) .. controls
	        (36.0900,8.3300) and (28.6200,17.8500) .. (24.6200,29.1300) .. controls
	        (20.3500,41.1500) and (26.0800,49.3800) .. (35.1600,57.2000) .. controls
	        (44.9800,65.6600) and (56.0500,72.9000) .. (66.2400,80.9100) .. controls
	        (71.7500,85.2400) and (77.5600,86.5600) .. (80.3100,93.5700) .. controls
	        (81.4800,96.5500) and (83.3000,98.1400) .. (85.3700,100.4600) .. controls
	        (87.8500,103.2400) and (86.8900,103.8600) .. (84.8600,105.9400) .. controls
	        (79.5200,111.4000) and (86.8400,120.9100) .. (86.9600,126.5200) .. controls
	        (87.0400,130.4200) and (91.1700,130.1500) .. (93.8400,131.2800) .. controls
	        (94.9100,131.7300) and (96.3800,131.7800) .. (97.1700,132.7700) .. controls
	        (98.6900,134.6600) and (94.7100,134.6900) .. (94.7000,134.9100) .. controls
	        (94.4800,138.5100) and (100.6500,135.2600) .. (98.9300,140.3700) .. controls
	        (97.4600,140.7000) and (97.0600,141.8100) .. (97.3400,143.3400) .. controls
	        (93.5400,142.3900) and (93.6300,145.4400) .. (93.8500,148.2600) .. controls
	        (97.1100,148.5500) and (102.4000,147.8300) .. (103.1600,152.0000) .. controls
	        (100.8700,151.8800) and (97.2200,151.5100) .. (97.0600,154.3600) .. controls
	        (94.9600,154.4400) and (92.7800,154.2600) .. (90.6900,154.3600) .. controls
	        (90.6200,154.6400) and (90.5600,154.9100) .. (90.5000,155.1900) .. controls
	        (85.5300,155.5200) and (83.1700,164.4300) .. (87.7700,164.1400) .. controls
	        (87.2900,156.7800) and (95.2100,159.6500) .. (100.4500,159.4600) .. controls
	        (100.3700,158.2400) and (100.7800,156.8200) .. (100.7000,155.6100) .. controls
	        (104.0200,155.4800) and (105.5300,155.1400) .. (107.7600,157.7700) .. controls
	        (109.2900,159.5800) and (112.9500,155.4500) .. (115.1000,155.9900) .. controls
	        (115.4700,158.0000) and (115.2900,160.5600) .. (118.0200,159.9200) .. controls
	        (118.0700,158.4400) and (118.5700,156.8800) .. (119.3000,155.6100) .. controls
	        (119.8600,155.6300) and (120.5800,155.4500) .. (121.1500,155.5000) .. controls
	        (121.3400,153.9600) and (121.8500,153.4800) .. (123.2000,153.1900) .. controls
	        (123.9400,155.4000) and (125.1500,157.4000) .. (127.2800,157.7400) .. controls
	        (125.4000,158.4900) and (125.5300,161.2200) .. (127.5100,161.6600) .. controls
	        (129.8500,162.1800) and (132.1400,160.8500) .. (134.4700,161.2100) .. controls
	        (137.0400,161.6000) and (139.2600,163.1300) .. (141.8200,163.5200) .. controls
	        (144.4600,163.9100) and (147.1500,163.5500) .. (149.7900,163.4500) .. controls
	        (149.7600,163.0900) and (149.9500,162.5800) .. (149.9200,162.2200) .. controls
	        (153.9900,162.0700) and (155.1700,163.5900) .. (158.1000,165.7900) .. controls
	        (157.7300,167.9800) and (160.2600,168.4100) .. (161.8200,168.8200) .. controls
	        (164.6800,169.5700) and (164.5700,171.1300) .. (164.4400,173.8400) .. controls
	        (164.2900,177.2000) and (166.6400,178.9900) .. (167.8500,181.8500) .. controls
	        (169.2700,185.2100) and (167.6600,189.1500) .. (167.7800,192.6400) .. controls
	        (163.7200,192.6800) and (165.5500,196.8700) .. (163.0900,196.9700) .. controls
	        (162.3600,198.4000) and (162.6700,200.2500) .. (162.5100,201.8500) .. controls
	        (159.8200,203.2700) and (160.2600,208.5400) .. (157.3900,209.8400) .. controls
	        (156.8100,212.2800) and (154.7400,214.6200) .. (154.4100,217.0100) .. controls
	        (151.8300,214.6500) and (151.8200,219.0100) .. (151.9800,220.6200) .. controls
	        (151.6700,220.6500) and (151.3800,220.6700) .. (151.0800,220.6900) .. controls
	        (150.9900,222.6900) and (154.3600,224.8000) .. (153.0000,226.7600) .. controls
	        (152.0300,228.1500) and (150.6500,227.9200) .. (149.2100,227.7800) .. controls
	        (147.2800,227.5900) and (146.6900,228.8700) .. (145.2600,229.7200) .. controls
	        (142.4600,231.3900) and (138.4200,229.5800) .. (135.3800,229.9200) .. controls
	        (131.8500,230.3200) and (133.0300,234.0200) .. (132.8200,236.4800) .. controls
	        (131.3200,237.0700) and (128.9600,235.2000) .. (128.0100,237.1100) .. controls
	        (127.3600,238.4200) and (127.7800,240.1900) .. (127.6900,241.5900) .. controls
	        (127.5400,243.9900) and (126.9600,249.2700) .. (130.8100,248.8800) .. controls
	        (131.1400,250.4900) and (132.3300,251.7900) .. (132.0400,253.4900) .. controls
	        (128.8000,252.8100) and (129.7800,256.9200) .. (127.0400,256.4700) .. controls
	        (126.7400,259.7700) and (127.2000,262.3600) .. (124.3300,264.6500) .. controls
	        (122.9500,265.7500) and (120.3500,268.1000) .. (118.3700,267.6000) .. controls
	        (118.0400,270.7600) and (127.8700,285.1100) .. (120.8900,286.7100) .. controls
	        (120.5100,289.9000) and (122.3500,289.6600) .. (124.7200,290.2900) .. controls
	        (129.6300,291.5900) and (126.6300,297.8300) .. (126.8800,301.1200) .. controls
	        (128.2100,301.1900) and (129.4400,301.7900) .. (130.7900,301.5600) .. controls
	        (131.0700,298.5400) and (131.4100,296.7600) .. (133.9500,295.0400) .. controls
	        (134.5200,298.0600) and (137.8300,296.7100) .. (139.6700,298.1000) .. controls
	        (142.1600,299.9700) and (140.3800,305.4100) .. (144.7500,305.9400) .. controls
	        (144.6400,305.2800) and (145.0100,304.3700) .. (144.9100,303.7000) .. controls
	        (146.9500,303.0900) and (150.0700,303.5900) .. (149.8700,306.4100) .. controls
	        (152.7200,305.5900) and (154.8500,302.7500) .. (157.9300,301.9300) .. controls
	        (158.0600,299.7700) and (158.2600,297.4300) .. (160.4300,296.3800) .. controls
	        (158.9300,294.5600) and (158.1700,292.7500) .. (155.6100,291.8600) .. controls
	        (155.3200,290.5000) and (156.2400,289.7300) .. (157.5600,289.9100) .. controls
	        (157.6700,288.6800) and (158.1700,287.1600) .. (157.7400,285.9400) .. controls
	        (157.2600,284.6000) and (155.6600,284.2400) .. (155.7400,282.6200) .. controls
	        (153.4100,282.2800) and (150.9000,284.2300) .. (148.1100,283.6600) .. controls
	        (147.9600,279.6100) and (150.4000,274.5700) .. (149.4000,270.7200) .. controls
	        (148.6400,267.7900) and (145.7300,269.7200) .. (144.4700,267.2400) .. controls
	        (143.2200,264.7900) and (146.2200,254.5200) .. (141.4800,255.4200) .. controls
	        (140.2400,252.6500) and (142.1100,248.2600) .. (139.0100,246.2900) .. controls
	        (137.6600,245.4400) and (133.3500,246.4200) .. (134.0600,243.9800) .. controls
	        (137.0000,243.9800) and (138.3300,241.5600) .. (139.5500,239.1200) .. controls
	        (143.4500,237.3700) and (144.9700,238.1700) .. (145.1600,242.1600) .. controls
	        (149.0800,242.5100) and (149.5600,242.5100) .. (149.9400,238.7100) .. controls
	        (150.7500,238.8100) and (151.7100,238.5800) .. (152.5200,238.6700) .. controls
	        (152.6300,237.5000) and (152.6100,236.2800) .. (152.7000,235.1000) .. controls
	        (155.3400,235.1600) and (156.4800,232.6000) .. (159.0400,231.5700) .. controls
	        (160.1100,233.3100) and (158.5800,234.2700) .. (157.8900,235.6900) .. controls
	        (156.8200,237.9000) and (159.4100,240.0000) .. (159.4700,242.1900) .. controls
	        (156.2200,242.3200) and (152.8600,242.6400) .. (153.4200,247.0300) .. controls
	        (154.1500,247.4800) and (155.0500,248.0600) .. (155.6200,248.4400) .. controls
	        (155.8800,247.3700) and (156.1300,246.3600) .. (156.1500,245.2100) .. controls
	        (157.0900,244.8700) and (158.0800,244.7400) .. (159.0700,244.9400) .. controls
	        (159.1400,247.3900) and (159.0400,249.1100) .. (156.7000,250.2300) .. controls
	        (156.5100,250.7900) and (156.4800,251.8800) .. (156.6300,252.4600) .. controls
	        (157.9300,252.7200) and (158.8800,251.8500) .. (159.0200,250.6200) .. controls
	        (160.1300,250.4400) and (162.1700,248.9500) .. (163.2800,249.7500) .. controls
	        (164.8200,250.8500) and (162.3800,253.2700) .. (164.8700,253.7900) .. controls
	        (164.7800,254.2400) and (165.0000,254.9000) .. (164.9300,255.3500) .. controls
	        (166.8500,255.4300) and (167.9900,253.8600) .. (170.0000,254.4300) .. controls
	        (172.3000,255.0800) and (173.6600,256.0800) .. (176.2200,255.3100) .. controls
	        (176.1600,254.5000) and (176.4400,253.5500) .. (176.3900,252.7500) .. controls
	        (179.0000,252.4900) and (175.5900,245.9700) .. (175.3400,244.2900) .. controls
	        (177.4700,244.4100) and (178.2600,246.5000) .. (180.4800,246.1700) .. controls
	        (180.1900,250.0700) and (182.7100,249.0400) .. (185.7700,249.3100) .. controls
	        (186.1500,251.5400) and (174.5300,260.2200) .. (182.4300,261.4800) .. controls
	        (182.7200,259.9500) and (181.0000,258.1700) .. (182.9200,257.1900) .. controls
	        (184.5400,256.3600) and (186.8600,257.3600) .. (188.5700,257.2900) .. controls
	        (188.0800,253.0300) and (191.4900,254.4000) .. (192.3600,257.3900) .. controls
	        (196.0800,257.8800) and (200.7400,257.5200) .. (204.6500,257.3700) .. controls
	        (204.7500,256.2000) and (204.2000,248.1600) .. (207.5600,250.4200) .. controls
	        (210.1200,252.1400) and (215.9500,248.1500) .. (214.0900,245.0400) .. controls
	        (215.7600,244.7600) and (218.1300,245.2300) .. (219.6900,245.7500) .. controls
	        (219.7100,244.0600) and (225.0200,242.5100) .. (226.4700,242.6700) .. controls
	        (226.5500,244.7400) and (226.5400,246.6200) .. (228.3000,247.9800) .. controls
	        (229.8400,249.1700) and (231.8300,251.8900) .. (233.5800,252.5400) .. controls
	        (234.3400,257.0200) and (228.2900,256.4200) .. (229.1300,259.9900) .. controls
	        (229.4900,260.1000) and (229.7400,260.2600) .. (230.0500,260.3800) .. controls
	        (229.9900,260.7500) and (229.5500,261.7100) .. (229.3100,262.0100) .. controls
	        (228.2700,262.4100) and (228.6400,262.2300) .. (227.9500,262.9800) .. controls
	        (226.7900,263.0400) and (225.8400,263.8200) .. (225.6500,264.9100) .. controls
	        (227.1300,265.0400) and (228.5600,265.1000) .. (229.9200,264.7000) .. controls
	        (229.5800,262.7000) and (231.5200,261.2400) .. (233.3900,261.8300) .. controls
	        (235.5100,262.5100) and (234.6000,265.2300) .. (234.6400,266.8200) .. controls
	        (238.5800,268.0300) and (237.6300,262.3500) .. (236.8200,260.3100) .. controls
	        (237.9900,259.4200) and (239.9000,259.1400) .. (240.5200,260.6400) .. controls
	        (240.7800,260.0800) and (241.2300,259.7600) .. (241.2300,258.7400) .. controls
	        (243.3700,258.1900) and (243.1500,259.5400) .. (243.9300,260.9100) .. controls
	        (244.8200,262.4800) and (247.9600,261.7200) .. (249.4200,261.8600) .. controls
	        (249.4000,261.6900) and (249.4200,261.1500) .. (249.4400,260.9600) .. controls
	        (248.6000,260.6200) and (248.1200,259.8800) .. (248.0100,258.9200) .. controls
	        (249.4300,258.3000) and (251.2900,258.5700) .. (252.8600,258.7000) .. controls
	        (252.7600,259.4000) and (253.1700,260.3300) .. (253.1900,260.7100) .. controls
	        (253.5400,260.0800) and (253.7200,258.9900) .. (253.6400,258.0500) .. controls
	        (254.8200,258.0100) and (256.0600,258.0300) .. (257.2400,258.1500) .. controls
	        (257.0500,258.8600) and (256.6200,259.3800) .. (255.9500,259.7000) .. controls
	        (254.6200,260.6200) and (254.8900,262.3200) .. (254.8000,263.7100) .. controls
	        (254.6300,266.2900) and (254.1900,268.7600) .. (252.7200,270.9500) .. controls
	        (255.6600,271.8000) and (256.7600,268.3300) .. (259.6400,268.5500) .. controls
	        (259.7300,270.8400) and (270.1500,269.8900) .. (272.6000,269.7900) .. controls
	        (270.6100,265.3600) and (277.4100,263.4100) .. (274.3000,259.2000) .. controls
	        (275.0400,258.4100) and (276.2300,258.4300) .. (277.3200,258.6600) .. controls
	        (277.1500,259.4900) and (277.5000,260.4500) .. (277.6500,261.0000) .. controls
	        (278.5300,259.4300) and (279.8200,257.3800) .. (282.3600,258.1200) .. controls
	        (282.3900,258.7800) and (282.8300,259.3500) .. (282.7600,260.0300) .. controls
	        (283.9000,261.2100) and (284.5900,262.3500) .. (286.6200,262.1400) .. controls
	        (286.2100,259.8800) and (288.3300,258.8100) .. (287.5300,256.2500) .. controls
	        (289.0900,256.1900) and (291.8700,255.5000) .. (293.1900,256.6600) .. controls
	        (295.5500,258.7300) and (292.7900,261.8900) .. (293.0400,264.3100) .. controls
	        (295.1800,264.4800) and (298.8300,262.9800) .. (299.5400,265.8000) .. controls
	        (300.5700,269.9000) and (305.7700,267.8200) .. (308.5700,268.4900) .. controls
	        (308.6700,270.9200) and (307.4700,274.1800) .. (309.0200,276.3500) .. controls
	        (310.7900,278.8400) and (315.8700,277.2000) .. (318.4000,277.4200) .. controls
	        (318.4100,278.3700) and (318.4200,279.3800) .. (318.4200,280.3300) .. controls
	        (320.3700,280.5000) and (322.3900,280.4100) .. (324.3400,280.5800) .. controls
	        (324.4100,282.4200) and (324.2300,284.3200) .. (324.3000,286.1600) .. controls
	        (325.3600,286.2700) and (326.4800,286.2400) .. (327.5400,286.3500) .. controls
	        (327.5900,287.4100) and (327.5100,288.5300) .. (327.5600,289.5900) .. controls
	        (330.1800,289.1400) and (329.6500,292.2000) .. (331.7600,291.7000) .. controls
	        (331.9900,289.9500) and (331.3700,288.4500) .. (331.6500,286.7900) .. controls
	        (335.2800,286.6600) and (342.9800,288.4400) .. (345.0900,285.4700) .. controls
	        (346.6000,285.2000) and (348.6600,285.6400) .. (349.6900,286.8600) .. controls
	        (349.8500,287.6200) and (349.9500,288.3800) .. (350.0100,289.1500) .. controls
	        (350.6700,289.9700) and (351.9500,289.3600) .. (352.6200,290.0900) .. controls
	        (355.9600,293.7500) and (351.4200,295.7700) .. (348.2100,294.2200) .. controls
	        (348.0600,295.7100) and (348.0300,297.3100) .. (348.0800,298.8100) .. controls
	        (348.5300,298.7300) and (349.2100,299.0200) .. (349.6500,298.9400) .. controls
	        (349.7100,300.4400) and (349.5800,302.0100) .. (349.6300,303.5100) .. controls
	        (353.0600,303.4300) and (352.6200,306.1400) .. (351.8000,308.5300) .. controls
	        (350.6400,311.8900) and (349.1900,313.0500) .. (348.8500,316.8500) .. controls
	        (348.1900,316.7000) and (347.2600,317.0400) .. (346.6100,316.8900) .. controls
	        (346.4400,317.3700) and (346.4200,318.3100) .. (346.5600,318.7900) .. controls
	        (348.1900,319.3500) and (349.4600,320.3100) .. (350.1200,321.9400) .. controls
	        (350.6600,323.2600) and (349.7300,325.5100) .. (351.9800,325.3800) .. controls
	        (351.4900,328.8200) and (355.9200,328.1500) .. (358.2500,328.8900) .. controls
	        (358.4700,333.6400) and (369.1800,333.6700) .. (372.4000,332.0200) .. controls
	        (375.9000,330.2300) and (373.0000,325.7900) .. (375.1800,323.3100) .. controls
	        (376.1400,322.2200) and (377.3000,324.0300) .. (377.4300,321.8300) .. controls
	        (377.5500,319.9200) and (379.8900,320.4200) .. (381.2600,320.3400) .. controls
	        (380.9200,317.9300) and (377.9700,316.6200) .. (380.4600,314.2700) .. controls
	        (381.8600,312.9500) and (384.8100,312.4500) .. (382.9300,309.9200) .. controls
	        (381.1400,307.5100) and (382.4500,305.7700) .. (383.9900,303.8400) .. controls
	        (385.2100,302.3100) and (383.4500,301.7700) .. (383.1400,300.4200) .. controls
	        (382.8400,299.1300) and (383.1900,297.7400) .. (383.3100,296.4500) .. controls
	        (386.6300,296.1300) and (389.3500,294.7400) .. (389.5600,291.0600) .. controls
	        (389.8100,286.7100) and (387.7600,284.7800) .. (384.4900,282.4900) .. controls
	        (380.8900,279.9600) and (382.0700,276.1400) .. (380.6100,272.6100) .. controls
	        (378.9200,268.5400) and (379.1000,265.2000) .. (380.4900,261.0600) .. controls
	        (381.5100,258.0300) and (382.8700,255.1300) .. (386.2600,254.3700) .. controls
	        (390.5800,253.4100) and (392.3100,251.2000) .. (396.0300,249.2500) .. controls
	        (398.6800,247.8600) and (402.4300,247.7600) .. (404.2400,245.1000) .. controls
	        (406.1600,242.3000) and (406.9500,238.3200) .. (410.8400,237.6200) .. controls
	        (411.7700,236.1400) and (413.9500,236.2400) .. (415.3400,235.4900) .. controls
	        (416.9200,234.6500) and (417.0000,232.8900) .. (417.3300,231.3600) .. controls
	        (418.0400,227.9800) and (424.4000,228.8700) .. (423.8100,232.6100) .. controls
	        (426.4800,232.9300) and (426.7300,231.2700) .. (428.5800,230.0000) .. controls
	        (431.6000,227.9100) and (435.2900,230.8600) .. (438.4600,231.1400) .. controls
	        (445.0600,231.7300) and (444.8200,224.9000) .. (439.4100,223.4500) .. controls
	        (434.0100,222.0000) and (430.5900,218.5500) .. (425.6100,216.0900) .. controls
	        (424.3300,215.4600) and (423.0200,214.8000) .. (421.8900,213.9300) .. controls
	        (420.2900,212.7000) and (420.9900,211.0400) .. (420.1000,209.5000) .. controls
	        (418.2100,206.2700) and (414.6100,205.2100) .. (413.2200,201.3700) .. controls
	        (415.8300,201.5800) and (419.5500,200.5400) .. (421.6400,198.9100) .. controls
	        (423.0400,197.8300) and (421.7700,194.9400) .. (421.4100,193.6300) .. controls
	        (420.8600,191.5700) and (419.2700,191.9400) .. (417.4400,191.7500) .. controls
	        (414.9400,191.4900) and (412.8400,189.8000) .. (410.1900,189.5000) .. controls
	        (408.9200,186.5900) and (409.2500,183.7800) .. (412.9700,183.6200) .. controls
	        (416.7000,183.4600) and (415.1200,181.3600) .. (418.3400,180.4400) .. controls
	        (422.3700,179.2800) and (426.7100,181.0300) .. (430.8100,180.4100) .. controls
	        (432.6400,180.1300) and (434.2600,178.9700) .. (432.6700,177.1000) .. controls
	        (431.5900,175.8300) and (429.3700,176.4100) .. (427.9500,176.2900) .. controls
	        (428.0000,175.0400) and (427.2900,174.1400) .. (426.0000,174.2300) .. controls
	        (425.2400,171.8800) and (425.4500,169.5700) .. (425.4300,166.9800) .. controls
	        (422.5300,166.4900) and (418.9600,167.7300) .. (416.4500,165.6900) .. controls
	        (413.5500,163.3400) and (415.6100,159.4600) .. (415.0400,156.4100) .. controls
	        (414.3600,152.8300) and (409.6600,154.7500) .. (410.6500,150.9700) .. controls
	        (411.5500,147.4900) and (407.5300,145.2600) .. (407.9700,141.8200) .. controls
	        (403.8200,141.9600) and (403.5100,137.0600) .. (403.2400,134.0400) .. controls
	        (402.7300,128.1700) and (401.0200,122.3700) .. (400.1600,116.5300) .. controls
	        (398.5000,105.2000) and (397.0400,93.7900) .. (392.4500,83.1700) .. controls
	        (382.4600,60.0600) and (356.3900,53.8700) .. (334.9200,45.5000) .. controls
	        (321.2600,40.1700) and (309.5800,35.1200) .. (294.5700,35.9300) .. controls
	        (281.1600,36.6500) and (265.8600,41.6200) .. (252.5900,38.3100) .. controls
	        (242.2500,35.7200) and (234.0200,26.7800) .. (224.4700,22.2200) .. controls
	        (212.2000,16.3600) and (199.1200,11.8700) .. (188.2200,3.5700);
	
	      %%% Haryana
	      \path[draw=c231F20,fill=cFFFFD0] (74.8700,41.5100) .. controls (74.5400,35.1800)
	        and (74.8300,29.8100) .. (72.9500,23.6100) .. controls (71.1700,17.7700) and
	        (73.2200,9.9800) .. (75.1800,4.3500) .. controls (75.4800,4.3200) and
	        (75.7700,4.3000) .. (76.0800,4.2700) .. controls (77.1300,2.5000) and
	        (77.0600,0.5300) .. (78.5300,-1.0500) .. controls (79.8200,-2.4500) and
	        (80.7100,-3.6200) .. (80.8400,-5.6000) .. controls (81.0200,-8.5400) and
	        (80.2700,-12.9900) .. (84.5600,-12.8800) .. controls (85.0700,-14.3400) and
	        (86.3400,-14.4400) .. (86.5700,-16.1400) .. controls (86.8900,-18.4900) and
	        (89.3800,-17.9900) .. (91.0600,-18.0600) .. controls (91.6200,-24.2700) and
	        (97.9700,-27.6000) .. (100.6600,-32.7500) .. controls (104.7400,-40.5700) and
	        (99.8900,-49.6900) .. (99.4000,-57.7600) .. controls (99.3300,-58.9800) and
	        (92.3400,-64.5700) .. (91.2000,-65.7900) .. controls (87.3000,-69.9700) and
	        (83.8300,-74.9100) .. (79.1400,-78.2200) .. controls (64.4000,-88.5900) and
	        (41.3400,-79.3600) .. (26.9600,-72.8000) .. controls (18.7400,-69.0500) and
	        (10.9100,-64.5200) .. (2.7400,-60.6800) .. controls (-7.0800,-56.0800) and
	        (-17.5100,-52.9700) .. (-27.7900,-49.6000) .. controls (-32.7700,-47.9700) and
	        (-37.9000,-45.2800) .. (-43.0600,-44.3800) .. controls (-47.7100,-43.5700) and
	        (-49.5900,-40.7300) .. (-50.6100,-36.2700) .. controls (-51.5200,-32.3000) and
	        (-51.9000,-27.5500) .. (-51.5900,-23.5000) .. controls (-51.4600,-21.8400) and
	        (-51.0100,-20.0000) .. (-49.5700,-18.9800) .. controls (-49.1300,-18.6700) and
	        (-46.3200,-18.3300) .. (-46.2400,-18.0400) .. controls (-46.0000,-17.1900) and
	        (-46.0500,-15.5300) .. (-46.3300,-14.7000) .. controls (-50.3000,-14.6900) and
	        (-49.4800,-10.5700) .. (-49.3700,-7.7500) .. controls (-47.9500,-7.6600) and
	        (-46.4300,-7.5700) .. (-45.0100,-7.4900) .. controls (-44.9100,-4.7700) and
	        (-44.9200,-2.9200) .. (-46.2400,-0.4900) .. controls (-47.5500,1.9400) and
	        (-46.2000,5.2200) .. (-46.4100,7.8500) .. controls (-48.0100,7.9300) and
	        (-49.6800,7.8000) .. (-51.2800,7.8700) .. controls (-51.5700,9.9700) and
	        (-49.2700,10.7600) .. (-47.5100,10.9700) .. controls (-47.5700,11.9700) and
	        (-46.8600,12.6700) .. (-47.0300,13.7300) .. controls (-43.8200,12.8600) and
	        (-40.5800,13.1600) .. (-37.5400,14.1000) .. controls (-37.0800,8.8900) and
	        (-30.8900,13.1700) .. (-28.0000,14.5000) .. controls (-28.1300,15.6900) and
	        (-27.7900,17.1500) .. (-27.9400,18.3500) .. controls (-27.2700,18.2600) and
	        (-26.2500,18.6800) .. (-25.6000,18.5700) .. controls (-24.0200,25.2700) and
	        (-14.2500,18.7700) .. (-11.1500,19.5000) .. controls (-11.1300,20.0400) and
	        (-10.8600,20.6500) .. (-10.8600,21.2100) .. controls (-6.4700,21.3000) and
	        (-6.8100,25.0100) .. (-7.1600,28.3100) .. controls (-7.3200,29.7700) and
	        (-7.5500,31.5300) .. (-6.7800,32.8700) .. controls (-6.4900,33.3800) and
	        (-3.5500,35.2800) .. (-3.3800,34.1600) .. controls (-4.3600,40.5700) and
	        (-6.1900,49.4500) .. (-2.5700,55.3000) .. controls (-0.9000,58.0000) and
	        (-0.8000,60.1900) .. (0.2600,62.9700) .. controls (1.4000,65.9500) and
	        (5.5100,64.7900) .. (7.8900,65.0100) .. controls (7.9200,68.8200) and
	        (8.6700,70.3900) .. (12.2200,72.0800) .. controls (15.7400,73.7500) and
	        (18.8900,78.1300) .. (20.0200,81.8000) .. controls (21.6200,87.0200) and
	        (10.1600,100.2300) .. (20.5700,102.2500) .. controls (21.3600,102.4000) and
	        (22.5600,102.0700) .. (23.3700,102.0100) .. controls (24.9200,101.8900) and
	        (26.0400,103.1000) .. (27.5100,102.9400) .. controls (27.7200,100.1700) and
	        (26.1500,97.4600) .. (26.5500,94.6900) .. controls (27.0000,91.5900) and
	        (32.8400,93.1900) .. (34.8100,93.1100) .. controls (34.1800,91.2400) and
	        (33.1300,89.4600) .. (33.6000,87.2300) .. controls (34.2700,86.9700) and
	        (34.7100,86.4300) .. (35.0200,86.2700) .. controls (33.3600,86.5000) and
	        (31.9300,85.9500) .. (32.1800,84.1800) .. controls (41.2300,82.5100) and
	        (42.5600,94.3100) .. (50.3500,94.0100) .. controls (51.1200,92.5100) and
	        (50.1300,89.8600) .. (51.5400,88.6900) .. controls (52.8600,87.6000) and
	        (55.9800,88.7500) .. (57.5300,88.6900) .. controls (57.6100,87.2700) and
	        (57.7100,85.7600) .. (57.8100,84.3500) .. controls (60.7500,82.5500) and
	        (63.0400,87.9800) .. (66.0700,88.5700) .. controls (66.0300,88.8800) and
	        (66.0500,89.5600) .. (66.0500,89.9000) .. controls (61.6600,91.3900) and
	        (62.7100,100.4800) .. (62.1900,103.9800) .. controls (61.8000,106.6600) and
	        (59.1900,116.0400) .. (64.9100,114.4300) .. controls (65.0200,111.1200) and
	        (67.1900,110.7100) .. (70.0200,111.0500) .. controls (70.0700,109.6400) and
	        (70.0000,108.4400) .. (69.8000,107.1600) .. controls (72.2500,108.6300) and
	        (78.5100,108.2300) .. (80.8600,106.6000) .. controls (83.1100,105.0300) and
	        (86.8600,99.4700) .. (90.1200,100.8500) .. controls (87.7500,99.8500) and
	        (85.5600,97.4000) .. (86.6200,94.6900) .. controls (87.6300,92.1000) and
	        (92.2500,92.3900) .. (92.1600,90.0600) .. controls (91.9500,84.9400) and
	        (88.4100,78.1800) .. (85.0700,74.5900) .. controls (82.8100,72.1700) and
	        (83.2900,70.0800) .. (82.7500,67.1200) .. controls (82.3100,64.7400) and
	        (77.7400,64.6600) .. (76.8700,62.2200) .. controls (75.7800,59.1700) and
	        (75.3000,56.1900) .. (76.3500,53.0200) .. controls (77.6400,49.1000) and
	        (75.0800,45.5400) .. (74.8700,41.5100);
	
	      %%% Punjab
	      \path[draw=c231F20,fill=cFFFFD0] (71.7900,-137.2800) .. controls
	        (65.9800,-142.0600) and (58.8200,-144.6700) .. (52.3800,-148.4300) .. controls
	        (49.7000,-149.9900) and (46.5000,-151.5600) .. (44.4800,-153.9800) .. controls
	        (42.3900,-156.4900) and (41.7800,-159.3300) .. (39.1200,-161.5000) .. controls
	        (34.2100,-165.5200) and (27.9500,-169.8900) .. (21.2200,-169.4600) .. controls
	        (14.6200,-169.0400) and (8.5400,-162.1800) .. (2.5000,-159.6200) .. controls
	        (-0.9200,-158.1700) and (-4.3800,-156.8000) .. (-7.7300,-155.1900) .. controls
	        (-10.7800,-153.7200) and (-12.7300,-150.8600) .. (-15.9600,-149.5900) ..
	        controls (-19.2400,-148.3000) and (-22.8100,-148.1300) .. (-26.1300,-146.8400)
	        .. controls (-29.2700,-145.6200) and (-32.3800,-144.4200) ..
	        (-35.6100,-143.4200) .. controls (-42.0400,-141.4300) and (-48.6000,-139.7500)
	        .. (-54.8300,-137.1700) .. controls (-59.1400,-135.3800) and
	        (-66.1500,-132.4500) .. (-67.8300,-127.6400) .. controls (-70.0100,-121.3900)
	        and (-73.1400,-115.5700) .. (-74.9700,-109.1700) .. controls
	        (-77.0900,-101.7500) and (-77.9800,-94.0500) .. (-77.7600,-86.3400) ..
	        controls (-77.5400,-78.5000) and (-74.9100,-70.7900) .. (-75.7300,-62.9000) ..
	        controls (-76.3800,-56.7000) and (-79.9800,-54.4100) .. (-83.1500,-49.5500) ..
	        controls (-85.3800,-46.1300) and (-89.5500,-36.9900) .. (-82.4900,-36.2500) ..
	        controls (-76.6100,-35.6400) and (-75.4800,-35.2300) .. (-75.8700,-29.3300) ..
	        controls (-76.0500,-26.5800) and (-71.8300,-27.2900) .. (-70.1500,-27.2500) ..
	        controls (-66.7200,-27.1700) and (-64.1700,-26.6900) .. (-60.9600,-25.5400) ..
	        controls (-57.5900,-24.3300) and (-53.9500,-25.3400) .. (-50.4800,-24.7200) ..
	        controls (-47.0600,-24.1200) and (-44.1500,-20.3700) .. (-40.5600,-22.2700) ..
	        controls (-40.1000,-23.3000) and (-39.3600,-23.6600) .. (-38.9100,-24.6500) ..
	        controls (-34.7800,-24.8400) and (-27.9000,-24.5900) .. (-25.4900,-20.5600) ..
	        controls (-21.5100,-13.9000) and (-21.5800,-22.0000) .. (-18.5400,-19.1200) ..
	        controls (-18.5100,-18.3900) and (-19.8500,-8.7500) .. (-16.1700,-12.3500) ..
	        controls (-15.5300,-12.9800) and (-16.3100,-13.9300) .. (-15.1100,-14.0700) ..
	        controls (-13.7600,-14.2200) and (-14.0000,-11.8900) .. (-14.0500,-11.0800) ..
	        controls (-14.2200,-8.2800) and (-17.6000,-6.9000) .. (-17.7600,-4.1500) ..
	        controls (-17.7900,-3.6600) and (-15.6500,-2.0600) .. (-15.3500,-1.7300) ..
	        controls (-14.1300,-0.3400) and (-13.8300,1.1500) .. (-13.7600,2.9600) ..
	        controls (-10.5600,3.2500) and (-10.0500,2.3100) .. (-10.1200,-0.7600) ..
	        controls (-10.1800,-3.4100) and (-6.5400,-4.9300) .. (-5.2200,-7.0200) ..
	        controls (-3.6800,-9.4600) and (-2.5100,-12.5100) .. (0.8500,-10.9500) ..
	        controls (3.7900,-9.5900) and (6.5700,-8.8300) .. (9.8400,-8.9500) .. controls
	        (9.2800,-13.7000) and (19.8200,-12.8500) .. (20.1800,-7.4300) .. controls
	        (21.9300,-7.2800) and (23.7000,-7.2900) .. (25.4100,-6.8100) .. controls
	        (28.4100,-5.9700) and (26.9400,-7.1200) .. (28.9200,-8.4600) .. controls
	        (29.0200,-9.1100) and (29.3300,-9.6700) .. (29.5100,-10.3200) .. controls
	        (29.8200,-9.8000) and (30.3200,-9.5600) .. (30.5300,-8.9100) .. controls
	        (31.6700,-9.3600) and (31.1100,-10.7200) .. (32.0400,-11.3600) .. controls
	        (32.9500,-11.9800) and (34.2900,-11.4900) .. (35.2900,-11.8000) .. controls
	        (35.6600,-12.7800) and (36.5300,-13.4400) .. (36.6300,-14.4500) .. controls
	        (33.9200,-14.1600) and (34.3700,-18.5700) .. (34.6500,-20.1100) .. controls
	        (34.8700,-21.3400) and (35.3800,-22.3500) .. (35.7700,-23.5500) .. controls
	        (36.5200,-25.8700) and (36.0800,-28.7500) .. (36.9600,-30.9300) .. controls
	        (38.6600,-30.2400) and (44.5000,-26.7700) .. (44.8700,-29.7700) .. controls
	        (45.2400,-32.7300) and (47.7400,-33.6500) .. (48.5800,-30.0700) .. controls
	        (48.8700,-28.8400) and (48.8200,-27.2900) .. (49.6400,-26.2500) .. controls
	        (51.1800,-24.2900) and (52.1000,-26.7400) .. (53.1300,-27.5200) .. controls
	        (54.9600,-28.9100) and (56.0900,-28.5300) .. (56.1100,-31.2400) .. controls
	        (56.1300,-33.7300) and (55.3700,-34.1600) .. (53.0400,-34.3900) .. controls
	        (52.9800,-34.7100) and (52.9900,-35.0000) .. (53.0600,-35.3100) .. controls
	        (54.8700,-35.0000) and (54.9500,-36.7600) .. (56.1500,-37.5300) .. controls
	        (57.3700,-38.3100) and (59.1900,-38.6300) .. (60.6200,-38.7000) .. controls
	        (60.5500,-40.1600) and (61.0300,-41.6000) .. (60.9800,-43.1100) .. controls
	        (59.0500,-43.3000) and (59.1500,-44.3300) .. (59.6300,-45.9000) .. controls
	        (60.3700,-46.8900) and (61.7400,-46.6800) .. (63.0800,-46.5700) .. controls
	        (63.0300,-45.1100) and (64.8000,-44.9100) .. (65.8200,-44.5600) .. controls
	        (67.7300,-43.9200) and (67.7000,-41.9900) .. (68.5400,-40.4800) .. controls
	        (70.2600,-40.2100) and (69.7800,-48.3500) .. (69.7400,-49.4200) .. controls
	        (69.6700,-51.3400) and (70.7800,-53.9300) .. (68.9000,-55.3500) .. controls
	        (66.7500,-56.9800) and (65.2000,-56.7000) .. (64.3600,-59.6400) .. controls
	        (63.8600,-61.3700) and (63.3100,-63.7200) .. (63.8200,-65.5100) .. controls
	        (64.2100,-66.8700) and (65.6500,-66.9100) .. (65.8800,-68.4400) .. controls
	        (66.0900,-69.8600) and (65.1300,-71.0800) .. (64.3600,-72.1500) .. controls
	        (61.2000,-76.5700) and (69.8900,-80.2500) .. (73.0100,-81.9700) .. controls
	        (77.6000,-84.5000) and (81.8800,-85.5600) .. (83.6700,-90.9900) .. controls
	        (85.1400,-95.4400) and (84.8600,-100.3600) .. (84.4200,-104.9600) .. controls
	        (83.2900,-116.4800) and (81.3200,-129.4500) .. (71.7900,-137.2800);
	
	      %%% Uttaranchal
	      \path[draw=c231F20,fill=cFFFFD0] (120.1200,-92.6500) .. controls
	        (113.6500,-91.2700) and (108.3300,-87.6900) .. (104.8600,-82.0500) .. controls
	        (101.4200,-76.4600) and (97.7900,-68.1400) .. (97.7200,-61.5200) .. controls
	        (97.6700,-57.7000) and (99.2000,-54.0900) .. (100.9300,-50.7600) .. controls
	        (103.3800,-46.0300) and (103.2200,-44.8000) .. (101.2400,-40.2500) .. controls
	        (99.6800,-36.6700) and (104.6900,-33.9700) .. (106.8800,-31.9800) .. controls
	        (110.2800,-28.9000) and (115.0200,-28.6900) .. (118.8700,-26.4400) .. controls
	        (117.1700,-26.7500) and (115.7400,-25.6500) .. (114.2300,-25.0900) .. controls
	        (113.1700,-21.7200) and (112.6600,-17.6700) .. (110.3400,-14.8600) .. controls
	        (108.3500,-12.4500) and (103.9200,-9.7200) .. (106.1000,-6.2400) .. controls
	        (107.4300,-4.1200) and (106.4900,0.6400) .. (108.4400,1.8400) .. controls
	        (111.1400,3.5000) and (115.2400,1.5300) .. (118.0200,1.0400) .. controls
	        (117.7000,2.6100) and (118.8900,4.6900) .. (117.4300,6.2600) .. controls
	        (118.6800,6.9000) and (121.4800,10.8900) .. (123.0400,9.5900) .. controls
	        (125.8000,7.3000) and (124.0200,5.2800) .. (127.8200,4.2700) .. controls
	        (130.4700,3.5600) and (129.9600,-0.0400) .. (132.6400,0.1500) .. controls
	        (135.9500,0.3800) and (137.7900,-2.5800) .. (140.7200,-0.5800) .. controls
	        (144.1600,1.7700) and (144.4000,5.0800) .. (146.8000,8.1200) .. controls
	        (149.6300,11.7000) and (154.3300,14.0900) .. (157.7500,17.1000) .. controls
	        (159.0400,18.2300) and (164.8700,20.4700) .. (165.0000,22.1500) .. controls
	        (165.1800,24.4400) and (159.5600,24.4200) .. (158.1800,24.8300) .. controls
	        (157.3400,25.9100) and (156.7800,27.2300) .. (157.0800,28.6900) .. controls
	        (159.9700,29.7200) and (160.3300,33.4900) .. (163.5300,33.9700) .. controls
	        (163.5900,39.2000) and (167.8500,36.6600) .. (171.2200,36.7900) .. controls
	        (176.1700,36.9900) and (175.9600,39.3600) .. (176.1200,43.5400) .. controls
	        (179.6800,43.3300) and (182.7700,46.9700) .. (186.1400,47.8400) .. controls
	        (189.4400,48.6900) and (190.4700,49.3900) .. (190.6300,52.6000) .. controls
	        (193.6100,52.8700) and (196.6900,52.4600) .. (199.6000,53.2400) .. controls
	        (203.5700,54.3000) and (207.1200,52.0300) .. (210.9600,52.8900) .. controls
	        (211.0200,54.4800) and (210.8700,56.1400) .. (210.9400,57.7200) .. controls
	        (211.9000,57.5000) and (212.8800,57.4900) .. (213.8600,57.6400) .. controls
	        (213.9400,60.4200) and (218.0100,57.5800) .. (217.5300,61.9800) .. controls
	        (218.9200,62.1000) and (220.3800,62.1400) .. (221.7700,62.0900) .. controls
	        (223.3300,60.2800) and (223.2400,58.0200) .. (225.6800,56.9700) .. controls
	        (229.0100,55.5400) and (232.6100,54.3100) .. (236.0900,53.3100) .. controls
	        (243.8700,51.0600) and (251.9600,50.5300) .. (259.9800,49.7600) .. controls
	        (274.7100,48.3300) and (286.2000,42.3200) .. (294.6300,29.9300) .. controls
	        (302.5400,18.3000) and (304.9800,4.2000) .. (304.3300,-9.6500) .. controls
	        (303.6600,-23.8400) and (295.8900,-31.7400) .. (285.8800,-40.9500) .. controls
	        (273.4100,-52.4300) and (260.4300,-63.3600) .. (247.3800,-74.1700) .. controls
	        (240.8600,-79.5700) and (234.3200,-84.9400) .. (227.8100,-90.3500) .. controls
	        (225.3700,-92.3700) and (222.9900,-94.3700) .. (219.9200,-95.3300) .. controls
	        (217.2900,-96.1500) and (214.5400,-96.6400) .. (212.1600,-98.1100) .. controls
	        (209.3800,-99.8300) and (207.1100,-102.6400) .. (203.8000,-103.4100) ..
	        controls (200.8500,-104.1000) and (197.5400,-103.3500) .. (194.6400,-102.7700)
	        .. controls (187.0000,-101.2700) and (179.3100,-100.0600) ..
	        (171.6300,-98.7600) .. controls (154.5300,-95.8900) and (137.0600,-96.2800) ..
	        (120.1200,-92.6500);
	
	      %%% Himachal Pradesh
	      \path[draw=c231F20,fill=cFFFFD0] (104.0200,-40.6300) .. controls
	        (101.0000,-39.2000) and (98.0900,-34.9000) .. (98.0100,-40.8100) .. controls
	        (95.5100,-40.9200) and (92.3700,-40.5000) .. (90.7200,-42.7700) .. controls
	        (88.6200,-45.6500) and (85.9700,-46.4900) .. (82.5100,-46.6500) .. controls
	        (82.4000,-49.5800) and (82.9000,-52.5500) .. (82.6700,-55.4700) .. controls
	        (82.4900,-57.7700) and (79.1300,-59.1100) .. (77.5900,-60.5000) .. controls
	        (75.5000,-62.3900) and (73.6600,-64.5800) .. (71.7600,-66.6600) .. controls
	        (69.7100,-68.9200) and (68.3600,-72.8200) .. (66.1300,-74.6300) .. controls
	        (62.6900,-77.4200) and (57.8800,-76.5400) .. (55.0300,-80.9100) .. controls
	        (53.8200,-82.7600) and (54.6400,-84.0600) .. (55.5500,-85.7700) .. controls
	        (56.3900,-87.3400) and (55.4100,-90.5300) .. (55.4700,-92.3300) .. controls
	        (55.1900,-92.3100) and (54.8200,-92.4400) .. (54.5400,-92.4300) .. controls
	        (54.5100,-95.9300) and (52.7000,-94.5000) .. (50.3100,-94.9600) .. controls
	        (48.0000,-95.4100) and (47.0400,-99.6600) .. (45.8200,-101.4200) .. controls
	        (43.7700,-104.3800) and (42.9200,-103.8800) .. (42.2100,-100.8700) .. controls
	        (41.3900,-97.3700) and (37.0100,-98.4800) .. (34.3500,-98.7200) .. controls
	        (34.2500,-101.4600) and (34.9200,-104.3300) .. (34.0800,-107.0100) .. controls
	        (33.2900,-109.5300) and (31.4300,-111.4900) .. (29.9200,-113.5800) .. controls
	        (28.9800,-114.8700) and (19.9000,-126.2700) .. (27.4100,-124.7000) .. controls
	        (27.7500,-126.0100) and (23.0700,-132.6500) .. (22.0600,-133.7200) .. controls
	        (20.2600,-135.6300) and (17.3200,-136.5600) .. (14.9500,-137.5400) .. controls
	        (13.0000,-138.3400) and (10.4900,-137.5800) .. (8.7400,-138.9100) .. controls
	        (9.4400,-140.0600) and (10.9100,-139.6700) .. (11.9400,-140.1700) .. controls
	        (13.8200,-141.0800) and (12.7700,-143.7800) .. (12.5800,-145.2700) .. controls
	        (12.1000,-149.1600) and (16.0200,-147.8800) .. (18.7200,-147.9700) .. controls
	        (18.4200,-147.9600) and (20.3000,-152.2500) .. (20.4700,-152.5600) .. controls
	        (21.4900,-154.4000) and (24.0200,-154.6800) .. (25.9200,-154.7900) .. controls
	        (26.1400,-156.8800) and (23.8000,-158.7600) .. (22.7900,-160.3500) .. controls
	        (20.7000,-163.6300) and (19.0800,-167.1800) .. (17.4900,-170.7300) .. controls
	        (14.6900,-176.9700) and (12.2300,-183.3500) .. (13.2600,-190.3400) .. controls
	        (15.4800,-205.4500) and (31.4300,-209.2700) .. (44.1600,-210.2000) .. controls
	        (51.1900,-210.7100) and (57.7500,-212.8900) .. (64.8700,-212.2400) .. controls
	        (72.7900,-211.5100) and (80.3700,-208.8200) .. (88.2800,-208.1300) .. controls
	        (95.4500,-207.5000) and (102.1400,-206.2500) .. (109.2000,-204.9000) ..
	        controls (113.1000,-204.1600) and (116.8300,-202.7600) .. (120.6700,-201.7800)
	        .. controls (124.4600,-200.8100) and (128.3900,-200.5100) ..
	        (132.1400,-199.3800) .. controls (138.4500,-197.4800) and (144.9800,-193.3500)
	        .. (149.9500,-189.0800) .. controls (155.7300,-184.1000) and
	        (161.3900,-180.1000) .. (165.6400,-173.6000) .. controls (174.0800,-160.7100)
	        and (175.9800,-148.9900) .. (171.7300,-134.2100) .. controls
	        (169.7100,-127.1700) and (168.9400,-120.6700) .. (170.6500,-113.4700) ..
	        controls (172.2600,-106.7100) and (173.8800,-101.1300) .. (170.6700,-94.6300)
	        .. controls (167.6800,-88.5700) and (169.1100,-86.3500) .. (172.9000,-81.5200)
	        .. controls (173.9700,-80.1700) and (175.3600,-78.4600) .. (175.7500,-76.7400)
	        .. controls (176.0700,-75.3000) and (168.5500,-75.7600) .. (167.4700,-75.9000)
	        .. controls (167.8600,-80.7800) and (160.2600,-82.0100) .. (156.8600,-82.1500)
	        .. controls (153.6700,-82.2800) and (151.7700,-82.3000) .. (148.8500,-83.3600)
	        .. controls (146.1400,-84.3400) and (141.1200,-85.2800) .. (138.2400,-85.2300)
	        .. controls (136.1300,-81.4200) and (131.6900,-84.2200) .. (128.7800,-82.1400)
	        .. controls (128.5600,-81.0000) and (128.0700,-77.8600) .. (126.6000,-77.5700)
	        .. controls (125.0300,-77.2600) and (124.0400,-79.5300) .. (122.6800,-79.9700)
	        .. controls (119.4300,-81.0300) and (114.1900,-74.8800) .. (114.4300,-71.9300)
	        .. controls (114.8800,-72.0000) and (115.5500,-71.7100) .. (116.0000,-71.7900)
	        .. controls (116.4200,-69.3100) and (112.9600,-70.3000) .. (111.3700,-70.2400)
	        .. controls (111.1200,-68.1500) and (111.7300,-67.1400) .. (112.2500,-65.3100)
	        .. controls (112.4400,-65.2700) and (112.6200,-65.2200) .. (112.8000,-65.1800)
	        .. controls (112.7900,-65.0100) and (112.7600,-64.4300) .. (112.7800,-64.2800)
	        .. controls (110.2600,-64.8200) and (107.9100,-57.2500) .. (107.9600,-55.4000)
	        .. controls (111.3400,-55.2600) and (108.5900,-49.0800) .. (108.4900,-46.9900)
	        .. controls (110.8100,-47.0300) and (111.6100,-44.2100) .. (109.7100,-42.9900)
	        .. controls (107.9600,-41.9000) and (105.8700,-41.5100) ..
	        (104.0200,-40.6300);
	
	      %%% Tripura
	      \path[draw=c231F20,fill=cFFFFD0] (781.7900,303.1800) .. controls
	        (773.6000,313.0300) and (762.0300,325.6000) .. (761.8600,339.1900) .. controls
	        (761.6900,352.4100) and (772.9400,363.4600) .. (779.0500,374.3300) .. controls
	        (781.2200,378.2000) and (783.6000,382.8900) .. (788.2000,384.2400) .. controls
	        (794.1100,385.9700) and (801.3900,382.7800) .. (806.6700,380.3900) .. controls
	        (819.9900,374.3500) and (830.3900,363.2900) .. (838.1700,351.1400) .. controls
	        (844.7100,340.9100) and (852.3500,327.4500) .. (851.9600,314.9400) .. controls
	        (851.6200,303.5600) and (846.2900,291.8900) .. (838.1600,283.9200) .. controls
	        (817.7800,263.9400) and (795.2900,286.9400) .. (781.7900,303.1800);
	
	      %%% Mizoram
	      \path[draw=c231F20,fill=cFFFFD0] (829.0800,376.6400) .. controls
	        (831.9100,396.9500) and (840.8800,418.6800) .. (854.6500,434.0300) .. controls
	        (860.7200,440.7900) and (868.6700,446.8500) .. (878.0400,447.5900) .. controls
	        (888.9100,448.4500) and (898.5400,441.6600) .. (905.4900,433.9700) .. controls
	        (922.7100,414.9100) and (923.4000,385.7100) .. (919.8500,361.7000) .. controls
	        (918.0300,349.4200) and (914.7700,337.4800) .. (910.3300,325.8900) .. controls
	        (905.4900,313.2500) and (899.9400,300.1600) .. (890.3000,290.3500) .. controls
	        (881.6200,281.5200) and (865.4600,273.1500) .. (852.7300,276.0600) .. controls
	        (842.5600,278.3800) and (830.2000,293.6800) .. (831.9700,304.3400) .. controls
	        (832.0700,304.9100) and (834.5700,305.8200) .. (834.4600,307.6800) .. controls
	        (834.3700,309.0900) and (833.7700,310.5100) .. (833.9600,311.9300) .. controls
	        (834.1900,313.6300) and (835.3700,315.0000) .. (835.6100,316.7100) .. controls
	        (836.1400,320.5600) and (834.5200,324.2800) .. (834.0300,328.0400) .. controls
	        (833.5400,331.7600) and (835.5400,336.5500) .. (833.3400,339.9100) .. controls
	        (832.0100,341.9500) and (829.7800,343.1700) .. (828.6700,345.4100) .. controls
	        (827.1900,348.3800) and (827.2100,352.2700) .. (827.2000,355.5000) .. controls
	        (827.1600,362.5800) and (828.1100,369.6400) .. (829.0800,376.6400);
	
	      %%% Manipur
	      \path[draw=c231F20,fill=cFFFFD0] (945.3100,318.3600) .. controls
	        (939.1800,321.0000) and (931.0400,322.7900) .. (924.3900,321.6000) .. controls
	        (920.3400,320.8700) and (916.8400,318.5400) .. (913.0700,317.0400) .. controls
	        (909.3000,315.5400) and (905.7400,315.6900) .. (901.7800,315.6800) .. controls
	        (899.1800,315.6800) and (896.0800,315.5300) .. (894.1600,313.5100) .. controls
	        (893.3900,312.6900) and (893.4400,311.3700) .. (892.7400,310.5500) .. controls
	        (891.9800,309.6700) and (890.7500,309.7500) .. (889.9500,308.9300) .. controls
	        (888.2600,307.2200) and (889.7000,303.6900) .. (887.6100,302.3700) .. controls
	        (886.0800,301.4100) and (882.4300,302.8200) .. (880.6100,302.7900) .. controls
	        (879.5000,302.7700) and (878.0200,302.9800) .. (876.9800,302.5000) .. controls
	        (875.6200,301.8600) and (875.9500,301.4000) .. (874.2500,301.1100) .. controls
	        (871.6600,300.6600) and (869.7500,301.0900) .. (867.2900,299.9000) .. controls
	        (866.9900,298.2600) and (868.3300,298.0000) .. (868.9700,296.7900) .. controls
	        (869.5400,295.7100) and (869.3900,294.4400) .. (869.4200,293.2500) .. controls
	        (869.4800,290.6800) and (869.6300,288.6600) .. (868.7000,286.2400) .. controls
	        (867.1600,282.2400) and (865.1600,278.0300) .. (864.2200,273.7600) .. controls
	        (863.3700,269.9300) and (863.1100,265.9500) .. (862.4800,262.0800) .. controls
	        (861.5100,256.1000) and (858.2700,245.3600) .. (865.2300,241.9700) .. controls
	        (868.2200,240.5100) and (871.3600,239.6100) .. (874.1200,237.6800) .. controls
	        (877.3100,235.4500) and (879.9300,232.4200) .. (882.3800,229.4200) .. controls
	        (885.2600,225.9000) and (887.9100,222.2000) .. (891.1700,219.0000) .. controls
	        (899.6700,210.6800) and (909.7200,203.8100) .. (920.4600,198.7100) .. controls
	        (941.1700,188.8600) and (968.2200,185.3600) .. (983.8500,205.7100) .. controls
	        (1000.4600,227.3300) and (992.1600,256.9200) .. (980.1100,278.5500) ..
	        controls (975.9700,285.9800) and (971.0300,292.7700) .. (965.7600,299.4300) ..
	        controls (960.0600,306.6800) and (954.0400,314.5900) .. (945.3100,318.3600);
	
	      %%% Nagaland
	      \path[draw=c231F20,fill=cFFFFD0] (885.0200,190.2100) .. controls
	        (889.6400,181.8600) and (897.6800,175.8700) .. (905.3300,170.4500) .. controls
	        (914.4500,163.9800) and (923.2800,157.2700) .. (932.0400,150.3200) .. controls
	        (939.9300,144.0600) and (947.5500,137.7200) .. (957.9700,136.7100) .. controls
	        (966.9700,135.8400) and (976.5700,140.1500) .. (978.2900,149.7900) .. controls
	        (979.1500,154.6200) and (977.8500,159.4100) .. (977.7900,164.2400) .. controls
	        (977.7000,170.5500) and (979.4900,177.1800) .. (980.1500,183.4700) .. controls
	        (980.7800,189.4700) and (981.7100,195.4100) .. (982.6700,201.3600) .. controls
	        (983.4800,206.3800) and (980.0800,208.6200) .. (978.7100,213.0600) .. controls
	        (977.1800,218.0000) and (975.7700,221.1200) .. (970.6000,223.0000) .. controls
	        (967.0200,224.3000) and (963.2800,225.5000) .. (959.5100,226.0800) .. controls
	        (956.8400,226.5000) and (954.0500,226.6100) .. (951.3600,226.3400) .. controls
	        (948.3200,226.0300) and (945.8300,224.7200) .. (942.8500,224.4600) .. controls
	        (942.7200,221.3400) and (943.1300,218.1500) .. (943.0200,215.0300) .. controls
	        (942.3200,214.7800) and (941.8900,214.5700) .. (941.3200,214.1600) .. controls
	        (940.8400,213.8100) and (938.1900,217.8700) .. (937.9100,218.2900) .. controls
	        (937.3800,219.0800) and (936.9900,219.2900) .. (936.6800,220.1500) .. controls
	        (936.3600,221.0500) and (936.8500,221.9300) .. (936.0100,222.7200) .. controls
	        (934.9900,223.6600) and (932.6700,223.4000) .. (931.3800,223.4500) .. controls
	        (929.3900,223.5100) and (928.3400,223.9200) .. (926.5200,224.5600) .. controls
	        (925.8000,224.8200) and (925.1000,225.2900) .. (924.4100,225.1800) .. controls
	        (923.3900,225.0200) and (923.6500,224.0500) .. (922.3500,224.1300) .. controls
	        (922.0300,224.1500) and (921.1500,224.9700) .. (920.5200,225.0600) .. controls
	        (919.3900,225.2100) and (918.9400,224.7300) .. (917.8800,224.3900) .. controls
	        (916.2900,223.8800) and (914.6600,223.7600) .. (912.9700,223.7200) .. controls
	        (910.6600,223.6700) and (909.3800,224.0600) .. (907.4200,225.0400) .. controls
	        (905.9200,225.7900) and (902.9800,225.6900) .. (902.3000,227.4200) .. controls
	        (904.7300,227.6600) and (905.4200,229.5100) .. (904.0700,231.6400) .. controls
	        (903.1800,233.0500) and (902.3400,233.7900) .. (901.1000,234.8500) .. controls
	        (899.0300,236.6200) and (898.5800,239.1600) .. (897.4100,241.5900) .. controls
	        (895.5700,240.8800) and (893.8600,239.6900) .. (891.9700,239.1800) .. controls
	        (891.2300,237.1400) and (887.9500,238.0400) .. (886.3900,237.4900) .. controls
	        (884.4400,236.8000) and (881.9600,235.2700) .. (880.2000,234.1500) .. controls
	        (877.1900,232.2300) and (875.1000,228.3000) .. (874.8300,224.8300) .. controls
	        (873.7800,211.2700) and (878.6300,201.7500) .. (885.0200,190.2100);
	
	      %%% Meghalaya
	      \path[draw=c231F20,fill=cFFFFD0] (736.6100,205.1200) .. controls
	        (725.1600,209.1400) and (710.9600,204.1600) .. (703.5700,216.3100) .. controls
	        (698.2800,225.0100) and (692.9000,239.4500) .. (697.7500,249.3500) .. controls
	        (703.3400,260.7500) and (718.7000,260.9700) .. (729.4800,262.7100) .. controls
	        (737.8700,264.0600) and (746.2200,265.7000) .. (754.6800,266.5700) .. controls
	        (763.8500,267.5200) and (772.6400,266.7800) .. (781.7700,265.9300) .. controls
	        (789.5100,265.2100) and (797.5100,264.1300) .. (805.2900,264.2400) .. controls
	        (813.0800,264.3500) and (820.9700,266.5900) .. (828.8400,266.9500) .. controls
	        (836.7200,267.3100) and (844.1100,263.3400) .. (851.3100,260.5600) .. controls
	        (854.6000,259.2900) and (857.7500,257.7800) .. (860.4800,255.5000) .. controls
	        (864.0700,252.5000) and (864.8800,249.7100) .. (865.2400,244.9800) .. controls
	        (865.7300,238.3900) and (860.2900,230.3100) .. (856.2200,225.4500) .. controls
	        (854.3200,223.1800) and (852.2000,220.7800) .. (851.5500,217.8000) .. controls
	        (850.5700,213.2900) and (850.9200,208.9500) .. (849.1500,204.5300) .. controls
	        (843.9000,191.3800) and (830.6900,185.3400) .. (817.5200,182.9900) .. controls
	        (802.9200,180.3800) and (786.8100,181.1300) .. (772.9000,186.5200) .. controls
	        (759.7500,191.6100) and (750.6000,206.0100) .. (735.3000,204.4200);
	
	      %%% Delhi NCR
	      \path[draw=c231F20,fill=cFFFFD0] (67.3300,49.7400) .. controls (67.4800,49.5900)
	        and (67.6600,49.5200) .. (67.8800,49.5400) .. controls (67.8400,49.2900) and
	        (67.8800,49.0600) .. (67.9900,48.8300) .. controls (68.2800,48.9600) and
	        (68.7700,49.7900) .. (68.9000,48.9900) .. controls (69.0000,48.3700) and
	        (69.9800,48.4200) .. (70.3000,48.8200) .. controls (70.5000,49.0600) and
	        (71.0000,48.3500) .. (71.3000,48.2100) .. controls (71.5600,47.3500) and
	        (71.3400,47.4800) .. (72.2800,47.4400) .. controls (72.2900,47.3200) and
	        (72.2500,46.6500) .. (72.5100,46.7000) .. controls (72.6900,46.7900) and
	        (72.8100,46.9300) .. (72.8600,47.1200) .. controls (73.0100,47.5000) and
	        (73.3400,47.3000) .. (73.6200,47.4900) .. controls (74.0700,47.8200) and
	        (74.1800,47.4400) .. (74.5400,47.6400) .. controls (74.8900,47.8300) and
	        (74.6800,48.5400) .. (74.6900,48.8400) .. controls (75.1900,48.9600) and
	        (75.9100,48.0900) .. (76.4500,47.9800) .. controls (77.1800,47.8300) and
	        (76.9600,49.1900) .. (77.7700,49.2700) .. controls (77.7800,49.5300) and
	        (77.9600,50.2200) .. (77.5500,50.3000) .. controls (77.4600,50.3200) and
	        (76.5800,50.1900) .. (76.7500,50.5100) .. controls (76.9500,50.8800) and
	        (77.2400,50.9500) .. (77.2600,51.4100) .. controls (77.5600,51.4300) and
	        (77.8400,51.5000) .. (78.1200,51.6100) .. controls (78.1500,51.8800) and
	        (77.8700,51.7800) .. (77.8700,52.0500) .. controls (78.3500,52.0400) and
	        (78.0500,52.7700) .. (78.6300,52.8400) .. controls (79.2600,52.9100) and
	        (78.9500,53.6800) .. (79.4600,53.9400) .. controls (80.2600,54.3500) and
	        (79.9900,54.5500) .. (80.2200,55.2900) .. controls (80.5700,55.3800) and
	        (80.5800,55.1100) .. (80.8200,54.9800) .. controls (81.0700,54.8300) and
	        (81.4100,54.9000) .. (81.6900,54.9300) .. controls (81.7100,55.2800) and
	        (81.4300,55.4200) .. (81.6600,55.7600) .. controls (81.8700,56.0500) and
	        (81.7600,56.2000) .. (81.6100,56.4700) .. controls (81.3400,56.9500) and
	        (81.1000,58.0300) .. (81.5100,58.4700) .. controls (81.7300,58.7100) and
	        (82.9700,59.7400) .. (82.0500,60.0200) .. controls (81.3900,60.2200) and
	        (80.7400,60.2400) .. (80.5700,61.0700) .. controls (80.2800,62.4800) and
	        (82.4800,62.7300) .. (82.1300,64.3900) .. controls (82.0700,64.6700) and
	        (81.4900,65.3600) .. (81.2100,65.4300) .. controls (80.5300,65.6000) and
	        (80.6000,64.7600) .. (79.9100,64.9800) .. controls (79.0100,65.2600) and
	        (77.4600,65.8000) .. (78.2800,66.8200) .. controls (79.5900,68.4500) and
	        (77.0900,68.9100) .. (76.0100,68.8800) .. controls (75.8500,68.8800) and
	        (75.5300,68.9700) .. (75.3900,68.8500) .. controls (75.2000,68.6800) and
	        (75.4400,68.3900) .. (75.1300,68.3000) .. controls (74.5700,68.1300) and
	        (75.1000,67.5000) .. (74.4400,67.3900) .. controls (73.6400,67.2700) and
	        (73.3300,66.7400) .. (73.2900,65.9700) .. controls (73.2800,65.6800) and
	        (73.5700,64.4900) .. (73.4000,64.3100) .. controls (73.2400,64.1500) and
	        (72.9200,64.2600) .. (72.7400,64.1200) .. controls (72.4400,63.8800) and
	        (72.7900,63.6200) .. (72.3800,63.5500) .. controls (71.7100,63.4400) and
	        (71.4500,63.8500) .. (70.7900,63.6000) .. controls (70.7700,63.1100) and
	        (70.0900,62.7400) .. (69.7200,62.4200) .. controls (69.1600,61.9400) and
	        (68.8800,62.4500) .. (69.4800,62.8800) .. controls (70.3400,63.5000) and
	        (68.4700,63.3500) .. (68.3300,63.3400) .. controls (68.0700,63.3200) and
	        (67.3400,63.4000) .. (67.3000,63.7600) .. controls (66.6400,63.8200) and
	        (65.8300,63.4000) .. (65.2200,63.6200) .. controls (65.0300,63.6900) and
	        (64.5500,64.4100) .. (64.3600,63.9000) .. controls (64.1700,63.3500) and
	        (64.8400,63.1200) .. (64.3000,62.8600) .. controls (64.0100,62.7200) and
	        (64.0100,62.2300) .. (63.6800,62.0300) .. controls (62.9700,61.6000) and
	        (62.6300,61.1300) .. (62.8200,60.2300) .. controls (62.9400,59.6600) and
	        (63.6600,60.0700) .. (63.9400,59.7200) .. controls (64.1900,59.4100) and
	        (64.4300,58.0900) .. (64.8200,58.0300) .. controls (65.0300,58.0000) and
	        (65.2400,58.3700) .. (65.4600,58.1400) .. controls (65.5400,58.0600) and
	        (65.6900,57.7000) .. (65.8900,57.9000) .. controls (66.2400,58.2700) and
	        (66.2200,58.3500) .. (66.8200,58.3300) .. controls (66.8800,58.1400) and
	        (66.2300,57.4800) .. (66.2700,57.0300) .. controls (66.3100,56.6600) and
	        (66.4900,56.4200) .. (66.8700,56.3700) .. controls (67.6200,56.2700) and
	        (67.1900,56.2700) .. (67.5100,55.6800) .. controls (68.0600,54.6700) and
	        (67.0300,54.9000) .. (67.1900,54.1800) .. controls (67.6000,54.2000) and
	        (67.7300,52.7800) .. (67.1000,52.7500) .. controls (67.0300,52.3200) and
	        (67.2500,51.4300) .. (67.3800,51.0500) .. controls (67.5200,50.6000) and
	        (66.9200,50.2800) .. (67.3300,49.7400);
	
	      %%% Jammu And Kashmir
	      \path[draw=c231F20,fill=cFFFFD0] (26.7400,-165.5200) .. controls
	        (26.1200,-164.9400) and (25.3400,-164.6100) .. (24.6900,-164.0500) .. controls
	        (24.5800,-163.9600) and (23.9700,-163.9600) .. (23.7300,-163.7900) .. controls
	        (23.3900,-163.5600) and (23.9500,-162.8800) .. (23.4200,-162.6300) .. controls
	        (21.1400,-161.5800) and (20.8300,-163.6300) .. (19.8600,-160.9200) .. controls
	        (19.1500,-158.9600) and (19.5300,-158.4500) .. (17.2600,-158.2400) .. controls
	        (15.5400,-158.0800) and (13.7400,-158.4000) .. (12.0200,-158.3400) .. controls
	        (12.0600,-156.3000) and (9.4200,-156.7300) .. (9.5800,-154.2200) .. controls
	        (6.9500,-154.1200) and (5.9200,-154.9900) .. (3.6300,-155.7800) .. controls
	        (0.4400,-156.8900) and (-3.3500,-155.0600) .. (-6.5500,-154.0900) .. controls
	        (-10.6200,-152.8500) and (-14.7400,-151.4900) .. (-19.0100,-151.1300) ..
	        controls (-22.7700,-150.8100) and (-26.5000,-153.2600) .. (-29.9200,-154.7200)
	        .. controls (-51.3800,-163.8800) and (-70.7500,-177.6400) ..
	        (-85.5100,-195.7600) .. controls (-92.5400,-204.3800) and (-98.4700,-213.8700)
	        .. (-103.2900,-223.8800) .. controls (-107.5100,-232.6500) and
	        (-112.9800,-244.6700) .. (-114.5700,-254.6000) .. controls
	        (-116.7300,-268.0800) and (-113.7000,-280.3700) .. (-118.0900,-293.8100) ..
	        controls (-125.3200,-315.9800) and (-140.6600,-335.6900) ..
	        (-141.1800,-359.7000) .. controls (-141.8700,-391.7800) and
	        (-133.9700,-411.6400) .. (-111.7700,-434.8500) .. controls
	        (-84.0800,-463.7900) and (-44.5300,-469.6300) .. (-5.7800,-465.9700) ..
	        controls (85.5100,-457.3400) and (163.5500,-425.3200) .. (241.5500,-380.6900)
	        .. controls (272.0300,-363.2500) and (283.9700,-315.6500) ..
	        (284.9500,-282.4600) .. controls (285.7600,-254.9600) and (274.4900,-229.4200)
	        .. (260.9200,-206.1200) .. controls (249.4300,-186.3900) and
	        (239.7800,-164.9700) .. (225.9900,-146.6400) .. controls (220.5800,-139.4500)
	        and (213.4500,-133.7400) .. (205.4300,-129.7000) .. controls
	        (201.4000,-127.6700) and (197.0400,-125.8200) .. (192.6400,-124.7300) ..
	        controls (188.3600,-123.6700) and (183.3300,-128.9600) .. (179.9200,-131.3900)
	        .. controls (178.3600,-132.5000) and (176.5600,-134.0000) ..
	        (175.1900,-135.3600) .. controls (173.8200,-136.7200) and (173.0000,-138.4100)
	        .. (171.4500,-139.7100) .. controls (168.6900,-142.0300) and
	        (166.0900,-142.9700) .. (164.2100,-145.9700) .. controls (163.2100,-147.5500)
	        and (161.7300,-149.6500) .. (160.0100,-150.5200) .. controls
	        (158.4400,-151.3000) and (156.5900,-150.9000) .. (154.7500,-150.9400) ..
	        controls (152.7800,-150.9800) and (152.7500,-151.0600) .. (151.7100,-152.4600)
	        .. controls (150.8300,-153.6400) and (150.8500,-154.3500) ..
	        (149.0600,-154.5900) .. controls (147.7400,-154.7700) and (145.7300,-154.4400)
	        .. (144.8000,-153.5200) .. controls (145.1000,-154.8800) and
	        (145.6700,-156.7400) .. (147.5600,-156.4200) .. controls (148.3500,-159.5800)
	        and (152.4800,-172.7700) .. (144.4000,-168.7400) .. controls
	        (143.7500,-168.4100) and (143.3000,-167.5600) .. (142.8000,-167.3200) ..
	        controls (142.1600,-167.0200) and (141.4300,-167.3300) .. (140.8400,-167.0700)
	        .. controls (139.5700,-166.5300) and (139.5600,-165.0100) ..
	        (138.0100,-164.6300) .. controls (136.6300,-164.3000) and (135.1500,-165.3500)
	        .. (133.7600,-165.5000) .. controls (132.2800,-165.6500) and
	        (130.7500,-165.5200) .. (129.2800,-165.6500) .. controls (129.2100,-167.4300)
	        and (129.6200,-169.4200) .. (129.2000,-171.1300) .. controls
	        (128.7900,-172.7900) and (127.2500,-174.5800) .. (126.1800,-175.9000) ..
	        controls (124.9300,-177.4300) and (122.3500,-178.0800) .. (121.3100,-179.5900)
	        .. controls (120.3900,-180.9300) and (120.9700,-183.1800) ..
	        (120.9100,-184.8200) .. controls (118.4000,-185.4400) and (115.5400,-182.7000)
	        .. (113.3400,-182.0500) .. controls (110.3500,-181.1600) and
	        (107.0800,-180.0600) .. (103.9900,-179.7800) .. controls (100.3300,-179.4400)
	        and (97.2300,-179.7500) .. (94.9600,-182.7100) .. controls (93.8600,-184.1400)
	        and (93.6400,-185.1200) .. (91.8300,-185.3600) .. controls (90.1300,-185.5900)
	        and (88.1300,-185.1200) .. (86.3400,-185.2900) .. controls (85.9500,-187.3000)
	        and (83.8100,-188.3300) .. (82.9500,-189.9100) .. controls (81.8200,-191.9700)
	        and (82.3400,-192.2400) .. (79.7100,-192.6900) .. controls (78.0900,-192.9700)
	        and (75.9800,-192.9300) .. (74.6500,-194.0100) .. controls (73.0000,-195.3500)
	        and (73.9600,-197.0600) .. (73.2900,-198.8300) .. controls (69.1000,-199.2200)
	        and (64.9100,-199.5800) .. (60.5400,-199.7000) .. controls (56.4400,-199.8100)
	        and (51.8300,-200.9600) .. (50.3700,-196.5000) .. controls (48.2100,-195.1100)
	        and (49.0000,-191.7900) .. (46.6600,-190.5000) .. controls (44.6600,-189.4000)
	        and (41.4500,-190.2800) .. (39.2400,-190.2000) .. controls (38.8100,-189.1000)
	        and (38.6800,-187.7900) .. (37.8600,-187.0100) .. controls (37.5100,-186.6800)
	        and (36.9300,-186.6500) .. (36.5300,-186.3500) .. controls (35.9600,-185.9200)
	        and (35.6600,-185.3400) .. (35.0900,-184.8400) .. controls (34.0200,-183.8700)
	        and (33.9200,-183.5700) .. (32.2000,-184.3500) .. controls (30.7600,-185.0000)
	        and (30.4700,-185.6800) .. (29.7700,-186.9400) .. controls (28.9600,-187.0600)
	        and (28.1500,-186.8500) .. (27.3400,-186.7500) .. controls (26.7700,-185.0800)
	        and (26.0700,-183.8800) .. (26.2100,-182.0900) .. controls (28.3800,-181.8900)
	        and (29.4600,-182.1300) .. (29.8800,-179.7000) .. controls (30.2000,-177.8200)
	        and (29.3900,-175.9700) .. (29.2400,-174.2100) .. controls (28.9200,-170.7900)
	        and (29.1700,-167.8000) .. (26.7400,-165.5200) -- cycle;
	
	      %%% Arunachal Pradesh
	      \path[draw=c231F20,fill=cFFFFD0] (1083.3900,44.6400) .. controls
	        (1079.8700,32.5900) and (1074.8600,20.8700) .. (1071.3500,8.8800) .. controls
	        (1069.0500,1.0400) and (1066.0500,-7.4300) .. (1062.4300,-14.7300) .. controls
	        (1059.0400,-21.5600) and (1055.6300,-29.4800) .. (1051.8500,-35.8500) ..
	        controls (1049.1300,-30.8100) and (1036.0100,-27.8400) .. (1030.6500,-26.0000)
	        .. controls (1020.9600,-22.6700) and (1012.8300,-19.6600) ..
	        (1002.1700,-18.2800) .. controls (984.7400,-16.0200) and (966.0400,-15.2800)
	        .. (949.1000,-10.1500) .. controls (916.3100,-0.2200) and (881.7100,12.4900)
	        .. (852.4700,30.1100) .. controls (832.2000,42.3300) and (806.8900,44.6200) ..
	        (787.3200,57.8100) .. controls (779.7000,62.9400) and (760.2300,72.1800) ..
	        (758.6700,82.1200) .. controls (757.7200,88.2000) and (763.6000,97.3300) ..
	        (765.0800,103.3200) .. controls (769.1200,119.6800) and (774.6600,135.5300) ..
	        (781.3500,151.0300) .. controls (783.1000,155.0900) and (787.4100,170.0500) ..
	        (791.1900,171.9200) .. controls (792.6400,172.6400) and (796.8900,171.9600) ..
	        (798.5300,172.0000) .. controls (806.2500,172.1900) and (813.9300,172.5600) ..
	        (821.6400,171.9300) .. controls (835.5500,170.7900) and (849.9600,169.4700) ..
	        (863.5000,166.8200) .. controls (875.5500,164.4700) and (890.1000,162.4900) ..
	        (902.3400,162.6700) .. controls (907.2600,162.7400) and (911.8900,162.1300) ..
	        (916.7200,161.9700) .. controls (919.4100,161.8800) and (922.2400,162.5300) ..
	        (924.5200,161.2000) .. controls (927.9200,159.2100) and (931.0800,155.7300) ..
	        (934.4000,153.4000) .. controls (937.2000,151.4400) and (939.4400,149.1800) ..
	        (941.9200,146.8900) .. controls (944.8900,144.1500) and (949.9100,142.3600) ..
	        (953.9700,142.5800) .. controls (955.1100,142.6400) and (956.2400,142.6000) ..
	        (957.3400,142.2800) .. controls (958.9500,141.8100) and (959.9200,140.6200) ..
	        (961.6800,140.5700) .. controls (963.0800,140.5300) and (965.1700,140.4700) ..
	        (966.4800,140.9100) .. controls (966.1500,142.3900) and (967.8700,143.4200) ..
	        (967.7100,144.8900) .. controls (967.7400,144.6500) and (966.6200,145.1500) ..
	        (966.5100,145.5400) .. controls (966.2800,146.3800) and (967.1300,146.3200) ..
	        (967.3000,146.8000) .. controls (967.8600,148.3100) and (966.9700,149.9700) ..
	        (969.2400,150.2000) .. controls (969.3500,152.6300) and (969.7600,153.7600) ..
	        (971.1000,155.6700) .. controls (971.7500,156.5900) and (971.8700,157.7500) ..
	        (972.4200,158.7100) .. controls (973.3700,160.3600) and (974.4200,159.8600) ..
	        (975.8800,160.5700) .. controls (976.9200,161.0700) and (977.3500,162.3100) ..
	        (977.9900,163.2400) .. controls (979.0800,164.8200) and (980.2000,166.3800) ..
	        (981.2800,167.9600) .. controls (982.6500,169.9600) and (985.9200,174.0700) ..
	        (988.0900,174.9200) .. controls (991.0100,176.0600) and (996.5200,175.1200) ..
	        (999.7000,175.2000) .. controls (1007.6000,175.4100) and (1015.4900,175.6100)
	        .. (1023.3900,175.8100) .. controls (1043.2100,176.3200) and
	        (1063.2400,176.0300) .. (1083.0200,177.4200) .. controls (1084.7400,168.6400)
	        and (1084.1900,159.1800) .. (1084.4200,150.2900) .. controls
	        (1084.8500,133.8000) and (1084.8600,117.2300) .. (1085.7700,100.7500) ..
	        controls (1086.6300,85.3600) and (1088.8700,68.2600) .. (1085.5400,53.0400) ..
	        controls (1084.9400,50.2200) and (1084.2000,47.4200) .. (1083.3900,44.6400) --
	        cycle;
	
	      %%% Assam
	      \path[draw=c231F20,fill=cFFFFD0] (704.5100,181.8900) .. controls
	        (704.9600,183.2300) and (705.9200,184.1300) .. (707.6500,184.0600) .. controls
	        (706.8600,185.2000) and (706.2600,186.5800) .. (705.2900,187.8700) .. controls
	        (704.3200,189.1500) and (703.0300,190.1200) .. (701.7800,191.5200) .. controls
	        (700.8800,192.5200) and (700.1900,193.4400) .. (699.0800,194.2000) .. controls
	        (696.6700,195.8500) and (695.4100,198.0500) .. (695.0600,200.9400) .. controls
	        (694.1100,208.8600) and (694.5100,217.3500) .. (694.3000,225.3400) .. controls
	        (694.2400,227.6300) and (693.9700,229.0400) .. (695.1600,230.3400) .. controls
	        (696.7200,232.0500) and (698.7100,232.1300) .. (700.8200,232.1800) .. controls
	        (702.9100,232.2300) and (709.8600,233.5700) .. (711.4700,232.3900) .. controls
	        (713.3900,230.9800) and (710.8600,225.6800) .. (710.3600,223.8000) .. controls
	        (709.9200,223.8800) and (709.2400,223.5900) .. (708.8000,223.6800) .. controls
	        (708.7600,222.5000) and (708.7800,221.2700) .. (708.9000,220.1000) .. controls
	        (711.4300,219.7700) and (711.5900,217.5100) .. (713.0600,215.8800) .. controls
	        (714.3500,214.4600) and (713.9300,214.7200) .. (716.0200,214.5500) .. controls
	        (718.8900,214.3200) and (727.9800,216.0700) .. (728.1200,211.3100) .. controls
	        (730.3100,211.2200) and (732.2900,211.4000) .. (734.4300,210.9300) .. controls
	        (736.3800,210.5000) and (737.5900,209.8400) .. (739.4000,210.6100) .. controls
	        (741.0000,211.3000) and (741.5100,212.1000) .. (743.5300,212.3900) .. controls
	        (745.6700,212.7000) and (748.3400,213.2000) .. (750.4800,213.0500) .. controls
	        (752.5700,212.9100) and (754.4800,211.9000) .. (756.6100,211.9100) .. controls
	        (758.5100,211.9200) and (759.8500,213.0100) .. (761.5600,213.6000) .. controls
	        (764.0700,214.4600) and (765.7000,212.9700) .. (767.5200,215.1300) .. controls
	        (768.5200,216.3200) and (768.1200,218.6800) .. (770.0700,219.0500) .. controls
	        (771.9700,219.4200) and (771.9000,216.9600) .. (772.5600,216.4800) .. controls
	        (773.7200,215.6500) and (774.6300,215.7000) .. (776.1400,215.8800) .. controls
	        (776.2000,217.4600) and (775.5400,220.0300) .. (776.0400,221.5100) .. controls
	        (776.7600,223.6400) and (778.1600,223.3000) .. (780.3100,223.2300) .. controls
	        (780.5300,221.9500) and (780.9000,220.7300) .. (781.7800,219.9600) .. controls
	        (782.3800,219.4300) and (783.7300,219.8800) .. (784.4400,218.9900) .. controls
	        (785.2000,214.8600) and (788.0200,216.3600) .. (790.9000,215.9100) .. controls
	        (795.2400,215.2300) and (790.8000,214.1300) .. (791.1300,211.5400) .. controls
	        (791.4500,209.1200) and (794.6300,209.5000) .. (794.9000,207.3500) .. controls
	        (796.4400,207.2900) and (798.2800,207.0100) .. (799.4600,208.0700) .. controls
	        (800.8500,209.3100) and (800.3600,212.3400) .. (802.3600,213.1400) .. controls
	        (802.2500,210.5500) and (803.6000,210.3900) .. (804.2200,208.5600) .. controls
	        (804.9700,206.3600) and (803.3000,204.7900) .. (805.6500,203.5500) .. controls
	        (809.1200,201.7100) and (814.1700,207.9900) .. (816.7700,203.9100) .. controls
	        (818.6800,203.6200) and (820.6300,204.0500) .. (822.5200,203.8500) .. controls
	        (824.8500,203.6000) and (827.0400,203.0400) .. (829.4100,203.2300) .. controls
	        (829.6500,205.2200) and (827.3500,205.0200) .. (826.1100,205.7600) .. controls
	        (825.2000,206.3000) and (823.5300,208.1600) .. (823.6700,209.3200) .. controls
	        (827.0500,210.0900) and (826.6900,212.1800) .. (826.0700,215.0500) .. controls
	        (825.6100,217.1800) and (825.2500,219.5700) .. (825.3400,222.0600) .. controls
	        (827.9600,222.7200) and (829.2800,220.3400) .. (831.7100,219.9400) .. controls
	        (833.7000,219.6100) and (836.6700,218.6300) .. (838.7700,219.1200) .. controls
	        (841.8100,219.8300) and (841.0200,222.7800) .. (843.5900,223.9900) .. controls
	        (845.1900,224.7400) and (848.2200,225.3200) .. (850.2300,225.0800) .. controls
	        (847.9500,225.3500) and (847.5700,231.5300) .. (847.9300,233.0500) .. controls
	        (848.8100,236.7200) and (853.9600,236.7600) .. (855.8900,239.5300) .. controls
	        (856.9300,241.0300) and (856.6700,243.5900) .. (856.1300,245.3100) .. controls
	        (855.1600,245.7200) and (853.8500,246.0100) .. (852.9300,246.5900) .. controls
	        (850.4300,248.1400) and (848.7900,251.3200) .. (846.2700,252.6500) .. controls
	        (843.8600,253.9100) and (841.3000,253.4800) .. (839.2900,255.5900) .. controls
	        (837.4700,257.5000) and (837.3000,259.9700) .. (834.4300,260.5800) .. controls
	        (830.1000,261.5000) and (826.2600,259.1800) .. (822.5900,262.9200) .. controls
	        (819.8200,265.7300) and (819.0400,270.5000) .. (818.7100,274.2500) .. controls
	        (818.4400,277.2600) and (819.3700,278.8100) .. (821.4400,281.0000) .. controls
	        (821.8200,281.4000) and (827.8000,285.4000) .. (827.7400,284.5400) .. controls
	        (827.8200,285.9300) and (827.9100,288.2300) .. (827.4600,289.5300) .. controls
	        (826.8700,289.7400) and (826.1800,289.3600) .. (825.6300,289.6800) .. controls
	        (827.2000,291.8300) and (828.1300,295.6500) .. (827.4200,298.8800) .. controls
	        (827.3800,299.0600) and (837.4100,297.8400) .. (838.1000,297.9000) .. controls
	        (838.1700,299.8500) and (837.9700,301.8600) .. (838.0500,303.8100) .. controls
	        (840.0100,304.2500) and (842.0700,303.3200) .. (843.4200,301.9100) .. controls
	        (844.9000,300.3500) and (844.7200,299.3500) .. (844.9300,297.0700) .. controls
	        (845.8800,297.0600) and (846.8900,297.0500) .. (847.8400,297.0500) .. controls
	        (847.9300,296.0700) and (847.6300,294.3800) .. (848.0600,293.5100) .. controls
	        (848.7200,292.1700) and (850.1100,292.2900) .. (851.0800,291.2700) .. controls
	        (852.6500,289.6100) and (852.5100,285.7700) .. (852.6600,283.5600) .. controls
	        (853.8400,285.7900) and (856.9400,287.5000) .. (857.8400,289.9700) .. controls
	        (859.8000,290.1700) and (861.1100,288.0900) .. (862.8700,287.7800) .. controls
	        (864.4100,287.5100) and (866.3800,288.6800) .. (868.1700,287.8900) .. controls
	        (868.4000,285.5300) and (868.4300,284.2900) .. (869.3900,282.3000) .. controls
	        (870.4100,280.1800) and (870.8200,278.8000) .. (870.8800,276.3300) .. controls
	        (870.9700,272.5300) and (871.2200,268.5900) .. (871.5700,264.7100) .. controls
	        (873.3000,264.6500) and (875.0900,264.8100) .. (876.8300,264.7500) .. controls
	        (877.6900,262.9900) and (877.6100,260.8900) .. (878.0500,258.8200) .. controls
	        (878.5600,256.4200) and (879.4100,254.6300) .. (877.9100,252.1900) .. controls
	        (878.8000,252.1200) and (879.6400,252.0000) .. (880.5100,251.8300) .. controls
	        (881.2400,250.7200) and (881.7000,249.5500) .. (882.0000,248.2400) .. controls
	        (882.2700,247.0800) and (881.9600,244.6600) .. (882.5100,243.5800) .. controls
	        (882.8500,242.9100) and (884.8500,241.0500) .. (885.2600,240.6400) .. controls
	        (886.4300,239.4500) and (887.0100,238.5300) .. (888.9200,238.6700) .. controls
	        (887.7100,236.5800) and (888.0500,234.1700) .. (888.1300,231.7000) .. controls
	        (888.2700,226.9700) and (886.5900,229.5700) .. (883.7900,227.6700) .. controls
	        (883.4200,227.4200) and (882.3700,225.4400) .. (882.2500,225.2000) .. controls
	        (881.5800,223.8900) and (880.6200,224.8800) .. (881.6400,223.1700) .. controls
	        (882.4100,221.8900) and (885.9600,220.8400) .. (887.3700,220.2600) .. controls
	        (887.3700,218.0400) and (889.0100,218.4600) .. (889.5300,217.0500) .. controls
	        (890.1400,215.4000) and (889.3000,214.2300) .. (890.3600,212.7300) .. controls
	        (892.3000,210.0100) and (896.8000,210.1600) .. (898.0900,206.9700) .. controls
	        (896.4900,206.2300) and (896.2300,204.8400) .. (896.6200,203.2400) .. controls
	        (898.6700,202.8800) and (900.5000,202.4900) .. (902.3300,201.4400) .. controls
	        (900.9500,202.2400) and (901.9700,204.5600) .. (902.5400,205.5400) .. controls
	        (903.6900,207.5300) and (904.4600,207.6700) .. (906.5600,207.5100) .. controls
	        (910.9000,207.1800) and (912.5400,203.2200) .. (911.3100,199.3000) .. controls
	        (910.4200,196.4500) and (910.6300,196.7600) .. (912.6200,194.6700) .. controls
	        (915.3500,191.7900) and (913.1300,192.1600) .. (911.9600,189.2100) .. controls
	        (912.1900,189.7700) and (916.8200,181.2200) .. (916.9600,181.0700) .. controls
	        (918.1600,179.8700) and (919.8200,179.9300) .. (920.8900,178.2100) .. controls
	        (922.6200,175.4200) and (921.5900,171.2200) .. (923.7900,168.6700) .. controls
	        (924.2400,168.1500) and (926.1700,167.8800) .. (926.8400,167.9900) .. controls
	        (927.1500,169.2500) and (926.5100,170.9500) .. (926.9200,172.1400) .. controls
	        (927.1800,172.8800) and (927.7000,173.2200) .. (928.5800,173.0200) .. controls
	        (929.4300,172.8200) and (929.2300,172.5000) .. (929.7800,171.9200) .. controls
	        (930.8100,170.8100) and (932.6300,170.0400) .. (933.0600,168.4700) .. controls
	        (933.4300,167.1100) and (933.2500,165.6300) .. (933.8200,164.3100) .. controls
	        (936.2000,158.8300) and (942.5300,157.4600) .. (947.5100,154.6900) .. controls
	        (948.8700,153.9400) and (950.4100,153.0700) .. (951.2400,151.7300) .. controls
	        (951.8600,150.7400) and (952.6800,148.5800) .. (954.1400,148.2700) .. controls
	        (954.6600,147.1000) and (954.1500,145.5500) .. (955.2100,144.7800) .. controls
	        (956.2100,144.0600) and (958.2600,143.9900) .. (959.4800,143.6300) .. controls
	        (960.3800,143.3700) and (961.4500,143.5200) .. (962.2900,143.2400) .. controls
	        (963.2400,142.9300) and (964.0700,141.9300) .. (964.7300,141.2300) .. controls
	        (965.5300,140.3800) and (966.8600,139.6800) .. (967.6100,138.7500) .. controls
	        (968.3700,137.8200) and (968.3200,137.1500) .. (969.6600,136.7900) .. controls
	        (970.7100,136.5100) and (972.0600,136.7800) .. (973.1900,136.7300) .. controls
	        (973.6700,136.0700) and (974.7900,135.5900) .. (975.4900,134.9400) .. controls
	        (974.8700,135.3500) and (974.6600,135.0700) .. (974.7200,134.4500) .. controls
	        (975.4100,134.5500) and (977.4100,132.3600) .. (978.0400,131.8400) .. controls
	        (978.8000,131.2100) and (981.1500,130.6500) .. (981.6200,129.8000) .. controls
	        (982.0600,129.0100) and (981.8100,126.6900) .. (982.0200,125.8000) .. controls
	        (982.5400,123.5600) and (983.2100,123.5800) .. (985.4400,123.0700) .. controls
	        (986.4400,124.5000) and (991.1200,124.7000) .. (992.7800,124.2000) .. controls
	        (993.7100,123.9200) and (994.8400,123.2400) .. (995.8500,122.8200) .. controls
	        (996.8200,122.4200) and (999.0800,122.3600) .. (999.6100,121.6000) .. controls
	        (1002.9600,121.9000) and (1006.4400,119.5000) .. (1006.9400,116.0800) ..
	        controls (1007.1300,114.7800) and (1007.6400,110.9500) .. (1005.9200,111.3900)
	        .. controls (1004.9300,111.6400) and (1004.6600,113.0600) ..
	        (1003.8600,113.5200) .. controls (1003.1100,113.9500) and (1001.8900,113.8200)
	        .. (1000.9900,113.7400) .. controls (1000.8800,112.3100) and
	        (1000.3900,111.1600) .. (999.7200,110.0200) .. controls (998.8900,108.5900)
	        and (999.1900,107.3000) .. (999.1400,105.5600) .. controls (995.3300,103.8700)
	        and (995.2700,100.4200) .. (995.3700,96.5800) .. controls (995.4100,95.1200)
	        and (994.9700,92.3000) .. (996.0100,91.1000) .. controls (996.4500,90.5800)
	        and (997.5800,90.3400) .. (998.1800,89.8600) .. controls (998.9300,89.2600)
	        and (999.5800,88.4900) .. (1000.1000,87.6900) .. controls (1000.7300,86.7300)
	        and (1002.3500,85.4600) .. (1001.9300,84.5200) .. controls (1000.8900,82.2100)
	        and (995.6300,83.4300) .. (993.8300,83.6900) .. controls (992.4700,83.8900)
	        and (991.1700,84.3700) .. (989.8300,84.4200) .. controls (987.8600,84.4800)
	        and (986.8700,84.0800) .. (985.5300,85.5200) .. controls (984.2500,86.8900)
	        and (984.0600,87.0900) .. (982.1700,87.3500) .. controls (980.6000,87.5700)
	        and (980.1200,88.4300) .. (978.8100,89.1300) .. controls (977.6600,89.7400)
	        and (975.8800,89.9200) .. (974.6000,90.2000) .. controls (973.4900,90.4400)
	        and (971.5800,90.4000) .. (970.5600,90.8900) .. controls (969.8500,91.2300)
	        and (970.1500,91.8600) .. (969.6500,92.2100) .. controls (969.0500,92.6300)
	        and (968.3400,92.1400) .. (967.6800,92.3600) .. controls (966.9200,92.6100)
	        and (966.7000,93.3000) .. (966.1300,93.8600) .. controls (965.4400,94.5400)
	        and (965.2200,94.5800) .. (964.2600,94.7800) .. controls (963.6500,94.9100)
	        and (962.8200,94.9500) .. (962.2400,95.2100) .. controls (961.5400,95.5300)
	        and (961.1000,96.2100) .. (960.3600,96.4700) .. controls (958.8900,97.0000)
	        and (957.8200,96.5500) .. (956.4800,97.6000) .. controls (955.6800,98.2200)
	        and (955.7200,98.1300) .. (954.7800,98.4900) .. controls (953.9500,98.8100)
	        and (953.7900,99.2200) .. (953.0400,99.6600) .. controls (952.5400,99.9600)
	        and (951.6700,99.9200) .. (951.0600,100.1100) .. controls (950.1300,100.4000)
	        and (950.2500,100.4800) .. (949.5300,101.1000) .. controls (949.3500,101.2500)
	        and (949.4000,101.3300) .. (949.3200,101.5400) .. controls (948.7600,101.4300)
	        and (948.7100,101.7200) .. (948.3500,101.8700) .. controls (948.0200,102.0000)
	        and (947.4300,102.0300) .. (947.1500,102.1600) .. controls (946.2300,102.6200)
	        and (945.7100,103.2700) .. (944.9800,103.9500) .. controls (943.8600,104.9800)
	        and (942.7800,105.5100) .. (941.3500,106.0200) .. controls (940.1200,106.4600)
	        and (938.1800,107.4700) .. (937.1000,108.4200) .. controls (935.6300,109.7300)
	        and (934.4600,108.7500) .. (932.7500,109.5000) .. controls (932.4700,110.9300)
	        and (930.5800,110.2500) .. (929.5100,110.5500) .. controls (928.0100,110.9700)
	        and (927.0200,112.3400) .. (925.4500,112.1300) .. controls (924.0700,111.9400)
	        and (922.8200,110.7900) .. (921.6600,110.1900) .. controls (920.8300,109.7600)
	        and (918.5300,108.7700) .. (917.6600,109.0900) .. controls (917.1400,109.2700)
	        and (916.8000,110.0600) .. (916.9500,110.7100) .. controls (917.1900,111.7000)
	        and (917.6500,111.2000) .. (918.2600,111.8100) .. controls (919.3500,112.8900)
	        and (919.3700,116.5400) .. (919.2500,117.9600) .. controls (918.7900,118.1600)
	        and (918.8900,118.1800) .. (918.5700,118.4400) .. controls (917.3900,118.6100)
	        and (916.8000,120.0200) .. (916.0100,120.9100) .. controls (915.1700,121.8500)
	        and (914.3100,122.7000) .. (913.4800,123.5200) .. controls (912.6300,124.3600)
	        and (911.6300,125.0000) .. (910.6900,125.9400) .. controls (910.1900,126.4400)
	        and (909.9800,126.6900) .. (909.5000,127.0800) .. controls (909.0100,127.4800)
	        and (908.5500,127.9000) .. (908.1200,128.3800) .. controls (906.5200,130.1900)
	        and (905.1300,131.7400) .. (903.6600,133.7700) .. controls (902.9500,134.7500)
	        and (902.2300,135.5500) .. (902.2000,137.0700) .. controls (902.1700,138.4500)
	        and (902.7100,139.4500) .. (902.5800,140.9000) .. controls (901.0600,140.9600)
	        and (900.1700,140.7200) .. (899.3500,142.0100) .. controls (898.6800,143.0600)
	        and (898.2000,144.2400) .. (897.4300,145.1000) .. controls (896.5800,146.0500)
	        and (894.9400,147.0100) .. (893.7300,147.2200) .. controls (892.2400,147.4700)
	        and (890.7200,147.2200) .. (889.2100,147.2700) .. controls (888.5900,147.2900)
	        and (887.8000,147.2600) .. (887.2000,147.3800) .. controls (886.2600,147.5700)
	        and (886.0300,148.2100) .. (885.3400,148.5200) .. controls (884.1900,149.0300)
	        and (882.6100,148.9800) .. (881.3000,148.8700) .. controls (878.1400,148.5900)
	        and (875.2900,148.3400) .. (872.7200,150.5200) .. controls (871.5400,151.5300)
	        and (869.3300,151.4700) .. (867.8400,151.7300) .. controls (865.4300,152.1500)
	        and (863.6800,152.2200) .. (861.4800,151.0700) .. controls (859.7700,150.1700)
	        and (858.3700,149.6800) .. (856.4900,149.2800) .. controls (853.6800,148.6800)
	        and (851.0600,147.6500) .. (848.0000,147.5500) .. controls (845.9200,147.4800)
	        and (846.1000,148.8800) .. (844.4300,149.5100) .. controls (843.7800,149.7600)
	        and (843.0500,149.5200) .. (842.4100,149.7300) .. controls (841.8600,149.9100)
	        and (840.9200,150.5100) .. (840.3100,150.8100) .. controls (838.3800,151.7500)
	        and (836.6500,153.1500) .. (834.4900,153.3400) .. controls (833.1800,153.4600)
	        and (831.8200,153.4300) .. (830.5700,153.9000) .. controls (829.4900,154.3000)
	        and (828.5500,155.1500) .. (827.3700,155.3300) .. controls (826.2900,155.4900)
	        and (825.3200,155.5400) .. (824.2900,155.7600) .. controls (822.7500,156.0900)
	        and (821.4300,156.1800) .. (819.9800,156.7800) .. controls (818.2500,157.4900)
	        and (816.2500,157.3400) .. (814.2800,157.0300) .. controls (811.8100,156.6400)
	        and (810.3100,153.8400) .. (807.8700,153.1200) .. controls (805.4400,152.4000)
	        and (803.1300,151.9400) .. (800.7300,150.9500) .. controls (794.1400,148.2400)
	        and (787.8500,150.1800) .. (781.1100,149.5000) .. controls (775.4400,148.9300)
	        and (770.5200,146.2600) .. (764.6700,145.8200) .. controls (755.1100,145.1000)
	        and (746.8700,141.4400) .. (737.2900,143.0100) .. controls (728.5200,144.4500)
	        and (723.8500,151.3500) .. (715.9500,154.4300) .. controls (713.9500,155.2100)
	        and (709.4800,155.4100) .. (708.0700,157.1300) .. controls (706.6400,158.8900)
	        and (707.5500,164.4300) .. (707.4700,166.6600) .. controls (707.3800,169.1700)
	        and (706.5300,170.5300) .. (705.6200,172.5800) .. controls (704.7400,174.5500)
	        and (703.5800,179.1500) .. (704.5100,181.8900) -- cycle;
	
	    \end{scope} %%% States
	    \begin{scope}%%% union_territory
	      % path3866
	      \path[draw=c231F20,fill=cFFFFD0] (-179.7200,497.1000) .. controls
	        (-178.2200,495.5400) and (-169.4700,494.7000) .. (-168.9500,497.1600) ..
	        controls (-168.6300,498.6900) and (-170.5500,499.0800) .. (-171.5500,500.1700)
	        .. controls (-174.2800,500.2900) and (-182.0600,499.9400) ..
	        (-179.8900,497.2900) .. controls (-179.8400,497.2300) and (-179.7800,497.1600)
	        .. (-179.7200,497.1000) -- cycle;
	
	      %%% Chandigarh
	      \path[draw=c231F20,fill=cFFFFD0] (64.4400,-68.0100) .. controls
	        (65.0400,-67.9300) and (65.5600,-67.8300) .. (65.8800,-67.7700) .. controls
	        (65.9400,-66.2800) and (66.3100,-58.9900) .. (62.7600,-60.8600) .. controls
	        (63.1400,-60.6600) and (61.2100,-63.1900) .. (61.3000,-62.9800) .. controls
	        (60.9800,-63.6900) and (61.3000,-64.4700) .. (61.0900,-65.2000) .. controls
	        (60.8800,-65.9200) and (59.6700,-66.1500) .. (60.1100,-67.2300) .. controls
	        (60.5800,-68.3600) and (62.8100,-68.2400) .. (64.4400,-68.0100) -- cycle;
	
	      %%% Yanam  Pondicherry
	      \path[draw=c231F20,fill=cFFFFD0] (319.1900,723.4900) .. controls
	        (317.8400,723.4500) and (315.8700,722.9900) .. (314.8500,723.8900) .. controls
	        (313.7800,724.8300) and (313.5600,726.5100) .. (314.7800,727.2700) .. controls
	        (315.5200,727.7300) and (318.6300,728.2200) .. (319.3300,727.5900) .. controls
	        (320.4200,726.6100) and (319.5200,723.9900) .. (318.4000,723.4600);
	
	      %%% Pudducherry Pondicherry
	      \path[draw=c231F20,fill=cFFFFD0] (172.7500,999.7700) .. controls
	        (173.1700,999.6900) and (173.6100,999.4800) .. (173.9900,999.4600) .. controls
	        (175.0000,999.3900) and (176.0800,999.6600) .. (177.1100,999.6100) .. controls
	        (177.3000,997.3000) and (177.5600,994.9400) .. (177.8600,992.6300) .. controls
	        (178.0400,991.2100) and (179.1700,989.2800) .. (177.7600,988.6000) .. controls
	        (176.1400,987.8200) and (174.4300,988.5900) .. (172.8700,989.0600) .. controls
	        (172.5100,989.1700) and (171.4000,989.6600) .. (171.0400,989.3100) .. controls
	        (170.5400,988.8100) and (171.0700,988.1900) .. (171.6600,988.0600) .. controls
	        (171.5800,987.9900) and (170.6700,986.9700) .. (170.7700,986.9200) .. controls
	        (171.6400,986.4400) and (172.3000,984.6200) .. (171.0000,984.2500) .. controls
	        (169.3800,983.7900) and (169.9400,986.0300) .. (169.1100,986.5300) .. controls
	        (167.4000,987.5600) and (167.9300,985.3400) .. (167.6400,984.8400) .. controls
	        (167.0200,983.7200) and (165.2200,984.5400) .. (164.3100,984.6200) .. controls
	        (163.6600,985.8700) and (164.0800,986.9100) .. (165.5400,986.8100) .. controls
	        (165.6100,987.1800) and (165.6000,987.7300) .. (165.5100,988.1000) .. controls
	        (163.9800,988.6300) and (164.9600,989.8900) .. (164.7600,991.0900) .. controls
	        (164.7000,991.4700) and (161.1000,990.8000) .. (160.7900,992.4600) .. controls
	        (162.6500,992.7600) and (166.6500,994.3000) .. (165.1900,996.5900) .. controls
	        (166.2900,996.9900) and (166.7500,997.3400) .. (167.9400,997.3800) .. controls
	        (168.1400,998.8500) and (170.1000,998.8800) .. (170.1800,997.4300) .. controls
	        (170.6900,997.6600) and (171.1300,997.9900) .. (171.4500,998.4500) .. controls
	        (171.5900,998.6500) and (171.7300,999.5400) .. (171.8000,999.5900) .. controls
	        (172.1100,999.8200) and (172.4300,999.8300) .. (172.7500,999.7700) -- cycle;
	
	      %%% Karikal Pondicherry
	      \path[draw=c231F20,fill=cFFFFD0] (174.4900,1042.8700) .. controls
	        (173.3200,1042.1600) and (171.8100,1042.0000) .. (170.1900,1042.5100) ..
	        controls (168.4400,1043.0500) and (169.7500,1045.5500) .. (167.4600,1045.3000)
	        .. controls (167.2600,1046.8900) and (169.3300,1049.0200) ..
	        (170.8300,1049.2300) .. controls (170.8400,1049.3200) and (170.8600,1049.4100)
	        .. (170.8700,1049.5000) .. controls (171.6300,1049.5800) and
	        (171.2900,1050.1400) .. (171.8200,1050.5700) .. controls (172.3100,1050.9600)
	        and (173.0400,1051.2300) .. (173.5400,1051.6000) .. controls
	        (175.0400,1052.7100) and (174.7300,1053.2100) .. (176.6100,1052.3200) ..
	        controls (176.8100,1050.2200) and (177.1200,1047.4400) .. (176.4800,1045.4800)
	        .. controls (176.0900,1044.3100) and (175.3900,1043.4200) ..
	        (174.4900,1042.8700) -- cycle;
	
	      %%% Dadra and nagar haveli
	      \path[draw=c231F20,fill=cFFFFD0] (-156.8000,512.1800) .. controls
	        (-157.3900,512.0900) and (-158.1700,512.1000) .. (-158.6200,512.2200) ..
	        controls (-158.6700,512.8100) and (-159.1000,513.1200) .. (-159.1100,513.7700)
	        .. controls (-160.4000,513.8200) and (-164.4800,514.2200) ..
	        (-164.1200,511.7100) .. controls (-163.9100,510.2600) and (-161.9500,511.2500)
	        .. (-161.5300,509.5500) .. controls (-159.9800,509.4800) and
	        (-156.7400,510.2200) .. (-157.2100,507.5900) .. controls (-157.8700,504.0200)
	        and (-163.2300,503.3200) .. (-165.6100,505.0800) .. controls
	        (-168.0800,506.9000) and (-169.2600,510.8100) .. (-168.6800,513.7400) ..
	        controls (-167.5300,519.6000) and (-161.7400,519.7100) .. (-156.5700,519.5100)
	        .. controls (-156.3600,517.1500) and (-156.2900,514.6300) ..
	        (-156.3800,512.2700) .. controls (-156.5100,512.2300) and (-156.6500,512.2000)
	        .. (-156.8000,512.1800) -- cycle;
	
	      %%% Mahe Pondicherry
	      \path[draw=c231F20,fill=cFFFFD0] (-62.9200,993.1900) .. controls
	        (-63.2500,993.4700) and (-63.5700,993.7000) .. (-63.8000,993.8700) .. controls
	        (-65.5100,995.0800) and (-68.6300,993.9500) .. (-68.8700,991.6200) .. controls
	        (-69.1100,989.2500) and (-64.8800,990.1000) .. (-63.1800,990.3000) .. controls
	        (-60.8600,990.5500) and (-61.1000,991.6600) .. (-62.9200,993.1900) -- cycle;
	
	      %%% Andaman and Nicobar
	      \path[draw=c231F20,fill=cFFFFD0] (1051.5500,1200.4400) .. controls
	        (1076.3300,1141.9000) and (1071.3800,1074.6600) .. (1059.2100,1014.1700) ..
	        controls (1050.9500,973.1400) and (1046.1500,918.3500) .. (1023.9400,882.0700)
	        .. controls (1016.2500,869.5100) and (1005.2500,863.5400) ..
	        (988.4900,859.2000) .. controls (959.9200,851.8000) and (895.2500,846.1200) ..
	        (871.1900,863.7800) .. controls (852.1200,877.7700) and (839.5600,899.8200) ..
	        (827.1600,920.2100) .. controls (805.8700,955.2100) and (811.3900,998.8100) ..
	        (814.9700,1038.9400) .. controls (819.1000,1085.2700) and (834.1300,1130.4300)
	        .. (857.4300,1169.8700) .. controls (874.0000,1197.9100) and
	        (881.9600,1229.6800) .. (899.0100,1255.1600) .. controls (905.6400,1265.0700)
	        and (910.3100,1281.3900) .. (919.7200,1287.5100) .. controls
	        (926.7200,1292.0600) and (939.1000,1289.7900) .. (947.2200,1290.5700) ..
	        controls (960.6000,1291.8500) and (978.4600,1296.4500) .. (991.3900,1291.9000)
	        .. controls (1033.0900,1277.2400) and (1036.4700,1236.0500) ..
	        (1051.5500,1200.4400) -- cycle;
	
	      %%% Diu
	      \path[draw=c231F20,fill=cFFFFD0] (-272.3600,474.2400) .. controls
	        (-272.2300,473.2700) and (-272.2000,472.3900) .. (-273.3800,472.1500) ..
	        controls (-274.3800,471.9500) and (-275.8500,473.1000) .. (-276.1100,474.0400)
	        .. controls (-275.1200,474.0100) and (-272.4600,475.4000) ..
	        (-272.1700,473.6500);
	    \end{scope} %%% union_territory
	  \end{scope} %%% Indian Territory
	
	  \begin{scope}%%% Outline of India Map
	    % foreign_2_
	    \path[draw=c231F20,fill=cF7D3AA,line width=1.200pt] (954.0400,247.7300) ..
	      controls (953.8200,248.6000) and (953.4600,249.4500) .. (952.9200,250.3800) ..
	      controls (951.7700,252.3400) and (952.5400,254.8400) .. (951.3700,256.6100) ..
	      controls (950.1400,258.4600) and (948.1200,258.0000) .. (947.6500,260.9100) ..
	      controls (947.4900,261.9400) and (947.8900,263.2200) .. (947.5600,264.2100) ..
	      controls (947.0800,265.6500) and (945.7600,266.0300) .. (944.5300,266.9000) ..
	      controls (944.4000,268.1700) and (944.7600,269.8800) .. (944.3300,271.0800) ..
	      controls (943.6200,273.1000) and (942.3300,272.7900) .. (940.6800,273.3000) ..
	      controls (938.5400,273.9600) and (939.3500,274.4700) .. (938.7200,276.3500) ..
	      controls (938.2100,277.8600) and (937.6600,278.4200) .. (937.6200,280.1900) ..
	      controls (937.6000,280.8800) and (937.7500,281.8400) .. (937.5400,282.4900) ..
	      controls (937.1800,283.6200) and (936.8600,283.2100) .. (936.3200,284.1100) ..
	      controls (935.5500,285.4200) and (935.6000,286.9900) .. (934.8700,288.2800) ..
	      controls (934.0900,289.6500) and (933.2000,290.2500) .. (932.6900,291.7800) ..
	      controls (932.2000,293.2500) and (932.1700,294.7900) .. (931.7100,296.2300) ..
	      controls (930.9200,298.7200) and (928.6400,313.1000) .. (924.2400,312.6200) ..
	      controls (923.0500,309.8500) and (920.8400,307.5000) .. (918.0200,306.2500) ..
	      controls (915.3400,305.0500) and (909.6700,305.1300) .. (909.6800,308.7500) ..
	      controls (907.8700,308.5500) and (907.7100,304.3500) .. (905.8600,303.4300) ..
	      controls (903.9400,302.4700) and (899.9300,303.1600) .. (897.8200,303.2500) ..
	      controls (897.6900,305.1700) and (898.3500,307.5800) .. (895.6900,307.4100) ..
	      controls (893.8900,307.3000) and (892.4200,305.6900) .. (891.3800,304.4100) ..
	      controls (890.7100,303.6000) and (888.7800,301.1100) .. (887.6000,301.1900) ..
	      controls (885.9700,301.3000) and (886.3100,303.8800) .. (885.8800,304.9100) ..
	      controls (885.1600,306.6000) and (883.8200,307.2600) .. (885.5800,309.1700) ..
	      controls (886.7500,310.4300) and (886.7600,310.3700) .. (886.9400,312.1300) ..
	      controls (887.0400,313.1400) and (887.0800,314.2700) .. (887.3700,315.1900) ..
	      controls (887.9800,317.1500) and (889.8100,319.0900) .. (890.8600,320.9700) ..
	      controls (892.3400,323.6100) and (891.8400,326.4000) .. (892.9000,329.0500) ..
	      controls (894.1800,332.2800) and (895.1900,335.7100) .. (895.1200,339.2300) ..
	      controls (895.0300,343.4600) and (894.8100,347.7000) .. (894.3500,351.9000) ..
	      controls (894.0900,354.2500) and (893.7900,356.6500) .. (893.1600,358.9400) ..
	      controls (892.8400,360.0900) and (892.4300,360.6100) .. (891.7300,361.4900) ..
	      controls (890.5900,362.9300) and (890.5400,364.4400) .. (890.0700,366.1700) ..
	      controls (889.5000,368.2900) and (888.1600,368.1600) .. (886.1700,368.1100) ..
	      controls (884.7300,368.0700) and (883.3900,368.7200) .. (881.9700,368.3000) ..
	      controls (880.4600,367.8600) and (880.0500,367.1200) .. (878.5000,367.9400) ..
	      controls (878.2400,369.1500) and (878.7400,371.7700) .. (879.1800,372.9300) ..
	      controls (879.8900,374.8100) and (880.7300,374.8300) .. (882.3500,374.0800) ..
	      controls (882.1900,376.9900) and (882.9400,379.8300) .. (882.0800,382.4900) ..
	      controls (881.3600,384.6900) and (882.4100,386.8300) .. (882.6200,389.0600) ..
	      controls (882.8300,391.2200) and (882.3400,393.6800) .. (884.0100,395.2500) ..
	      controls (884.9100,396.1000) and (885.4300,396.7800) .. (886.0800,397.8400) ..
	      controls (886.6000,398.6800) and (887.7600,399.5100) .. (887.4800,400.6900) ..
	      controls (885.3700,401.5400) and (886.7600,406.8800) .. (886.1400,408.7000) ..
	      controls (885.9400,409.2700) and (885.6800,409.4600) .. (885.4000,409.9900) ..
	      controls (885.3000,410.1700) and (885.0700,411.3000) .. (884.7000,411.5100) ..
	      controls (882.9800,412.4700) and (881.6200,409.1400) .. (879.5900,411.0500) ..
	      controls (878.2600,412.3000) and (878.8200,413.6700) .. (878.5900,415.4900) ..
	      controls (878.3100,417.6900) and (876.7600,416.6300) .. (875.5500,418.0800) ..
	      controls (874.2300,419.6500) and (874.3300,421.6000) .. (873.6800,423.3900) ..
	      controls (872.4400,423.5400) and (870.6100,423.9400) .. (869.3900,423.7700) ..
	      controls (867.7800,423.5400) and (867.8400,421.8900) .. (867.2200,420.4100) ..
	      controls (866.4200,418.5300) and (865.7500,417.3500) .. (864.1800,416.0200) ..
	      controls (863.5500,415.4900) and (862.7800,415.0500) .. (862.2000,414.4300) ..
	      controls (861.5400,413.7200) and (861.5600,412.9400) .. (860.4500,412.8800) ..
	      controls (858.7000,412.7800) and (858.9000,415.6500) .. (858.9700,417.0100) ..
	      controls (859.0700,418.8900) and (859.9300,420.2800) .. (857.7000,420.7800) ..
	      controls (855.6300,421.2400) and (855.7000,420.5800) .. (855.5700,418.7600) ..
	      controls (855.4300,416.8400) and (853.8300,415.9600) .. (853.6800,414.0300) ..
	      controls (853.3100,409.2600) and (852.5900,404.2700) .. (852.7200,399.4600) ..
	      controls (852.7700,397.4500) and (851.4900,395.8000) .. (851.0600,393.8800) ..
	      controls (850.8200,392.8300) and (850.5600,391.7300) .. (850.1100,390.7300) ..
	      controls (849.5600,389.5200) and (848.8000,388.4000) .. (848.3900,387.1300) ..
	      controls (848.0700,386.1100) and (848.0400,385.1200) .. (847.6400,384.1000) ..
	      controls (846.6100,381.5000) and (845.7600,379.0800) .. (844.4700,376.5400) ..
	      controls (843.9600,375.5400) and (843.1100,374.7700) .. (842.5300,373.8100) ..
	      controls (841.5500,372.2000) and (841.4800,370.0900) .. (840.9100,368.3400) ..
	      controls (840.2700,366.3800) and (839.3700,365.0300) .. (839.4300,362.8600) ..
	      controls (839.4800,361.0700) and (839.6700,359.3500) .. (839.7300,357.6000) ..
	      controls (839.8500,354.5000) and (840.7000,350.8100) .. (840.1500,347.7200) ..
	      controls (839.8100,345.7900) and (837.9700,345.1700) .. (837.0400,343.6300) ..
	      controls (836.3000,342.4200) and (836.6200,340.7400) .. (836.8100,339.3300) ..
	      controls (837.0400,337.6800) and (837.3200,336.2700) .. (836.5200,334.7800) ..
	      controls (835.7700,333.3800) and (835.4300,326.4700) .. (832.7200,327.7300) ..
	      controls (831.7800,328.1700) and (831.4500,330.5800) .. (830.6100,331.4000) ..
	      controls (830.1100,331.8900) and (827.8900,332.6500) .. (828.0400,333.6500) ..
	      controls (827.8400,332.3000) and (827.9600,330.6700) .. (826.1100,330.9100) ..
	      controls (823.2700,331.2900) and (821.6000,337.3100) .. (818.1700,334.7700) ..
	      controls (816.4400,333.4900) and (818.5400,329.8900) .. (815.0100,330.6700) ..
	      controls (814.0900,332.5100) and (814.4600,336.0400) .. (814.5200,338.1400) ..
	      controls (814.6100,340.8800) and (816.9400,342.4500) .. (816.5500,345.4100) ..
	      controls (814.0600,345.2800) and (812.5100,346.3100) .. (812.0100,348.4800) ..
	      controls (811.3800,351.1800) and (808.8700,352.0000) .. (807.8800,354.2600) ..
	      controls (807.1100,356.0300) and (808.1500,358.9200) .. (808.7800,360.6300) ..
	      controls (809.1800,361.7300) and (810.3800,363.3800) .. (810.3900,364.5300) ..
	      controls (810.4200,369.3300) and (801.9300,374.5900) .. (798.3200,370.6700) ..
	      controls (794.6200,366.6500) and (798.3800,359.3200) .. (793.9600,356.0400) ..
	      controls (789.0600,352.4100) and (790.4000,365.1600) .. (790.3600,367.2700) ..
	      controls (790.3400,368.2700) and (787.5000,366.3600) .. (787.2700,366.0200) ..
	      controls (786.4900,364.8400) and (786.4900,362.9500) .. (786.4800,361.5900) ..
	      controls (786.4700,360.0500) and (787.1600,358.4900) .. (787.1000,357.0200) ..
	      controls (787.0200,355.1200) and (785.3400,353.7200) .. (785.0300,351.8300) ..
	      controls (784.8000,350.4000) and (785.1400,349.1300) .. (784.6500,347.6900) ..
	      controls (784.1900,346.3500) and (783.4000,345.0600) .. (782.8100,343.7600) ..
	      controls (782.3100,342.6500) and (781.4300,341.3500) .. (781.2100,340.1500) ..
	      controls (781.0100,339.0500) and (781.6600,338.0700) .. (781.5000,337.0400) ..
	      controls (781.0800,334.2300) and (777.4000,334.2400) .. (778.7500,330.9100) ..
	      controls (779.6900,328.5900) and (781.9900,327.6000) .. (782.2100,324.9300) ..
	      controls (782.4200,322.4000) and (781.9000,320.5800) .. (782.6600,318.0600) ..
	      controls (784.9300,318.0900) and (785.9600,315.9400) .. (788.4100,316.1200) ..
	      controls (788.5100,314.9800) and (788.3200,313.7200) .. (788.8300,312.7000) ..
	      controls (790.2100,312.6300) and (791.8300,312.5600) .. (793.1600,312.9200) ..
	      controls (795.2200,313.4800) and (795.7600,314.4300) .. (797.5700,312.9400) ..
	      controls (798.4700,312.2000) and (799.7600,311.0000) .. (800.4400,310.1000) ..
	      controls (801.3600,308.8800) and (800.7600,307.4100) .. (801.6900,306.3500) ..
	      controls (802.7000,307.4000) and (803.3000,309.2800) .. (805.1800,308.7900) ..
	      controls (805.3800,306.3100) and (805.8900,305.2600) .. (808.6100,305.5000) ..
	      controls (810.8800,305.7000) and (811.5600,307.8700) .. (812.9900,309.3200) ..
	      controls (815.0400,307.0800) and (813.1900,304.0600) .. (814.1900,301.5400) ..
	      controls (814.5000,300.7600) and (815.1300,301.2000) .. (815.4900,300.3300) ..
	      controls (815.7100,299.7800) and (815.4400,298.9200) .. (815.5300,298.3300) ..
	      controls (815.8200,296.5900) and (816.7700,296.6000) .. (817.3700,295.1200) ..
	      controls (818.4100,295.6900) and (819.6700,297.9800) .. (821.0900,297.4800) ..
	      controls (822.2900,297.0600) and (822.2500,295.2000) .. (822.4800,294.2000) ..
	      controls (822.7200,294.2100) and (822.8100,294.2400) .. (823.0400,294.2700) ..
	      controls (823.3000,291.4700) and (826.1600,290.0600) .. (827.8700,288.1800) ..
	      controls (829.3600,286.5400) and (829.3100,286.1800) .. (829.4000,283.6300) ..
	      controls (829.4600,281.8800) and (829.6100,280.5600) .. (830.2400,279.0400) ..
	      controls (831.9800,277.3300) and (834.5600,276.5700) .. (832.9500,273.1000) ..
	      controls (831.7200,270.4600) and (830.0000,270.0700) .. (831.2200,266.7000) ..
	      controls (834.4600,266.6500) and (840.9400,272.9100) .. (843.4400,269.6400) ..
	      controls (844.1600,268.7000) and (843.9300,265.8700) .. (843.1800,265.0000) ..
	      controls (842.2400,263.9000) and (840.4400,264.2300) .. (839.0000,263.8000) ..
	      controls (838.9400,262.0800) and (839.2300,259.1200) .. (837.6100,258.0800) ..
	      controls (835.8900,256.9700) and (832.1700,257.7500) .. (830.1200,257.5500) ..
	      controls (828.4000,253.8400) and (824.3500,252.7000) .. (820.5600,252.5800) ..
	      controls (816.1600,252.4400) and (811.8400,252.0700) .. (807.4000,252.2300) ..
	      controls (806.1300,252.2700) and (804.4600,251.9200) .. (803.2700,252.4300) ..
	      controls (801.7400,253.0900) and (802.9300,253.8200) .. (801.8500,254.7500) ..
	      controls (800.9100,255.5500) and (796.6000,254.7400) .. (795.3100,254.7000) ..
	      controls (794.9100,254.6900) and (794.1500,254.8300) .. (793.7900,254.6800) ..
	      controls (793.4100,254.5200) and (792.7600,253.6000) .. (792.7700,253.6000) ..
	      controls (791.1800,253.1200) and (789.9600,254.5400) .. (788.4400,254.6900) ..
	      controls (785.6600,254.9700) and (783.8200,251.8800) .. (781.2000,252.0300) ..
	      controls (778.9700,252.1600) and (777.2900,254.3000) .. (774.8100,254.1000) ..
	      controls (772.6900,253.9300) and (770.9800,252.4000) .. (768.8400,252.3600) ..
	      controls (767.0100,252.3300) and (764.9400,252.9500) .. (762.9800,252.9100) ..
	      controls (758.0500,252.8200) and (753.1100,252.3300) .. (748.2100,253.0500) ..
	      controls (743.9500,253.6800) and (738.8600,253.7200) .. (734.5700,253.4500) ..
	      controls (731.5700,253.2700) and (730.1600,252.3000) .. (727.5100,251.5300) ..
	      controls (725.9300,251.0600) and (722.4600,250.8100) .. (720.8700,250.1200) ..
	      controls (717.7300,248.7600) and (716.4100,246.4000) .. (712.8500,246.7100) ..
	      controls (710.2800,246.9300) and (706.7400,248.4900) .. (705.0800,245.5800) ..
	      controls (702.1800,240.4700) and (704.2000,232.1500) .. (703.9900,226.5600) ..
	      controls (703.8900,223.9700) and (703.0400,221.3100) .. (703.1800,218.8600) ..
	      controls (703.3400,216.1900) and (704.4700,214.2800) .. (704.3200,211.2700) ..
	      controls (700.1700,209.5500) and (703.7500,195.1100) .. (696.6500,198.9900) ..
	      controls (695.4600,199.6400) and (695.3300,200.3600) .. (694.6000,200.9500) ..
	      controls (692.9800,202.2600) and (692.2900,201.8800) .. (691.4800,203.4100) ..
	      controls (691.3700,203.6200) and (691.5300,204.8900) .. (691.3900,205.3100) ..
	      controls (691.1200,206.1400) and (690.0100,206.8700) .. (689.6100,207.7000) ..
	      controls (689.3200,208.3000) and (689.3000,210.1100) .. (688.9000,210.4500) ..
	      controls (687.6700,211.4900) and (682.8000,210.5500) .. (681.2700,210.3100) ..
	      controls (677.7800,209.7600) and (674.6500,207.0800) .. (671.7000,205.3700) ..
	      controls (669.6200,204.1700) and (668.8500,203.4700) .. (667.8000,201.2400) ..
	      controls (667.0100,199.5800) and (667.1300,198.7400) .. (666.9200,196.5300) ..
	      controls (666.8200,195.4800) and (666.6300,192.3800) .. (666.0500,191.4900) ..
	      controls (665.0800,189.9800) and (661.9800,190.7100) .. (662.3900,187.8000) ..
	      controls (660.4500,187.6300) and (658.5000,187.4300) .. (656.7800,188.3300) ..
	      controls (656.0400,190.9600) and (658.2900,191.9600) .. (659.5900,193.7500) ..
	      controls (660.7400,195.3200) and (661.6300,197.0900) .. (662.7900,198.7100) ..
	      controls (661.7400,198.7700) and (660.5400,198.8400) .. (659.4700,198.6900) ..
	      controls (657.7000,198.4400) and (657.8400,197.8200) .. (656.7600,197.2800) ..
	      controls (655.4700,196.6400) and (655.4000,195.4100) .. (653.8600,197.2000) ..
	      controls (653.4600,197.6700) and (653.6700,199.3900) .. (653.4000,199.9100) ..
	      controls (653.0000,199.1200) and (652.7600,197.9000) .. (652.4200,196.8800) ..
	      controls (649.6400,196.6400) and (651.6500,200.9600) .. (649.7300,201.8300) ..
	      controls (649.7700,203.2700) and (649.4300,204.6900) .. (649.1500,206.0700) ..
	      controls (648.5900,204.6700) and (649.0500,202.2000) .. (648.9800,200.4700) ..
	      controls (647.7500,200.5900) and (646.3600,200.8700) .. (645.0600,200.6000) ..
	      controls (644.9400,198.7500) and (646.6700,197.6900) .. (647.1400,196.0300) ..
	      controls (647.5300,194.6500) and (647.2600,192.4700) .. (647.2100,191.0700) ..
	      controls (645.4000,190.9000) and (643.7000,190.8100) .. (641.9500,190.4900) ..
	      controls (642.3500,189.7100) and (642.7000,188.8100) .. (642.9500,187.9500) ..
	      controls (641.4400,187.8200) and (639.8600,187.8600) .. (638.3500,187.7300) ..
	      controls (638.4400,186.9200) and (638.2200,185.9600) .. (638.3200,185.1600) ..
	      controls (636.5100,185.4100) and (632.5700,182.9000) .. (632.7200,181.0200) ..
	      controls (631.9500,180.8400) and (631.3800,180.4200) .. (630.5000,180.5400) ..
	      controls (630.5200,179.6900) and (630.2900,178.3700) .. (630.1800,178.1800) ..
	      controls (630.3200,179.7200) and (629.3700,180.2100) .. (629.0800,181.5300) ..
	      controls (628.6500,183.4900) and (629.5200,184.1100) .. (630.2400,185.6700) ..
	      controls (631.6500,188.7500) and (632.0900,188.7900) .. (635.5400,189.1100) ..
	      controls (635.8300,190.5700) and (636.7500,191.8900) .. (636.4400,193.3800) ..
	      controls (634.4000,193.2100) and (632.9500,193.8200) .. (631.7600,195.0500) ..
	      controls (630.0500,196.8300) and (630.8400,199.0600) .. (628.8100,200.5800) ..
	      controls (626.7300,202.1300) and (624.0200,201.9600) .. (622.2500,204.1800) ..
	      controls (621.0900,205.6200) and (620.2300,206.4900) .. (620.6200,208.4700) ..
	      controls (620.9100,209.9800) and (622.2100,210.5800) .. (621.8900,212.3700) ..
	      controls (617.4000,213.1300) and (618.5400,220.8000) .. (618.6700,224.3200) ..
	      controls (620.5200,224.7400) and (622.1200,223.9500) .. (623.8800,224.6000) ..
	      controls (625.2500,225.1000) and (626.6400,225.4600) .. (627.9800,225.9300) ..
	      controls (629.6100,226.5100) and (630.6900,227.5400) .. (631.8900,228.7900) ..
	      controls (632.6200,229.5500) and (634.0900,230.4700) .. (634.4700,231.4600) ..
	      controls (634.7800,232.2800) and (634.2000,233.3300) .. (634.4400,234.1500) ..
	      controls (635.3800,237.4600) and (639.1100,238.8500) .. (641.7500,240.2400) ..
	      controls (643.7600,241.3000) and (644.5000,241.6400) .. (647.0100,240.8700) ..
	      controls (649.2600,240.1800) and (649.7000,239.0300) .. (651.3700,237.6000) ..
	      controls (651.8300,239.0900) and (652.8100,240.4900) .. (653.4100,241.8900) ..
	      controls (654.1200,243.5400) and (654.2100,244.9800) .. (655.2400,246.3500) ..
	      controls (656.1100,247.5000) and (658.2100,249.6600) .. (659.4500,249.0600) ..
	      controls (660.9100,248.3600) and (659.7700,245.6200) .. (662.5600,246.2500) ..
	      controls (662.8500,247.6900) and (661.0600,254.9900) .. (659.8900,255.8400) ..
	      controls (658.3500,256.9500) and (653.9700,253.7200) .. (653.2400,256.5900) ..
	      controls (650.2800,256.7000) and (647.4400,255.9600) .. (644.5700,256.4200) ..
	      controls (642.4200,256.7700) and (638.8900,256.4100) .. (636.9200,257.2800) ..
	      controls (636.2800,260.7100) and (638.0300,262.5700) .. (637.5900,265.8700) ..
	      controls (633.6900,265.9000) and (634.4400,266.9400) .. (634.1200,270.4600) ..
	      controls (632.7200,270.5100) and (631.2700,270.4000) .. (629.8700,270.4500) ..
	      controls (629.4400,272.3300) and (630.3600,273.1800) .. (631.7100,274.0600) ..
	      controls (630.8100,274.1400) and (629.1300,274.3700) .. (628.4600,273.7100) ..
	      controls (627.5900,272.8500) and (628.6400,271.5000) .. (627.8300,270.6600) ..
	      controls (626.8500,269.6500) and (622.5400,270.1800) .. (621.1700,270.2300) ..
	      controls (620.8900,273.4000) and (621.5200,276.5000) .. (619.8000,279.0800) ..
	      controls (619.2700,279.8700) and (618.5600,280.2800) .. (618.0700,281.1200) ..
	      controls (617.6500,281.8600) and (618.0700,282.6900) .. (617.7000,283.3700) ..
	      controls (616.9400,284.7800) and (615.1900,284.3100) .. (615.9900,286.4200) ..
	      controls (616.4000,287.5100) and (618.8000,288.4800) .. (619.5300,289.5900) ..
	      controls (620.2500,290.7000) and (620.2700,292.0700) .. (620.9200,293.1400) ..
	      controls (622.2700,295.3600) and (625.8300,295.8400) .. (626.8300,297.6600) ..
	      controls (628.9000,297.9400) and (631.1200,299.0600) .. (630.7500,301.4400) ..
	      controls (633.0800,301.6500) and (635.4700,301.5800) .. (637.6300,302.4100) ..
	      controls (639.4900,303.1200) and (640.5000,304.2000) .. (642.6800,304.4700) ..
	      controls (644.9600,304.7500) and (647.2200,304.1800) .. (649.0100,305.2900) ..
	      controls (652.2400,307.2900) and (653.7000,314.3400) .. (653.3100,317.8400) ..
	      controls (652.9700,320.8800) and (651.1100,322.8300) .. (649.9800,325.7100) ..
	      controls (649.4200,327.1500) and (650.0300,327.8400) .. (648.6000,328.6600) ..
	      controls (647.3100,329.4000) and (645.6500,328.1300) .. (644.5000,329.0000) ..
	      controls (643.5500,329.7200) and (643.4500,332.1300) .. (643.3200,333.1800) ..
	      controls (642.9100,336.4900) and (643.2900,339.8600) .. (643.4200,343.1700) ..
	      controls (644.1200,343.2400) and (645.8000,342.9600) .. (646.4000,343.2800) ..
	      controls (647.1800,343.7000) and (646.9000,344.5900) .. (647.3400,345.0000) ..
	      controls (648.6200,346.1800) and (649.9000,347.2300) .. (651.6400,348.0200) ..
	      controls (653.4600,348.8400) and (655.5600,348.7100) .. (654.9800,351.2000) ..
	      controls (654.7500,352.1700) and (653.8000,352.1200) .. (653.4200,353.0800) ..
	      controls (653.1100,353.8500) and (653.2800,354.6200) .. (653.1000,355.4800) ..
	      controls (652.6400,357.8100) and (651.3500,361.9100) .. (652.3100,364.2600) ..
	      controls (653.7500,367.8200) and (656.0500,362.9600) .. (659.3000,362.9800) ..
	      controls (660.6400,362.9900) and (665.4000,364.5100) .. (666.4900,365.1900) ..
	      controls (664.3900,364.5600) and (663.5700,366.4300) .. (663.1100,368.0500) ..
	      controls (659.8000,369.4300) and (660.9000,375.3700) .. (660.0200,378.0700) ..
	      controls (661.0900,378.2600) and (661.7700,379.0600) .. (662.2500,380.0500) ..
	      controls (662.6600,380.8900) and (663.9500,381.0900) .. (664.3800,382.6000) ..
	      controls (664.7900,384.0500) and (664.4300,385.9900) .. (664.2900,387.4400) ..
	      controls (662.1600,388.2100) and (663.9900,390.0700) .. (664.2300,391.8400) ..
	      controls (664.5200,393.9200) and (664.4100,395.5900) .. (665.0900,397.5200) ..
	      controls (666.4700,401.4500) and (667.9400,403.8900) .. (667.8300,408.3000) ..
	      controls (667.7100,412.8900) and (668.7400,414.9100) .. (671.0100,418.6600) ..
	      controls (672.9100,421.7900) and (673.4100,425.2700) .. (672.9000,428.8600) ..
	      controls (672.6500,430.6300) and (672.2300,432.2500) .. (672.1700,434.0200) ..
	      controls (672.0900,436.1500) and (670.6300,437.9700) .. (670.5500,440.1000) ..
	      controls (670.4900,441.8700) and (670.5400,444.7400) .. (671.4000,446.2800) ..
	      controls (672.2900,447.8800) and (674.0700,448.4900) .. (674.9300,450.0300) ..
	      controls (675.9300,451.8200) and (677.0200,453.8900) .. (677.7000,455.8200) ..
	      controls (678.6600,458.5300) and (679.2900,461.3500) .. (679.7600,464.1800) ..
	      controls (680.8900,470.9900) and (681.1000,477.9500) .. (681.0200,484.8500) ..
	      controls (680.8500,499.4600) and (679.2200,514.0100) .. (677.4400,528.4900) ..
	      controls (676.9500,532.5000) and (676.4300,536.5200) .. (675.9800,540.5400) ..
	      controls (672.5200,571.3800) and (663.6900,601.1800) .. (650.6400,629.3200) ..
	      controls (621.5400,692.0600) and (574.5200,740.9900) .. (533.1700,795.3600) ..
	      controls (487.1600,855.8600) and (441.1700,918.5100) .. (391.3500,975.9300) ..
	      controls (369.6600,1000.9200) and (345.5900,1023.7000) .. (317.3200,1041.1800)
	      .. controls (304.5700,1049.0600) and (289.9400,1055.4000) ..
	      (276.0600,1061.0000) .. controls (256.0700,1069.0800) and (234.2600,1072.0100)
	      .. (214.5400,1080.5700) .. controls (202.3900,1085.8400) and
	      (189.9100,1094.1800) .. (179.4300,1102.2200) .. controls (171.8700,1108.0300)
	      and (164.4400,1114.3300) .. (158.4500,1121.7800) .. controls
	      (155.9000,1124.9400) and (152.7700,1128.6500) .. (152.3200,1132.7300) ..
	      controls (151.7300,1138.0700) and (154.6200,1143.2200) .. (153.4100,1148.6600)
	      .. controls (152.3800,1153.3200) and (149.0000,1156.1600) ..
	      (145.9600,1159.8400) .. controls (141.0800,1165.7600) and (137.2300,1170.7800)
	      .. (136.0800,1178.3800) .. controls (134.6200,1188.0400) and
	      (132.0300,1197.5300) .. (130.7100,1207.2600) .. controls (126.9200,1235.2200)
	      and (135.4000,1260.1500) .. (147.1900,1284.9300) .. controls
	      (156.7200,1304.9500) and (170.8100,1322.8100) .. (193.2600,1328.4400) ..
	      controls (204.3300,1331.2200) and (215.9300,1331.0300) .. (227.2100,1329.8300)
	      .. controls (239.0600,1328.5800) and (254.5500,1327.6200) ..
	      (265.5700,1322.9900) .. controls (276.8700,1318.2500) and (287.7100,1312.5500)
	      .. (298.5900,1306.9500) .. controls (333.6700,1288.8900) and
	      (369.1800,1272.0200) .. (403.0000,1251.6800) .. controls (461.6100,1216.4300)
	      and (518.7800,1178.4500) .. (575.8400,1140.7600) .. controls
	      (607.3000,1119.9700) and (639.1900,1099.3400) .. (669.5800,1077.0200) ..
	      controls (746.9600,1020.2100) and (824.3500,955.3500) .. (871.1000,870.0300)
	      .. controls (884.0100,846.4600) and (889.9700,822.1300) .. (899.9200,797.5000)
	      .. controls (911.3200,769.2900) and (922.1700,774.9700) .. (947.6300,775.3500)
	      .. controls (969.0700,775.6700) and (990.5500,777.5200) ..
	      (1012.0100,778.1200) .. controls (1031.3000,778.6600) and (1128.7100,758.3500)
	      .. (1148.5400,742.8100) -- (1149.8600,-521.1400) -- (-490.4600,-521.8100) --
	      (-491.4600,278.7900) .. controls (-488.1600,281.5200) and (-451.4600,280.4700)
	      .. (-448.4600,282.8000) .. controls (-446.2400,284.5200) and
	      (-444.1300,288.2100) .. (-442.9200,289.0300) .. controls (-437.5900,292.6200)
	      and (-435.5300,293.3100) .. (-426.6600,293.5300) .. controls
	      (-421.8500,293.6500) and (-417.4700,295.3000) .. (-412.6900,294.3100) ..
	      controls (-411.1500,293.9900) and (-399.7100,293.7400) .. (-399.6100,293.4400)
	      .. controls (-398.9700,291.4100) and (-398.2100,289.7500) ..
	      (-397.6900,287.9200) .. controls (-395.9500,287.1500) and (-397.2300,285.3600)
	      .. (-396.6400,283.8800) .. controls (-396.1700,282.7000) and
	      (-395.0600,282.5000) .. (-394.5000,281.3300) .. controls (-393.3800,281.3200)
	      and (-391.9100,281.5700) .. (-390.9400,280.9700) .. controls
	      (-389.6400,280.1600) and (-390.5100,278.9200) .. (-388.5400,278.8300) ..
	      controls (-387.6800,278.7900) and (-386.7000,279.9900) .. (-385.8400,280.1800)
	      .. controls (-384.7200,280.4300) and (-383.2900,280.2300) ..
	      (-382.1400,280.2600) .. controls (-376.7200,280.4000) and (-371.1900,280.8500)
	      .. (-365.7900,280.6400) .. controls (-364.5000,278.4800) and
	      (-364.8000,275.4400) .. (-363.9400,273.0600) .. controls (-363.0200,270.5300)
	      and (-362.4000,268.4100) .. (-362.3300,265.4300) .. controls
	      (-362.2800,263.4000) and (-361.8900,257.1800) .. (-359.8800,261.4800) ..
	      controls (-359.1400,263.0600) and (-359.9300,268.1400) .. (-357.4300,268.1600)
	      .. controls (-356.8500,266.5400) and (-355.2800,262.3500) ..
	      (-353.2700,262.7100) .. controls (-352.5100,265.3200) and (-352.6100,267.8800)
	      .. (-348.9400,266.4400) .. controls (-348.0100,266.0700) and
	      (-347.3300,264.8000) .. (-346.3100,264.8900) .. controls (-345.3700,264.9700)
	      and (-344.3700,266.7800) .. (-343.5300,267.1600) .. controls
	      (-340.8900,268.3400) and (-338.7400,267.2600) .. (-336.5700,266.7500) ..
	      controls (-334.9200,266.3700) and (-335.2400,266.2500) .. (-333.5600,266.9200)
	      .. controls (-332.2900,267.4300) and (-331.8700,268.5700) ..
	      (-330.2900,268.2100) .. controls (-329.7100,265.7200) and (-328.8200,266.2000)
	      .. (-327.0900,266.5900) .. controls (-325.6400,266.9200) and
	      (-324.3400,267.4100) .. (-322.5100,267.4600) .. controls (-321.1800,267.4900)
	      and (-318.2900,267.0000) .. (-317.1400,267.5800) .. controls
	      (-316.2300,268.0300) and (-314.6100,270.7500) .. (-313.9800,271.6900) ..
	      controls (-311.4000,275.5000) and (-309.7700,276.4900) .. (-305.0000,276.6100)
	      .. controls (-302.9800,276.6600) and (-295.7500,277.9100) ..
	      (-295.5400,275.5800) .. controls (-293.6200,274.1000) and (-291.4900,272.8500)
	      .. (-289.7000,271.3600) .. controls (-287.9900,269.9300) and
	      (-288.1800,269.8000) .. (-285.7300,269.7700) .. controls (-284.0400,269.7500)
	      and (-282.9100,269.7700) .. (-281.3600,269.2200) .. controls
	      (-279.6100,268.6000) and (-278.8000,267.2400) .. (-277.2800,266.6600) ..
	      controls (-276.0500,266.1900) and (-274.1700,266.1400) .. (-272.9200,266.1000)
	      .. controls (-269.9800,266.0000) and (-266.8300,266.1200) ..
	      (-263.9200,266.3800) .. controls (-263.5700,270.4200) and (-266.6100,275.1300)
	      .. (-262.1300,277.0600) .. controls (-258.8900,278.4600) and
	      (-253.9000,278.1200) .. (-250.2200,277.9800) .. controls (-250.0400,275.3200)
	      and (-248.9200,273.1800) .. (-246.0000,273.0800) .. controls
	      (-245.9600,272.9000) and (-245.9200,272.7100) .. (-245.8700,272.5300) ..
	      controls (-244.3500,272.4700) and (-242.6500,272.2300) .. (-241.5800,273.3000)
	      .. controls (-240.1100,272.1200) and (-238.0500,269.9900) ..
	      (-236.2000,270.0000) .. controls (-235.8100,269.6700) and (-235.6600,269.3600)
	      .. (-235.1600,269.0200) .. controls (-235.1500,268.7800) and
	      (-235.1700,268.3400) .. (-235.1400,268.1200) .. controls (-237.5300,267.9100)
	      and (-240.0100,268.0500) .. (-242.4000,267.8300) .. controls
	      (-242.8700,265.0700) and (-241.1400,262.2800) .. (-241.2800,259.2800) ..
	      controls (-241.7500,259.1900) and (-242.0200,258.8800) .. (-242.5000,258.7900)
	      .. controls (-242.0600,255.8100) and (-238.7100,255.3500) ..
	      (-236.2400,255.5300) .. controls (-235.3200,251.7800) and (-241.0100,245.4600)
	      .. (-242.9100,242.3000) .. controls (-245.3100,238.3100) and
	      (-247.2300,237.2700) .. (-248.0800,232.6600) .. controls (-248.7300,229.1400)
	      and (-251.2800,226.8900) .. (-252.8400,223.5200) .. controls
	      (-254.4600,220.0500) and (-256.1100,216.5000) .. (-257.1200,212.9200) ..
	      controls (-258.1800,209.1700) and (-258.4500,205.8900) .. (-258.3400,201.8400)
	      .. controls (-258.1700,195.7900) and (-257.8700,194.8200) ..
	      (-264.1800,194.6700) .. controls (-268.1000,194.5800) and (-271.6800,194.0700)
	      .. (-275.1900,192.8800) .. controls (-276.6400,192.3900) and
	      (-278.2100,191.7700) .. (-279.1800,190.8000) .. controls (-280.6700,189.3000)
	      and (-279.0400,187.8600) .. (-282.4900,187.1000) .. controls
	      (-282.5600,185.5000) and (-281.9100,182.7500) .. (-282.5300,181.2800) ..
	      controls (-283.0400,180.0700) and (-285.0300,179.9600) .. (-285.7500,178.0900)
	      .. controls (-286.7700,175.4500) and (-285.9700,168.7700) ..
	      (-284.5500,166.6300) .. controls (-283.4800,165.0200) and (-281.7300,164.5300)
	      .. (-280.4700,162.6700) .. controls (-279.2300,160.8400) and
	      (-279.3500,159.2600) .. (-279.2800,156.7200) .. controls (-279.1700,152.4000)
	      and (-277.9100,147.8900) .. (-281.5000,145.2400) .. controls
	      (-284.2300,143.2200) and (-289.0900,142.1700) .. (-292.5100,142.4400) ..
	      controls (-293.4000,142.5100) and (-293.1800,144.1300) .. (-294.5200,143.8400)
	      .. controls (-296.0000,143.5200) and (-295.8500,142.5000) ..
	      (-296.8800,141.7100) .. controls (-298.1100,140.7700) and (-299.0500,139.5000)
	      .. (-300.2900,138.5000) .. controls (-306.3900,133.5700) and
	      (-313.7200,133.1300) .. (-311.0900,123.3300) .. controls (-310.3400,120.5200)
	      and (-308.4800,119.2400) .. (-307.9000,116.4000) .. controls
	      (-306.5500,109.7900) and (-307.4100,107.4400) .. (-301.4400,103.6700) ..
	      controls (-297.5600,101.2200) and (-292.9600,99.3200) .. (-289.4000,96.7300)
	      .. controls (-286.2700,94.4600) and (-282.7100,89.8600) .. (-280.2700,86.8300)
	      .. controls (-277.8700,83.8500) and (-275.7200,81.1200) .. (-273.2400,78.2200)
	      .. controls (-272.1500,76.9400) and (-271.8700,74.9900) .. (-270.6300,73.6600)
	      .. controls (-265.9000,68.5700) and (-256.3600,63.3500) .. (-249.9000,69.2400)
	      .. controls (-247.0400,71.8500) and (-248.9500,73.7400) .. (-248.0000,77.7700)
	      .. controls (-247.2800,80.8100) and (-242.1700,86.4900) .. (-239.1500,87.2400)
	      .. controls (-233.6700,88.6100) and (-228.6900,83.9900) .. (-223.9000,82.1900)
	      .. controls (-219.5200,80.5400) and (-215.3700,80.1300) .. (-210.4100,80.2600)
	      .. controls (-202.0500,80.4800) and (-193.3700,83.3600) .. (-186.6800,77.5000)
	      .. controls (-182.4100,73.7600) and (-182.7000,68.3400) .. (-179.5600,64.0000)
	      .. controls (-177.9900,61.8200) and (-175.2900,60.9100) .. (-172.9000,59.6600)
	      .. controls (-170.3100,58.3100) and (-168.6700,57.9800) .. (-167.6300,55.4100)
	      .. controls (-166.6100,52.8700) and (-169.3300,47.4800) .. (-165.4800,46.8700)
	      .. controls (-163.1400,42.4100) and (-160.2200,36.7400) .. (-155.0700,35.1900)
	      .. controls (-152.0400,34.2800) and (-149.7400,34.7100) .. (-147.0900,32.7700)
	      .. controls (-141.7900,28.8800) and (-135.7400,27.8900) .. (-130.5400,24.2400)
	      .. controls (-123.8300,19.5300) and (-122.7600,11.9200) .. (-116.6700,6.9100)
	      .. controls (-114.4500,5.0800) and (-112.8800,2.1800) .. (-111.6900,-0.7400)
	      .. controls (-110.5400,-3.5600) and (-109.6900,-6.8300) .. (-108.5800,-9.7600)
	      .. controls (-106.4900,-15.2900) and (-104.7100,-20.2500) ..
	      (-104.1300,-26.0200) .. controls (-100.7200,-27.7400) and (-98.6500,-28.9800)
	      .. (-94.6000,-28.8700) .. controls (-91.8800,-28.7900) and (-89.2100,-27.9000)
	      .. (-86.4700,-27.9900) .. controls (-83.4000,-28.0900) and (-83.1100,-30.5600)
	      .. (-81.5100,-32.9100) .. controls (-80.3100,-34.6700) and (-78.7100,-35.4400)
	      .. (-76.7500,-36.3600) .. controls (-74.5000,-37.4100) and (-74.9400,-37.5600)
	      .. (-74.4600,-39.8700) .. controls (-73.8900,-42.6200) and (-73.4000,-45.2600)
	      .. (-73.5200,-48.3100) .. controls (-75.3700,-49.1300) and (-77.4300,-50.9900)
	      .. (-75.3400,-52.9100) .. controls (-74.9200,-53.3000) and (-71.9000,-53.7600)
	      .. (-71.8600,-53.8700) .. controls (-71.4600,-55.1900) and (-72.4500,-56.0900)
	      .. (-73.7400,-55.9200) .. controls (-74.1500,-58.9200) and (-70.0600,-58.2000)
	      .. (-68.2300,-58.2900) .. controls (-68.2000,-58.4300) and (-68.1700,-58.5600)
	      .. (-68.1300,-58.7000) .. controls (-66.3500,-58.9800) and (-65.8200,-61.6000)
	      .. (-64.1100,-61.9400) .. controls (-64.0200,-62.9800) and (-64.0500,-64.0700)
	      .. (-63.9500,-65.1100) .. controls (-61.3600,-65.1000) and (-61.2300,-65.6700)
	      .. (-59.7100,-67.5400) .. controls (-58.5400,-68.9800) and (-56.5000,-69.0600)
	      .. (-55.7900,-70.7000) .. controls (-54.8600,-72.8400) and (-56.1300,-74.0700)
	      .. (-53.4200,-75.1500) .. controls (-51.4200,-75.9500) and (-50.1100,-75.8200)
	      .. (-48.5700,-77.5200) .. controls (-47.0900,-79.1600) and (-45.7500,-80.7400)
	      .. (-44.1900,-82.1700) .. controls (-43.4900,-82.8100) and (-43.3000,-83.3100)
	      .. (-42.7000,-84.1500) .. controls (-41.8800,-85.2900) and (-41.9700,-85.1000)
	      .. (-40.8400,-85.5900) .. controls (-39.5600,-86.1400) and (-39.5300,-85.7800)
	      .. (-38.6100,-86.7900) .. controls (-37.8100,-87.6700) and (-38.2900,-88.0900)
	      .. (-36.9900,-88.5000) .. controls (-36.1800,-88.7600) and (-34.8900,-88.0000)
	      .. (-34.2100,-88.6600) .. controls (-33.6700,-89.1700) and (-33.9300,-90.7000)
	      .. (-33.9400,-91.3800) .. controls (-35.0900,-91.8800) and (-36.7100,-91.9200)
	      .. (-37.8800,-91.4800) .. controls (-37.8000,-91.0800) and (-38.0800,-90.4600)
	      .. (-37.9900,-90.0600) .. controls (-38.7900,-90.0400) and (-39.6200,-90.0600)
	      .. (-40.4300,-90.1200) .. controls (-40.4400,-90.4000) and (-40.5200,-90.7800)
	      .. (-40.4800,-91.0500) .. controls (-43.3900,-91.2400) and
	      (-40.4700,-101.3500) .. (-39.8700,-102.5900) .. controls (-39.3500,-103.6700)
	      and (-38.1600,-105.0300) .. (-37.2200,-105.7700) .. controls
	      (-36.7400,-106.1500) and (-34.8600,-106.5500) .. (-34.7900,-107.2600) ..
	      controls (-34.5000,-110.3300) and (-35.0600,-110.7800) .. (-38.0800,-110.8000)
	      .. controls (-37.5100,-111.2300) and (-36.8500,-111.5700) ..
	      (-36.1800,-111.8100) .. controls (-35.9200,-114.4400) and (-36.6400,-116.7500)
	      .. (-37.8500,-119.0500) .. controls (-38.4000,-120.0800) and
	      (-41.0900,-123.9900) .. (-39.8300,-125.0900) .. controls (-38.3500,-126.3700)
	      and (-37.4200,-124.0200) .. (-36.5100,-126.5500) .. controls
	      (-35.8400,-128.3900) and (-36.2000,-128.6400) .. (-34.9100,-130.0700) ..
	      controls (-33.7100,-131.3900) and (-32.7600,-132.6300) .. (-31.0700,-133.1700)
	      .. controls (-28.0000,-134.1600) and (-24.4600,-132.3500) ..
	      (-24.4100,-136.7200) .. controls (-22.6400,-136.8300) and (-22.7800,-139.0900)
	      .. (-21.5500,-139.9600) .. controls (-20.1700,-140.9300) and
	      (-17.4600,-140.3400) .. (-15.8100,-140.2900) .. controls (-12.1000,-140.1900)
	      and (-8.4800,-140.1500) .. (-4.8000,-140.2900) .. controls (-4.3200,-141.6900)
	      and (-3.0500,-142.1700) .. (-1.9900,-142.9800) .. controls (-0.5300,-144.1000)
	      and (-0.1500,-144.5100) .. (-0.0800,-146.3900) .. controls (0.0200,-149.1800)
	      and (1.6600,-152.8600) .. (1.3200,-155.5100) .. controls (1.1100,-157.1800)
	      and (-2.3400,-160.1900) .. (-3.9600,-160.7200) .. controls (-5.1500,-161.1100)
	      and (-7.0200,-160.7500) .. (-8.2800,-160.8600) .. controls (-7.9900,-162.8000)
	      and (-9.8800,-163.3800) .. (-9.9500,-165.1400) .. controls
	      (-10.8900,-165.2600) and (-11.9100,-165.2800) .. (-12.8500,-165.2100) ..
	      controls (-12.8900,-165.0300) and (-12.9400,-164.8400) .. (-12.9800,-164.6600)
	      .. controls (-14.1000,-164.7200) and (-14.7000,-164.1500) ..
	      (-14.6900,-163.0300) .. controls (-15.4300,-162.8900) and (-16.5300,-162.9200)
	      .. (-17.2600,-163.1000) .. controls (-17.2900,-163.2900) and
	      (-17.3300,-163.4700) .. (-17.3600,-163.6600) .. controls (-17.7200,-163.6600)
	      and (-18.2300,-163.7100) .. (-18.5800,-163.8100) .. controls
	      (-19.0600,-164.8900) and (-19.6000,-165.8700) .. (-19.6100,-167.0700) ..
	      controls (-22.5800,-167.3300) and (-27.7900,-168.2500) .. (-29.6500,-165.6700)
	      .. controls (-30.5100,-166.6100) and (-30.2800,-168.0200) ..
	      (-30.2700,-169.3400) .. controls (-33.1300,-170.1500) and (-29.9100,-172.0600)
	      .. (-29.5300,-172.7800) .. controls (-28.5600,-174.6100) and
	      (-28.9300,-175.7900) .. (-29.0600,-177.6600) .. controls (-29.2400,-177.7000)
	      and (-29.4300,-177.7500) .. (-29.6100,-177.7900) .. controls
	      (-30.0600,-180.4100) and (-27.9900,-182.4600) .. (-28.1800,-185.3300) ..
	      controls (-29.5700,-185.5000) and (-30.6300,-185.0800) .. (-31.7800,-184.4100)
	      .. controls (-31.9000,-183.3600) and (-31.8700,-182.2400) ..
	      (-31.9700,-181.1800) .. controls (-35.9400,-181.0300) and (-38.1500,-183.2000)
	      .. (-42.2000,-183.0100) .. controls (-42.2900,-182.5400) and
	      (-42.6000,-182.2700) .. (-42.6800,-181.8000) .. controls (-47.9500,-180.7300)
	      and (-45.7300,-186.9500) .. (-48.4600,-188.6000) .. controls
	      (-49.6500,-189.3100) and (-51.4800,-188.5100) .. (-52.8300,-189.3600) ..
	      controls (-54.1800,-190.2100) and (-54.4800,-192.1900) .. (-56.0300,-192.5000)
	      .. controls (-57.1400,-197.2500) and (-67.3900,-197.2700) ..
	      (-70.6500,-197.5600) .. controls (-70.0000,-201.8400) and (-73.4000,-202.5600)
	      .. (-76.8800,-202.7300) .. controls (-76.6000,-204.5900) and
	      (-76.0900,-206.2200) .. (-76.1800,-208.2800) .. controls (-76.3600,-208.3200)
	      and (-76.5500,-208.3700) .. (-76.7300,-208.4100) .. controls
	      (-76.7800,-209.5800) and (-76.3800,-211.2300) .. (-76.6800,-212.3600) ..
	      controls (-77.0200,-213.6500) and (-78.1100,-213.4200) .. (-77.9700,-215.0800)
	      .. controls (-77.9100,-215.8500) and (-76.1600,-216.9800) ..
	      (-75.8500,-218.0200) .. controls (-75.5500,-219.0400) and (-75.7900,-220.6200)
	      .. (-75.7700,-221.6900) .. controls (-75.7500,-223.4400) and
	      (-75.8300,-224.9500) .. (-76.2400,-226.6400) .. controls (-76.4300,-227.4300)
	      and (-77.2300,-229.0700) .. (-77.2600,-229.7300) .. controls
	      (-77.3600,-232.0400) and (-75.7900,-234.2200) .. (-75.7200,-236.7200) ..
	      controls (-75.7100,-237.3500) and (-75.5600,-238.1100) .. (-75.6600,-238.7300)
	      .. controls (-75.7800,-239.4800) and (-76.6100,-239.4800) ..
	      (-76.6600,-240.0700) .. controls (-76.7700,-241.3400) and (-75.9300,-242.0200)
	      .. (-75.8000,-242.9800) .. controls (-75.4900,-245.2600) and
	      (-76.3400,-247.6000) .. (-77.0400,-249.8000) .. controls (-78.5700,-254.5800)
	      and (-78.2200,-259.3100) .. (-78.4000,-264.4600) .. controls
	      (-78.7000,-264.5200) and (-79.0000,-264.5400) .. (-79.3000,-264.5800) ..
	      controls (-80.2700,-267.3500) and (-80.0600,-270.1400) .. (-80.1800,-273.1700)
	      .. controls (-81.7900,-273.8700) and (-79.8000,-278.1300) ..
	      (-79.6200,-279.9000) .. controls (-79.5200,-280.8800) and (-79.6000,-283.1700)
	      .. (-78.8500,-283.8900) .. controls (-77.4400,-285.2600) and
	      (-71.9400,-284.0800) .. (-70.1300,-284.0100) .. controls (-67.9900,-283.9300)
	      and (-68.6900,-283.4500) .. (-67.3900,-285.9100) .. controls
	      (-66.5200,-287.5600) and (-66.2200,-288.3500) .. (-65.9500,-290.2300) ..
	      controls (-65.7700,-291.4500) and (-66.4300,-293.9400) .. (-65.6000,-294.9200)
	      .. controls (-64.9000,-295.7500) and (-62.2300,-295.4500) ..
	      (-61.1900,-295.8500) .. controls (-60.8000,-296.0000) and (-60.1800,-296.8700)
	      .. (-59.4100,-297.1500) .. controls (-58.5800,-297.4400) and
	      (-57.9300,-297.3100) .. (-57.0600,-297.3500) .. controls (-55.6300,-297.4100)
	      and (-54.1800,-297.2300) .. (-52.7600,-297.3000) .. controls
	      (-52.3700,-297.9600) and (-51.9000,-299.4000) .. (-51.3100,-299.8900) ..
	      controls (-50.5500,-300.5200) and (-48.9500,-300.4900) .. (-48.4800,-301.1100)
	      .. controls (-47.8000,-302.0300) and (-48.4200,-303.4500) ..
	      (-48.1800,-304.4800) .. controls (-47.9200,-305.5500) and (-47.3200,-306.1300)
	      .. (-46.8400,-307.0900) .. controls (-46.0300,-308.7000) and
	      (-44.4700,-311.0900) .. (-45.2600,-313.0700) .. controls (-46.1100,-315.2100)
	      and (-48.5900,-314.4000) .. (-50.8700,-314.6000) .. controls
	      (-51.7200,-316.9500) and (-54.0400,-317.2900) .. (-55.7600,-318.4200) ..
	      controls (-56.9200,-319.1800) and (-56.6000,-320.4200) .. (-58.1300,-321.0300)
	      .. controls (-59.0500,-321.4000) and (-60.2400,-320.8200) ..
	      (-61.1400,-321.2200) .. controls (-64.2700,-322.6300) and (-63.1900,-331.0800)
	      .. (-59.6000,-331.1900) .. controls (-59.5400,-332.2100) and
	      (-59.1000,-332.9400) .. (-58.2000,-333.1700) .. controls (-58.0300,-333.8900)
	      and (-58.0000,-334.9900) .. (-58.1400,-335.7200) .. controls
	      (-61.5100,-338.2400) and (-65.5600,-336.5300) .. (-69.4400,-337.4200) ..
	      controls (-70.5500,-337.6700) and (-71.5700,-337.8700) .. (-72.5000,-338.5600)
	      .. controls (-73.5500,-339.3400) and (-73.9300,-340.6200) ..
	      (-75.0300,-341.2700) .. controls (-76.6100,-342.1900) and (-79.0000,-341.0600)
	      .. (-79.7400,-342.9900) .. controls (-82.3800,-342.4900) and
	      (-81.4100,-344.6900) .. (-82.8700,-345.8900) .. controls (-84.3200,-347.0800)
	      and (-85.4300,-345.5000) .. (-86.2700,-347.8800) .. controls
	      (-86.7700,-349.3100) and (-86.2900,-351.0300) .. (-86.8100,-352.2300) ..
	      controls (-87.3500,-353.4800) and (-89.0300,-354.7500) .. (-89.1000,-356.5800)
	      .. controls (-90.1500,-356.6700) and (-91.3600,-356.5200) ..
	      (-92.4000,-356.7200) .. controls (-92.9000,-356.8200) and (-93.6300,-356.5600)
	      .. (-94.0800,-356.7200) .. controls (-94.7300,-356.9600) and
	      (-94.5100,-357.9900) .. (-95.0200,-358.1500) .. controls (-97.4900,-358.9400)
	      and (-99.0100,-356.7400) .. (-101.3700,-357.3400) .. controls
	      (-101.4100,-357.5300) and (-101.4400,-357.7100) .. (-101.4700,-357.9000) ..
	      controls (-104.2700,-358.7300) and (-104.5500,-355.6200) ..
	      (-106.7700,-355.7900) .. controls (-106.5400,-358.9600) and
	      (-111.0900,-357.9100) .. (-110.4300,-360.8100) .. controls
	      (-110.9800,-360.8600) and (-113.3100,-360.6100) .. (-113.6600,-361.0100) ..
	      controls (-114.7000,-362.2100) and (-113.2800,-362.4000) ..
	      (-113.0700,-363.3300) .. controls (-112.6400,-365.3000) and
	      (-112.2500,-366.8100) .. (-112.8600,-368.7300) .. controls
	      (-113.2800,-370.0500) and (-114.1600,-369.9200) .. (-113.9100,-371.1600) ..
	      controls (-113.8200,-371.5900) and (-112.1100,-373.0900) ..
	      (-111.8200,-374.2300) .. controls (-111.5200,-375.4500) and
	      (-111.9500,-376.8000) .. (-111.1900,-377.9200) .. controls
	      (-109.2400,-380.8100) and (-107.7500,-377.5900) .. (-105.2900,-378.1600) ..
	      controls (-105.0000,-378.5200) and (-104.8900,-378.5200) ..
	      (-104.6000,-378.8100) .. controls (-104.0800,-384.4400) and
	      (-95.6000,-383.3200) .. (-95.8500,-389.1600) .. controls (-94.1200,-389.2200)
	      and (-92.3200,-389.0600) .. (-90.5900,-389.1300) .. controls
	      (-90.1200,-391.0900) and (-89.5300,-393.0600) .. (-89.0000,-395.0000) ..
	      controls (-86.4800,-394.9800) and (-85.5100,-396.0400) .. (-85.5500,-398.5800)
	      .. controls (-84.4700,-399.1700) and (-83.3600,-401.3400) ..
	      (-82.1900,-401.8400) .. controls (-80.9300,-402.3800) and (-78.5300,-401.7300)
	      .. (-77.1500,-401.7600) .. controls (-73.8300,-401.8400) and
	      (-70.6700,-402.6800) .. (-67.4300,-401.8500) .. controls (-64.0700,-400.9900)
	      and (-62.0100,-398.9900) .. (-58.1100,-399.5800) .. controls
	      (-56.2800,-399.8600) and (-55.0200,-400.4600) .. (-53.0600,-400.4700) ..
	      controls (-51.4900,-400.4700) and (-50.1600,-400.3800) .. (-48.7500,-401.0800)
	      .. controls (-48.6300,-402.0200) and (-48.6000,-403.0300) ..
	      (-48.6700,-403.9800) .. controls (-49.6600,-404.3300) and (-50.2700,-404.7900)
	      .. (-51.2200,-405.1500) .. controls (-52.2100,-410.1400) and
	      (-55.4500,-407.8500) .. (-58.5700,-409.6300) .. controls (-56.0800,-410.9700)
	      and (-49.4600,-409.1600) .. (-46.7500,-408.4000) .. controls
	      (-42.7000,-407.2600) and (-40.3500,-405.9200) .. (-35.8800,-406.0800) ..
	      controls (-35.7400,-407.1200) and (-35.6200,-407.9800) .. (-35.3700,-408.9700)
	      .. controls (-32.0800,-409.0900) and (-30.0300,-409.9000) ..
	      (-27.0000,-410.8100) .. controls (-24.1200,-411.6700) and (-22.2700,-413.3000)
	      .. (-18.9100,-412.6200) .. controls (-17.6800,-412.3700) and
	      (-16.7200,-410.8600) .. (-15.2400,-411.5600) .. controls (-13.7800,-412.2400)
	      and (-13.9500,-414.1200) .. (-12.1600,-414.7500) .. controls
	      (-11.0700,-415.1400) and (-8.6200,-415.4300) .. (-7.5200,-414.9100) ..
	      controls (-6.3300,-414.3500) and (-6.3200,-413.0300) .. (-4.8900,-412.8600) ..
	      controls (-3.6300,-408.3200) and (-1.0500,-410.3600) .. (2.1600,-411.3400) ..
	      controls (3.5500,-411.7700) and (5.0500,-411.6500) .. (6.5200,-411.6100) ..
	      controls (7.1600,-411.5900) and (8.2900,-411.7900) .. (8.8700,-411.5600) ..
	      controls (9.4900,-411.3200) and (9.5800,-410.6700) .. (9.9100,-410.5100) ..
	      controls (12.4000,-409.2800) and (14.8200,-409.4400) .. (17.8500,-409.3100) ..
	      controls (21.4400,-409.1600) and (23.2300,-409.3800) .. (23.1100,-405.5000) ..
	      controls (23.0400,-403.2600) and (22.1500,-399.2400) .. (22.8900,-397.1600) ..
	      controls (23.3000,-396.0100) and (24.5700,-394.7700) .. (26.2000,-395.4000) ..
	      controls (27.6300,-395.9500) and (27.0500,-397.0800) .. (28.6000,-397.6800) ..
	      controls (34.1200,-399.8100) and (38.5600,-395.2900) .. (41.2500,-391.4200) ..
	      controls (42.6400,-389.4200) and (43.0000,-386.9900) .. (44.0100,-384.5900) ..
	      controls (44.7800,-382.7900) and (46.0700,-379.8200) .. (47.3700,-378.3800) ..
	      controls (48.4700,-377.1700) and (50.2900,-376.8700) .. (51.4000,-375.6400) ..
	      controls (52.5000,-374.4100) and (53.0800,-372.5100) .. (54.6600,-371.6200) ..
	      controls (57.7900,-369.8500) and (62.1900,-372.8400) .. (64.4100,-369.0400) ..
	      controls (66.2000,-365.9700) and (66.4600,-362.7700) .. (70.9100,-361.8500) ..
	      controls (73.5200,-361.3100) and (75.0400,-362.1200) .. (77.1500,-359.9200) ..
	      controls (78.6300,-358.3800) and (79.6700,-356.0500) .. (80.0000,-353.9500) ..
	      controls (80.6200,-350.0200) and (79.4000,-347.1200) .. (82.4300,-343.8700) ..
	      controls (85.0900,-341.0000) and (86.2100,-341.0900) .. (90.1400,-340.9800) ..
	      controls (92.3400,-340.9200) and (96.2500,-341.5400) .. (97.9200,-340.2000) ..
	      controls (98.8200,-339.4700) and (98.8200,-337.9200) .. (99.8400,-337.1200) ..
	      controls (100.5400,-336.5700) and (102.1900,-336.1000) .. (103.0800,-335.9500)
	      .. controls (106.1200,-335.4600) and (107.8900,-336.1400) ..
	      (110.1600,-333.8700) .. controls (110.6000,-333.4300) and (110.4900,-332.4300)
	      .. (110.9200,-332.0600) .. controls (111.4000,-331.6400) and
	      (112.2900,-331.9800) .. (112.7000,-331.4600) .. controls (113.5900,-330.3400)
	      and (113.9200,-329.6600) .. (113.5500,-328.0700) .. controls
	      (111.8400,-327.7300) and (102.3100,-323.6700) .. (106.7300,-321.8400) ..
	      controls (107.8400,-321.3800) and (111.0000,-322.7200) .. (112.4600,-322.7000)
	      .. controls (114.2500,-322.6800) and (116.0300,-322.6100) ..
	      (117.8200,-322.5600) .. controls (119.6500,-322.5100) and (121.7900,-322.1500)
	      .. (123.5300,-322.6500) .. controls (125.9800,-323.3400) and
	      (125.8400,-324.0700) .. (128.2900,-323.0400) .. controls (130.2600,-322.2200)
	      and (131.0100,-321.1000) .. (132.9100,-323.1600) .. controls
	      (134.5700,-324.9600) and (133.6300,-326.5000) .. (136.4900,-327.0500) ..
	      controls (139.2600,-327.5800) and (142.7900,-326.4700) .. (145.6600,-326.5700)
	      .. controls (145.6500,-327.3600) and (146.1600,-328.0000) ..
	      (146.1500,-328.7900) .. controls (147.2400,-329.1500) and (148.4000,-328.9400)
	      .. (149.3900,-329.5000) .. controls (150.2700,-329.9900) and
	      (150.8600,-331.4100) .. (151.8600,-331.7300) .. controls (152.8300,-332.0500)
	      and (154.2000,-331.4100) .. (155.2100,-331.6000) .. controls
	      (156.6700,-331.8700) and (157.3600,-332.5200) .. (158.6000,-333.2700) ..
	      controls (160.9200,-334.6700) and (162.7600,-335.0400) .. (165.3600,-335.6900)
	      .. controls (167.8400,-336.3100) and (169.5500,-338.2900) ..
	      (171.8100,-338.8700) .. controls (175.8900,-339.9100) and (181.5200,-338.3500)
	      .. (185.4400,-337.7600) .. controls (187.0200,-337.5200) and
	      (190.4700,-336.7100) .. (192.1300,-337.3800) .. controls (194.1400,-338.2000)
	      and (193.8700,-340.5100) .. (194.7300,-342.2100) .. controls
	      (196.7700,-341.9400) and (198.0100,-344.2400) .. (200.4700,-343.4700) ..
	      controls (202.4300,-342.8600) and (203.2200,-341.5400) .. (203.0200,-339.4300)
	      .. controls (206.1200,-339.4600) and (211.1600,-336.3600) ..
	      (214.1700,-335.3300) .. controls (218.4200,-333.8800) and (220.9300,-332.1800)
	      .. (225.5900,-333.2100) .. controls (230.2400,-334.2400) and
	      (231.8800,-333.0500) .. (234.2800,-329.3000) .. controls (235.3000,-327.7000)
	      and (236.3300,-325.1100) .. (238.0900,-324.1800) .. controls
	      (238.9300,-323.7300) and (240.1900,-324.1000) .. (241.0900,-323.7000) ..
	      controls (241.7700,-323.4000) and (242.2800,-322.8900) .. (243.0200,-322.5900)
	      .. controls (243.3700,-320.6500) and (244.6300,-319.9100) ..
	      (245.3900,-318.3200) .. controls (246.8800,-315.1800) and (244.4900,-315.3600)
	      .. (243.5000,-313.2800) .. controls (241.8100,-309.7400) and
	      (244.2500,-304.8800) .. (242.1400,-301.3400) .. controls (237.7200,-300.5400)
	      and (239.1600,-293.5900) .. (238.8400,-290.0800) .. controls
	      (237.3200,-289.3900) and (237.4200,-287.6100) .. (236.7700,-286.0700) ..
	      controls (236.1700,-284.6500) and (235.6500,-283.9800) .. (234.6900,-282.7100)
	      .. controls (232.6600,-280.0200) and (233.0400,-277.6300) ..
	      (232.7300,-274.2000) .. controls (229.6900,-274.0900) and (226.9900,-274.7000)
	      .. (224.4000,-273.2700) .. controls (222.2500,-272.0800) and
	      (219.0900,-270.2200) .. (218.5400,-267.8500) .. controls (218.2700,-266.6800)
	      and (219.0600,-264.3800) .. (218.1200,-263.4900) .. controls
	      (217.3000,-262.7100) and (214.4600,-263.2700) .. (213.3900,-263.3000) ..
	      controls (210.5900,-263.3800) and (208.5800,-262.7700) .. (206.0400,-262.4200)
	      .. controls (207.0900,-261.2800) and (208.4000,-258.8700) ..
	      (208.5700,-257.4200) .. controls (208.7700,-255.6900) and (207.7700,-254.9300)
	      .. (207.5300,-253.4300) .. controls (207.3300,-252.1800) and
	      (207.9500,-251.2100) .. (207.9800,-250.3500) .. controls (208.0800,-247.6400)
	      and (206.5900,-245.7300) .. (204.2000,-244.2400) .. controls
	      (202.9100,-243.4300) and (201.8700,-244.0700) .. (201.5400,-242.3000) ..
	      controls (201.4900,-242.0200) and (202.3100,-239.8400) .. (202.3600,-239.2600)
	      .. controls (200.0800,-239.4700) and (198.3200,-239.2400) ..
	      (196.0300,-239.0200) .. controls (193.2500,-238.7500) and (191.9900,-240.0100)
	      .. (189.7100,-240.5400) .. controls (188.6500,-240.7900) and
	      (187.4200,-240.3800) .. (186.3600,-240.5900) .. controls (185.1700,-240.8300)
	      and (184.5800,-241.8600) .. (183.1100,-241.6400) .. controls
	      (181.7400,-241.4400) and (179.5100,-239.4400) .. (178.6600,-238.7600) ..
	      controls (178.7600,-238.5300) and (178.8700,-238.3100) .. (178.9600,-238.0700)
	      .. controls (181.1400,-232.9500) and (181.7100,-227.0100) ..
	      (184.1200,-221.9500) .. controls (184.7900,-220.5500) and (185.6000,-220.4000)
	      .. (184.7200,-218.3300) .. controls (184.4600,-218.3200) and
	      (177.3000,-218.0800) .. (177.4300,-217.8100) .. controls (178.7300,-215.0900)
	      and (177.4400,-211.5500) .. (177.9000,-208.5200) .. controls
	      (178.5800,-204.0800) and (183.5800,-199.1900) .. (187.9500,-198.5000) ..
	      controls (191.7300,-197.9100) and (202.4300,-198.6700) .. (197.8500,-191.8100)
	      .. controls (196.3600,-189.5700) and (194.6300,-187.6800) ..
	      (195.2800,-184.2900) .. controls (195.7900,-181.6000) and (198.3400,-179.7100)
	      .. (199.7300,-177.4200) .. controls (200.3600,-176.3800) and
	      (200.6000,-175.1400) .. (201.3200,-174.1100) .. controls (202.0100,-173.1300)
	      and (203.0400,-172.4800) .. (203.7600,-171.4400) .. controls
	      (205.1900,-169.3700) and (204.1800,-167.0500) .. (205.8200,-165.0500) ..
	      controls (204.3700,-164.5800) and (203.0000,-163.6100) .. (201.4500,-163.0000)
	      .. controls (199.5200,-162.2400) and (199.2000,-162.0100) ..
	      (198.2800,-160.2400) .. controls (197.4800,-158.7000) and (197.6100,-157.2400)
	      .. (195.9300,-156.8800) .. controls (194.3800,-156.5500) and
	      (192.6200,-158.1100) .. (192.5800,-159.6000) .. controls (190.3500,-158.3600)
	      and (188.0100,-155.8200) .. (188.0700,-153.1200) .. controls
	      (188.0700,-153.0800) and (184.4400,-152.8300) .. (184.0200,-152.5900) ..
	      controls (183.1300,-152.0700) and (183.0700,-151.3100) .. (182.4500,-150.6700)
	      .. controls (182.1600,-150.3700) and (182.5200,-149.6900) ..
	      (182.1400,-149.4100) .. controls (181.7500,-149.1200) and (181.1000,-149.5100)
	      .. (180.7500,-149.2700) .. controls (179.1900,-148.1600) and
	      (177.6800,-148.1300) .. (177.8100,-145.3700) .. controls (177.8800,-143.9000)
	      and (173.9300,-147.9000) .. (173.8600,-147.9800) .. controls
	      (172.5500,-149.5900) and (171.3100,-151.2300) .. (169.0500,-151.3600) ..
	      controls (168.9900,-152.5200) and (169.0600,-153.6800) .. (169.0100,-154.8400)
	      .. controls (168.0100,-155.2000) and (167.1500,-155.4900) ..
	      (166.1200,-155.6800) .. controls (165.9900,-159.4200) and (167.4400,-162.4000)
	      .. (167.3000,-166.2400) .. controls (166.8700,-166.3300) and
	      (166.5000,-166.3500) .. (166.0700,-166.2600) .. controls (165.4300,-165.0300)
	      and (164.0900,-164.5300) .. (163.8700,-163.0900) .. controls
	      (160.6100,-162.2600) and (154.8000,-162.3100) .. (153.6900,-158.3400) ..
	      controls (152.3800,-158.2200) and (150.2500,-157.6400) .. (150.5800,-156.2700)
	      .. controls (150.7700,-155.4800) and (152.8500,-155.1200) ..
	      (153.3300,-154.7100) .. controls (154.9600,-153.3100) and (155.6700,-151.4200)
	      .. (155.8700,-149.2300) .. controls (155.9800,-148.0300) and
	      (155.9800,-146.2800) .. (155.4300,-145.2100) .. controls (154.8100,-143.9900)
	      and (152.8900,-143.7300) .. (153.3200,-141.9400) .. controls
	      (153.7900,-139.9900) and (156.3800,-140.1500) .. (157.2200,-138.7300) ..
	      controls (157.8700,-137.6300) and (157.4400,-136.3700) .. (157.3300,-135.2000)
	      .. controls (157.1600,-133.3300) and (156.7400,-131.3900) ..
	      (158.3000,-130.0500) .. controls (159.4000,-129.1000) and (160.0500,-130.0400)
	      .. (160.8800,-128.7500) .. controls (161.4000,-127.9500) and
	      (161.1200,-126.4100) .. (161.2400,-125.4900) .. controls (161.9700,-120.1400)
	      and (166.2700,-116.0200) .. (166.5800,-110.5500) .. controls
	      (166.6900,-108.5500) and (166.9700,-104.9400) .. (166.0800,-103.2200) ..
	      controls (165.3100,-101.7300) and (164.0300,-101.4100) .. (163.6000,-99.6100)
	      .. controls (163.4300,-98.8900) and (164.4400,-92.3400) .. (165.2000,-92.9100)
	      .. controls (165.7300,-93.3000) and (166.5800,-93.3900) .. (167.0900,-93.8100)
	      .. controls (167.2100,-91.8900) and (166.8400,-88.8800) .. (167.8900,-87.2200)
	      .. controls (168.9200,-85.5900) and (171.2500,-85.7400) .. (172.4500,-87.6000)
	      .. controls (173.6400,-89.4400) and (171.9800,-90.9600) .. (174.0600,-92.3500)
	      .. controls (174.7800,-92.8300) and (176.0700,-91.9800) .. (176.8000,-92.9100)
	      .. controls (177.4100,-93.7000) and (176.9000,-95.5700) .. (177.0800,-96.4700)
	      .. controls (178.6600,-96.1700) and (184.3800,-89.5600) .. (182.0100,-89.0300)
	      .. controls (183.1300,-89.2800) and (184.7400,-88.5400) .. (185.8600,-88.7800)
	      .. controls (186.9100,-85.1400) and (184.5400,-81.0000) .. (188.8500,-80.2000)
	      .. controls (190.3000,-78.8500) and (189.4400,-77.3400) .. (190.3600,-75.6400)
	      .. controls (191.4400,-73.6400) and (193.7600,-73.8000) .. (195.1500,-72.4200)
	      .. controls (197.4800,-70.1000) and (198.9100,-64.4800) .. (203.5500,-65.5800)
	      .. controls (203.5900,-65.7600) and (203.6400,-65.9500) .. (203.6800,-66.1300)
	      .. controls (205.5600,-66.4100) and (206.8400,-68.0300) .. (208.7100,-68.3900)
	      .. controls (211.2700,-68.8800) and (212.5000,-67.2000) .. (214.6400,-66.5100)
	      .. controls (214.5800,-64.5800) and (218.7100,-60.0100) .. (220.1900,-59.4300)
	      .. controls (221.6600,-58.8500) and (223.1000,-59.3500) .. (224.5500,-58.9700)
	      .. controls (225.4200,-58.7400) and (226.7000,-58.1000) .. (227.3000,-57.4200)
	      .. controls (228.0200,-56.5800) and (227.6200,-56.1500) .. (228.0800,-55.4400)
	      .. controls (228.9500,-54.1100) and (229.7100,-52.5200) .. (231.7100,-52.3900)
	      .. controls (230.9800,-49.8400) and (231.3300,-45.4000) .. (232.9100,-43.1400)
	      .. controls (234.1000,-41.4300) and (237.6300,-41.6900) .. (239.5100,-41.5500)
	      .. controls (241.9200,-41.3700) and (244.2900,-40.8600) .. (246.5100,-40.0300)
	      .. controls (248.3700,-39.3400) and (249.1000,-37.8300) .. (251.0100,-36.8900)
	      .. controls (252.2000,-36.3100) and (253.2200,-36.5700) .. (254.4500,-36.1500)
	      .. controls (256.9100,-35.3200) and (256.7900,-32.9900) .. (258.0600,-30.7100)
	      .. controls (259.9000,-27.4000) and (260.7100,-28.1800) .. (263.9400,-27.5800)
	      .. controls (266.3300,-27.1300) and (266.8300,-25.8700) .. (268.1200,-24.2000)
	      .. controls (268.2100,-24.0800) and (271.4800,-19.0700) .. (268.5200,-19.6700)
	      .. controls (265.5400,-20.2700) and (264.9500,-20.0400) .. (263.6800,-17.6800)
	      .. controls (262.3900,-15.3000) and (259.3000,-12.8800) .. (258.5000,-10.4700)
	      .. controls (257.0100,-10.2700) and (254.3600,-10.6200) .. (253.0900,-9.7300)
	      .. controls (251.6600,-8.7300) and (251.5700,-6.3400) .. (251.0500,-4.9300) ..
	      controls (250.2400,-2.7400) and (249.5300,-1.5200) .. (247.3300,-0.6900) ..
	      controls (245.7500,-0.0900) and (243.5500,-0.1600) .. (242.8100,1.8700) ..
	      controls (241.7600,4.7800) and (244.8200,10.3900) .. (242.4800,12.9100) ..
	      controls (241.0300,14.4700) and (239.5500,13.0700) .. (238.2200,15.1200) ..
	      controls (237.3600,16.4400) and (238.0500,18.8600) .. (236.4100,19.4700) ..
	      controls (235.3800,22.3100) and (236.9200,25.6900) .. (237.8600,28.4100) ..
	      controls (239.2700,28.6300) and (239.4400,29.8700) .. (239.0200,31.1200) ..
	      controls (237.9500,31.1700) and (236.8300,31.0800) .. (235.7700,31.1400) ..
	      controls (235.5900,31.6900) and (235.2900,32.0800) .. (235.2900,32.6800) ..
	      controls (233.4600,34.1900) and (232.7100,37.8800) .. (231.3900,40.1700) ..
	      controls (229.5600,43.3400) and (227.7500,46.3800) .. (225.2100,49.0200) ..
	      controls (223.8100,50.4700) and (221.4700,52.9000) .. (222.4800,55.1200) ..
	      controls (223.3700,57.0900) and (226.5800,57.0000) .. (227.8300,58.8200) ..
	      controls (228.5600,59.8900) and (228.7800,61.2100) .. (229.6500,62.2200) ..
	      controls (231.7100,64.6300) and (233.0800,63.1000) .. (235.4800,64.2000) ..
	      controls (237.3600,65.0600) and (237.7800,68.4300) .. (240.0800,68.2100) ..
	      controls (240.3100,65.6900) and (239.3800,62.1800) .. (242.6300,62.3100) ..
	      controls (244.8800,62.4000) and (245.5300,64.8600) .. (247.2100,66.4400) ..
	      controls (250.7200,69.7200) and (253.1800,72.5100) .. (258.3900,72.7900) ..
	      controls (258.2400,73.4400) and (258.5800,74.3700) .. (258.4300,75.0300) ..
	      controls (259.6900,75.1400) and (261.4800,74.8200) .. (262.6600,75.2400) ..
	      controls (263.4500,75.5200) and (265.3100,77.1900) .. (266.3600,77.7100) ..
	      controls (267.6400,78.3500) and (268.6200,79.0800) .. (269.7300,79.7200) ..
	      controls (271.2100,80.5800) and (272.0700,80.2500) .. (273.5700,80.8000) ..
	      controls (275.8800,81.6600) and (277.2200,84.1100) .. (277.9300,86.6000) ..
	      controls (278.4300,88.3400) and (277.5100,93.7000) .. (279.9600,93.2800) ..
	      controls (280.0000,93.1000) and (280.0500,92.9100) .. (280.0900,92.7300) ..
	      controls (283.3200,91.6400) and (284.2900,94.2000) .. (286.7200,96.0800) ..
	      controls (289.1000,97.9300) and (291.1800,99.1400) .. (293.8400,100.4300) ..
	      controls (293.7200,100.9600) and (294.0300,101.7900) .. (293.9100,102.3200) ..
	      controls (296.2400,103.4500) and (298.0800,104.3600) .. (300.4800,105.1300) ..
	      controls (302.6900,105.8400) and (305.9600,107.3000) .. (306.7900,109.6700) ..
	      controls (308.7300,110.2600) and (309.8200,107.9900) .. (311.2400,107.2700) ..
	      controls (313.4900,106.1300) and (313.5000,106.7500) .. (315.9700,107.8700) ..
	      controls (319.3000,109.3800) and (322.5100,111.5200) .. (325.7300,112.9000) ..
	      controls (327.6700,113.7300) and (329.0400,113.7400) .. (330.6200,115.4500) ..
	      controls (332.2500,117.2200) and (332.4600,119.0400) .. (334.9500,119.4800) ..
	      controls (338.8500,120.1600) and (343.1500,117.1800) .. (347.3300,118.1800) ..
	      controls (347.9200,120.2000) and (349.3700,121.7600) .. (349.5900,123.8600) ..
	      controls (349.8000,125.8000) and (349.4100,127.8800) .. (349.4800,129.8300) ..
	      controls (352.0100,130.0600) and (359.2300,128.7600) .. (359.4800,132.1000) ..
	      controls (362.7200,132.3600) and (366.8300,131.1200) .. (369.8500,132.3000) ..
	      controls (371.6600,133.0100) and (372.6200,134.4100) .. (373.4000,135.8300) ..
	      controls (374.2000,137.2900) and (374.6800,140.5900) .. (377.2500,139.9000) ..
	      controls (377.7900,138.5600) and (380.2600,138.1000) .. (381.3200,137.0400) ..
	      controls (382.3800,135.9800) and (383.1200,134.5500) .. (383.5700,133.1600) ..
	      controls (387.8700,132.9500) and (392.2800,132.5900) .. (396.1300,134.5100) ..
	      controls (398.6300,135.7600) and (400.7600,138.4400) .. (403.8400,137.6800) ..
	      controls (404.9200,137.4200) and (405.7400,136.4200) .. (406.7800,136.0100) ..
	      controls (409.8900,134.7800) and (411.8900,134.7400) .. (415.3100,134.2500) ..
	      controls (418.0800,133.8500) and (417.1600,133.5300) .. (418.1300,131.0300) ..
	      controls (420.3700,130.6000) and (420.6400,132.0600) .. (422.3800,132.7800) ..
	      controls (423.5700,133.2800) and (425.2800,132.6600) .. (426.3000,133.6000) ..
	      controls (427.0200,134.2600) and (427.1500,136.1100) .. (427.8700,136.9900) ..
	      controls (431.6900,141.6500) and (440.0400,139.5200) .. (445.2500,140.9200) ..
	      controls (445.3200,142.8100) and (446.2500,144.7100) .. (446.5600,146.6500) ..
	      controls (446.8700,148.5800) and (446.7400,150.0800) .. (446.0000,151.7400) ..
	      controls (444.5800,154.9000) and (442.9100,158.7700) .. (447.8000,159.8000) ..
	      controls (451.4900,160.5800) and (455.4900,159.3200) .. (458.7500,160.8300) ..
	      controls (461.9100,162.3000) and (464.5100,163.7300) .. (465.4300,167.2000) ..
	      controls (467.0100,167.3600) and (469.9800,166.7500) .. (471.4000,167.4100) ..
	      controls (473.6400,168.4500) and (472.2600,170.8100) .. (473.6000,172.5600) ..
	      controls (474.9200,174.2800) and (477.3400,173.9000) .. (479.2700,173.9600) ..
	      controls (482.2200,174.0500) and (482.0700,173.0000) .. (484.2900,172.0300) ..
	      controls (484.7900,170.7300) and (488.9100,168.1600) .. (490.4100,167.4900) ..
	      controls (492.4300,166.5800) and (495.2100,166.9400) .. (497.4900,167.1400) ..
	      controls (497.6500,171.3100) and (497.1100,175.5600) .. (497.2700,179.7200) ..
	      controls (498.7900,179.6800) and (500.3400,180.0700) .. (501.5600,180.9700) ..
	      controls (502.5000,181.6600) and (503.2700,183.5500) .. (504.4100,183.5600) ..
	      controls (504.9100,183.5700) and (507.0500,181.9000) .. (507.4800,181.6500) ..
	      controls (508.4400,181.0900) and (509.2800,180.4300) .. (510.2700,179.7800) ..
	      controls (511.7700,178.7800) and (511.4000,178.3100) .. (513.3300,178.1900) ..
	      controls (515.2500,178.0700) and (516.4400,179.1500) .. (518.0100,180.0800) ..
	      controls (520.2600,181.4100) and (522.6200,181.9300) .. (525.2700,181.1200) ..
	      controls (525.9500,178.9300) and (530.0700,181.7700) .. (531.6600,182.3400) ..
	      controls (532.8500,182.7600) and (533.8000,182.8000) .. (534.9900,183.0900) ..
	      controls (536.4600,183.4500) and (536.7300,183.9600) .. (537.6200,184.4900) ..
	      controls (539.1900,185.4300) and (541.5000,186.0000) .. (543.2700,187.3100) ..
	      controls (544.6000,188.3000) and (545.9100,191.0800) .. (547.4600,191.0300) ..
	      controls (547.6300,190.3800) and (548.1200,190.1500) .. (548.2800,189.5000) ..
	      controls (552.6200,190.1200) and (554.5200,188.7500) .. (557.3600,186.0100) ..
	      controls (558.0000,185.3900) and (557.8300,184.8700) .. (558.7400,184.3600) ..
	      controls (559.3700,184.0000) and (560.3700,184.5300) .. (561.1000,184.0900) ..
	      controls (562.5300,183.2500) and (562.1200,181.1700) .. (563.8100,180.8700) ..
	      controls (565.0700,183.3900) and (565.6700,187.6900) .. (565.6800,190.5000) ..
	      controls (567.3800,190.6500) and (569.4000,190.3100) .. (570.9200,191.0800) ..
	      controls (570.8700,191.4300) and (571.0300,191.9400) .. (571.0000,192.3100) ..
	      controls (573.6200,192.1400) and (575.0200,195.1900) .. (576.5900,194.5900) ..
	      controls (578.8400,193.7400) and (577.4900,190.2200) .. (580.4800,189.6100) ..
	      controls (583.4900,189.0000) and (586.3600,191.9600) .. (589.5300,191.0800) ..
	      controls (590.6100,190.7800) and (591.3000,190.0900) .. (592.6300,189.8900) ..
	      controls (593.2700,189.7900) and (601.8400,187.8700) .. (601.8200,188.0800) ..
	      controls (601.9000,187.3900) and (602.3800,186.9700) .. (602.3100,186.1800) ..
	      controls (604.7100,187.1400) and (608.0300,193.1200) .. (609.7400,192.6300) ..
	      controls (610.6200,191.1000) and (611.2400,188.8200) .. (611.6900,187.1300) ..
	      controls (612.1900,185.2300) and (611.7900,183.2600) .. (613.3600,181.7800) ..
	      controls (613.2600,182.2200) and (613.4700,182.9100) .. (613.4400,183.3800) ..
	      controls (617.6800,183.7400) and (618.0900,182.9100) .. (618.2000,178.8800) ..
	      controls (618.2300,177.6000) and (618.1600,176.0200) .. (618.7800,174.8500) ..
	      controls (619.2500,173.9800) and (621.2900,173.0600) .. (621.4600,172.5500) ..
	      controls (621.9700,171.0700) and (619.9500,168.2100) .. (619.1700,166.9400) ..
	      controls (618.0300,165.0900) and (616.8500,164.5500) .. (616.5200,162.2000) ..
	      controls (616.2800,160.5100) and (616.6700,158.6100) .. (616.6100,156.9100) ..
	      controls (614.0900,157.1900) and (615.6900,155.0400) .. (614.7400,153.8200) ..
	      controls (613.7500,152.5600) and (612.0100,153.8500) .. (610.9800,152.8100) ..
	      controls (609.6200,151.4600) and (611.2400,145.4400) .. (610.6000,143.3900) ..
	      controls (610.5800,143.3300) and (609.2200,142.7800) .. (609.0400,142.6300) ..
	      controls (612.4700,141.0500) and (611.3000,139.5900) .. (610.7500,136.3500) ..
	      controls (610.4400,134.5600) and (611.5300,133.5800) .. (611.8700,132.1200) ..
	      controls (612.3300,130.1600) and (611.1100,128.1700) .. (611.1300,126.2100) ..
	      controls (611.1500,123.8700) and (613.5000,123.6100) .. (614.4200,121.6700) ..
	      controls (614.8400,120.7800) and (614.9400,119.7700) .. (615.4900,118.9300) ..
	      controls (616.1300,117.9600) and (616.1100,117.8700) .. (616.5500,116.7000) ..
	      controls (616.9500,115.6200) and (617.7700,114.5800) .. (618.1500,113.5400) ..
	      controls (618.6500,112.2000) and (619.6000,108.6500) .. (619.3000,107.6800) ..
	      controls (618.7500,105.8800) and (616.6400,104.8300) .. (616.7000,102.4600) ..
	      controls (617.9100,102.4200) and (619.1800,102.5200) .. (620.3900,102.4800) ..
	      controls (620.0400,100.6100) and (623.9600,102.6200) .. (625.1200,102.2900) ..
	      controls (627.5600,101.6000) and (625.6500,98.6200) .. (629.5000,99.4500) ..
	      controls (630.2700,99.6200) and (629.2600,102.5000) .. (631.1700,101.2500) ..
	      controls (631.2000,101.2300) and (631.8200,99.6800) .. (631.9100,99.5100) ..
	      controls (632.4900,98.4900) and (633.2600,97.8500) .. (633.6700,96.6200) ..
	      controls (635.0900,96.7800) and (635.7200,98.5800) .. (637.0700,98.3900) ..
	      controls (637.1600,97.3500) and (637.1400,96.2600) .. (637.2300,95.2100) ..
	      controls (637.9400,95.2000) and (638.7000,95.2000) .. (639.4100,95.1900) ..
	      controls (639.3700,94.5800) and (639.5800,93.8700) .. (639.5400,93.2700) ..
	      controls (640.2500,93.2500) and (641.8700,93.0000) .. (642.3300,93.5400) ..
	      controls (643.3500,94.7200) and (641.5800,95.5200) .. (643.4500,96.0900) ..
	      controls (644.3500,96.3600) and (645.0500,95.5600) .. (645.9700,95.6400) ..
	      controls (646.6400,95.6900) and (648.5500,96.4400) .. (649.2100,96.7300) ..
	      controls (651.3600,97.6700) and (651.5100,99.6800) .. (651.5900,101.8100) ..
	      controls (651.6800,104.1500) and (650.1500,106.1000) .. (653.7100,105.9100) ..
	      controls (653.7800,107.7900) and (653.6800,108.8200) .. (652.8300,110.3000) ..
	      controls (652.3400,111.1500) and (650.4600,113.7800) .. (653.2500,113.9200) ..
	      controls (653.1000,115.5400) and (652.6000,117.8500) .. (651.8300,119.2900) ..
	      controls (651.0500,120.7400) and (649.3500,122.1700) .. (649.4600,124.2600) ..
	      controls (649.0600,124.1600) and (648.4300,124.4000) .. (648.0300,124.3000) ..
	      controls (647.9900,124.8600) and (648.0700,125.6700) .. (648.2400,126.2300) ..
	      controls (648.3700,126.2600) and (648.5100,126.3000) .. (648.6500,126.3300) ..
	      controls (648.7800,129.1300) and (649.2700,133.0100) .. (651.6100,134.7100) ..
	      controls (653.0000,135.7100) and (654.1000,135.5300) .. (654.2700,137.6700) ..
	      controls (654.3900,139.1800) and (653.4600,140.8800) .. (653.0800,142.3300) ..
	      controls (649.3000,142.1700) and (650.5000,144.8100) .. (650.1500,147.2200) ..
	      controls (649.6400,150.7500) and (649.4100,149.1100) .. (651.7500,152.0300) ..
	      controls (652.7200,153.2400) and (652.3300,154.9700) .. (653.1800,156.3600) ..
	      controls (653.9100,157.5500) and (655.2800,158.4600) .. (656.3000,159.4000) ..
	      controls (658.0600,161.0400) and (658.3900,160.5300) .. (660.8700,160.9300) ..
	      controls (663.9700,161.4200) and (662.8000,162.0400) .. (664.0600,164.1000) ..
	      controls (665.2400,166.0300) and (666.6000,166.2900) .. (668.7700,166.4800) ..
	      controls (672.9000,166.8500) and (674.4000,162.6000) .. (678.8900,164.0600) ..
	      controls (680.5600,164.6000) and (681.6500,166.7500) .. (683.2100,167.4500) ..
	      controls (684.4900,168.0200) and (686.6900,168.0400) .. (688.1200,168.3900) ..
	      controls (687.2600,169.4900) and (685.6500,170.6000) .. (686.1000,172.2300) ..
	      controls (688.3900,171.2300) and (690.9300,170.5700) .. (693.7800,170.8000) ..
	      controls (696.6800,171.0400) and (699.9300,171.0800) .. (702.7600,170.6400) ..
	      controls (705.5300,170.2000) and (707.8300,168.6200) .. (710.5000,167.9600) ..
	      controls (712.6500,167.4300) and (714.3600,167.5100) .. (716.5700,166.7100) ..
	      controls (718.8600,165.8900) and (720.9600,165.5200) .. (723.2400,164.8900) ..
	      controls (726.3400,164.0300) and (726.3800,162.3000) .. (726.5200,159.4100) ..
	      controls (729.1100,159.3100) and (732.4400,158.9700) .. (734.8500,159.2400) ..
	      controls (736.8500,159.4700) and (738.4100,160.5900) .. (740.0700,161.7800) ..
	      controls (741.7100,162.9500) and (744.1600,164.6300) .. (746.0000,165.4000) ..
	      controls (748.4700,166.4300) and (751.5800,165.8400) .. (754.2600,166.0800) ..
	      controls (756.6800,166.2900) and (759.1200,166.6500) .. (761.5200,166.9800) ..
	      controls (763.9500,167.3100) and (764.3100,166.2800) .. (766.6000,165.5900) ..
	      controls (768.5200,165.0100) and (769.9000,165.9500) .. (771.7400,166.2400) ..
	      controls (774.4800,166.6600) and (778.1900,166.6900) .. (780.6400,165.6600) ..
	      controls (780.4800,163.7800) and (781.4900,163.0900) .. (783.0000,162.5100) ..
	      controls (783.4800,162.3300) and (784.8000,161.8000) .. (785.2100,161.7500) ..
	      controls (786.0500,161.6600) and (786.9900,162.2000) .. (787.9900,162.1800) ..
	      controls (788.0300,163.2300) and (787.9600,164.3100) .. (787.9700,165.3600) ..
	      controls (790.4500,165.9100) and (791.7700,163.9600) .. (794.0100,163.5400) ..
	      controls (796.2600,163.1200) and (799.3200,164.6700) .. (801.0800,162.9800) ..
	      controls (802.1600,161.9400) and (802.1800,159.9700) .. (804.6600,160.8200) ..
	      controls (806.3900,161.4100) and (805.8600,162.7100) .. (806.1100,164.5300) ..
	      controls (808.1100,163.3400) and (807.6900,162.1900) .. (807.7500,160.3300) ..
	      controls (807.7800,159.3800) and (807.0100,159.3000) .. (808.2300,158.6500) ..
	      controls (808.8500,158.3100) and (810.5800,158.7900) .. (811.1900,159.0300) ..
	      controls (811.1500,159.3000) and (811.2800,159.6800) .. (811.2400,159.9500) ..
	      controls (813.7700,160.1800) and (816.9200,160.1600) .. (817.7900,157.6500) ..
	      controls (818.9600,154.3100) and (816.7500,152.2200) .. (816.7100,149.1500) ..
	      controls (815.1300,148.7000) and (811.7700,146.8200) .. (811.3200,145.2100) ..
	      controls (811.0600,144.2800) and (811.4300,141.2800) .. (811.9900,140.5300) ..
	      controls (812.6100,139.7000) and (813.8200,139.9200) .. (814.3200,139.0300) ..
	      controls (814.7500,138.2700) and (814.1900,137.2200) .. (814.5600,136.5200) ..
	      controls (814.9200,135.8300) and (816.3200,135.8700) .. (816.5800,135.2900) ..
	      controls (817.0500,134.2500) and (815.7600,133.0200) .. (815.1300,132.2900) ..
	      controls (814.0800,131.0500) and (812.9200,129.7300) .. (812.0700,128.4600) ..
	      controls (810.9000,126.7200) and (810.9100,125.1100) .. (808.5500,126.3600) ..
	      controls (806.6800,127.3600) and (806.0700,128.1400) .. (803.7000,128.2300) ..
	      controls (801.0000,128.3400) and (799.8600,127.7200) .. (798.4000,130.0800) ..
	      controls (797.3600,128.0400) and (797.8200,127.4100) .. (795.5500,126.2600) ..
	      controls (794.2500,125.6100) and (792.4000,125.2500) .. (791.5300,123.9100) ..
	      controls (790.9100,122.9600) and (791.0600,121.1800) .. (790.7000,120.0600) ..
	      controls (790.2900,118.8000) and (789.0000,117.5600) .. (788.7500,116.3700) ..
	      controls (791.5500,116.0500) and (791.0000,112.1200) .. (791.1700,110.1600) ..
	      controls (793.7300,110.0600) and (796.3900,110.2300) .. (798.9600,110.3200) ..
	      controls (801.6400,110.4200) and (804.0600,111.1100) .. (806.4900,111.7200) ..
	      controls (807.5200,111.9800) and (808.5000,112.3500) .. (809.4300,111.6600) ..
	      controls (810.3500,110.9700) and (810.4600,109.8100) .. (811.2600,108.8700) ..
	      controls (812.0900,107.9000) and (813.0400,107.8300) .. (814.1200,107.2800) ..
	      controls (816.1800,106.2200) and (817.6200,106.4100) .. (820.0800,106.3200) ..
	      controls (820.1400,105.5200) and (820.1600,104.7000) .. (820.1400,103.9000) ..
	      controls (819.9600,103.8100) and (819.7800,103.7200) .. (819.6800,103.6500) ..
	      controls (820.6700,103.5100) and (821.7000,103.6400) .. (822.6500,103.9700) ..
	      controls (823.7100,107.5400) and (824.2100,105.7400) .. (826.4400,104.4600) ..
	      controls (828.6400,103.1900) and (831.4900,105.0200) .. (833.4600,103.6600) ..
	      controls (832.8500,99.3700) and (846.1300,98.3300) .. (842.7600,93.1700) ..
	      controls (842.0600,92.1000) and (840.4500,91.6500) .. (839.3900,91.0500) ..
	      controls (838.8500,89.1800) and (840.7300,88.8400) .. (841.7100,87.7000) ..
	      controls (842.6600,86.5900) and (842.1800,85.7300) .. (842.8200,84.7100) ..
	      controls (843.7900,83.1600) and (847.3100,82.7500) .. (848.8700,81.8000) ..
	      controls (849.7000,81.3000) and (850.6200,80.9700) .. (851.4100,80.3700) ..
	      controls (852.5600,79.5000) and (852.6800,78.5100) .. (853.5400,77.6500) ..
	      controls (854.2400,76.9500) and (855.7800,76.7400) .. (856.6100,76.0600) ..
	      controls (857.5600,75.2700) and (857.5800,74.6200) .. (858.4500,73.6100) ..
	      controls (859.0500,72.9100) and (859.7900,72.7600) .. (860.4200,72.0200) ..
	      controls (861.0400,71.2800) and (861.4300,70.1300) .. (862.0200,69.1200) ..
	      controls (863.2500,67.0000) and (863.3700,65.4000) .. (863.4400,62.8900) ..
	      controls (863.5000,60.7400) and (862.8000,58.0100) .. (864.9000,57.4100) ..
	      controls (867.1700,56.7700) and (869.2800,57.7400) .. (871.5700,56.7700) ..
	      controls (873.8600,55.8000) and (876.2600,54.9900) .. (878.5000,54.0000) ..
	      controls (879.6300,53.5000) and (880.3700,53.0000) .. (881.5500,52.8300) ..
	      controls (883.1900,52.6000) and (885.0000,53.3100) .. (886.6000,52.7800) ..
	      controls (887.9800,52.3300) and (888.9300,50.8900) .. (889.8600,49.8500) ..
	      controls (890.7600,48.8500) and (891.3800,48.4900) .. (892.4900,47.7900) ..
	      controls (893.9900,46.8300) and (897.3000,45.5200) .. (896.9100,43.2400) ..
	      controls (898.1300,43.0000) and (902.8700,41.1300) .. (903.2500,39.8700) ..
	      controls (903.6500,38.5800) and (901.1200,37.0600) .. (902.0100,35.9900) ..
	      controls (902.5200,35.3700) and (905.7800,35.9300) .. (906.5600,35.8900) ..
	      controls (907.5600,35.8400) and (908.7000,31.5200) .. (908.9700,30.6900) ..
	      controls (909.6400,28.6200) and (911.3200,27.4200) .. (912.9200,26.0800) ..
	      controls (915.0800,24.2700) and (915.8400,22.0200) .. (918.5500,20.9400) ..
	      controls (920.7700,20.0500) and (923.2500,20.2600) .. (925.3700,19.4400) ..
	      controls (928.0900,18.3800) and (928.0700,16.8700) .. (928.3000,13.9900) ..
	      controls (932.4200,13.8400) and (935.9200,17.2200) .. (939.0600,19.5500) ..
	      controls (941.8800,21.6400) and (943.3200,22.0000) .. (946.6400,21.6700) ..
	      controls (948.8400,21.4600) and (950.6700,20.8900) .. (952.9500,21.0900) ..
	      controls (955.3500,21.3000) and (957.1600,21.6700) .. (959.1700,22.9600) ..
	      controls (961.4600,24.4300) and (963.5900,26.1200) .. (966.3400,25.8800) ..
	      controls (967.8800,25.7500) and (970.0400,25.6800) .. (971.2000,24.5700) ..
	      controls (972.5300,23.3100) and (972.7400,20.8800) .. (971.8700,19.3700) ..
	      controls (972.7500,19.3300) and (973.6800,19.4000) .. (974.5700,19.3600) ..
	      controls (974.6100,18.8300) and (974.7400,18.1900) .. (974.6500,17.6500) ..
	      controls (974.5200,16.8400) and (973.5200,16.3600) .. (973.4900,15.8100) ..
	      controls (973.4300,14.4400) and (975.7900,13.4900) .. (976.7700,12.6300) ..
	      controls (979.0100,10.6800) and (981.8900,9.2600) .. (984.6500,7.8200) ..
	      controls (987.2200,6.4700) and (989.8400,5.0300) .. (992.2900,3.4300) ..
	      controls (993.0500,2.9300) and (993.9000,2.9500) .. (994.6100,2.1400) ..
	      controls (995.0900,1.5900) and (994.7400,1.0100) .. (995.4500,0.3900) ..
	      controls (996.6000,-0.6300) and (997.3300,0.2700) .. (997.3600,-1.9600) ..
	      controls (999.4600,-1.4300) and (998.8700,0.8000) .. (999.9800,2.0300) ..
	      controls (1000.8200,2.9600) and (1002.1700,3.2400) .. (1003.0900,4.2700) ..
	      controls (1003.8800,5.1500) and (1003.6200,4.8500) .. (1004.1600,5.9500) ..
	      controls (1005.2300,8.1400) and (1006.2000,9.7200) .. (1008.6000,9.3300) ..
	      controls (1010.0500,9.0900) and (1011.2000,8.4000) .. (1012.7900,9.1800) ..
	      controls (1012.7100,10.1700) and (1013.6800,11.4600) .. (1013.2400,12.4000) ..
	      controls (1012.5600,13.8600) and (1011.1900,12.5100) .. (1010.0100,13.1100) ..
	      controls (1009.1900,13.5300) and (1006.0700,18.2600) .. (1005.9900,19.1800) ..
	      controls (1005.5000,19.0700) and (1004.8000,19.3200) .. (1004.3100,19.2100) ..
	      controls (1003.9300,20.3200) and (1002.8200,20.8600) .. (1002.7200,22.1000) ..
	      controls (1004.1600,22.2500) and (1005.5000,22.6100) .. (1006.8900,22.7700) ..
	      controls (1007.8700,25.0700) and (1005.8700,26.7500) .. (1006.5200,28.7500) ..
	      controls (1006.8500,29.7700) and (1007.7200,30.5200) .. (1008.7600,30.0100) ..
	      controls (1010.1400,29.3400) and (1009.8200,27.8400) .. (1009.8600,26.5800) ..
	      controls (1010.0300,21.6900) and (1015.4200,19.5000) .. (1020.0400,19.8600) ..
	      controls (1020.6900,21.3500) and (1020.3000,22.8300) .. (1020.7800,24.3700) ..
	      controls (1021.3000,26.0400) and (1022.8100,28.1800) .. (1024.0300,29.6300) ..
	      controls (1024.8600,30.6100) and (1028.9800,32.6300) .. (1028.7800,33.8200) ..
	      controls (1028.5700,35.0400) and (1027.6100,34.2500) .. (1027.2200,34.7600) ..
	      controls (1026.8300,35.2700) and (1027.0000,36.1100) .. (1026.6900,36.5300) ..
	      controls (1025.3800,38.3500) and (1021.6600,38.3100) .. (1021.5200,41.6400) ..
	      controls (1021.4200,43.9100) and (1022.5900,43.0900) .. (1020.8600,44.8600) ..
	      controls (1019.9900,45.7500) and (1019.2500,47.0800) .. (1017.6500,47.0900) ..
	      controls (1017.0200,48.2000) and (1016.1200,52.5100) .. (1017.9300,52.6000) ..
	      controls (1018.3700,54.9500) and (1013.9800,55.0300) .. (1014.5800,58.1900) ..
	      controls (1015.8400,58.5300) and (1017.0700,58.3700) .. (1018.3200,58.5800) ..
	      controls (1019.3500,58.7600) and (1020.2800,59.2700) .. (1021.2700,59.3700) ..
	      controls (1021.9400,57.8300) and (1021.0600,56.7300) .. (1022.2900,55.5900) ..
	      controls (1023.2100,54.7300) and (1025.5500,53.5800) .. (1026.7600,52.9700) ..
	      controls (1028.4700,52.1200) and (1030.9000,50.8900) .. (1032.8300,51.1900) ..
	      controls (1034.5600,51.4600) and (1036.9500,53.6600) .. (1038.5100,54.5800) ..
	      controls (1041.1800,56.1500) and (1041.9600,55.6500) .. (1044.7400,54.9500) ..
	      controls (1045.4300,54.7800) and (1046.0600,54.4200) .. (1046.8700,54.6100) ..
	      controls (1048.1600,54.9200) and (1048.6800,56.5500) .. (1050.0400,56.6500) ..
	      controls (1051.7300,56.7900) and (1052.5700,55.0800) .. (1054.2900,54.6900) ..
	      controls (1055.4300,54.4300) and (1058.9400,54.1100) .. (1060.2200,54.6900) ..
	      controls (1060.9700,55.0200) and (1061.5100,56.4300) .. (1062.0800,56.9500) ..
	      controls (1062.8300,57.6300) and (1063.5800,58.0400) .. (1064.5200,58.3700) ..
	      controls (1064.6600,60.1600) and (1065.7500,60.4600) .. (1067.1700,61.3900) ..
	      controls (1069.0700,62.6300) and (1069.2300,62.9700) .. (1069.1600,65.1600) ..
	      controls (1069.1300,66.2000) and (1068.6900,68.2200) .. (1069.0900,69.1700) ..
	      controls (1069.8100,70.8500) and (1072.2400,70.7600) .. (1072.1800,72.9700) ..
	      controls (1071.9500,72.9900) and (1071.7400,73.0100) .. (1071.5100,73.0300) ..
	      controls (1070.5500,74.9200) and (1071.1800,78.0700) .. (1070.9900,80.2000) ..
	      controls (1069.2700,80.2600) and (1067.6300,79.8200) .. (1066.0100,79.8600) ..
	      controls (1063.8800,79.9000) and (1062.9400,80.9000) .. (1061.4800,81.7900) ..
	      controls (1062.0900,85.9600) and (1056.0000,88.5200) .. (1054.6200,91.3000) ..
	      controls (1053.0800,91.3300) and (1051.8500,93.7500) .. (1051.2600,94.9700) ..
	      controls (1047.3300,94.8000) and (1050.3000,105.2500) .. (1051.0500,107.0200)
	      .. controls (1051.2100,107.4000) and (1052.8200,107.5300) ..
	      (1053.2100,107.8900) .. controls (1053.7900,108.4300) and (1053.8300,109.1900)
	      .. (1054.1700,109.8600) .. controls (1054.6000,110.7000) and
	      (1055.6200,111.0400) .. (1055.8400,111.8900) .. controls (1055.8500,111.9100)
	      and (1057.9700,113.5000) .. (1058.2500,113.9500) .. controls
	      (1058.9500,115.0600) and (1059.6200,115.6100) .. (1060.3300,116.5800) ..
	      controls (1061.5200,118.2200) and (1064.2100,120.8100) .. (1064.3700,122.8600)
	      .. controls (1063.0500,123.2400) and (1062.9300,125.0000) ..
	      (1061.8400,125.3700) .. controls (1060.6800,125.7600) and (1058.7600,124.0800)
	      .. (1057.8000,123.5600) .. controls (1055.2500,122.1900) and
	      (1053.0700,120.9900) .. (1050.1900,120.7500) .. controls (1050.1100,119.1300)
	      and (1050.7300,117.0900) .. (1049.5900,115.7400) .. controls
	      (1049.0500,115.1000) and (1047.9100,115.0200) .. (1047.2200,114.5100) ..
	      controls (1046.6000,114.0600) and (1046.2900,113.2400) .. (1045.6500,112.8400)
	      .. controls (1044.4700,112.1100) and (1042.0900,111.9800) ..
	      (1040.8600,112.7700) .. controls (1039.5400,113.6100) and (1040.3800,114.5100)
	      .. (1038.5300,114.1100) .. controls (1037.5600,113.9000) and
	      (1036.4500,112.8900) .. (1036.2500,111.9300) .. controls (1034.9500,113.3200)
	      and (1035.5200,115.2500) .. (1033.6900,116.0400) .. controls
	      (1032.0300,116.7500) and (1029.8000,116.7200) .. (1028.1300,117.3200) ..
	      controls (1027.1600,117.6700) and (1026.3000,118.6100) .. (1025.3300,118.8900)
	      .. controls (1024.5100,119.1300) and (1023.3700,118.8900) ..
	      (1022.5200,119.0400) .. controls (1021.0600,119.3000) and (1019.0900,119.9000)
	      .. (1017.8000,120.4900) .. controls (1016.7300,120.9900) and
	      (1015.3200,121.3000) .. (1014.3800,121.8400) .. controls (1011.0800,123.7400)
	      and (1007.4900,128.8500) .. (1006.1300,132.1700) .. controls
	      (1005.0900,134.7000) and (1004.8600,135.8700) .. (1001.7100,136.0500) ..
	      controls (997.5200,136.3000) and (996.8000,141.2700) .. (993.6900,143.7000) ..
	      controls (993.0000,144.2400) and (992.4100,144.3800) .. (991.6200,144.8000) ..
	      controls (990.4100,145.4500) and (990.2800,145.3500) .. (988.9600,145.5700) ..
	      controls (987.2200,145.8700) and (985.5000,147.3700) .. (984.7700,148.9300) ..
	      controls (983.3900,151.8500) and (980.2900,153.3800) .. (980.1000,156.6600) ..
	      controls (979.0400,157.1300) and (977.4400,156.7500) .. (976.2700,156.9300) ..
	      controls (974.3800,157.2200) and (973.1200,158.4900) .. (971.7600,159.7700) ..
	      controls (970.4500,161.0100) and (969.2400,162.3800) .. (968.3200,163.9400) ..
	      controls (967.8800,164.6800) and (967.6800,165.7700) .. (967.1900,166.4400) ..
	      controls (964.9800,169.4500) and (965.0500,170.5200) .. (965.2600,174.3500) ..
	      controls (965.3700,176.4600) and (966.4300,177.0100) .. (966.9000,179.0300) ..
	      controls (967.1500,180.1100) and (967.2200,180.4300) .. (967.6000,181.2200) ..
	      controls (968.0900,182.2300) and (968.4500,182.7400) .. (968.5300,183.9400) ..
	      controls (968.6300,185.4900) and (967.7200,187.8900) .. (970.1600,187.5300) ..
	      controls (970.2600,189.8400) and (970.0500,191.8100) .. (968.5100,193.5400) ..
	      controls (967.2100,195.0000) and (965.8300,195.7100) .. (964.9500,197.7800) ..
	      controls (963.7800,200.5400) and (965.9100,201.5600) .. (966.2600,204.1300) ..
	      controls (966.6600,207.0900) and (964.4800,207.1500) .. (962.7500,208.6600) ..
	      controls (961.5000,209.7500) and (961.2900,210.3700) .. (960.7800,211.8400) ..
	      controls (960.3900,212.9500) and (960.3000,213.9900) .. (959.2500,214.5500) ..
	      controls (959.2100,215.0000) and (959.3800,216.1200) .. (959.1700,216.5000) ..
	      controls (958.7000,217.3400) and (958.7600,216.8800) .. (958.1300,217.4800) ..
	      controls (957.3000,218.2800) and (955.4900,218.9300) .. (954.8400,220.2000) ..
	      controls (954.1300,221.5900) and (954.9600,222.2800) .. (953.4400,222.8700) ..
	      controls (952.0800,223.3900) and (950.9000,222.7300) .. (949.4400,223.5700) ..
	      controls (948.7300,223.3500) and (948.9000,230.9200) .. (948.7100,231.2200) ..
	      controls (948.0700,232.2000) and (947.1500,232.1000) .. (946.6700,233.2300) ..
	      controls (945.8900,235.0600) and (946.1700,238.1500) .. (946.2500,240.1900) ..
	      controls (947.3300,240.2700) and (948.9600,241.7200) .. (949.8100,242.3100) ..
	      controls (951.5800,243.5500) and (952.1300,243.5200) .. (954.3700,243.7300) ..
	      controls (954.3900,245.3800) and (954.3300,246.5800) .. (954.0400,247.7300) --
	      cycle;
	
	    % shallow
	    \path[draw=c2E97FF,fill=c9EC7F3] (700.5900,335.2300) .. controls
	      (703.2800,336.4600) and (706.0100,337.7300) .. (708.3900,339.5000) .. controls
	      (709.4600,340.3000) and (710.5300,340.8400) .. (711.6400,341.5600) .. controls
	      (713.0500,342.4700) and (714.2000,343.0400) .. (715.7100,343.7600) .. controls
	      (717.3500,344.5500) and (719.0200,345.3400) .. (720.3200,346.6400) .. controls
	      (721.8400,348.1600) and (722.3200,350.7800) .. (723.9300,351.9500) .. controls
	      (725.9900,353.4400) and (730.0500,354.4100) .. (732.5000,355.3000) .. controls
	      (734.2400,355.9300) and (735.6500,357.1200) .. (737.4400,357.6300) .. controls
	      (741.6200,358.8200) and (745.8400,362.4800) .. (745.8500,367.1500) .. controls
	      (745.8600,368.9200) and (744.3000,371.2700) .. (744.6800,372.8600) .. controls
	      (745.1800,374.9500) and (747.7600,374.6000) .. (749.2700,375.5700) .. controls
	      (753.9100,378.5500) and (751.4200,382.2200) .. (751.7300,386.3900) .. controls
	      (749.0400,386.4900) and (743.4900,385.4400) .. (741.8800,388.1900) .. controls
	      (743.5900,390.2900) and (745.4900,392.2900) .. (747.1200,394.4600) .. controls
	      (749.1400,397.1500) and (750.1300,399.2200) .. (751.4000,402.2900) .. controls
	      (753.6000,407.6000) and (752.6000,413.7600) .. (752.3800,419.4700) .. controls
	      (750.7200,419.8400) and (749.1800,421.2800) .. (748.3100,422.5100) .. controls
	      (747.0400,424.3000) and (747.8500,425.1000) .. (747.4000,427.1100) .. controls
	      (746.3300,427.5100) and (745.0100,427.8100) .. (743.7800,427.5400) .. controls
	      (742.5500,427.2700) and (741.4900,426.0800) .. (740.2100,426.2500) .. controls
	      (740.1300,427.2400) and (740.4500,428.8800) .. (740.0800,429.7700) .. controls
	      (739.5900,430.9600) and (738.3600,431.0900) .. (737.5100,431.9500) .. controls
	      (736.6100,432.8500) and (736.4200,433.8600) .. (736.1500,435.0200) .. controls
	      (735.7000,436.9600) and (736.0800,436.1100) .. (734.7500,437.3400) .. controls
	      (734.2000,437.8500) and (733.5500,438.1400) .. (733.1800,438.8500) .. controls
	      (732.9400,439.3000) and (733.3100,440.1600) .. (733.0800,440.4500) .. controls
	      (732.4100,441.3100) and (730.4300,441.7400) .. (729.3000,441.6900) .. controls
	      (726.5200,441.5600) and (726.8400,438.0100) .. (724.3300,438.3000) .. controls
	      (724.2500,436.2600) and (724.4900,434.1600) .. (724.4100,432.1200) .. controls
	      (722.6500,431.9900) and (721.0400,431.1500) .. (719.2400,431.1600) .. controls
	      (719.1400,430.2400) and (718.5900,429.4700) .. (718.2100,428.7000) .. controls
	      (715.8000,428.4400) and (712.0400,428.5600) .. (713.2500,431.6800) .. controls
	      (713.7200,432.8800) and (714.6100,433.1400) .. (714.6400,434.2900) .. controls
	      (714.6500,434.9200) and (714.0700,436.6400) .. (713.9700,437.5300) .. controls
	      (712.6500,437.9600) and (711.2700,437.8000) .. (710.0100,438.2600) .. controls
	      (709.7800,438.9700) and (709.2500,440.2700) .. (708.1900,440.2000) .. controls
	      (706.7200,440.1100) and (706.8000,438.0500) .. (706.2400,437.4700) .. controls
	      (704.8500,436.0400) and (702.3800,436.7000) .. (700.7900,435.1800) .. controls
	      (700.7100,434.5100) and (700.5400,433.8700) .. (700.2500,433.2400) .. controls
	      (699.7500,433.3100) and (699.0800,433.0400) .. (698.5800,433.1100) .. controls
	      (698.1500,431.3800) and (697.3700,429.9600) .. (697.1200,428.1500) .. controls
	      (695.9600,428.0400) and (693.9100,427.5800) .. (693.8300,429.1800) .. controls
	      (691.2800,428.0800) and (690.6000,429.8700) .. (688.3500,430.1800) .. controls
	      (688.3100,430.4100) and (688.3000,430.6200) .. (688.2600,430.8500) .. controls
	      (686.9800,430.7600) and (684.8300,430.3800) .. (685.3000,428.6000) .. controls
	      (683.0900,428.3800) and (682.1100,428.6500) .. (681.3300,426.2400) .. controls
	      (680.9600,425.1000) and (676.4900,425.6700) .. (675.5400,425.4900) .. controls
	      (673.0900,425.0200) and (672.5800,423.8700) .. (671.0200,422.1900) .. controls
	      (669.9400,421.0400) and (667.4900,418.6400) .. (665.8600,417.9700) .. controls
	      (665.0200,417.6200) and (663.1900,417.2000) .. (662.2500,417.6200) .. controls
	      (660.5200,418.4000) and (661.5800,418.4200) .. (660.7800,419.8500) .. controls
	      (659.4900,422.1700) and (658.4600,422.6900) .. (656.0400,423.7900) .. controls
	      (656.2100,427.5300) and (651.0900,426.5000) .. (648.5900,426.6000) .. controls
	      (648.4500,428.8900) and (647.4600,429.6200) .. (647.0700,431.5200) .. controls
	      (646.8100,432.7600) and (647.2200,436.0000) .. (647.5600,437.1500) .. controls
	      (643.6500,437.3400) and (643.8000,437.1400) .. (643.4300,441.0600) .. controls
	      (642.6900,441.2000) and (641.5900,441.1700) .. (640.8500,440.9900) .. controls
	      (641.1400,438.5500) and (640.0500,437.2200) .. (637.5000,438.2700) .. controls
	      (635.6900,439.0100) and (635.6700,440.3800) .. (634.6700,441.8200) .. controls
	      (633.9800,442.8200) and (632.0100,445.4700) .. (630.7100,444.1500) .. controls
	      (630.2700,443.7000) and (630.8400,441.7500) .. (630.7400,441.1200) .. controls
	      (630.5000,439.6700) and (630.2400,439.7000) .. (629.4500,438.4100) .. controls
	      (628.3800,436.6500) and (627.0100,435.6500) .. (627.5700,433.6800) .. controls
	      (628.1200,431.7400) and (629.6500,431.2500) .. (630.0400,429.0800) .. controls
	      (630.6100,425.9400) and (630.3200,419.3500) .. (625.2800,420.6600) .. controls
	      (625.6900,422.3200) and (627.5000,423.0600) .. (627.8200,424.9900) .. controls
	      (628.1200,426.7800) and (627.7500,429.1700) .. (627.6000,430.9600) .. controls
	      (626.7000,431.0700) and (625.4200,431.2100) .. (624.6300,431.6100) .. controls
	      (622.7000,432.5800) and (623.9400,432.6400) .. (622.8000,434.2300) .. controls
	      (621.5400,435.9900) and (621.3900,434.6000) .. (619.8100,435.5500) .. controls
	      (618.7600,436.1800) and (618.5100,437.4000) .. (617.7600,438.1200) .. controls
	      (617.1800,438.6700) and (616.2500,438.9200) .. (615.6300,439.6400) .. controls
	      (614.8700,440.5200) and (614.5000,441.7000) .. (613.8600,442.6600) .. controls
	      (612.9100,444.0800) and (611.0600,444.2300) .. (610.1000,445.4300) .. controls
	      (609.0900,446.6900) and (609.7600,447.3000) .. (609.3700,448.7200) .. controls
	      (608.3200,452.4900) and (605.3400,452.2300) .. (602.0500,453.0000) .. controls
	      (599.1200,453.6800) and (597.8000,455.6400) .. (595.3800,457.2000) .. controls
	      (594.5500,457.7300) and (591.9200,462.1000) .. (591.9600,462.1000) .. controls
	      (589.9800,462.4300) and (588.0300,460.9200) .. (586.0200,460.6600) .. controls
	      (584.5400,460.4700) and (583.0600,460.5800) .. (581.6600,460.8900) .. controls
	      (579.0800,461.4600) and (575.4800,462.8600) .. (573.1900,464.2300) .. controls
	      (570.8100,465.6600) and (569.0500,468.2500) .. (566.6800,470.0900) .. controls
	      (564.6500,471.6700) and (562.4200,473.9400) .. (561.7800,476.3300) .. controls
	      (559.4800,476.8300) and (559.7700,484.6000) .. (560.2000,486.7000) .. controls
	      (560.8500,489.8500) and (562.3100,493.2800) .. (563.9000,496.1400) .. controls
	      (565.6200,499.2300) and (569.9000,504.1900) .. (563.7800,504.5000) .. controls
	      (558.6300,504.7500) and (557.5200,505.3000) .. (557.2300,510.5700) .. controls
	      (558.3500,509.8200) and (558.9500,509.0600) .. (560.3200,508.7500) .. controls
	      (561.9300,508.3800) and (562.6100,508.5500) .. (564.1000,507.8600) .. controls
	      (564.5900,507.6300) and (565.2900,506.8400) .. (565.7300,506.5300) .. controls
	      (566.0400,506.3100) and (567.0600,506.6000) .. (567.5200,506.3800) .. controls
	      (568.3100,506.0000) and (567.5700,505.2100) .. (568.8000,504.9600) .. controls
	      (569.3100,504.8500) and (570.2000,504.9500) .. (570.6800,505.0600) .. controls
	      (569.0000,509.1200) and (565.4700,513.4200) .. (561.4800,515.7200) .. controls
	      (557.8300,517.8200) and (551.6900,519.9800) .. (552.5800,525.2000) .. controls
	      (553.6000,525.2300) and (554.4800,525.0100) .. (555.5000,525.0400) .. controls
	      (555.5800,527.0800) and (555.8500,530.1700) .. (554.3000,531.5700) .. controls
	      (553.2000,532.5700) and (550.3400,533.4000) .. (548.9700,534.1700) .. controls
	      (546.0800,535.7900) and (539.1600,537.1800) .. (538.6800,540.5300) .. controls
	      (535.8200,541.0100) and (535.3600,544.1500) .. (534.5600,546.4900) .. controls
	      (532.8900,551.4300) and (528.0500,552.6700) .. (523.9500,554.5600) .. controls
	      (518.8300,556.9200) and (513.1400,556.4100) .. (508.1200,558.4900) .. controls
	      (503.5600,560.3700) and (498.7100,562.5300) .. (494.3000,564.5500) .. controls
	      (491.9000,565.6600) and (489.4400,566.0200) .. (486.8000,566.6000) .. controls
	      (485.3100,566.9300) and (483.7300,567.5300) .. (482.7300,568.2000) .. controls
	      (481.6600,568.9100) and (481.9000,570.3100) .. (480.0600,570.0700) .. controls
	      (480.0200,568.9000) and (480.0500,567.6800) .. (480.1500,566.5100) .. controls
	      (480.1100,566.9300) and (487.1300,563.4700) .. (487.6100,563.1000) .. controls
	      (489.5000,561.6500) and (492.4000,559.0200) .. (490.6100,556.4400) .. controls
	      (487.5200,551.9800) and (483.2900,555.6900) .. (480.4300,557.6400) .. controls
	      (477.9700,559.3200) and (474.9300,560.0200) .. (472.7500,562.1700) .. controls
	      (472.0200,562.8900) and (470.0100,565.0300) .. (469.7000,565.8400) .. controls
	      (468.8100,568.1900) and (470.2900,574.0600) .. (466.2800,574.0500) .. controls
	      (467.4800,573.4400) and (469.4800,572.9900) .. (470.5000,572.1400) .. controls
	      (471.9900,570.9100) and (473.4500,568.2400) .. (474.1700,566.4600) .. controls
	      (475.0000,566.7500) and (475.8300,567.1300) .. (476.6800,567.4200) .. controls
	      (475.7300,568.6600) and (473.3700,569.1100) .. (472.9900,570.8900) .. controls
	      (474.2300,570.5400) and (476.1100,571.2200) .. (476.7100,569.7600) .. controls
	      (477.6300,569.9100) and (478.6200,570.1200) .. (479.6100,570.1600) .. controls
	      (479.6800,570.5900) and (479.6800,570.9600) .. (479.5700,571.3900) .. controls
	      (476.8900,572.0900) and (475.8700,573.7100) .. (473.4300,574.8700) .. controls
	      (470.7300,576.1500) and (470.9300,577.7500) .. (468.9700,579.4500) .. controls
	      (467.0500,581.1100) and (464.1300,581.4700) .. (462.5900,583.1100) .. controls
	      (460.8300,584.9700) and (459.4400,587.5000) .. (458.0100,589.3500) .. controls
	      (456.7600,590.9700) and (456.6100,592.4400) .. (455.5900,594.2500) .. controls
	      (454.2200,596.6800) and (451.0200,597.7500) .. (449.6500,600.6500) .. controls
	      (448.9800,602.0800) and (449.2200,603.6900) .. (448.2000,604.9600) .. controls
	      (446.6500,606.9100) and (444.6800,608.4300) .. (442.7800,609.9700) .. controls
	      (441.1700,611.2700) and (439.1100,613.0700) .. (437.9800,614.7700) .. controls
	      (437.2200,615.9100) and (436.9700,617.1800) .. (436.2100,618.3200) .. controls
	      (435.3900,619.5500) and (434.0600,620.2400) .. (433.1100,621.3400) .. controls
	      (431.4500,623.2400) and (430.3700,625.4800) .. (429.2100,627.5300) .. controls
	      (428.1600,627.7100) and (427.3800,628.4500) .. (427.1500,629.4900) .. controls
	      (425.1000,629.7400) and (422.3200,632.7900) .. (420.2500,633.9500) .. controls
	      (418.9200,634.7000) and (417.1100,634.8900) .. (416.3800,636.3500) .. controls
	      (415.7100,637.7100) and (416.9100,641.9100) .. (414.4200,642.5100) .. controls
	      (412.1000,643.0800) and (411.3500,645.5000) .. (409.7600,646.8700) .. controls
	      (407.7200,648.6400) and (404.6600,649.3500) .. (402.2700,650.5200) .. controls
	      (400.8600,651.2100) and (399.5900,651.5500) .. (398.3900,652.4100) .. controls
	      (397.1800,653.2900) and (396.3400,654.3100) .. (395.0400,655.1700) .. controls
	      (390.1000,658.4500) and (384.8300,660.1700) .. (380.7300,664.1300) .. controls
	      (378.1200,666.6600) and (375.0500,668.9500) .. (373.1100,672.0800) .. controls
	      (372.1500,673.6300) and (372.2000,675.8500) .. (371.3400,677.2200) .. controls
	      (370.5100,678.5600) and (368.4100,678.9900) .. (367.2100,680.1200) .. controls
	      (365.7700,681.4800) and (365.4500,683.3900) .. (363.5800,684.4300) .. controls
	      (361.6100,685.5200) and (359.2800,686.0700) .. (357.1000,686.5700) .. controls
	      (353.6600,687.3600) and (350.3300,688.9900) .. (347.1700,690.4100) .. controls
	      (343.3600,692.1100) and (341.3000,692.7100) .. (339.0500,696.0500) .. controls
	      (337.5700,698.2500) and (335.8900,698.9900) .. (333.5700,700.3400) .. controls
	      (330.6700,702.0300) and (328.6000,704.3500) .. (325.7500,706.0800) .. controls
	      (323.6500,707.3500) and (320.8000,707.8600) .. (319.2700,709.9000) .. controls
	      (318.1700,711.3600) and (313.5400,724.4800) .. (318.5300,723.1900) .. controls
	      (319.7300,721.1900) and (319.4800,718.3000) .. (319.4000,715.9600) .. controls
	      (319.1000,715.9200) and (318.8000,715.8800) .. (318.4900,715.8400) .. controls
	      (318.3500,715.2800) and (318.3700,714.2200) .. (318.5500,713.6800) .. controls
	      (319.9200,713.9700) and (321.9200,716.2800) .. (322.0900,717.6400) .. controls
	      (322.4100,720.0800) and (320.9200,720.9600) .. (320.1500,722.9200) .. controls
	      (319.5000,724.5700) and (318.7200,727.3100) .. (318.3800,728.9700) .. controls
	      (318.2300,729.7200) and (319.1000,735.6500) .. (318.2200,735.8700) .. controls
	      (317.8000,735.9500) and (317.4100,735.9400) .. (316.9800,735.8400) .. controls
	      (316.9300,734.4700) and (316.9800,733.0500) .. (317.0600,731.6700) .. controls
	      (315.5500,732.8800) and (316.3300,734.7600) .. (315.6500,736.2600) .. controls
	      (315.0400,737.6000) and (314.3600,737.9100) .. (313.0800,738.7100) .. controls
	      (310.4400,740.3600) and (307.1500,740.6400) .. (304.2900,741.9200) .. controls
	      (301.3700,743.2300) and (299.8800,745.4300) .. (296.5400,746.7100) .. controls
	      (293.8700,747.7400) and (290.1800,749.3800) .. (287.1600,748.7500) .. controls
	      (287.1000,747.1800) and (287.8500,744.4700) .. (285.9500,744.1400) .. controls
	      (285.8100,745.5100) and (285.8700,746.9700) .. (285.7100,748.3300) .. controls
	      (285.6800,748.0500) and (285.4900,747.5000) .. (285.4300,747.1400) .. controls
	      (283.4300,746.7800) and (281.9400,745.2600) .. (279.8400,744.6900) .. controls
	      (278.0100,744.1900) and (276.1600,744.1800) .. (274.1700,744.1300) .. controls
	      (271.7500,744.0700) and (265.1500,743.3600) .. (264.4400,746.1600) .. controls
	      (267.4800,746.5700) and (267.4100,745.0200) .. (269.8000,744.3300) .. controls
	      (271.3300,743.8900) and (275.0000,744.0700) .. (274.7300,746.1000) .. controls
	      (272.4100,746.8200) and (269.8300,747.4300) .. (267.3700,747.6300) .. controls
	      (263.9000,747.9100) and (262.5300,748.4100) .. (262.2300,752.1700) .. controls
	      (262.0400,754.5200) and (262.1800,754.7300) .. (260.7600,756.4800) .. controls
	      (259.7700,757.7000) and (258.2200,758.3200) .. (257.3400,759.7200) .. controls
	      (256.4900,761.0600) and (256.7100,762.4700) .. (256.1500,763.9500) .. controls
	      (254.7500,767.6200) and (251.7400,768.1400) .. (249.1000,770.6000) .. controls
	      (247.6700,771.9400) and (246.9700,775.2600) .. (248.9400,775.8600) .. controls
	      (247.8200,776.1300) and (246.9700,775.8900) .. (246.5500,774.9000) .. controls
	      (246.7100,775.5900) and (246.4500,776.4100) .. (246.4600,777.0800) .. controls
	      (246.0300,777.0700) and (245.6600,777.1600) .. (245.2200,777.0500) .. controls
	      (245.1900,776.7400) and (245.2200,776.4500) .. (245.1500,776.1400) .. controls
	      (242.6400,776.5400) and (243.2500,773.7700) .. (242.3600,772.3700) .. controls
	      (242.1500,774.1500) and (242.5500,779.2100) .. (239.8200,778.9100) .. controls
	      (239.6500,777.4700) and (240.3300,776.4400) .. (240.1600,775.0000) .. controls
	      (238.3700,775.3500) and (238.3300,777.0100) .. (238.3900,778.5400) .. controls
	      (235.8700,779.1400) and (236.9900,775.7100) .. (236.8800,774.2100) .. controls
	      (236.7300,772.3000) and (235.8100,770.8000) .. (235.9600,768.8900) .. controls
	      (232.3200,768.5700) and (228.0100,768.0400) .. (224.9900,769.9500) .. controls
	      (224.9300,770.2500) and (224.9100,770.5300) .. (224.8600,770.8300) .. controls
	      (223.4900,771.3000) and (222.6600,772.4600) .. (221.1700,772.8800) .. controls
	      (219.7500,773.2800) and (218.2200,772.6900) .. (216.8000,773.0100) .. controls
	      (214.4200,773.5500) and (212.9000,776.4400) .. (211.6600,778.2100) .. controls
	      (209.4800,781.3000) and (209.6900,785.2100) .. (206.3800,787.7800) .. controls
	      (202.6700,790.6500) and (201.8100,796.2900) .. (200.5700,800.3500) .. controls
	      (200.1800,801.6300) and (199.2700,802.5400) .. (198.7500,803.7600) .. controls
	      (197.2800,807.2400) and (196.8800,811.8900) .. (197.2800,815.6100) .. controls
	      (197.7000,819.6100) and (198.7800,823.7600) .. (199.6500,827.6800) .. controls
	      (200.3500,830.8600) and (202.3200,833.9900) .. (202.7600,837.1100) .. controls
	      (202.9400,838.3700) and (202.6900,839.8400) .. (202.6600,841.1200) .. controls
	      (202.5800,844.0300) and (202.8900,847.3700) .. (202.1000,850.1200) .. controls
	      (201.5900,851.8900) and (200.5300,852.1500) .. (199.6600,853.4700) .. controls
	      (198.7000,854.9300) and (198.6100,855.4700) .. (198.5000,857.3200) .. controls
	      (196.6700,857.3300) and (194.4000,856.9300) .. (195.2200,859.6000) .. controls
	      (195.5800,858.4700) and (196.8700,858.0100) .. (198.1400,858.4200) .. controls
	      (198.3300,861.0100) and (199.6000,863.0200) .. (199.6800,865.7600) .. controls
	      (199.7700,868.8400) and (200.4400,871.3000) .. (201.1400,874.2400) .. controls
	      (201.8100,877.0500) and (201.3100,879.6200) .. (201.5800,882.5000) .. controls
	      (201.9600,886.4900) and (202.9600,890.1500) .. (203.4700,893.9900) .. controls
	      (203.7300,895.9000) and (202.7500,898.3700) .. (203.3600,900.2000) .. controls
	      (203.5300,900.7000) and (205.3800,901.5600) .. (204.2300,902.4900) .. controls
	      (202.9600,903.5200) and (201.7400,901.5300) .. (201.5300,900.7000) .. controls
	      (201.2700,899.6500) and (201.7100,898.4200) .. (201.3300,897.3800) .. controls
	      (200.8300,896.0100) and (200.1300,895.4500) .. (199.9400,893.8900) .. controls
	      (199.3600,889.0200) and (196.0000,885.3400) .. (195.9800,880.5500) .. controls
	      (195.6200,880.4200) and (194.9200,880.4000) .. (194.5500,880.5100) .. controls
	      (194.3300,882.9300) and (193.7400,886.6200) .. (194.3000,888.9900) .. controls
	      (194.5200,889.9300) and (198.6400,896.1000) .. (195.1600,895.8100) .. controls
	      (195.2600,897.4600) and (197.1900,899.0200) .. (197.5500,900.8100) .. controls
	      (200.0900,900.7500) and (200.3100,901.3200) .. (200.7000,903.4300) .. controls
	      (201.2600,906.3900) and (203.9300,907.6500) .. (204.6400,910.6300) .. controls
	      (205.5600,914.4700) and (205.5200,918.4600) .. (205.2400,922.3800) .. controls
	      (204.9200,926.9300) and (201.2200,929.7200) .. (200.9100,934.2600) .. controls
	      (200.7500,936.5900) and (200.8900,938.9400) .. (200.7300,941.2700) .. controls
	      (200.5400,944.0600) and (199.3000,945.3100) .. (198.5300,947.8900) .. controls
	      (197.9000,950.0000) and (195.0200,958.3900) .. (192.0800,957.9600) .. controls
	      (191.6900,957.9000) and (191.1200,957.2100) .. (190.6000,957.0800) .. controls
	      (189.9500,956.9100) and (189.1500,957.0100) .. (188.4800,956.9900) .. controls
	      (189.0900,957.0700) and (189.6800,957.7600) .. (190.2100,958.0600) .. controls
	      (191.3400,958.7000) and (192.0400,958.4800) .. (192.4800,959.6800) .. controls
	      (192.8600,960.7300) and (192.6000,962.0500) .. (191.9200,962.9300) .. controls
	      (191.3100,963.7100) and (190.4700,964.2900) .. (190.0700,965.2100) .. controls
	      (189.6300,966.2400) and (189.6800,966.8500) .. (188.8300,967.7800) .. controls
	      (187.1800,969.6000) and (185.1200,971.0000) .. (183.2500,972.5600) .. controls
	      (182.6900,973.0300) and (181.9000,973.6400) .. (181.4900,974.2300) .. controls
	      (180.9600,975.0100) and (181.1600,975.4100) .. (180.9000,976.3300) .. controls
	      (180.7700,976.7900) and (180.3300,977.1400) .. (180.2400,977.6000) .. controls
	      (180.1900,977.8700) and (180.4300,978.3100) .. (180.3600,978.5200) .. controls
	      (180.0700,979.3400) and (179.7700,979.7400) .. (178.6600,979.7500) .. controls
	      (179.0500,979.7400) and (178.3500,977.8300) .. (177.7700,977.6300) .. controls
	      (176.7000,977.2700) and (174.6900,978.8300) .. (174.8000,979.9800) .. controls
	      (174.9100,981.1600) and (177.3400,979.8300) .. (177.7900,981.0400) .. controls
	      (178.0000,981.6100) and (177.3500,983.1600) .. (177.2400,983.7500) .. controls
	      (177.0100,985.0000) and (176.8300,986.2600) .. (176.5000,987.4900) .. controls
	      (176.0000,989.3700) and (174.7700,991.0100) .. (174.2800,992.8600) .. controls
	      (173.7800,994.7400) and (173.6600,997.2400) .. (173.6100,999.1900) .. controls
	      (173.5500,1001.3700) and (173.3000,1003.1500) .. (172.8200,1005.1800) ..
	      controls (172.1900,1007.8500) and (170.9700,1013.4100) .. (172.7100,1015.8600)
	      .. controls (173.2700,1016.6500) and (173.6200,1016.4800) ..
	      (173.8000,1017.5500) .. controls (173.9500,1018.4200) and (173.4800,1019.5100)
	      .. (173.7500,1020.3500) .. controls (173.9200,1020.8700) and
	      (174.4100,1021.0800) .. (174.5300,1021.7500) .. controls (175.0500,1024.6100)
	      and (175.0100,1027.8600) .. (174.9700,1030.7800) .. controls
	      (174.8900,1036.5100) and (174.6700,1042.1600) .. (174.8500,1047.8600) ..
	      controls (175.0500,1054.5300) and (175.6200,1061.1700) .. (175.8600,1067.8400)
	      .. controls (175.9800,1071.2900) and (176.0200,1074.7500) ..
	      (175.8800,1078.2000) .. controls (175.8400,1079.2000) and (175.8300,1080.2200)
	      .. (175.6700,1081.2200) .. controls (175.6100,1081.5900) and
	      (175.5600,1082.2900) .. (175.3100,1082.5800) .. controls (175.0700,1082.8600)
	      and (174.6400,1082.8100) .. (174.4400,1083.2400) .. controls
	      (174.2200,1083.2800) and (174.0000,1083.3500) .. (173.8000,1083.4500) ..
	      controls (173.2600,1082.4700) and (174.2500,1081.7400) .. (172.8500,1081.2500)
	      .. controls (172.2500,1081.0400) and (172.1600,1080.9400) ..
	      (171.7600,1080.4600) .. controls (171.2600,1079.8700) and (170.2100,1079.6000)
	      .. (169.5500,1079.2000) .. controls (168.6900,1078.6700) and
	      (167.7500,1078.1300) .. (166.7100,1078.1400) .. controls (165.6000,1078.1500)
	      and (164.6700,1078.9100) .. (163.5200,1078.9100) .. controls
	      (162.4000,1078.9100) and (161.5000,1078.6400) .. (160.5200,1078.4900) ..
	      controls (159.4600,1078.3400) and (158.2400,1078.3900) .. (157.1700,1078.4100)
	      .. controls (156.2400,1078.4300) and (154.1200,1078.7300) ..
	      (154.6100,1080.0900) .. controls (154.9900,1079.9300) and (155.3900,1079.6300)
	      .. (155.8000,1079.5400) .. controls (156.2300,1079.4400) and
	      (156.8600,1079.5700) .. (157.3000,1079.5800) .. controls (158.2900,1079.6100)
	      and (159.1800,1079.5200) .. (160.1500,1079.4900) .. controls
	      (161.0800,1079.4500) and (162.0700,1079.5000) .. (163.0000,1079.5600) ..
	      controls (164.9100,1079.6900) and (167.3200,1080.6500) .. (169.1600,1081.2200)
	      .. controls (170.0100,1081.4900) and (170.8800,1081.8100) ..
	      (171.6600,1082.2500) .. controls (171.8900,1082.3800) and (172.5900,1082.7100)
	      .. (172.5600,1083.0600) .. controls (172.5100,1083.6600) and
	      (170.8700,1083.5100) .. (170.5400,1083.2700) .. controls (170.1700,1083.0000)
	      and (170.1600,1082.4300) .. (169.8700,1082.1000) .. controls
	      (169.6900,1081.9100) and (168.9700,1081.3300) .. (168.7200,1081.2600) ..
	      controls (168.2000,1081.1300) and (167.7400,1081.4800) .. (167.1900,1081.3500)
	      .. controls (166.6600,1081.2200) and (165.9500,1081.0600) ..
	      (165.5100,1080.7100) .. controls (164.8900,1080.2100) and (164.5900,1079.8100)
	      .. (163.7300,1080.1600) .. controls (163.0900,1080.4200) and
	      (162.4600,1080.4700) .. (161.7800,1080.4800) .. controls (160.7900,1080.5000)
	      and (160.7600,1080.1900) .. (160.0000,1079.6500) .. controls
	      (159.4500,1079.2700) and (159.4700,1079.3600) .. (158.8700,1079.6200) ..
	      controls (158.2800,1079.8700) and (157.7000,1080.1800) .. (157.1000,1080.3900)
	      .. controls (156.7000,1080.5300) and (156.2800,1080.5000) ..
	      (155.8900,1080.6500) .. controls (155.6000,1080.7600) and (155.5300,1081.0700)
	      .. (155.2500,1081.2100) .. controls (154.6500,1081.5000) and
	      (153.7500,1081.1500) .. (153.1400,1081.0300) .. controls (152.2800,1080.8700)
	      and (151.4000,1080.7600) .. (150.5200,1080.7400) .. controls
	      (149.0900,1080.7100) and (147.5600,1080.7800) .. (146.2200,1081.3400) ..
	      controls (144.9900,1081.8500) and (143.2300,1084.0500) .. (142.5400,1085.1600)
	      .. controls (141.9800,1086.0700) and (142.0700,1086.9500) ..
	      (141.9800,1088.0000) .. controls (140.1700,1087.7000) and (139.9700,1093.1600)
	      .. (140.0200,1094.4600) .. controls (141.2700,1094.5800) and
	      (143.3900,1095.0700) .. (141.5800,1096.4900) .. controls (141.0100,1096.9400)
	      and (140.1000,1096.8700) .. (139.4500,1097.4400) .. controls
	      (138.8000,1098.0200) and (138.2800,1098.9100) .. (137.7300,1099.6000) ..
	      controls (135.8400,1101.9800) and (132.4700,1103.7600) .. (132.1000,1107.1100)
	      .. controls (130.0100,1108.2300) and (129.1100,1109.9100) ..
	      (128.3600,1111.9200) .. controls (127.4200,1114.4500) and (124.4800,1115.7100)
	      .. (123.3000,1118.1100) .. controls (121.3600,1122.0500) and
	      (117.9100,1130.5300) .. (123.5800,1133.1300) .. controls (125.1800,1133.8700)
	      and (126.4600,1134.5600) .. (127.8600,1135.4900) .. controls
	      (128.9500,1136.2100) and (130.5500,1136.2800) .. (130.8600,1137.8000) ..
	      controls (131.9900,1138.0100) and (133.1700,1138.1400) .. (134.3400,1138.2500)
	      .. controls (135.9200,1138.4100) and (137.1800,1139.1000) ..
	      (138.8100,1139.0300) .. controls (140.1200,1138.9800) and (141.3300,1138.9800)
	      .. (142.2200,1138.1200) .. controls (142.8700,1137.4900) and
	      (143.0200,1136.3200) .. (144.4000,1136.7000) .. controls (144.4800,1138.9100)
	      and (143.8500,1140.4900) .. (145.9700,1141.7200) .. controls
	      (146.9100,1142.2700) and (147.7800,1142.3700) .. (148.4400,1143.2900) ..
	      controls (148.9700,1144.0200) and (149.1000,1144.8900) .. (149.6700,1145.5000)
	      .. controls (148.0400,1145.6800) and (147.5000,1144.6400) ..
	      (146.4600,1143.7200) .. controls (145.6100,1142.9700) and (144.4400,1142.1500)
	      .. (143.4700,1141.4800) .. controls (141.3000,1139.9800) and
	      (138.3800,1140.4900) .. (135.8000,1139.9400) .. controls (134.0400,1139.5700)
	      and (131.9800,1139.6700) .. (130.1100,1139.6300) .. controls
	      (127.9500,1139.5700) and (126.2700,1138.9300) .. (124.2800,1138.6400) ..
	      controls (121.0000,1138.1600) and (118.4800,1139.1200) .. (115.5300,1139.7600)
	      .. controls (114.8100,1139.9200) and (114.0700,1139.8100) ..
	      (113.3500,1140.0400) .. controls (112.4200,1140.3400) and (112.3500,1140.6100)
	      .. (111.7800,1141.4600) .. controls (110.7700,1141.5300) and
	      (109.1000,1141.9500) .. (108.1300,1142.4300) .. controls (108.1800,1142.7600)
	      and (107.9800,1143.2500) .. (108.0100,1143.5400) .. controls
	      (106.7800,1143.5900) and (106.1200,1143.5800) .. (105.0000,1143.9900) ..
	      controls (101.5100,1145.2700) and (97.8100,1145.6900) .. (94.1500,1146.1900)
	      .. controls (92.7600,1146.3800) and (90.7100,1146.3100) .. (89.5500,1147.1500)
	      .. controls (88.3400,1148.0200) and (87.6000,1149.7200) .. (86.4500,1150.7300)
	      .. controls (85.3600,1151.6700) and (83.7600,1151.1200) .. (82.4400,1152.0800)
	      .. controls (81.6800,1152.6300) and (81.5600,1153.1500) .. (80.6500,1153.5100)
	      .. controls (80.1100,1153.7200) and (79.2900,1153.6300) .. (78.8300,1154.0300)
	      .. controls (77.8600,1154.9000) and (77.4500,1157.7800) .. (77.3600,1158.9800)
	      .. controls (77.1600,1161.6300) and (77.8100,1164.8600) .. (77.1200,1167.4100)
	      .. controls (76.8500,1168.4000) and (75.9100,1169.5200) .. (75.2300,1170.2800)
	      .. controls (74.2000,1171.4400) and (74.4300,1172.6200) .. (73.9400,1174.0600)
	      .. controls (72.4200,1174.1100) and (67.9600,1172.9900) .. (67.7600,1175.2300)
	      .. controls (68.9300,1175.3500) and (70.2100,1175.3700) .. (71.3900,1175.3300)
	      .. controls (71.6300,1174.4600) and (73.6100,1174.8000) .. (74.0700,1175.4200)
	      .. controls (74.4900,1175.9900) and (74.3000,1177.9000) .. (74.1800,1178.6000)
	      .. controls (73.9600,1179.9300) and (73.4800,1179.8300) .. (72.7400,1180.6900)
	      .. controls (72.1000,1181.4300) and (71.8400,1182.5600) .. (71.5400,1183.3700)
	      .. controls (70.8600,1185.1800) and (69.9200,1186.7500) .. (68.5400,1188.1100)
	      .. controls (67.1000,1189.5300) and (66.0100,1189.9900) .. (64.1600,1190.6800)
	      .. controls (63.4000,1190.9600) and (62.6800,1191.7200) .. (61.9400,1191.9500)
	      .. controls (61.3300,1192.1400) and (60.5600,1191.9500) .. (59.9300,1192.1300)
	      .. controls (59.0500,1192.3800) and (57.4000,1192.7500) .. (56.6800,1193.2000)
	      .. controls (55.3100,1194.0500) and (54.8900,1195.5800) .. (54.1600,1196.7900)
	      .. controls (53.5900,1197.7400) and (52.7400,1198.3200) .. (51.7200,1198.6900)
	      .. controls (50.2000,1199.2400) and (48.6900,1199.9700) .. (47.0000,1199.9400)
	      .. controls (45.9900,1199.9200) and (44.2400,1199.5000) .. (43.3100,1199.8300)
	      .. controls (42.1600,1200.2400) and (41.6700,1201.7700) .. (41.3700,1202.7700)
	      .. controls (41.2800,1202.7800) and (41.1800,1202.8000) .. (41.0900,1202.8100)
	      .. controls (40.9400,1202.8400) and (40.4500,1203.8300) .. (40.1100,1203.9800)
	      .. controls (39.6000,1204.2100) and (38.9400,1203.9900) .. (38.3900,1203.9500)
	      .. controls (36.8300,1203.8600) and (35.2900,1203.7900) .. (33.7600,1203.5000)
	      .. controls (30.1700,1202.8300) and (26.7000,1201.1100) .. (23.3200,1199.7600)
	      .. controls (20.9800,1198.8300) and (18.0800,1197.7600) .. (16.0900,1196.1900)
	      .. controls (14.3900,1194.8400) and (14.1900,1192.8800) .. (12.9900,1191.1900)
	      .. controls (12.1000,1189.9400) and (10.7800,1188.5100) .. (9.3800,1187.8500)
	      .. controls (7.0600,1186.7500) and (6.0500,1187.0600) .. (5.1300,1184.2900) ..
	      controls (4.4700,1182.3100) and (3.7200,1180.9000) .. (2.3100,1179.1600) ..
	      controls (-0.4500,1175.7500) and (-3.5700,1172.7000) .. (-6.0400,1169.1700) ..
	      controls (-7.5100,1167.0700) and (-12.5600,1162.1800) .. (-12.2400,1159.5300)
	      .. controls (-11.4100,1159.5200) and (-10.8300,1159.8400) ..
	      (-10.0700,1160.0100) .. controls (-10.0400,1159.4400) and (-10.1100,1158.6400)
	      .. (-10.2700,1158.0800) .. controls (-10.3800,1157.7200) and
	      (-13.4000,1158.0200) .. (-13.8100,1157.9000) .. controls (-15.0300,1157.5400)
	      and (-16.3100,1155.9100) .. (-16.2100,1154.6600) .. controls
	      (-15.6800,1154.8900) and (-14.3600,1154.5300) .. (-14.1200,1154.6800) ..
	      controls (-14.5700,1154.4000) and (-14.9700,1153.7700) .. (-15.4100,1153.4000)
	      .. controls (-14.3800,1152.3100) and (-12.5800,1152.5000) ..
	      (-11.5300,1151.5000) .. controls (-12.0400,1150.5500) and (-13.9500,1148.6500)
	      .. (-15.2200,1149.1900) .. controls (-16.1000,1149.5600) and
	      (-15.5000,1150.5800) .. (-16.0600,1151.0800) .. controls (-16.7100,1151.6700)
	      and (-17.5600,1150.7500) .. (-18.1100,1151.8500) .. controls
	      (-18.8200,1150.6600) and (-18.2400,1148.9100) .. (-19.7300,1148.2100) ..
	      controls (-19.6500,1147.5600) and (-18.5800,1147.5000) .. (-18.6400,1146.7500)
	      .. controls (-18.6800,1146.3300) and (-19.0800,1146.0100) ..
	      (-19.1200,1145.5300) .. controls (-19.1900,1144.6700) and (-19.1500,1144.0700)
	      .. (-19.4700,1143.2700) .. controls (-19.7700,1142.5100) and
	      (-19.6300,1141.7300) .. (-19.9400,1140.9600) .. controls (-20.1800,1140.3800)
	      and (-20.4400,1139.7900) .. (-20.7000,1139.2100) .. controls
	      (-20.9400,1138.6600) and (-21.5500,1138.1600) .. (-21.6300,1137.5700) ..
	      controls (-21.6200,1138.6100) and (-21.2100,1139.1800) .. (-20.6400,1139.9800)
	      .. controls (-20.1000,1140.7300) and (-20.3300,1141.1600) ..
	      (-20.3700,1141.9800) .. controls (-20.4000,1142.6600) and (-20.1100,1143.3600)
	      .. (-20.0000,1144.0300) .. controls (-19.8700,1144.9000) and
	      (-19.6400,1145.7200) .. (-20.0500,1146.5600) .. controls (-20.7900,1146.1200)
	      and (-20.7600,1145.0200) .. (-20.8800,1144.2400) .. controls
	      (-21.0300,1143.2600) and (-21.1600,1142.2600) .. (-21.5600,1141.3400) ..
	      controls (-22.4000,1139.4200) and (-23.0500,1137.4700) .. (-23.9200,1135.6200)
	      .. controls (-24.6700,1134.0100) and (-25.8300,1132.1400) ..
	      (-26.1300,1130.3100) .. controls (-26.4700,1128.2300) and (-25.9700,1126.5700)
	      .. (-26.7200,1124.5300) .. controls (-27.3800,1122.7300) and
	      (-28.3100,1120.9900) .. (-28.5400,1119.1200) .. controls (-28.8000,1117.0200)
	      and (-28.9000,1114.7500) .. (-28.8400,1112.6300) .. controls
	      (-28.7700,1109.8500) and (-29.2700,1107.5800) .. (-29.4800,1104.9600) ..
	      controls (-29.8300,1100.4300) and (-32.4600,1096.8200) .. (-32.3300,1092.2100)
	      .. controls (-32.3500,1093.0000) and (-31.7000,1093.1800) ..
	      (-31.2700,1093.6700) .. controls (-30.7800,1094.2400) and (-30.5400,1094.9800)
	      .. (-30.2100,1095.6400) .. controls (-29.6100,1096.8100) and
	      (-28.8300,1097.5100) .. (-28.6800,1098.8500) .. controls (-28.5100,1100.3100)
	      and (-28.2600,1101.5700) .. (-27.7600,1102.9700) .. controls
	      (-27.2700,1104.3500) and (-27.4800,1105.6800) .. (-27.2300,1107.1600) ..
	      controls (-26.8900,1109.1500) and (-24.8800,1108.0700) .. (-24.5800,1109.5700)
	      .. controls (-24.3500,1110.6700) and (-25.4600,1111.9600) ..
	      (-25.8000,1112.9100) .. controls (-26.2500,1114.1500) and (-26.3000,1115.5200)
	      .. (-26.2700,1116.9100) .. controls (-26.2200,1119.1200) and
	      (-24.9000,1118.6800) .. (-22.9800,1118.9600) .. controls (-21.2800,1119.2100)
	      and (-20.1300,1120.1200) .. (-18.3700,1120.0500) .. controls
	      (-17.9800,1117.9400) and (-19.2400,1117.3000) .. (-20.7300,1116.1900) ..
	      controls (-20.7500,1116.4500) and (-20.9800,1116.8000) .. (-20.9400,1117.1500)
	      .. controls (-21.6900,1117.1600) and (-22.5200,1117.1800) ..
	      (-23.2300,1117.0500) .. controls (-23.3500,1114.0800) and (-23.2000,1111.2800)
	      .. (-23.3600,1108.2600) .. controls (-23.4500,1106.6100) and
	      (-24.7600,1106.1200) .. (-24.7700,1104.5500) .. controls (-24.7800,1103.2000)
	      and (-24.2900,1101.7800) .. (-24.4900,1100.3800) .. controls
	      (-24.7000,1098.9200) and (-25.9500,1098.2700) .. (-26.6300,1097.1600) ..
	      controls (-27.4200,1095.8800) and (-28.3400,1095.1600) .. (-29.3200,1094.0700)
	      .. controls (-30.2800,1093.0100) and (-30.8100,1091.5500) ..
	      (-31.7800,1090.4600) .. controls (-33.0900,1089.0100) and (-33.1900,1088.2900)
	      .. (-33.3800,1086.4500) .. controls (-33.4600,1085.7200) and
	      (-33.7100,1084.9000) .. (-34.0600,1084.2100) .. controls (-33.7000,1084.1100)
	      and (-33.5000,1083.8300) .. (-33.1400,1083.7500) .. controls
	      (-32.9300,1082.9700) and (-33.8800,1080.8200) .. (-32.2400,1081.3200) ..
	      controls (-32.2600,1081.5000) and (-32.1800,1081.7500) .. (-32.2000,1081.9400)
	      .. controls (-31.0900,1082.0000) and (-30.9400,1083.2000) ..
	      (-29.6200,1083.0300) .. controls (-30.9100,1083.2000) and (-31.7800,1078.0800)
	      .. (-32.9000,1077.1200) .. controls (-33.0100,1078.1600) and
	      (-32.6400,1079.0000) .. (-32.7000,1079.9200) .. controls (-33.5000,1079.9500)
	      and (-34.6800,1079.5900) .. (-35.2100,1080.3200) .. controls
	      (-35.1500,1078.8400) and (-35.3700,1076.8800) .. (-35.9500,1075.5100) ..
	      controls (-36.1000,1075.1500) and (-36.6000,1075.0900) .. (-36.7400,1074.6600)
	      .. controls (-36.8600,1074.3100) and (-36.6800,1073.7000) ..
	      (-36.6900,1073.3300) .. controls (-36.7200,1072.5400) and (-36.7700,1071.6000)
	      .. (-37.0000,1070.8600) .. controls (-37.2000,1070.1800) and
	      (-37.6600,1069.6400) .. (-37.9600,1068.9600) .. controls (-38.3300,1068.1100)
	      and (-38.2900,1067.4700) .. (-38.5200,1066.6100) .. controls
	      (-38.9400,1065.0700) and (-40.2700,1064.0300) .. (-40.4000,1062.4100) ..
	      controls (-40.1500,1062.3400) and (-39.6900,1062.3600) .. (-39.4500,1062.4400)
	      .. controls (-39.3700,1064.5000) and (-39.1600,1064.7400) ..
	      (-36.9900,1064.6200) .. controls (-37.6300,1063.7200) and (-37.9600,1062.5200)
	      .. (-38.6100,1061.6400) .. controls (-39.1000,1060.9800) and
	      (-40.5200,1060.2800) .. (-40.4800,1061.6700) .. controls (-41.6900,1061.8900)
	      and (-42.0800,1060.0100) .. (-42.3900,1059.1700) .. controls
	      (-42.6400,1058.4800) and (-42.5800,1057.6500) .. (-42.8400,1056.9800) ..
	      controls (-43.1300,1056.2300) and (-44.5700,1054.1500) .. (-45.3900,1054.0500)
	      .. controls (-45.3300,1053.1300) and (-45.9500,1052.4500) ..
	      (-45.8200,1051.4200) .. controls (-44.9900,1051.3600) and (-44.0900,1051.4400)
	      .. (-43.4100,1051.8100) .. controls (-43.8300,1051.2400) and
	      (-44.1400,1050.5900) .. (-43.9400,1049.8000) .. controls (-43.2100,1049.7700)
	      and (-43.0300,1048.9100) .. (-43.2500,1048.2400) .. controls
	      (-43.5000,1047.4800) and (-43.9300,1047.4900) .. (-44.7100,1047.2200) ..
	      controls (-44.8000,1046.9300) and (-44.9200,1046.9000) .. (-45.0300,1046.7400)
	      .. controls (-45.2000,1047.3000) and (-45.3900,1047.8000) ..
	      (-45.4600,1048.3700) .. controls (-45.6200,1048.3800) and (-45.7600,1048.3800)
	      .. (-45.9100,1048.4100) .. controls (-46.4900,1049.1300) and
	      (-46.2700,1050.1200) .. (-46.3800,1051.0300) .. controls (-46.7800,1050.0500)
	      and (-46.4800,1048.5300) .. (-46.5800,1047.3600) .. controls
	      (-46.7000,1045.9200) and (-47.6200,1044.7700) .. (-47.8200,1043.3200) ..
	      controls (-48.0000,1042.0200) and (-47.8600,1040.7200) .. (-48.2300,1039.4700)
	      .. controls (-48.5800,1038.2700) and (-49.1100,1037.0000) ..
	      (-49.4200,1035.7600) .. controls (-49.7000,1034.6300) and (-49.7300,1033.2900)
	      .. (-50.0800,1032.1200) .. controls (-50.4300,1030.9200) and
	      (-50.3000,1029.6600) .. (-50.6200,1028.4000) .. controls (-50.8900,1027.3600)
	      and (-52.1600,1025.9100) .. (-52.0400,1024.8600) .. controls
	      (-51.9000,1023.6100) and (-49.6700,1023.7700) .. (-49.8200,1022.4300) ..
	      controls (-50.7300,1022.3600) and (-51.7100,1022.4500) .. (-52.6200,1022.5300)
	      .. controls (-52.8100,1022.8700) and (-52.9100,1022.7500) ..
	      (-53.1400,1022.9400) .. controls (-53.3100,1021.2300) and (-54.0900,1019.8200)
	      .. (-54.0400,1017.9600) .. controls (-54.0200,1017.1600) and
	      (-53.9100,1016.4800) .. (-54.3100,1015.7900) .. controls (-54.6700,1015.1600)
	      and (-55.6100,1014.9800) .. (-55.4200,1014.1100) .. controls
	      (-54.5000,1014.0800) and (-53.5500,1014.1700) .. (-52.6300,1014.1300) ..
	      controls (-52.3800,1012.5900) and (-55.8200,1013.6600) .. (-56.5600,1013.0100)
	      .. controls (-57.0600,1012.5700) and (-56.9800,1011.5100) ..
	      (-57.3000,1010.9000) .. controls (-57.6600,1010.2000) and (-58.3500,1009.4100)
	      .. (-58.8400,1008.8200) .. controls (-59.6100,1007.8800) and
	      (-59.2900,1008.3300) .. (-60.4900,1007.9400) .. controls (-61.2700,1007.6900)
	      and (-61.7200,1007.5000) .. (-62.0000,1006.5700) .. controls
	      (-62.2400,1005.8000) and (-61.9500,1005.0100) .. (-62.0700,1004.2300) ..
	      controls (-62.2300,1003.1500) and (-63.1500,1002.6800) .. (-63.3300,1001.7200)
	      .. controls (-62.7400,1001.7000) and (-62.1200,1001.7400) ..
	      (-61.5300,1001.7200) .. controls (-61.4600,1001.5000) and (-61.4500,1001.1600)
	      .. (-61.5100,1000.9400) .. controls (-62.8100,1001.1900) and
	      (-62.9900,999.5500) .. (-63.4800,998.7300) .. controls (-64.3400,997.2800) and
	      (-63.6700,996.2400) .. (-64.1700,994.8300) .. controls (-64.5100,993.8800) and
	      (-66.1200,992.6100) .. (-66.7900,991.8000) .. controls (-67.6900,990.7100) and
	      (-68.4700,989.9300) .. (-68.9100,988.5700) .. controls (-69.9500,988.4500) and
	      (-70.4900,987.8900) .. (-71.3100,987.2700) .. controls (-72.4300,986.4300) and
	      (-73.6000,986.0200) .. (-74.8100,985.2500) .. controls (-76.3000,984.3200) and
	      (-75.6200,983.8100) .. (-76.4600,982.3700) .. controls (-76.9800,981.4800) and
	      (-78.1500,980.7700) .. (-78.0000,979.6500) .. controls (-77.0700,979.6100) and
	      (-76.1100,979.7200) .. (-75.1900,979.6600) .. controls (-75.9100,979.0800) and
	      (-80.6400,976.5100) .. (-80.5800,976.0800) .. controls (-79.9500,976.0300) and
	      (-79.3900,975.4000) .. (-79.9000,974.8500) .. controls (-80.3000,974.4000) and
	      (-81.5500,974.8300) .. (-82.0800,974.6800) .. controls (-82.8400,974.4600) and
	      (-83.1700,974.1200) .. (-83.9200,974.1200) .. controls (-84.7000,974.1200) and
	      (-84.6200,975.1800) .. (-85.2500,973.7600) .. controls (-85.7100,972.7200) and
	      (-85.3200,970.9200) .. (-85.4400,969.7500) .. controls (-85.5800,968.3000) and
	      (-86.0100,967.0300) .. (-86.7600,965.7500) .. controls (-88.4100,962.9200) and
	      (-88.7400,959.5000) .. (-89.9300,956.4900) .. controls (-91.2800,953.0800) and
	      (-92.2700,949.8300) .. (-92.6500,946.1100) .. controls (-93.0600,942.1500) and
	      (-95.4100,938.9300) .. (-97.4300,935.6200) .. controls (-99.6600,931.9800) and
	      (-99.5800,928.1800) .. (-100.8100,924.4200) .. controls (-101.6800,921.7400)
	      and (-104.9300,917.6300) .. (-101.9600,915.9700) .. controls
	      (-103.4800,914.7400) and (-104.3800,915.2300) .. (-105.1100,913.6300) ..
	      controls (-105.7000,912.3400) and (-105.3900,910.6900) .. (-105.3500,909.2900)
	      .. controls (-105.3100,907.7300) and (-105.2700,906.1700) ..
	      (-105.2300,904.6100) .. controls (-105.1700,902.4700) and (-105.4100,901.7900)
	      .. (-106.1400,900.1700) .. controls (-106.8300,898.6300) and
	      (-107.2900,897.4400) .. (-107.6800,895.8500) .. controls (-108.1800,893.8200)
	      and (-108.0100,894.1400) .. (-109.6300,893.0600) .. controls
	      (-110.3900,892.5500) and (-112.4000,892.2800) .. (-112.2000,891.1400) ..
	      controls (-112.0900,890.5200) and (-108.8100,889.5600) .. (-108.2500,889.4400)
	      .. controls (-107.8600,886.5400) and (-107.7800,884.0300) ..
	      (-108.3100,880.8100) .. controls (-108.8600,877.5400) and (-112.0800,875.6000)
	      .. (-107.5200,874.0900) .. controls (-106.9700,872.0200) and
	      (-109.5800,871.9100) .. (-111.0500,872.0000) .. controls (-111.1200,870.1200)
	      and (-110.6100,867.9000) .. (-110.9500,866.0400) .. controls
	      (-111.1800,864.7900) and (-111.5500,864.6500) .. (-111.9000,863.7000) ..
	      controls (-112.2800,862.6800) and (-112.4100,861.2000) .. (-112.8000,860.3100)
	      .. controls (-114.0500,857.5000) and (-117.6500,853.0200) ..
	      (-120.3200,851.4500) .. controls (-119.0500,849.9800) and (-116.4600,843.2300)
	      .. (-120.0100,843.0500) .. controls (-119.9600,842.6600) and
	      (-120.0500,842.2300) .. (-119.9700,841.8200) .. controls (-119.7800,841.7900)
	      and (-119.6000,841.7600) .. (-119.4100,841.7200) .. controls
	      (-118.7100,839.7000) and (-120.0300,840.0100) .. (-120.6200,838.8300) ..
	      controls (-121.1200,837.8400) and (-121.4600,837.1000) .. (-121.8000,835.9700)
	      .. controls (-122.0800,835.0200) and (-123.0400,833.5000) ..
	      (-122.7900,832.4800) .. controls (-122.5100,831.3400) and (-120.6600,831.0000)
	      .. (-121.1000,829.7600) .. controls (-124.9300,830.0400) and
	      (-124.7900,827.8300) .. (-125.2800,824.9300) .. controls (-125.5700,823.2200)
	      and (-126.3300,823.3900) .. (-126.8200,822.1300) .. controls
	      (-127.2100,821.1300) and (-126.6100,818.8400) .. (-127.1800,818.0100) ..
	      controls (-128.1900,816.5200) and (-129.5900,817.7900) .. (-130.7900,817.1300)
	      .. controls (-131.8200,816.5600) and (-131.7800,814.9200) ..
	      (-133.0400,814.3700) .. controls (-134.1800,813.8700) and (-135.9500,814.8000)
	      .. (-137.0900,814.2200) .. controls (-138.1900,813.6600) and
	      (-137.4900,812.1600) .. (-139.6200,811.8100) .. controls (-140.6100,808.3900)
	      and (-135.7000,809.7200) .. (-133.6400,809.6200) .. controls
	      (-133.9700,808.1200) and (-136.4400,807.9400) .. (-137.2100,806.2500) ..
	      controls (-137.9700,804.5800) and (-137.4700,803.0500) .. (-138.7200,801.2000)
	      .. controls (-139.8300,799.5600) and (-140.4300,798.1200) ..
	      (-141.3700,796.4500) .. controls (-142.1400,795.0800) and (-144.2400,794.1100)
	      .. (-143.8200,792.4400) .. controls (-143.6300,792.4100) and
	      (-143.4500,792.3700) .. (-143.2600,792.3400) .. controls (-142.7400,786.7900)
	      and (-145.8200,782.7800) .. (-148.0800,778.3300) .. controls
	      (-146.8100,777.5000) and (-144.4600,778.0700) .. (-142.8700,777.9800) ..
	      controls (-144.2700,775.9300) and (-147.6300,778.0600) .. (-149.0800,776.4800)
	      .. controls (-151.7500,773.5700) and (-146.8700,773.6600) ..
	      (-145.4300,773.5700) .. controls (-146.5500,773.6400) and (-151.0700,772.1000)
	      .. (-151.9200,771.3700) .. controls (-153.8300,769.7300) and
	      (-153.7300,767.2700) .. (-154.5700,765.0600) .. controls (-155.7100,762.0400)
	      and (-156.9500,759.1800) .. (-158.2700,756.1900) .. controls
	      (-159.6200,753.1200) and (-159.8300,749.6800) .. (-161.7200,746.8500) ..
	      controls (-162.5900,745.5400) and (-163.5800,744.2700) .. (-164.6400,743.3500)
	      .. controls (-165.9000,742.2600) and (-167.3900,741.9800) ..
	      (-167.6000,740.0600) .. controls (-166.6200,739.0100) and (-164.6200,737.9600)
	      .. (-164.9400,736.1300) .. controls (-165.0700,735.3400) and
	      (-166.5200,734.7900) .. (-166.7500,733.6200) .. controls (-166.9600,732.5800)
	      and (-166.6200,730.5200) .. (-166.7300,729.3600) .. controls
	      (-166.9800,726.6600) and (-167.3000,725.0800) .. (-168.2300,722.6400) ..
	      controls (-169.0100,720.5900) and (-168.4500,718.4100) .. (-168.7200,716.2600)
	      .. controls (-169.0300,713.7600) and (-170.1600,711.8000) ..
	      (-170.2100,709.2000) .. controls (-170.2500,707.2600) and (-169.6500,704.9300)
	      .. (-169.7000,703.2300) .. controls (-169.8100,699.7500) and
	      (-169.2400,692.9700) .. (-171.3600,690.2100) .. controls (-170.0000,690.3500)
	      and (-168.4100,690.3100) .. (-168.7300,688.6000) .. controls
	      (-169.5000,688.5100) and (-170.0700,687.9900) .. (-170.9500,688.1000) ..
	      controls (-171.0300,686.0600) and (-168.7600,681.0000) .. (-171.4400,681.0800)
	      .. controls (-171.8400,679.6700) and (-171.4500,678.3100) ..
	      (-169.8000,678.4500) .. controls (-169.0600,676.3800) and (-170.7600,675.8500)
	      .. (-172.2900,675.3700) .. controls (-172.3400,674.3500) and
	      (-172.5700,672.7100) .. (-172.2100,671.7300) .. controls (-171.8000,670.6500)
	      and (-170.2200,671.4300) .. (-170.5800,669.5100) .. controls
	      (-171.6500,669.4000) and (-172.7700,669.4300) .. (-173.8500,669.3300) ..
	      controls (-170.5300,665.8900) and (-172.9900,659.0600) .. (-174.2300,655.3400)
	      .. controls (-173.3100,654.7700) and (-171.8800,654.4900) ..
	      (-171.0800,653.7500) .. controls (-171.8900,653.0300) and (-173.2300,652.9100)
	      .. (-174.4100,652.9500) .. controls (-174.8300,648.3900) and
	      (-172.6900,644.6800) .. (-175.5000,640.6200) .. controls (-177.2000,638.1700)
	      and (-180.4100,633.0000) .. (-175.7100,631.6800) .. controls
	      (-178.5500,632.4800) and (-179.1200,627.7300) .. (-179.1800,625.8900) ..
	      controls (-179.7800,625.8100) and (-180.0900,625.4200) .. (-180.7400,625.4100)
	      .. controls (-180.1100,623.9700) and (-178.3400,622.1500) ..
	      (-178.7000,620.2300) .. controls (-180.6700,618.7300) and (-182.8800,619.1200)
	      .. (-182.1600,615.7900) .. controls (-179.9800,615.7100) and
	      (-176.1800,615.0700) .. (-175.8900,617.6200) .. controls (-175.4500,616.4400)
	      and (-176.2300,614.9700) .. (-175.4800,613.2900) .. controls
	      (-176.6700,613.0400) and (-177.6000,613.6300) .. (-177.8800,614.8000) ..
	      controls (-178.8400,614.8700) and (-179.8500,614.8100) .. (-180.8100,614.7200)
	      .. controls (-179.8400,613.7000) and (-180.0500,611.9800) ..
	      (-180.1200,610.5100) .. controls (-180.8900,610.3600) and (-181.5100,609.7700)
	      .. (-182.3300,609.6700) .. controls (-182.4300,606.9400) and
	      (-182.5500,603.7000) .. (-181.7800,601.1100) .. controls (-181.3500,601.1200)
	      and (-180.9800,601.0400) .. (-180.5400,601.1400) .. controls
	      (-180.5300,601.4400) and (-180.5400,601.7500) .. (-180.4600,602.0500) ..
	      controls (-179.9900,602.1600) and (-179.0900,602.2800) .. (-178.6100,602.1700)
	      .. controls (-179.7400,600.9100) and (-180.7700,599.3400) ..
	      (-181.4100,597.7300) .. controls (-181.7600,596.8500) and (-181.5200,595.9800)
	      .. (-182.0000,595.0300) .. controls (-182.3400,594.3600) and
	      (-183.2300,593.9000) .. (-183.5400,593.2500) .. controls (-185.0400,590.2400)
	      and (-184.7900,583.8800) .. (-180.1000,584.7900) .. controls
	      (-180.0800,585.1000) and (-180.0500,585.3900) .. (-180.0200,585.7000) ..
	      controls (-178.3200,585.8500) and (-175.3200,586.3700) .. (-174.0600,585.3200)
	      .. controls (-174.8200,584.9100) and (-175.5100,583.7000) ..
	      (-176.2400,583.4200) .. controls (-177.3700,582.9800) and (-178.3300,583.6000)
	      .. (-179.6300,583.3700) .. controls (-179.5100,582.8300) and
	      (-179.8200,582.0000) .. (-179.6900,581.4700) .. controls (-182.8800,580.3500)
	      and (-179.5600,577.7400) .. (-178.5800,576.6900) .. controls
	      (-177.7600,575.8200) and (-178.5100,575.3700) .. (-177.1200,574.7900) ..
	      controls (-176.3600,574.4700) and (-174.6500,574.8600) .. (-173.8100,574.8300)
	      .. controls (-173.4100,573.7200) and (-173.1000,572.1500) ..
	      (-173.3300,570.8800) .. controls (-173.5800,569.5000) and (-174.5500,568.5000)
	      .. (-174.2800,566.9000) .. controls (-176.4400,566.5300) and
	      (-175.4500,571.5400) .. (-176.1200,573.1000) .. controls (-177.6300,573.1500)
	      and (-179.1900,573.0200) .. (-180.7000,573.0800) .. controls
	      (-181.1300,575.4600) and (-182.3400,576.8000) .. (-183.3100,578.9200) ..
	      controls (-185.6800,579.3500) and (-185.4500,574.4600) .. (-183.8500,573.9000)
	      .. controls (-183.3800,572.3100) and (-185.3000,570.9000) ..
	      (-183.4200,570.2400) .. controls (-183.3300,569.1800) and (-183.3000,568.0800)
	      .. (-183.3400,567.0200) .. controls (-184.2200,566.6600) and
	      (-185.1800,560.6400) .. (-184.7800,559.5600) .. controls (-183.8700,557.1500)
	      and (-179.0700,558.7800) .. (-177.0100,557.5200) .. controls
	      (-179.2800,557.2200) and (-181.7500,557.5200) .. (-183.9700,557.1600) ..
	      controls (-184.0200,555.7500) and (-183.6600,554.0300) .. (-183.9700,552.6600)
	      .. controls (-184.2500,551.4400) and (-185.6000,551.2600) ..
	      (-185.1600,549.5600) .. controls (-184.5300,547.1000) and (-180.3100,547.7200)
	      .. (-178.7300,545.8000) .. controls (-179.6500,545.3600) and
	      (-181.6700,542.5600) .. (-182.2900,542.6000) .. controls (-183.9300,542.6900)
	      and (-183.3400,545.3400) .. (-183.4600,546.5500) .. controls
	      (-184.4100,546.6100) and (-185.4300,546.5900) .. (-186.3700,546.4700) ..
	      controls (-188.1900,546.2100) and (-182.5300,535.7800) .. (-186.7700,536.1000)
	      .. controls (-186.9600,533.3400) and (-185.7100,531.4000) ..
	      (-185.5700,528.5500) .. controls (-184.7100,528.7400) and (-183.9900,528.2400)
	      .. (-183.3200,528.1600) .. controls (-182.9400,528.1100) and
	      (-185.1400,525.2700) .. (-185.2200,525.1200) .. controls (-185.9900,523.6900)
	      and (-186.6700,522.7400) .. (-185.3800,521.2200) .. controls
	      (-184.6500,521.0800) and (-183.5400,521.1000) .. (-182.8100,521.2800) ..
	      controls (-182.6600,522.6300) and (-181.5400,523.0800) .. (-180.8000,524.1900)
	      .. controls (-180.2400,520.6600) and (-185.6300,518.6600) ..
	      (-183.6000,514.8700) .. controls (-182.4500,512.7000) and (-180.7900,514.3600)
	      .. (-180.1600,511.6200) .. controls (-179.7900,509.9900) and
	      (-181.8400,508.6100) .. (-181.4500,507.3000) .. controls (-180.9400,505.6000)
	      and (-177.7900,506.8100) .. (-176.5900,505.2100) .. controls
	      (-175.7500,504.0900) and (-176.4500,502.2100) .. (-175.5200,500.9700) ..
	      controls (-174.9200,500.1800) and (-173.7100,500.2000) .. (-173.1200,499.4700)
	      .. controls (-172.2500,498.3800) and (-172.5000,497.3800) ..
	      (-172.0600,496.1300) .. controls (-171.7700,495.3100) and (-171.2400,494.5700)
	      .. (-170.9900,493.8400) .. controls (-169.5800,489.7800) and
	      (-169.7100,485.9000) .. (-169.2800,481.5700) .. controls (-167.6700,480.6600)
	      and (-164.8200,481.4200) .. (-165.2900,478.6600) .. controls
	      (-166.9600,478.5100) and (-168.3400,478.7800) .. (-169.5000,477.8300) ..
	      controls (-170.4500,477.0600) and (-171.1300,474.6500) .. (-171.6900,473.5000)
	      .. controls (-169.5900,472.9500) and (-167.9400,472.3600) ..
	      (-165.7900,472.2000) .. controls (-165.8400,471.2500) and (-165.7400,470.1100)
	      .. (-165.3600,469.3200) .. controls (-167.3500,468.9100) and
	      (-169.5800,469.5400) .. (-171.6400,469.3700) .. controls (-171.7000,467.6700)
	      and (-170.9700,465.4200) .. (-172.7900,464.4600) .. controls
	      (-171.5100,463.5700) and (-170.1000,463.3100) .. (-168.5700,463.4300) ..
	      controls (-168.4700,463.0100) and (-168.4600,462.6200) .. (-168.5400,462.2000)
	      .. controls (-170.7400,462.0000) and (-173.0600,462.5500) ..
	      (-175.1500,462.2600) .. controls (-174.8500,461.0100) and (-173.1700,459.7900)
	      .. (-171.8200,459.6800) .. controls (-171.9400,458.0500) and
	      (-175.5900,458.6700) .. (-177.0600,458.5400) .. controls (-177.3900,456.9300)
	      and (-176.7100,455.5900) .. (-175.7100,454.5400) .. controls
	      (-176.6600,453.9500) and (-176.8100,453.3600) .. (-176.9500,452.2400) ..
	      controls (-177.1600,450.5700) and (-176.3100,450.6900) .. (-175.8500,449.6900)
	      .. controls (-175.0000,447.8500) and (-174.6900,446.5600) ..
	      (-174.7900,444.3400) .. controls (-174.9700,444.3000) and (-175.1600,444.2600)
	      .. (-175.3400,444.2100) .. controls (-175.9700,442.0100) and
	      (-174.1200,442.5000) .. (-173.0600,441.5700) .. controls (-171.9700,440.6100)
	      and (-171.8700,440.0700) .. (-171.0000,438.9400) .. controls
	      (-169.7100,437.2600) and (-167.1000,436.0700) .. (-166.7100,433.8500) ..
	      controls (-166.3100,433.8100) and (-165.8400,433.7500) .. (-165.4400,433.7600)
	      .. controls (-167.8100,432.7200) and (-168.4200,434.1500) ..
	      (-170.1300,435.4000) .. controls (-171.9900,436.7600) and (-174.1400,437.0200)
	      .. (-176.5000,436.8300) .. controls (-176.4300,435.9600) and
	      (-176.8900,435.4200) .. (-176.8900,434.5900) .. controls (-177.5800,434.3100)
	      and (-177.6800,433.9600) .. (-178.1200,433.5600) .. controls
	      (-175.1700,432.8300) and (-171.8700,433.4700) .. (-168.8100,433.3600) ..
	      controls (-168.8200,433.0900) and (-168.7800,432.7400) .. (-168.7800,432.4600)
	      .. controls (-168.7900,431.3100) and (-177.9600,430.5500) ..
	      (-178.9500,430.3500) .. controls (-179.3900,428.7600) and (-177.8900,426.5400)
	      .. (-177.8700,424.7200) .. controls (-177.8500,422.9800) and
	      (-178.6100,420.8000) .. (-177.7800,419.1400) .. controls (-176.6400,416.8500)
	      and (-173.1200,418.0100) .. (-171.2000,417.9400) .. controls
	      (-168.3500,417.8200) and (-166.4300,416.2300) .. (-163.6700,415.2700) ..
	      controls (-165.5700,414.1300) and (-173.8900,414.4600) .. (-174.7300,416.5100)
	      .. controls (-175.9000,416.5600) and (-177.1300,416.5300) ..
	      (-178.3000,416.4300) .. controls (-178.3600,414.6200) and (-178.1800,409.1000)
	      .. (-176.2000,408.8000) .. controls (-176.0200,407.5200) and
	      (-177.2500,406.8800) .. (-178.1300,406.1400) .. controls (-176.3900,405.2800)
	      and (-176.8000,401.2600) .. (-175.4800,399.5300) .. controls
	      (-172.3600,395.4100) and (-171.9300,399.6100) .. (-169.2400,401.3800) ..
	      controls (-168.0000,402.2000) and (-166.4400,402.0500) .. (-165.0700,402.4500)
	      .. controls (-163.2100,402.9900) and (-163.3600,403.8500) ..
	      (-161.3400,402.9000) .. controls (-159.6200,402.0900) and (-156.7900,398.0600)
	      .. (-155.6900,398.1100) .. controls (-158.9700,399.7000) and
	      (-166.1500,400.5800) .. (-169.4500,398.6400) .. controls (-171.4800,397.4400)
	      and (-179.5100,390.6300) .. (-180.5900,396.6900) .. controls
	      (-181.9200,396.5400) and (-183.3000,396.5700) .. (-183.8800,397.9300) ..
	      controls (-182.1500,398.1200) and (-180.3500,398.0300) .. (-178.6100,398.1800)
	      .. controls (-178.5300,398.6100) and (-178.5400,399.0000) ..
	      (-178.6400,399.4100) .. controls (-181.3800,399.0900) and (-180.8500,401.0900)
	      .. (-183.3200,401.0100) .. controls (-185.5300,400.9400) and
	      (-186.1400,398.6300) .. (-188.5700,398.9200) .. controls (-189.1500,401.1000)
	      and (-189.5200,402.9500) .. (-191.4500,404.0600) .. controls
	      (-190.2000,404.7900) and (-188.6700,405.0900) .. (-187.2300,404.8900) ..
	      controls (-187.7700,405.3900) and (-187.8100,405.6100) .. (-188.4200,405.9400)
	      .. controls (-188.7300,407.6400) and (-190.4800,409.1900) ..
	      (-191.3300,410.4800) .. controls (-192.5000,412.2400) and (-193.3200,414.5000)
	      .. (-192.8000,416.8000) .. controls (-192.6100,417.6300) and
	      (-191.7200,418.2700) .. (-191.5100,419.4900) .. controls (-191.2800,420.7500)
	      and (-191.6600,422.2200) .. (-191.6100,423.5000) .. controls
	      (-191.5500,425.2100) and (-190.3300,429.3800) .. (-192.7200,429.8700) ..
	      controls (-193.1400,434.0000) and (-192.3400,438.2000) .. (-195.4800,441.0200)
	      .. controls (-198.6600,443.8700) and (-201.2600,446.4100) ..
	      (-203.0800,450.5300) .. controls (-203.3800,450.5500) and (-203.6800,450.5700)
	      .. (-203.9800,450.6000) .. controls (-204.0800,451.6600) and
	      (-204.0600,452.7800) .. (-204.1600,453.8300) .. controls (-206.6000,453.5100)
	      and (-208.0100,455.6200) .. (-209.8800,456.9000) .. controls
	      (-211.7300,458.1700) and (-213.4500,458.9500) .. (-215.6500,459.2900) ..
	      controls (-217.7800,459.6300) and (-220.1300,459.2800) .. (-221.4500,461.3900)
	      .. controls (-224.0100,463.2900) and (-226.7000,462.5300) ..
	      (-229.8000,462.2400) .. controls (-231.2900,462.1000) and (-237.3400,463.0700)
	      .. (-235.5800,465.8000) .. controls (-234.9700,463.9300) and
	      (-232.9100,463.9900) .. (-231.2300,463.9100) .. controls (-231.1400,466.4900)
	      and (-235.1200,465.8600) .. (-236.9300,466.0500) .. controls
	      (-239.6200,466.3400) and (-240.7200,467.4900) .. (-242.1000,469.5400) ..
	      controls (-243.3800,469.5900) and (-244.7700,469.3500) .. (-246.0500,469.4800)
	      .. controls (-248.4100,469.7100) and (-248.8000,470.7200) ..
	      (-250.5600,471.7100) .. controls (-252.8800,473.0300) and (-255.5800,472.4300)
	      .. (-258.4700,472.5600) .. controls (-259.3400,474.0000) and
	      (-262.0200,474.0500) .. (-263.4000,475.6800) .. controls (-265.1000,474.4000)
	      and (-267.9200,472.9100) .. (-269.9200,473.9300) .. controls
	      (-271.4800,473.3000) and (-272.1700,472.0500) .. (-273.9400,472.1000) ..
	      controls (-275.2700,472.1400) and (-275.7800,473.2800) .. (-277.3100,473.3600)
	      .. controls (-280.6300,473.5200) and (-281.6700,470.0800) ..
	      (-284.5800,469.5000) .. controls (-286.5400,469.1100) and (-287.0100,469.4100)
	      .. (-288.5600,468.3200) .. controls (-289.8400,467.4100) and
	      (-290.6700,465.8700) .. (-291.8500,464.8700) .. controls (-294.2300,462.8400)
	      and (-297.0700,462.0000) .. (-299.3700,459.7500) .. controls
	      (-300.5500,458.5900) and (-301.5600,457.3000) .. (-302.6500,456.0500) ..
	      controls (-304.0600,454.4300) and (-305.2200,453.9400) .. (-306.9500,452.6400)
	      .. controls (-309.3400,450.8400) and (-311.1700,448.4400) ..
	      (-313.4600,446.3800) .. controls (-317.2400,442.9900) and (-324.1400,437.3300)
	      .. (-324.4200,431.7900) .. controls (-323.7000,431.4400) and
	      (-323.8600,431.1700) .. (-323.4800,430.8100) .. controls (-326.3500,431.0500)
	      and (-327.3200,428.7900) .. (-328.6100,426.6100) .. controls
	      (-330.2900,423.7800) and (-331.7700,422.3200) .. (-334.2400,420.0400) ..
	      controls (-336.5600,417.9000) and (-338.1200,415.4800) .. (-340.7600,413.5200)
	      .. controls (-343.4000,411.5600) and (-344.2500,410.0200) ..
	      (-346.0300,407.4500) .. controls (-349.7200,402.1300) and (-354.2800,397.7000)
	      .. (-357.6300,392.3800) .. controls (-359.0300,390.1600) and
	      (-359.9400,387.6500) .. (-361.2100,385.4200) .. controls (-362.6800,382.8400)
	      and (-369.0500,375.3300) .. (-363.8900,373.5300) .. controls
	      (-363.5800,372.5100) and (-362.9900,372.5700) .. (-362.5000,371.6200) ..
	      controls (-362.1000,370.8500) and (-362.7700,369.9900) .. (-362.0600,369.2900)
	      .. controls (-360.9800,368.2300) and (-358.9300,368.6600) ..
	      (-357.3900,368.8000) .. controls (-357.4700,370.7400) and (-359.3400,369.6500)
	      .. (-360.4700,370.5800) .. controls (-362.2700,372.0500) and
	      (-361.1700,373.7500) .. (-359.1600,374.0500) .. controls (-357.7500,374.2600)
	      and (-356.9400,372.9600) .. (-355.7900,372.7900) .. controls
	      (-354.1400,372.5500) and (-352.8500,373.9000) .. (-351.4000,372.7000) ..
	      controls (-352.6900,375.2500) and (-357.7000,380.2500) .. (-351.9900,379.9700)
	      .. controls (-351.6300,382.1000) and (-353.9800,381.4900) ..
	      (-354.3200,383.1500) .. controls (-353.0400,382.7700) and (-352.2500,381.6300)
	      .. (-351.1200,381.1800) .. controls (-349.6300,380.5800) and
	      (-347.7800,380.6700) .. (-346.2600,380.1400) .. controls (-345.2100,379.7800)
	      and (-343.2900,378.5400) .. (-342.2000,378.8000) .. controls
	      (-340.4500,379.2100) and (-340.9000,381.9000) .. (-338.2900,381.2200) ..
	      controls (-338.1000,380.6700) and (-338.0800,379.5500) .. (-338.2300,378.9900)
	      .. controls (-338.5100,378.8800) and (-338.8200,378.7500) ..
	      (-339.0800,378.6500) .. controls (-336.1600,378.5700) and (-333.4700,377.9200)
	      .. (-330.5100,378.1800) .. controls (-330.6900,379.0400) and
	      (-330.2000,379.7600) .. (-330.1100,380.4300) .. controls (-329.7700,380.4100)
	      and (-329.2000,380.2700) .. (-328.8800,380.1200) .. controls
	      (-329.2600,377.8600) and (-327.8000,378.9500) .. (-326.7700,378.2300) ..
	      controls (-326.4200,377.9800) and (-325.7700,378.3500) .. (-325.3300,378.0300)
	      .. controls (-324.7900,377.6500) and (-325.3100,376.9500) ..
	      (-324.8100,376.5200) .. controls (-323.4700,375.3500) and (-318.1900,373.3900)
	      .. (-318.9900,377.3800) .. controls (-318.4800,377.4500) and
	      (-317.9300,377.5500) .. (-317.4200,377.4200) .. controls (-317.3800,377.2400)
	      and (-317.3300,377.0500) .. (-317.2900,376.8700) .. controls
	      (-316.5100,376.9200) and (-315.8300,376.4500) .. (-315.0400,376.4900) ..
	      controls (-314.8300,374.1900) and (-310.9600,372.7600) .. (-310.5200,370.3700)
	      .. controls (-311.5600,370.2600) and (-312.6400,370.2700) ..
	      (-313.7000,370.2500) .. controls (-312.4400,369.4900) and (-311.2000,368.6500)
	      .. (-309.7700,368.3200) .. controls (-309.1800,368.1800) and
	      (-307.6600,367.8700) .. (-307.0700,368.0700) .. controls (-305.7000,368.5200)
	      and (-306.0100,370.0900) .. (-304.7900,370.4900) .. controls
	      (-303.0900,371.0500) and (-304.1600,369.7000) .. (-303.0200,369.5800) ..
	      controls (-301.0800,369.3700) and (-299.0800,370.0100) .. (-297.1200,369.9500)
	      .. controls (-296.7400,368.7000) and (-296.9300,367.1300) ..
	      (-296.3200,366.0100) .. controls (-295.7100,364.8700) and (-293.7000,363.9200)
	      .. (-292.8000,363.1100) .. controls (-290.5900,361.1500) and
	      (-288.4400,357.8500) .. (-285.7300,356.8800) .. controls (-285.3800,353.0800)
	      and (-284.3900,350.4200) .. (-282.8300,347.2600) .. controls
	      (-281.8900,345.3700) and (-281.1400,345.5400) .. (-279.7300,344.3200) ..
	      controls (-278.4900,343.2500) and (-278.1100,342.1200) .. (-277.2500,340.8300)
	      .. controls (-279.5800,342.7000) and (-283.0900,341.9800) ..
	      (-282.9100,338.3500) .. controls (-286.0600,337.8600) and (-290.6500,339.7000)
	      .. (-290.4100,343.3900) .. controls (-293.5200,345.5600) and
	      (-292.1200,343.0600) .. (-294.3300,341.9800) .. controls (-295.8900,341.2200)
	      and (-297.8200,342.7200) .. (-297.7000,344.2100) .. controls
	      (-296.7500,344.2700) and (-295.7400,344.3300) .. (-294.7900,344.3800) ..
	      controls (-293.6800,344.4500) and (-295.7300,347.1100) .. (-296.1600,347.2900)
	      .. controls (-297.4200,347.8100) and (-299.7000,346.8100) ..
	      (-301.1800,347.1700) .. controls (-303.5300,347.7500) and (-303.5900,350.0200)
	      .. (-305.7000,350.7400) .. controls (-309.2000,351.9400) and
	      (-313.3700,349.9900) .. (-316.6600,352.1700) .. controls (-316.7000,352.4700)
	      and (-316.7500,352.7600) .. (-316.7900,353.0600) .. controls
	      (-318.7500,352.8300) and (-319.6300,353.7700) .. (-321.3600,354.0000) ..
	      controls (-323.4600,354.2800) and (-325.4000,353.3700) .. (-327.4400,353.1700)
	      .. controls (-329.2800,352.9800) and (-335.7200,351.1100) ..
	      (-335.4200,353.3200) .. controls (-336.4700,353.7200) and (-337.6700,353.6300)
	      .. (-338.8100,353.4900) .. controls (-338.9000,348.6400) and
	      (-343.9700,350.5700) .. (-346.9900,349.5800) .. controls (-349.0500,348.9000)
	      and (-350.1900,346.8700) .. (-351.6500,345.5400) .. controls
	      (-352.9900,344.3200) and (-354.5900,343.1200) .. (-355.9900,341.8400) ..
	      controls (-359.0400,339.0500) and (-361.8500,337.5600) .. (-365.5500,335.5600)
	      .. controls (-368.3100,334.0700) and (-371.4300,329.3300) ..
	      (-374.6900,329.1800) .. controls (-375.3600,326.6200) and (-376.4700,325.8500)
	      .. (-377.9300,323.8800) .. controls (-375.4300,324.2700) and
	      (-376.4200,319.9800) .. (-373.5600,319.8700) .. controls (-373.5400,319.6000)
	      and (-373.5600,319.2200) .. (-373.5400,318.9700) .. controls
	      (-375.6900,318.2000) and (-377.5100,321.3400) .. (-379.2900,322.0800) ..
	      controls (-380.3100,320.3800) and (-378.5100,320.8000) .. (-377.8700,319.7500)
	      .. controls (-377.1500,318.5600) and (-377.0500,317.7400) ..
	      (-377.1500,316.2100) .. controls (-379.1100,316.3100) and (-379.1200,319.0400)
	      .. (-381.1400,319.0300) .. controls (-381.7300,316.5200) and
	      (-377.1500,314.7000) .. (-379.6900,313.4200) .. controls (-381.3500,312.5800)
	      and (-383.6600,311.5400) .. (-385.5900,311.5500) .. controls
	      (-384.0100,309.7600) and (-382.6900,310.9600) .. (-383.2800,308.7400) ..
	      controls (-383.7700,306.8700) and (-385.4900,306.2700) .. (-387.2000,306.8500)
	      .. controls (-387.3300,304.8900) and (-387.4200,300.7200) ..
	      (-386.7000,298.8900) .. controls (-386.5100,298.4000) and (-386.3600,298.0600)
	      .. (-386.2100,297.8200) .. controls (-385.7800,297.1600) and
	      (-385.3100,297.3500) .. (-383.6300,297.3000) .. controls (-381.3800,297.2400)
	      and (-381.4600,297.0500) .. (-379.9500,296.1200) .. controls
	      (-378.8600,295.4500) and (-377.7800,294.0100) .. (-376.7700,293.5300) ..
	      controls (-375.5000,292.9300) and (-373.6400,293.4800) .. (-372.6300,292.3100)
	      .. controls (-371.8700,291.4300) and (-371.8500,288.9300) ..
	      (-371.0200,287.6700) .. controls (-372.8600,287.0900) and (-373.5900,289.3400)
	      .. (-374.8200,290.1600) .. controls (-375.7500,290.7800) and
	      (-377.8700,292.0100) .. (-378.9000,292.3400) .. controls (-381.8500,293.2900)
	      and (-385.8300,291.0700) .. (-387.9100,293.8500) .. controls
	      (-389.9900,296.6400) and (-388.5000,300.7600) .. (-393.4400,300.3900) ..
	      controls (-395.3400,300.2500) and (-399.6100,300.0400) .. (-401.1900,298.9700)
	      .. controls (-403.4200,297.4500) and (-401.4400,296.9700) ..
	      (-400.9800,294.5200) .. controls (-400.8200,293.6500) and (-401.8600,293.2500)
	      .. (-401.5300,292.2400) .. controls (-401.2600,291.4100) and
	      (-400.3700,291.3300) .. (-399.8800,290.6200) .. controls (-397.9700,287.8500)
	      and (-397.5100,284.7500) .. (-397.6900,280.9700) .. controls
	      (-397.9700,280.8300) and (-398.3000,280.6900) .. (-398.5600,280.5900) ..
	      controls (-399.1500,283.5100) and (-401.7300,293.0300) .. (-405.2600,293.3600)
	      .. controls (-406.2600,291.2300) and (-404.3900,288.7100) ..
	      (-405.5500,286.1900) .. controls (-406.7200,283.6700) and (-409.2100,282.2500)
	      .. (-411.8700,281.8000) .. controls (-417.1100,280.9200) and
	      (-420.4800,280.3700) .. (-425.2300,277.3500) .. controls (-428.1300,275.5100)
	      and (-430.5000,270.2400) .. (-432.5200,267.0300) .. controls
	      (-435.0500,263.0200) and (-432.8700,258.7400) .. (-434.9200,254.4700) ..
	      controls (-437.0000,250.1400) and (-437.2300,245.2900) .. (-436.8000,240.5800)
	      .. controls (-436.3900,236.1200) and (-436.9500,232.1400) ..
	      (-437.3000,227.6100) .. controls (-441.1400,228.0200) and (-445.6300,227.2500)
	      .. (-447.2700,224.0300) .. controls (-450.1600,223.4600) and
	      (-453.5600,223.6300) .. (-456.4900,223.2500) .. controls (-457.9600,223.0600)
	      and (-459.7400,223.6000) .. (-461.0100,223.5400) .. controls
	      (-464.8700,223.3600) and (-465.5700,222.0000) .. (-467.9600,218.8900) ..
	      controls (-464.1100,217.2600) and (-463.8300,215.5300) .. (-463.6100,211.5000)
	      .. controls (-463.3700,207.0300) and (-463.1700,206.3700) ..
	      (-460.1400,203.6500) .. controls (-458.3300,202.0300) and (-457.2000,203.2200)
	      .. (-457.5900,200.0400) .. controls (-457.9000,197.5300) and
	      (-460.9400,196.5100) .. (-462.0800,194.6900) .. controls (-463.9000,191.7800)
	      and (-462.6300,185.8100) .. (-467.9200,187.3000) .. controls
	      (-468.5600,191.4400) and (-471.4400,191.3200) .. (-472.0800,187.2800) ..
	      controls (-475.9000,186.1900) and (-478.5900,183.5400) .. (-481.6100,181.1500)
	      .. controls (-482.0900,180.7700) and (-490.5000,176.0100) ..
	      (-490.5000,178.4600) -- (-491.5000,1332.5300) -- (1145.5000,1332.5300) ..
	      controls (1145.5000,1332.5300) and (1148.6500,744.2100) ..
	      (1148.6500,743.7200) .. controls (1148.6600,742.1900) and (1146.4400,742.0600)
	      .. (1145.5700,741.5800) .. controls (1143.9900,740.7100) and
	      (1143.0400,738.7900) .. (1142.8200,737.0700) .. controls (1142.6500,735.7500)
	      and (1142.7900,734.5000) .. (1142.4300,733.1700) .. controls
	      (1142.0800,731.8800) and (1141.8100,730.6100) .. (1141.9800,729.2300) ..
	      controls (1142.3500,726.3100) and (1142.6100,723.3000) .. (1142.8400,720.3600)
	      .. controls (1142.9700,718.7100) and (1143.0000,717.0800) ..
	      (1142.9900,715.4100) .. controls (1142.9900,714.6300) and (1143.2600,713.2700)
	      .. (1142.9800,712.5400) .. controls (1142.7400,711.9000) and
	      (1141.8100,711.1500) .. (1141.3800,710.5600) .. controls (1140.5400,709.3900)
	      and (1140.4500,707.9200) .. (1139.7800,706.8700) .. controls
	      (1138.9300,705.5300) and (1136.6800,706.0500) .. (1136.6800,707.7100) ..
	      controls (1136.9600,707.6800) and (1137.3500,707.8200) .. (1137.6300,707.7600)
	      .. controls (1139.7300,709.6500) and (1138.1500,712.2000) ..
	      (1138.3200,714.9000) .. controls (1138.4600,717.1800) and (1138.6100,719.5600)
	      .. (1138.4600,721.8700) .. controls (1134.4600,722.1600) and
	      (1135.2700,718.9800) .. (1133.9900,716.3900) .. controls (1133.6000,715.6000)
	      and (1129.4200,709.9200) .. (1131.6200,709.3700) .. controls
	      (1132.0200,707.8600) and (1133.7000,708.1300) .. (1134.9500,708.0400) ..
	      controls (1135.2900,707.3900) and (1136.3100,707.2300) .. (1136.1800,706.3300)
	      .. controls (1136.0300,705.2500) and (1134.7100,705.5600) ..
	      (1133.8900,705.5700) .. controls (1131.8900,705.5800) and (1129.0900,705.0200)
	      .. (1128.2800,707.3800) .. controls (1125.5500,708.1200) and
	      (1125.6700,702.8500) .. (1124.6500,701.7000) .. controls (1123.5600,700.4800)
	      and (1122.5100,699.2700) .. (1121.6500,697.8400) .. controls
	      (1120.7700,696.3700) and (1120.2600,694.7400) .. (1119.2800,693.3100) ..
	      controls (1117.6400,690.9200) and (1115.9500,687.6000) .. (1115.9800,684.6600)
	      .. controls (1116.0200,680.7000) and (1113.4200,678.3000) ..
	      (1111.2500,675.2500) .. controls (1108.1800,670.9400) and (1105.0100,664.6100)
	      .. (1099.0000,664.7500) .. controls (1098.7000,666.9800) and
	      (1099.5000,669.8800) .. (1100.3000,671.8300) .. controls (1101.3400,674.3400)
	      and (1101.3000,676.6000) .. (1101.3000,679.2600) .. controls
	      (1101.3000,681.2200) and (1101.2900,682.8700) .. (1100.8000,684.6800) ..
	      controls (1100.1800,686.9600) and (1100.5800,689.2400) .. (1100.2900,691.5800)
	      .. controls (1099.7900,695.5100) and (1096.0900,697.8900) ..
	      (1093.8900,700.8400) .. controls (1093.1300,701.8600) and (1092.8200,703.2300)
	      .. (1092.0900,704.2800) .. controls (1091.0700,705.7500) and
	      (1089.2100,707.2000) .. (1087.6100,707.9900) .. controls (1086.1800,708.7000)
	      and (1082.7000,710.6700) .. (1081.4300,710.1800) .. controls
	      (1078.4100,709.0100) and (1076.9000,705.2600) .. (1073.5000,704.6000) ..
	      controls (1071.7100,704.2600) and (1066.9900,703.5900) .. (1067.6600,706.5300)
	      .. controls (1067.7500,706.5500) and (1067.8400,706.5700) ..
	      (1067.9400,706.5900) .. controls (1068.1200,708.4900) and (1070.4700,709.2800)
	      .. (1071.2500,710.9300) .. controls (1071.6300,711.7400) and
	      (1071.6500,712.5500) .. (1071.8400,713.4300) .. controls (1072.0900,714.5900)
	      and (1072.7500,715.5000) .. (1072.8000,716.6700) .. controls
	      (1072.8800,718.5000) and (1071.6600,719.6500) .. (1070.5200,720.7800) ..
	      controls (1069.9100,721.3800) and (1068.5600,724.0500) .. (1067.6200,723.2600)
	      .. controls (1066.8300,722.6000) and (1067.4700,718.8500) ..
	      (1067.3100,717.7800) .. controls (1066.8200,714.6200) and (1064.7500,712.5700)
	      .. (1064.7900,709.4900) .. controls (1064.8200,706.8700) and
	      (1065.5600,704.4400) .. (1065.4400,701.7400) .. controls (1061.6700,702.2700)
	      and (1058.7600,704.6100) .. (1058.4800,708.7500) .. controls
	      (1056.9000,708.8000) and (1056.3300,708.7100) .. (1055.1500,707.9200) ..
	      controls (1054.5900,707.5400) and (1054.7400,706.7700) .. (1054.1400,706.4400)
	      .. controls (1053.5600,706.1200) and (1052.3500,706.5200) ..
	      (1051.6300,706.2100) .. controls (1050.7800,705.8400) and (1050.4000,704.9200)
	      .. (1049.5000,704.5800) .. controls (1047.0300,703.6500) and
	      (1046.1900,705.2100) .. (1045.0800,706.8800) .. controls (1044.0500,708.4400)
	      and (1043.1200,709.2500) .. (1042.9800,711.2000) .. controls
	      (1042.8700,712.7400) and (1043.4400,714.4900) .. (1042.7600,715.9600) ..
	      controls (1042.1400,717.3200) and (1040.5400,718.2900) .. (1039.6700,719.5300)
	      .. controls (1038.6300,721.0200) and (1038.6100,722.6200) ..
	      (1038.1700,724.3100) .. controls (1037.7800,725.8000) and (1037.2100,727.7500)
	      .. (1038.1600,729.1900) .. controls (1040.9800,731.7000) and
	      (1038.9300,734.4600) .. (1040.1400,737.4300) .. controls (1040.7800,738.9900)
	      and (1041.9600,740.3600) .. (1041.8900,742.1500) .. controls
	      (1041.8300,743.6500) and (1040.8000,744.7800) .. (1040.1000,746.0300) ..
	      controls (1039.2400,747.5700) and (1038.7700,749.1100) .. (1038.5100,750.8400)
	      .. controls (1038.3000,752.2200) and (1038.1700,753.3100) ..
	      (1036.6000,753.6800) .. controls (1031.9200,754.7600) and (1036.8900,749.2000)
	      .. (1036.8800,747.7300) .. controls (1036.8800,746.0300) and
	      (1036.5100,744.6900) .. (1036.7400,742.9400) .. controls (1037.3200,738.4700)
	      and (1032.1100,736.8600) .. (1028.6000,736.5500) .. controls
	      (1023.2800,736.0700) and (1020.8100,740.3100) .. (1018.6800,744.4300) ..
	      controls (1018.0800,745.5900) and (1018.1800,746.8500) .. (1017.6100,748.0400)
	      .. controls (1016.8400,748.0900) and (1016.0700,748.0800) ..
	      (1015.3000,748.0800) .. controls (1014.0700,748.0700) and (1014.0600,748.1000)
	      .. (1013.2100,748.9100) .. controls (1011.2500,750.7700) and
	      (1012.4300,751.4000) .. (1012.8300,753.5500) .. controls (1014.2800,753.6500)
	      and (1016.5700,753.3600) .. (1017.2900,754.8800) .. controls
	      (1015.7700,754.9600) and (1014.3200,755.4000) .. (1012.8200,755.6400) ..
	      controls (1012.1000,755.7600) and (1011.6400,755.7100) .. (1011.0000,756.0900)
	      .. controls (1010.3300,756.4800) and (1010.1400,757.0900) ..
	      (1009.3400,757.2900) .. controls (1008.1100,757.6000) and (1006.4600,756.4700)
	      .. (1007.4900,755.1000) .. controls (1008.0700,754.3300) and
	      (1010.1600,754.7700) .. (1011.1000,754.7200) .. controls (1011.2100,753.0700)
	      and (1010.3200,751.9400) .. (1010.2800,750.4300) .. controls
	      (1010.2500,749.4000) and (1011.3800,746.9200) .. (1012.2600,746.5500) ..
	      controls (1012.3200,746.4200) and (1012.2900,746.2500) .. (1012.3200,746.1100)
	      .. controls (1012.4100,746.0900) and (1012.5000,746.0700) ..
	      (1012.6000,746.0500) .. controls (1012.8600,744.7200) and (1014.0300,744.5100)
	      .. (1014.8000,743.5900) .. controls (1015.6600,742.5700) and
	      (1015.1400,741.7300) .. (1015.4700,740.5900) .. controls (1015.6900,739.8400)
	      and (1016.4100,738.8600) .. (1016.9100,738.2600) .. controls
	      (1017.5400,737.4900) and (1018.8400,737.1900) .. (1019.3500,736.4400) ..
	      controls (1020.8500,734.2300) and (1015.5300,736.4400) .. (1014.5600,736.1500)
	      .. controls (1012.8600,735.6400) and (1010.6800,734.1800) ..
	      (1009.2100,736.1600) .. controls (1008.2400,737.4600) and (1008.7200,739.2200)
	      .. (1008.1800,740.6800) .. controls (1007.6300,742.1700) and
	      (1007.1200,742.5600) .. (1007.7000,744.1600) .. controls (1008.2800,745.7700)
	      and (1007.4400,746.1800) .. (1007.1000,747.8900) .. controls
	      (1006.7800,748.1200) and (1006.6100,748.3100) .. (1006.1500,748.4500) ..
	      controls (1006.1000,749.2800) and (1006.4800,750.6700) .. (1005.4900,750.9500)
	      .. controls (1005.4000,752.2500) and (1005.5200,753.5900) ..
	      (1005.4400,754.8900) .. controls (1004.5200,755.2500) and (1004.4100,756.4800)
	      .. (1003.3200,756.6100) .. controls (1003.2700,757.0300) and
	      (1003.0700,757.3300) .. (1002.9300,757.7300) .. controls (1001.8100,757.6300)
	      and (1002.2600,753.9200) .. (1002.3200,752.9500) .. controls
	      (1004.4700,753.0800) and (1004.7900,751.7100) .. (1004.7900,749.9200) ..
	      controls (1004.7900,749.0400) and (1004.7600,748.3900) .. (1004.5000,747.5900)
	      .. controls (1004.2700,746.8700) and (1003.7500,746.7300) ..
	      (1003.9800,745.7900) .. controls (1004.4400,745.5900) and (1005.7700,744.7600)
	      .. (1006.0400,744.4200) .. controls (1006.9300,743.3100) and
	      (1006.9200,739.5100) .. (1006.3800,738.2700) .. controls (1006.1600,737.7500)
	      and (1005.6400,737.5400) .. (1005.4700,736.8900) .. controls
	      (1005.3100,736.3000) and (1005.4700,735.6200) .. (1005.4300,735.0100) ..
	      controls (1005.3800,734.0100) and (1005.0600,732.3300) .. (1003.6900,732.3800)
	      .. controls (1002.5000,732.4200) and (1000.8800,734.3400) ..
	      (999.8000,734.9700) .. controls (997.9900,736.0200) and (995.9600,736.6000) ..
	      (994.1700,737.6700) .. controls (992.7600,738.5100) and (990.4200,738.9000) ..
	      (989.7800,740.3200) .. controls (988.8600,742.3500) and (990.0600,743.4200) ..
	      (987.5100,744.8400) .. controls (985.5100,745.9500) and (984.6000,745.4800) ..
	      (983.1200,747.2900) .. controls (982.1900,748.4300) and (981.2400,750.4200) ..
	      (979.6300,750.7700) .. controls (978.1300,751.0900) and (978.2500,750.3200) ..
	      (978.8100,749.2700) .. controls (980.2500,746.5700) and (983.4800,744.2400) ..
	      (983.9400,741.1500) .. controls (984.1200,739.9600) and (984.7100,739.6400) ..
	      (985.1100,738.5200) .. controls (985.6700,736.9700) and (985.2000,734.6600) ..
	      (985.1000,733.0300) .. controls (984.9700,730.9000) and (983.2400,729.0800) ..
	      (983.9700,726.9700) .. controls (984.2600,726.1200) and (984.8100,725.5800) ..
	      (984.9300,724.6100) .. controls (985.1200,723.1900) and (984.5300,722.0100) ..
	      (984.4000,720.6300) .. controls (983.8000,721.0500) and (983.2300,721.6600) ..
	      (982.5400,722.1200) .. controls (981.6000,722.7500) and (981.0700,723.4800) ..
	      (980.2900,724.1000) .. controls (979.4200,724.8000) and (978.4700,724.8000) ..
	      (977.9200,725.7800) .. controls (977.4600,726.5900) and (977.6300,727.4300) ..
	      (977.5700,728.4100) .. controls (975.4500,728.3800) and (973.4700,726.6700) ..
	      (971.2800,726.9600) .. controls (971.2300,727.9100) and (970.9000,729.9300) ..
	      (971.3000,730.7400) .. controls (971.7300,731.6100) and (973.5800,732.2400) ..
	      (974.3400,732.6000) .. controls (975.3200,733.0600) and (976.5900,733.3200) ..
	      (976.7600,734.6200) .. controls (976.8900,735.5800) and (976.0700,737.3900) ..
	      (975.7200,738.2800) .. controls (975.2100,739.5700) and (974.1900,740.9400) ..
	      (973.4200,742.1100) .. controls (971.9200,744.3800) and (968.9100,745.8000) ..
	      (966.3800,747.6200) .. controls (965.2000,748.4700) and (963.4900,749.1600) ..
	      (962.6800,750.1900) .. controls (962.1200,750.9000) and (962.4200,751.6600) ..
	      (961.4400,752.5600) .. controls (960.7000,753.2400) and (959.5900,754.1900) ..
	      (958.5900,753.8100) .. controls (958.4500,750.1100) and (959.0700,746.3900) ..
	      (958.3600,742.7600) .. controls (957.9600,740.6900) and (959.5000,739.5100) ..
	      (959.4500,737.3000) .. controls (959.4100,735.1800) and (959.0200,733.1000) ..
	      (958.8700,731.0000) .. controls (958.7800,729.7600) and (958.8700,728.5200) ..
	      (958.7900,727.2800) .. controls (958.7200,726.3300) and (958.4600,724.8200) ..
	      (958.6600,723.9200) .. controls (958.9100,722.8000) and (959.8400,722.3500) ..
	      (960.3100,723.5500) .. controls (960.5700,724.2200) and (960.2800,726.0300) ..
	      (960.2700,726.8000) .. controls (961.7300,727.0900) and (960.8500,721.9900) ..
	      (961.2100,720.8700) .. controls (961.5100,719.9400) and (961.9900,719.3900) ..
	      (962.7200,718.7800) .. controls (963.0900,718.4700) and (963.3900,718.5500) ..
	      (963.7600,718.0200) .. controls (963.9000,717.8200) and (964.1000,716.9700) ..
	      (964.2200,716.7000) .. controls (965.3000,714.0300) and (964.3900,711.2600) ..
	      (965.0000,708.7000) .. controls (965.4400,706.8400) and (965.7500,705.3500) ..
	      (965.7500,703.3100) .. controls (965.7500,701.5800) and (965.5000,699.6300) ..
	      (965.9400,697.9700) .. controls (967.1800,697.9100) and (970.0800,701.2700) ..
	      (970.4400,698.3100) .. controls (972.0500,698.3000) and (972.9900,694.4300) ..
	      (972.8900,692.9700) .. controls (972.2200,692.9400) and (971.5900,692.9800) ..
	      (970.9800,693.1500) .. controls (970.8600,691.5300) and (969.9400,690.1700) ..
	      (969.7300,688.5800) .. controls (969.5800,687.4700) and (969.5600,686.3200) ..
	      (969.5900,685.2000) .. controls (969.6200,684.1300) and (969.5300,682.6100) ..
	      (970.7900,682.2500) .. controls (971.7000,681.9900) and (972.6200,682.9000) ..
	      (973.5500,682.7500) .. controls (973.6200,681.3500) and (972.7500,678.3400) ..
	      (973.7400,677.1900) .. controls (974.2800,676.5700) and (974.9700,676.4900) ..
	      (975.6300,675.7600) .. controls (976.3300,674.9900) and (976.5700,674.5100) ..
	      (977.7100,674.5800) .. controls (977.9200,672.8500) and (975.9700,672.4200) ..
	      (975.1200,671.4500) .. controls (974.6000,670.8600) and (974.8400,670.6300) ..
	      (974.5700,669.9400) .. controls (974.3400,669.3300) and (973.9500,669.0400) ..
	      (973.4900,668.5300) .. controls (972.0600,666.9700) and (969.0600,663.6700) ..
	      (970.2600,661.3300) .. controls (971.7700,662.0900) and (973.4800,663.1000) ..
	      (975.2000,662.9100) .. controls (975.3200,660.9300) and (975.6900,658.6600) ..
	      (974.8600,656.7800) .. controls (973.8900,656.7400) and (973.8600,655.5300) ..
	      (972.9800,655.1000) .. controls (972.5100,654.8700) and (971.2800,654.8800) ..
	      (970.7500,654.9000) .. controls (970.7000,654.0500) and (970.7600,653.3400) ..
	      (970.4900,652.5900) .. controls (970.1500,651.6600) and (969.6700,650.9600) ..
	      (969.4100,650.0200) .. controls (968.6700,647.2700) and (966.0300,645.7500) ..
	      (965.4300,643.1000) .. controls (964.7500,640.0500) and (965.8700,636.5600) ..
	      (964.3800,633.7300) .. controls (963.6400,632.3100) and (962.2300,631.4300) ..
	      (961.4600,629.9200) .. controls (960.8800,628.7800) and (960.9300,626.9200) ..
	      (959.3200,626.5600) .. controls (959.1100,625.4400) and (959.4700,624.0600) ..
	      (960.8200,624.1000) .. controls (961.2400,620.2700) and (957.5800,619.0000) ..
	      (954.9600,616.9600) .. controls (952.4700,615.0200) and (952.7500,613.1500) ..
	      (953.1300,610.6800) .. controls (953.3100,609.5400) and (953.4400,607.8300) ..
	      (953.0200,606.7600) .. controls (952.3800,605.1300) and (951.6400,605.2700) ..
	      (951.6000,603.3600) .. controls (951.5600,601.1300) and (951.4600,598.6900) ..
	      (951.4800,596.3900) .. controls (950.7700,596.1400) and (950.0400,596.0100) ..
	      (949.2900,596.0000) .. controls (949.2500,593.6800) and (949.1100,593.0800) ..
	      (947.4200,591.3600) .. controls (946.6900,590.6100) and (942.9400,587.7400) ..
	      (945.4400,586.8800) .. controls (945.4900,584.7100) and (946.4300,582.9500) ..
	      (946.3600,580.7200) .. controls (944.6900,580.5600) and (943.6500,580.9700) ..
	      (942.9700,579.1500) .. controls (942.2200,577.1400) and (942.8900,575.2900) ..
	      (941.9000,573.2100) .. controls (941.6900,572.7800) and (939.5900,566.1200) ..
	      (940.2700,566.2800) .. controls (940.6800,566.3800) and (941.2900,566.1400) ..
	      (941.7000,566.2400) .. controls (942.4900,563.1000) and (939.4800,563.2300) ..
	      (938.0000,561.7200) .. controls (937.3500,561.0600) and (937.4300,559.8900) ..
	      (936.7600,559.2400) .. controls (935.8600,558.3600) and (935.4300,558.9300) ..
	      (934.2900,558.5900) .. controls (933.1900,558.2600) and (932.7100,557.1100) ..
	      (931.2700,557.0700) .. controls (930.1500,557.0400) and (929.7600,557.4500) ..
	      (928.6700,557.7500) .. controls (926.7900,558.2800) and (923.9100,558.5200) ..
	      (924.7100,555.6000) .. controls (924.8500,555.5800) and (924.9900,555.5500) ..
	      (925.1300,555.5300) .. controls (925.3600,554.5800) and (925.5400,553.6500) ..
	      (926.4500,553.3100) .. controls (926.6200,551.4000) and (926.5700,549.9800) ..
	      (925.8400,548.2500) .. controls (925.4500,547.3300) and (925.7700,547.1700) ..
	      (924.9100,546.5400) .. controls (924.1400,545.9800) and (923.4000,547.0000) ..
	      (922.9000,545.7000) .. controls (922.6400,545.0200) and (923.5000,542.3600) ..
	      (923.5300,541.3800) .. controls (923.5800,539.3700) and (922.6800,538.7900) ..
	      (922.3400,537.0000) .. controls (919.5000,537.5500) and (920.3000,532.8200) ..
	      (918.1500,532.0800) .. controls (915.6300,531.2100) and (915.7400,534.8400) ..
	      (915.8200,536.5100) .. controls (914.0400,536.8700) and (913.0500,535.1300) ..
	      (912.1900,533.8000) .. controls (911.0800,532.0900) and (912.1600,530.0600) ..
	      (911.2900,528.4700) .. controls (910.9400,527.8300) and (910.3900,527.1000) ..
	      (909.4500,527.3500) .. controls (908.3400,527.6400) and (908.8800,528.4300) ..
	      (908.2500,529.0100) .. controls (906.2200,530.9100) and (905.0200,530.4700) ..
	      (904.8500,533.4700) .. controls (901.8800,533.6100) and (900.1900,532.3200) ..
	      (898.7000,529.6900) .. controls (898.0200,528.4900) and (898.5700,527.3600) ..
	      (897.2800,526.7200) .. controls (896.0300,526.1100) and (895.1200,526.4200) ..
	      (894.1900,525.0900) .. controls (893.4200,523.9800) and (893.3200,521.2700) ..
	      (891.8000,522.8300) .. controls (891.4000,523.2500) and (891.3600,524.5900) ..
	      (890.8400,524.8700) .. controls (889.9900,525.3300) and (889.0700,524.3800) ..
	      (888.8200,523.7300) .. controls (888.5600,523.0400) and (888.7800,522.3000) ..
	      (888.7100,521.5800) .. controls (888.6300,520.7800) and (888.3100,520.2100) ..
	      (888.1700,519.4300) .. controls (887.2200,519.2700) and (884.8800,519.9300) ..
	      (884.6700,520.8800) .. controls (882.5700,523.4900) and (882.1700,521.1500) ..
	      (882.2200,519.0000) .. controls (882.2400,517.9600) and (882.1600,517.2200) ..
	      (882.8100,516.3300) .. controls (883.4500,515.4600) and (883.9600,515.3700) ..
	      (884.1700,514.2600) .. controls (884.6500,511.7600) and (883.3200,510.9800) ..
	      (882.2300,509.0600) .. controls (881.9700,508.6000) and (881.6700,506.9300) ..
	      (880.8500,507.1200) .. controls (880.0600,507.3000) and (880.3400,509.2600) ..
	      (880.3500,509.8200) .. controls (880.3600,510.9300) and (880.6000,512.1700) ..
	      (880.3300,513.2500) .. controls (880.0500,514.3800) and (879.2700,515.1300) ..
	      (879.3500,516.3800) .. controls (878.9800,516.5300) and (878.4600,516.5900) ..
	      (878.0700,516.5500) .. controls (878.0300,515.8500) and (878.0700,515.1300) ..
	      (878.0200,514.4300) .. controls (875.9000,514.3100) and (876.4200,514.9200) ..
	      (875.4000,516.3200) .. controls (874.4700,517.5900) and (873.8200,516.1200) ..
	      (872.8900,516.7200) .. controls (871.6600,515.3600) and (872.3800,513.5200) ..
	      (873.0400,512.1600) .. controls (873.6300,510.9500) and (873.0800,511.4500) ..
	      (874.4700,511.6000) .. controls (875.2200,511.6800) and (876.1100,511.5800) ..
	      (876.8600,511.5500) .. controls (877.1000,507.7500) and (872.8800,506.0000) ..
	      (870.5200,509.0500) .. controls (868.7800,508.9900) and (868.6400,504.9100) ..
	      (867.7500,503.8600) .. controls (866.9900,502.9600) and (865.4900,503.1100) ..
	      (864.7500,502.2500) .. controls (864.2700,501.6900) and (863.9500,500.4800) ..
	      (863.6800,499.7700) .. controls (862.6300,499.7200) and (862.3800,501.6800) ..
	      (862.3800,502.4900) .. controls (862.3700,504.1200) and (863.5200,504.6500) ..
	      (863.8800,506.0000) .. controls (864.3500,507.7600) and (863.9800,510.5600) ..
	      (863.8500,512.3800) .. controls (863.7600,512.4000) and (863.6700,512.4200) ..
	      (863.5700,512.4400) .. controls (863.8800,513.9700) and (862.6200,513.5800) ..
	      (861.7700,513.0300) .. controls (860.4800,512.2000) and (860.2900,510.7600) ..
	      (859.4800,509.5600) .. controls (858.6100,508.2500) and (857.8300,507.2800) ..
	      (857.2700,505.7600) .. controls (856.7300,504.2900) and (856.2300,503.0100) ..
	      (854.6500,502.4200) .. controls (853.7700,502.0900) and (852.5800,502.4900) ..
	      (851.8000,502.0600) .. controls (850.7900,501.5100) and (850.6100,500.1000) ..
	      (849.9200,499.2700) .. controls (848.3600,497.3900) and (845.9900,497.9600) ..
	      (845.5400,495.3100) .. controls (845.2100,493.4000) and (845.5400,491.0800) ..
	      (845.4900,489.1300) .. controls (845.4400,486.8500) and (844.4500,485.4200) ..
	      (843.7300,483.3300) .. controls (842.9000,480.9200) and (842.2100,480.4200) ..
	      (839.7600,479.4400) .. controls (839.5100,477.8600) and (839.1600,476.5700) ..
	      (838.8300,475.0200) .. controls (838.7800,477.9900) and (838.8400,481.8200) ..
	      (840.3600,484.3600) .. controls (841.8800,486.9000) and (842.1300,489.6500) ..
	      (841.8600,492.7700) .. controls (841.5400,492.8600) and (841.0100,492.8500) ..
	      (840.6900,492.7400) .. controls (840.0200,491.4000) and (839.9300,490.4400) ..
	      (839.7400,489.0200) .. controls (839.5100,487.3000) and (839.0400,486.7400) ..
	      (838.0800,485.1600) .. controls (837.5300,484.2600) and (837.1800,483.2100) ..
	      (836.7100,482.2500) .. controls (835.9200,480.6300) and (835.0600,479.6400) ..
	      (833.7600,478.0200) .. controls (831.3200,474.9600) and (829.9000,470.6400) ..
	      (828.1900,466.8500) .. controls (827.3300,464.9400) and (827.8600,463.1200) ..
	      (827.5700,461.0800) .. controls (827.2200,458.6100) and (825.2200,456.1700) ..
	      (824.0100,454.0100) .. controls (823.0300,452.2500) and (823.1000,450.5700) ..
	      (822.4100,448.9800) .. controls (821.9800,447.9800) and (820.6100,447.4000) ..
	      (820.2600,446.6600) .. controls (819.9200,445.9400) and (820.3400,444.7000) ..
	      (820.3000,443.8900) .. controls (820.1400,441.3300) and (818.2900,440.4200) ..
	      (817.6400,438.3400) .. controls (817.0500,436.4700) and (817.8100,434.4800) ..
	      (817.6300,432.5800) .. controls (817.4700,430.8700) and (816.8000,428.8300) ..
	      (816.0200,427.3100) .. controls (815.1300,425.5800) and (814.9200,423.7800) ..
	      (814.4500,421.7800) .. controls (813.8600,419.2800) and (811.9400,417.8100) ..
	      (811.1600,415.5700) .. controls (810.8200,414.5900) and (811.1900,413.5800) ..
	      (810.7500,412.6200) .. controls (810.3200,411.6700) and (809.2800,411.4900) ..
	      (809.0600,410.3600) .. controls (807.7200,409.9900) and (806.0700,406.2400) ..
	      (805.4600,405.0000) .. controls (805.0300,404.1200) and (804.9200,402.9800) ..
	      (804.5400,402.1900) .. controls (803.9600,400.9800) and (802.8200,400.7500) ..
	      (802.1900,399.7300) .. controls (801.2700,398.2400) and (802.4800,396.1100) ..
	      (801.3000,394.5600) .. controls (800.3700,393.3600) and (798.2000,392.6700) ..
	      (797.0300,391.6700) .. controls (793.9500,389.0400) and (789.2000,388.1900) ..
	      (785.1200,389.0400) .. controls (782.5900,389.5600) and (781.3100,388.5900) ..
	      (778.9000,388.0300) .. controls (776.7700,387.5400) and (774.3400,387.9000) ..
	      (772.2400,387.2900) .. controls (770.6500,386.8200) and (768.8800,386.1500) ..
	      (767.7500,385.1200) .. controls (766.7200,384.1800) and (766.8700,383.7100) ..
	      (765.3600,383.2300) .. controls (764.2600,382.8800) and (763.3900,382.9900) ..
	      (762.5700,382.3800) .. controls (762.1000,382.0300) and (762.2200,381.0400) ..
	      (761.1300,380.6500) .. controls (760.3300,380.3600) and (759.2500,380.3600) ..
	      (758.3900,380.1200) .. controls (756.8900,379.7000) and (755.1600,379.0400) ..
	      (754.2200,378.0600) .. controls (753.4800,375.3700) and (753.6900,374.1600) ..
	      (750.5700,373.4600) .. controls (750.5300,372.2500) and (750.6300,370.9900) ..
	      (750.5900,369.7800) .. controls (750.0900,369.8600) and (749.4100,369.5800) ..
	      (748.9100,369.6600) .. controls (748.6800,369.6900) and (747.9700,353.3900) ..
	      (748.4900,351.6500) .. controls (748.7000,350.9400) and (748.9700,350.5500) ..
	      (749.0600,349.6700) .. controls (749.1600,348.7000) and (749.3000,348.1900) ..
	      (749.7900,347.3500) .. controls (750.7400,345.7200) and (750.7500,344.5600) ..
	      (750.9100,342.7000) .. controls (751.0900,340.7300) and (752.1200,339.4700) ..
	      (752.5300,337.6300) .. controls (750.0000,338.2600) and (750.1700,342.4900) ..
	      (749.3600,344.3400) .. controls (748.6300,346.0100) and (747.9500,347.7200) ..
	      (747.5800,349.5100) .. controls (747.4300,350.2300) and (747.3700,350.8000) ..
	      (747.0400,351.4200) .. controls (746.7700,351.9400) and (746.2100,352.2000) ..
	      (746.0200,352.8400) .. controls (745.6700,353.9900) and (746.0100,355.6200) ..
	      (745.9000,356.8200) .. controls (743.4900,356.9800) and (740.4900,355.3200) ..
	      (738.3600,354.1800) .. controls (736.6600,353.2700) and (734.7700,353.4100) ..
	      (733.0700,352.5400) .. controls (731.0700,351.5300) and (730.2100,351.4500) ..
	      (728.0000,351.1600) .. controls (723.3800,350.5600) and (723.3500,347.0900) ..
	      (720.4200,344.4300) .. controls (719.5500,343.6400) and (718.2400,342.8200) ..
	      (717.1800,342.2500) .. controls (713.9800,340.5100) and (711.5100,339.9900) ..
	      (708.8400,337.4300) .. controls (706.2500,334.9400) and (706.3000,332.9600) ..
	      (704.9600,329.7300) .. controls (704.4500,328.5000) and (703.6800,327.5400) ..
	      (703.2900,326.2600) .. controls (702.9400,325.1100) and (703.1400,323.6500) ..
	      (702.7300,322.6500) .. controls (703.2700,323.9900) and (702.5000,326.5900) ..
	      (702.6700,328.0800) .. controls (702.8600,329.6900) and (703.6100,330.9900) ..
	      (703.9800,332.5700) .. controls (704.1900,333.4900) and (703.9100,334.9100) ..
	      (704.5800,335.6400) .. controls (702.8800,335.9600) and (700.9700,333.8400) ..
	      (699.3400,333.3800) .. controls (697.7000,332.9200) and (694.7400,332.1600) ..
	      (693.0300,332.5300) .. controls (694.5300,332.0900) and (699.2700,334.6300) ..
	      (700.5900,335.2300) -- cycle(-283.9000,981.1000) .. controls
	      (-283.8700,979.9700) and (-283.0100,980.8700) .. (-282.7100,981.3900) --
	      (-282.7700,981.2600) .. controls (-282.4600,981.7800) and (-282.2800,982.3100)
	      .. (-282.3500,982.9300) .. controls (-282.9300,982.4300) and
	      (-283.9200,981.9600) .. (-283.9000,981.1000) -- cycle(-270.4400,969.8600) ..
	      controls (-271.4100,970.1200) and (-273.6800,968.2300) .. (-273.3800,967.3100)
	      .. controls (-273.0000,966.1700) and (-270.4500,966.7300) ..
	      (-270.2000,967.8900) .. controls (-270.1700,968.5700) and (-270.2500,969.2300)
	      .. (-270.4400,969.8600) -- cycle(-268.0100,939.6000) .. controls
	      (-268.0100,939.0500) and (-267.7000,938.8700) .. (-267.5100,938.4000) --
	      (-267.5200,938.9000) .. controls (-267.1800,939.2300) and (-266.8000,939.1900)
	      .. (-266.5600,939.6300) .. controls (-267.0400,939.7100) and
	      (-267.5300,939.6600) .. (-268.0100,939.6000) -- cycle(-265.5500,943.5700) ..
	      controls (-265.7200,942.8300) and (-265.4800,942.5600) .. (-265.1200,942.2500)
	      .. controls (-265.2000,942.2600) and (-265.2700,942.2800) ..
	      (-265.3400,942.3000) -- (-265.0000,942.1400) .. controls (-265.0400,942.1800)
	      and (-265.0800,942.2100) .. (-265.1200,942.2500) .. controls
	      (-264.8200,942.2000) and (-264.4600,942.2000) .. (-264.1900,942.1900) ..
	      controls (-264.0900,943.0700) and (-264.8100,943.3700) .. (-265.5500,943.5700)
	      -- cycle(-260.5900,1004.0600) .. controls (-259.2800,1002.9800) and
	      (-257.7000,1004.8500) .. (-258.7900,1006.0900) -- (-258.2700,1005.4300) ..
	      controls (-258.5700,1005.9000) and (-258.9500,1006.2100) ..
	      (-259.0100,1006.8800) .. controls (-260.0400,1006.9900) and
	      (-261.6300,1004.9300) .. (-260.5900,1004.0600) -- cycle(-258.6300,1069.6700)
	      .. controls (-258.6700,1070.0700) and (-259.9900,1069.5900) ..
	      (-260.1500,1069.4400) .. controls (-260.9400,1068.7400) and
	      (-259.8600,1068.6900) .. (-259.2900,1068.7100) .. controls
	      (-258.5600,1068.7400) and (-258.5600,1068.9600) .. (-258.6300,1069.6700) --
	      cycle(-257.0100,1023.7200) .. controls (-256.4400,1023.5900) and
	      (-255.6700,1023.6500) .. (-255.1000,1023.7700) .. controls
	      (-255.0500,1024.3800) and (-255.0000,1025.1000) .. (-255.1000,1025.7200) --
	      (-255.7600,1025.3700) .. controls (-255.0900,1026.1700) and
	      (-254.4500,1026.3700) .. (-254.8700,1027.6900) .. controls
	      (-255.3000,1027.6100) and (-256.3000,1027.2400) .. (-256.7500,1026.9700) ..
	      controls (-257.0900,1026.0800) and (-257.2000,1024.6900) ..
	      (-257.0100,1023.7200) -- cycle(-257.3400,1065.3700) .. controls
	      (-257.2600,1064.8900) and (-257.0500,1064.5000) .. (-256.5400,1064.4700) ..
	      controls (-256.1200,1064.4300) and (-255.3000,1064.7300) ..
	      (-255.0900,1065.1300) .. controls (-254.9100,1065.4800) and
	      (-257.1700,1065.4100) .. (-257.3400,1065.3700) -- cycle(-253.0200,983.7000) --
	      (-253.0200,983.7000) .. controls (-253.0200,983.7000) and (-253.0200,983.7000)
	      .. (-253.0200,983.7000) .. controls (-253.0900,983.7400) and
	      (-253.1500,983.7800) .. (-253.2200,983.8200) .. controls (-256.0200,985.4400)
	      and (-254.3000,980.7800) .. (-253.9200,979.3600) .. controls
	      (-252.6000,980.2500) and (-251.6200,982.8100) .. (-253.0200,983.7000) --
	      cycle(-247.2900,1019.5300) .. controls (-248.2200,1019.7500) and
	      (-249.7700,1018.5500) .. (-248.5900,1017.7700) .. controls
	      (-247.3400,1016.9400) and (-246.7500,1019.4000) .. (-247.2900,1019.5300) --
	      cycle(-235.4800,1025.5900) .. controls (-234.1900,1025.5300) and
	      (-233.5100,1027.2700) .. (-233.4000,1027.2600) .. controls
	      (-235.1700,1027.3300) and (-235.6200,1027.4200) .. (-235.4800,1025.5900) --
	      cycle(-235.5500,1048.8800) .. controls (-235.3600,1047.5600) and
	      (-235.2500,1046.2300) .. (-234.9400,1044.9600) .. controls
	      (-227.3100,1045.1700) and (-235.8100,1050.6600) .. (-235.5500,1048.8800) --
	      cycle(-221.4900,977.4500) .. controls (-221.0300,977.4100) and
	      (-220.4800,977.3700) .. (-220.0200,977.4500) -- (-220.7700,977.4300) ..
	      controls (-220.3900,977.9000) and (-220.0500,978.4000) .. (-220.3600,979.4100)
	      .. controls (-221.5500,978.9900) and (-221.5800,978.7400) ..
	      (-221.4900,977.4500) -- cycle(-220.7600,1006.2400) -- (-220.7200,1004.6700) ..
	      controls (-220.7300,1004.6200) and (-220.7400,1004.5700) ..
	      (-220.7500,1004.5200) .. controls (-220.9400,1006.0700) and
	      (-221.6700,1007.4100) .. (-223.4200,1007.1200) .. controls
	      (-223.4700,1005.7300) and (-223.4300,1004.2700) .. (-223.3000,1002.8900) ..
	      controls (-221.8700,1002.3900) and (-221.0000,1003.2800) ..
	      (-220.7500,1004.5200) .. controls (-220.7400,1004.4300) and
	      (-220.7200,1004.3400) .. (-220.7100,1004.2400) -- (-220.7200,1004.6700) ..
	      controls (-220.6400,1005.1600) and (-220.6500,1005.7100) ..
	      (-220.7600,1006.2400) -- cycle(-273.4300,472.5000) .. controls
	      (-273.3800,472.5200) and (-273.3200,472.5500) .. (-273.2700,472.5800) ..
	      controls (-272.8700,472.8100) and (-272.7900,473.4800) .. (-273.3000,473.6700)
	      .. controls (-273.8300,473.8600) and (-273.9200,473.7700) ..
	      (-274.4900,473.7200) .. controls (-274.7600,473.7000) and (-275.5600,473.7000)
	      .. (-275.6000,473.3700) .. controls (-275.6300,473.0700) and
	      (-274.9700,472.6300) .. (-274.7100,472.5100) .. controls (-274.3100,472.2900)
	      and (-273.8300,472.3100) .. (-273.4300,472.5000) -- cycle(-221.0200,1175.4600)
	      -- (-221.0200,1175.4600) .. controls (-220.4100,1175.4800) and
	      (-221.3500,1168.5800) .. (-218.5000,1169.4600) .. controls
	      (-218.4400,1170.3500) and (-218.4800,1171.2300) .. (-218.5100,1172.1200) --
	      (-217.6600,1171.6400) .. controls (-217.3000,1174.1300) and
	      (-218.5300,1175.7900) .. (-221.0200,1175.4600) -- cycle(-203.0700,992.3000) ..
	      controls (-203.3400,993.4000) and (-205.2500,992.3700) .. (-205.6200,992.8100)
	      .. controls (-204.9900,992.0400) and (-205.4800,990.9500) ..
	      (-204.4200,990.9400) .. controls (-203.8700,990.9300) and (-202.9200,991.7200)
	      .. (-203.0700,992.3000) -- cycle(-177.0100,1075.9300) .. controls
	      (-178.2900,1074.2400) and (-177.3500,1071.7600) .. (-176.1800,1069.8500) ..
	      controls (-176.2100,1071.0500) and (-176.2800,1072.1800) ..
	      (-176.2500,1073.3400) .. controls (-176.2400,1073.5300) and
	      (-176.7700,1076.2400) .. (-177.0100,1075.9300) -- cycle(146.4900,1147.9500) ..
	      controls (146.1600,1146.9900) and (146.6500,1147.2800) .. (147.1400,1147.0100)
	      -- (146.8000,1147.0000) .. controls (146.9200,1146.9800) and
	      (147.0300,1146.9800) .. (147.1400,1146.9700) .. controls (148.2400,1146.9300)
	      and (149.2400,1147.4100) .. (149.7500,1148.3500) .. controls
	      (148.2700,1148.0300) and (148.3300,1148.1500) .. (146.4900,1147.9500) --
	      cycle(153.5000,1148.8600) .. controls (153.1300,1148.8400) and
	      (152.8300,1148.8200) .. (152.4800,1148.7400) .. controls (152.5600,1148.2600)
	      and (153.0300,1148.7100) .. (153.1300,1148.5000) .. controls
	      (153.0400,1148.7000) and (154.0300,1148.4500) .. (153.5000,1148.8600) --
	      cycle(276.6500,1231.9100) .. controls (277.7000,1231.7700) and
	      (278.6400,1232.1700) .. (279.5500,1232.5900) .. controls (279.1200,1235.4200)
	      and (282.2800,1237.1600) .. (281.7000,1239.9600) .. controls
	      (280.2200,1239.9200) and (279.7300,1241.1500) .. (278.4200,1241.2100) ..
	      controls (278.3400,1239.6500) and (279.1100,1237.4300) .. (276.8400,1237.5000)
	      .. controls (277.0300,1235.6400) and (276.4900,1233.8400) ..
	      (276.6500,1231.9100) -- cycle(168.2600,1120.1800) -- (168.5900,1120.1900) ..
	      controls (168.6500,1120.6500) and (168.6100,1121.0500) .. (168.3100,1121.4100)
	      .. controls (167.9400,1121.2700) and (167.2900,1120.9600) ..
	      (166.6000,1120.7400) .. controls (167.0200,1120.1100) and (167.5300,1120.2500)
	      .. (168.2600,1120.1800) -- cycle(169.7500,1151.1100) .. controls
	      (171.7400,1151.6300) and (173.3400,1154.0000) .. (173.2900,1155.9200) ..
	      controls (173.3500,1153.4100) and (167.2300,1154.0700) .. (165.6700,1153.7500)
	      .. controls (163.9800,1153.3900) and (162.5400,1152.5500) ..
	      (161.1600,1152.1600) .. controls (160.1500,1151.8700) and (158.5700,1152.5000)
	      .. (158.8800,1150.7900) .. controls (159.4700,1150.7700) and
	      (160.1700,1150.6900) .. (160.6600,1150.9700) .. controls (161.2200,1151.2900)
	      and (161.1400,1151.7900) .. (161.8300,1152.0100) .. controls
	      (162.7600,1152.3100) and (164.3900,1151.9600) .. (165.4000,1151.9400) ..
	      controls (166.7700,1151.9000) and (167.4100,1151.0800) .. (168.8500,1151.0300)
	      .. controls (169.1500,1151.0000) and (169.4500,1151.0400) ..
	      (169.7500,1151.1100) -- cycle(174.0000,1120.9200) .. controls
	      (174.3900,1120.1200) and (174.4800,1119.2000) .. (175.4400,1119.6800) ..
	      controls (176.0900,1120.0100) and (176.3000,1120.7700) .. (175.7000,1121.2400)
	      .. controls (175.4200,1121.4700) and (173.7700,1121.4000) ..
	      (174.0000,1120.9200) -- cycle(173.8800,1114.2400) .. controls
	      (174.3200,1113.6400) and (175.3800,1113.3400) .. (175.6500,1114.2900) ..
	      controls (176.0700,1115.7700) and (173.8100,1116.1000) .. (173.6900,1114.8500)
	      .. controls (173.6700,1114.6400) and (173.7500,1114.4300) ..
	      (173.8800,1114.2400) -- cycle(171.5400,1118.6400) .. controls
	      (169.0000,1118.2600) and (170.9100,1116.5600) .. (172.4500,1116.8800) ..
	      controls (172.4700,1117.4000) and (172.7400,1118.8200) .. (171.5400,1118.6400)
	      -- cycle(170.4300,1120.4600) .. controls (170.8600,1121.1400) and
	      (171.6900,1121.4200) .. (172.3800,1121.3500) .. controls (172.5000,1124.0100)
	      and (170.2000,1123.1400) .. (170.4300,1120.4600) -- cycle(157.7700,1149.9700)
	      .. controls (157.5000,1149.6500) and (156.8600,1150.2100) ..
	      (157.1600,1149.3200) .. controls (158.0600,1149.4700) and (157.8700,1150.0700)
	      .. (157.7700,1149.9700) -- cycle(160.7400,1122.6000) .. controls
	      (160.9100,1122.3600) and (161.1600,1122.1700) .. (161.5100,1122.0100) --
	      (161.1600,1122.6600) .. controls (162.4800,1122.9400) and (165.4800,1125.2100)
	      .. (165.3700,1126.4000) .. controls (165.0600,1126.4300) and
	      (164.7800,1126.4200) .. (164.4700,1126.4800) .. controls (164.3100,1127.8400)
	      and (164.0300,1129.3500) .. (162.4000,1128.9900) .. controls
	      (162.3500,1127.7100) and (162.4600,1126.3700) .. (162.4000,1125.0900) ..
	      controls (162.0400,1125.1100) and (161.5400,1124.9200) .. (161.1900,1124.9600)
	      .. controls (160.4800,1124.1700) and (160.2700,1123.2600) ..
	      (160.7400,1122.6000) -- cycle(175.0300,1181.2700) .. controls
	      (175.3000,1177.9100) and (176.8700,1174.7900) .. (177.0700,1171.4400) ..
	      controls (177.2700,1168.2100) and (178.2300,1164.4500) .. (176.9900,1161.3200)
	      .. controls (176.8500,1160.9600) and (175.9200,1159.4000) ..
	      (175.7200,1159.0300) .. controls (175.3000,1158.2700) and (175.1400,1157.4000)
	      .. (174.4700,1156.7400) .. controls (174.8800,1157.1500) and
	      (176.8800,1159.2700) .. (177.4400,1159.5500) .. controls (179.1100,1160.3800)
	      and (181.5800,1159.3400) .. (181.1700,1157.2400) .. controls
	      (183.8100,1156.5400) and (187.7100,1155.6200) .. (188.2600,1153.0200) ..
	      controls (188.6600,1151.1400) and (187.5400,1150.7800) .. (187.0100,1149.3200)
	      .. controls (186.1600,1147.0200) and (186.8000,1147.2700) ..
	      (187.8000,1145.4100) .. controls (189.4000,1142.4300) and (188.2100,1140.1500)
	      .. (186.6600,1137.4400) .. controls (186.2500,1136.7200) and
	      (186.2500,1136.0900) .. (185.8700,1135.4100) .. controls (185.4200,1134.6000)
	      and (184.4300,1134.8600) .. (185.7400,1134.2400) .. controls
	      (186.2200,1134.0100) and (186.9500,1134.2400) .. (187.4500,1133.9700) ..
	      controls (188.1600,1133.5700) and (188.5900,1132.6000) .. (189.1300,1132.0400)
	      .. controls (189.7600,1131.3900) and (191.1600,1129.3900) ..
	      (191.8600,1129.3700) .. controls (192.0400,1127.9900) and (191.2400,1125.6100)
	      .. (189.9900,1124.8600) .. controls (189.5300,1124.5900) and
	      (188.5300,1124.6700) .. (187.9900,1124.4400) .. controls (187.2500,1124.1300)
	      and (186.6100,1123.3300) .. (185.7000,1123.3600) .. controls
	      (185.4200,1122.8000) and (185.3500,1122.1500) .. (185.2200,1121.5500) ..
	      controls (186.6300,1122.5600) and (188.3500,1122.0500) .. (189.6800,1123.4800)
	      .. controls (190.7800,1124.6700) and (190.7700,1125.2100) ..
	      (192.4800,1125.4000) .. controls (194.2500,1125.5900) and (197.5700,1126.4700)
	      .. (197.0600,1128.8300) .. controls (196.3700,1129.0100) and
	      (195.6400,1129.0200) .. (194.9500,1129.3000) .. controls (195.4900,1129.2900)
	      and (196.2100,1129.2100) .. (196.6900,1129.4900) .. controls
	      (197.3900,1129.9000) and (197.3800,1130.9200) .. (198.3400,1130.8600) ..
	      controls (199.1000,1129.6000) and (200.1000,1129.5700) .. (201.5500,1129.4700)
	      .. controls (202.5900,1129.3900) and (204.3400,1129.4300) ..
	      (204.9500,1128.5900) .. controls (204.5300,1128.4600) and (204.4000,1128.1600)
	      .. (204.0000,1128.0000) .. controls (204.0000,1126.1600) and
	      (202.3600,1124.6500) .. (200.5700,1123.9300) .. controls (199.8100,1123.6300)
	      and (198.9800,1123.7500) .. (198.3300,1123.2000) .. controls
	      (197.6000,1122.5800) and (197.4200,1121.4600) .. (196.6500,1120.8500) ..
	      controls (196.0800,1120.3900) and (194.9400,1120.2100) .. (194.1800,1120.2900)
	      .. controls (194.3100,1120.8800) and (194.2600,1121.4800) ..
	      (194.2100,1122.0800) .. controls (192.8000,1121.8800) and (192.4300,1120.8300)
	      .. (191.4300,1120.0500) .. controls (189.0100,1120.9000) and
	      (186.2800,1120.0900) .. (183.7500,1119.9800) .. controls (183.4900,1118.6200)
	      and (182.9300,1117.9800) .. (182.1000,1117.1200) .. controls
	      (181.2600,1116.2400) and (180.6600,1115.7500) .. (179.3500,1115.6800) ..
	      controls (178.8100,1114.1400) and (177.0400,1112.6400) .. (178.8900,1111.4700)
	      .. controls (179.5800,1111.0400) and (180.4700,1110.9900) ..
	      (181.1300,1110.6300) .. controls (181.9200,1110.1900) and (182.2800,1109.2300)
	      .. (183.0100,1108.7800) .. controls (184.0600,1108.1300) and
	      (185.2000,1108.7600) .. (186.1800,1109.3000) .. controls (187.4500,1110.0100)
	      and (188.0500,1110.2500) .. (189.5500,1110.2900) .. controls
	      (191.1400,1110.3300) and (192.5500,1110.1500) .. (194.0600,1109.7400) ..
	      controls (194.8200,1109.5400) and (195.9300,1109.2600) .. (196.6900,1109.6700)
	      .. controls (197.9400,1110.3500) and (197.4800,1111.7800) ..
	      (198.1400,1112.8400) .. controls (199.1100,1114.3900) and (200.6200,1115.8200)
	      .. (202.0900,1116.9200) .. controls (204.7300,1118.9100) and
	      (206.5600,1120.9400) .. (208.4200,1123.6500) .. controls (209.1800,1124.7500)
	      and (209.2600,1124.6900) .. (210.3900,1125.1800) .. controls
	      (211.1600,1125.5100) and (211.5300,1125.7500) .. (212.2000,1126.3600) ..
	      controls (213.0300,1127.1100) and (215.2000,1128.3400) .. (215.4500,1129.4700)
	      .. controls (213.6100,1128.7500) and (212.9700,1127.6600) ..
	      (210.9600,1127.1500) .. controls (209.3500,1126.7400) and (207.5300,1126.6700)
	      .. (205.8400,1126.7600) .. controls (206.7100,1127.9300) and
	      (207.4300,1128.6600) .. (208.9500,1128.8100) .. controls (210.2400,1128.9400)
	      and (211.6900,1128.7700) .. (212.7800,1129.5600) .. controls
	      (213.4900,1130.0800) and (213.7300,1131.2800) .. (214.5800,1131.6400) ..
	      controls (215.3700,1131.9800) and (216.5300,1131.3800) .. (217.2700,1131.3400)
	      .. controls (221.5700,1131.1300) and (223.2400,1136.3100) ..
	      (225.7700,1138.7800) .. controls (226.9300,1139.9100) and (229.4900,1142.6600)
	      .. (227.8300,1144.7500) .. controls (226.9000,1145.9200) and
	      (223.3200,1145.6300) .. (221.9300,1145.6300) .. controls (223.4700,1147.3500)
	      and (234.6400,1153.5200) .. (227.3500,1153.8000) .. controls
	      (228.8500,1155.0500) and (229.6100,1156.8700) .. (229.9300,1158.7700) ..
	      controls (231.4900,1158.7300) and (232.3800,1156.5500) .. (233.2600,1156.5400)
	      .. controls (235.1700,1156.5200) and (236.1200,1158.6000) ..
	      (237.2000,1159.6500) .. controls (240.4000,1162.7600) and (242.4200,1163.5700)
	      .. (241.9600,1168.4200) .. controls (239.6600,1169.1100) and
	      (240.2700,1173.9900) .. (242.4900,1174.4700) .. controls (242.3100,1173.4700)
	      and (242.8000,1172.2200) .. (242.6700,1171.2200) .. controls
	      (246.8400,1170.1700) and (247.4300,1174.7200) .. (247.4800,1177.6500) ..
	      controls (247.5400,1181.8100) and (245.3900,1181.7000) .. (244.3400,1184.5300)
	      .. controls (246.9000,1184.9900) and (248.0400,1187.9200) ..
	      (250.8600,1187.3600) .. controls (250.6700,1186.1100) and (251.3100,1184.9700)
	      .. (251.4000,1183.8000) .. controls (254.1100,1182.7800) and
	      (255.3600,1185.2200) .. (255.2600,1187.7800) .. controls (255.1700,1190.2200)
	      and (253.6900,1190.9500) .. (253.1400,1193.0900) .. controls
	      (256.6800,1192.4000) and (256.0700,1196.2500) .. (256.7600,1198.5100) ..
	      controls (257.2700,1200.1800) and (258.7200,1200.1500) .. (258.3600,1202.1800)
	      .. controls (258.2500,1202.7800) and (254.4700,1206.2500) ..
	      (254.4100,1206.2200) .. controls (255.5900,1206.9200) and (260.6300,1214.0800)
	      .. (259.8000,1208.3900) .. controls (264.6900,1207.6200) and
	      (265.4200,1213.0000) .. (267.3200,1216.5500) .. controls (268.6200,1218.9700)
	      and (273.3100,1225.3400) .. (272.6000,1227.6600) .. controls
	      (270.9800,1227.5400) and (269.1500,1227.4400) .. (267.9000,1228.2400) ..
	      controls (270.1100,1230.8800) and (272.2600,1233.5600) .. (274.1000,1236.0800)
	      .. controls (275.0000,1237.3100) and (276.7700,1238.8500) ..
	      (277.4500,1240.1700) .. controls (278.0700,1241.3900) and (277.7200,1243.2700)
	      .. (278.2700,1244.2200) .. controls (279.7300,1246.7400) and
	      (282.2100,1245.3500) .. (283.5500,1247.6900) .. controls (284.6500,1249.6300)
	      and (282.8800,1254.1200) .. (282.6700,1256.0400) .. controls
	      (282.3400,1258.9500) and (283.2700,1260.0400) .. (283.8200,1263.0600) ..
	      controls (284.7700,1268.3100) and (282.9000,1275.1300) .. (280.9700,1279.6900)
	      .. controls (278.7200,1284.9900) and (277.7400,1291.3400) ..
	      (273.3100,1294.8700) .. controls (271.4100,1296.3800) and (268.5700,1296.9300)
	      .. (266.7700,1298.2800) .. controls (264.5600,1299.9400) and
	      (262.5100,1301.9500) .. (260.3400,1303.8800) .. controls (259.1700,1304.9200)
	      and (258.0900,1305.8700) .. (257.2200,1307.1300) .. controls
	      (256.5600,1308.0900) and (255.9700,1310.5100) .. (255.4600,1311.1000) ..
	      controls (253.0400,1313.8700) and (251.8900,1312.2300) .. (248.3600,1312.9100)
	      .. controls (243.3900,1313.8700) and (237.9000,1316.5600) ..
	      (233.3700,1318.7800) .. controls (231.1500,1319.8600) and (229.0100,1320.3100)
	      .. (226.0400,1321.0300) .. controls (223.5900,1321.6200) and
	      (221.3400,1323.1500) .. (218.7400,1323.2300) .. controls (217.6900,1324.9400)
	      and (216.8600,1327.9300) .. (215.1300,1328.7800) .. controls
	      (210.3700,1331.1000) and (198.8100,1327.6000) .. (194.0700,1326.2000) ..
	      controls (190.4900,1325.1400) and (190.2500,1325.1800) .. (187.5100,1322.1300)
	      .. controls (185.1800,1319.5300) and (184.0500,1317.8000) ..
	      (182.4100,1314.4600) .. controls (181.1800,1311.9700) and (179.6300,1307.8800)
	      .. (178.2600,1306.1000) .. controls (175.8000,1302.9100) and
	      (173.4600,1304.5200) .. (172.6300,1300.2800) .. controls (171.9100,1296.6000)
	      and (175.2100,1286.4000) .. (167.8900,1289.2000) .. controls
	      (165.2000,1285.5200) and (164.7600,1284.4400) .. (164.7600,1280.3700) ..
	      controls (164.7600,1277.5700) and (163.8300,1275.9900) .. (163.2700,1273.4100)
	      .. controls (162.3100,1269.0700) and (163.0300,1263.4600) ..
	      (163.3600,1258.9900) .. controls (164.0700,1259.6500) and (165.2000,1259.7700)
	      .. (165.9700,1260.4200) .. controls (168.1800,1258.4700) and
	      (165.8600,1252.5400) .. (165.5500,1249.6900) .. controls (165.1400,1245.9700)
	      and (164.0300,1242.6400) .. (163.8200,1238.8700) .. controls
	      (163.5800,1234.3900) and (163.7700,1230.8000) .. (162.8000,1226.6400) ..
	      controls (161.1400,1219.5500) and (162.2800,1212.5800) .. (162.7600,1205.4300)
	      .. controls (163.0100,1201.7400) and (164.3300,1197.7700) ..
	      (166.6600,1194.9600) .. controls (166.7300,1196.8400) and (166.1800,1197.9200)
	      .. (165.9300,1199.5100) .. controls (165.8200,1200.2400) and
	      (166.0900,1201.1400) .. (165.8700,1201.8500) .. controls (165.5200,1203.0100)
	      and (164.5400,1203.1200) .. (164.1800,1204.3200) .. controls
	      (163.4900,1206.5900) and (164.5800,1208.7200) .. (165.0800,1210.8800) ..
	      controls (165.5300,1212.8100) and (165.3200,1214.5800) .. (165.6000,1216.4100)
	      .. controls (168.4800,1216.6200) and (167.9600,1211.8000) ..
	      (168.3600,1209.9400) .. controls (168.8400,1207.7100) and (168.5100,1205.4400)
	      .. (168.8700,1203.2300) .. controls (169.2600,1200.7800) and
	      (170.9500,1198.7700) .. (171.4700,1196.3500) .. controls (171.9200,1194.2700)
	      and (171.4700,1192.3100) .. (171.4600,1190.2000) .. controls
	      (171.4900,1188.0400) and (171.4400,1180.9800) .. (175.0300,1181.2700) --
	      cycle(624.2000,452.1300) .. controls (623.7800,453.3500) and
	      (623.4400,455.1200) .. (623.5500,456.4600) .. controls (622.5500,456.6400) and
	      (621.6500,456.6900) .. (620.6100,456.6300) .. controls (619.7500,456.5800) and
	      (622.8800,452.8300) .. (622.9100,452.7700) .. controls (623.7600,450.8300) and
	      (623.2500,448.3300) .. (623.3900,446.2600) .. controls (628.9300,443.9600) and
	      (624.6900,450.7300) .. (624.2000,452.1300) -- cycle(631.8500,455.9300) ..
	      controls (627.0400,456.7200) and (629.5800,451.1800) .. (630.7200,448.7400) ..
	      controls (630.5900,448.8100) and (630.4500,448.8700) .. (630.3100,448.9200) --
	      (631.0900,447.9400) .. controls (631.0100,448.1300) and (630.8800,448.4100) ..
	      (630.7200,448.7400) .. controls (630.9200,448.6500) and (631.1100,448.5500) ..
	      (631.2900,448.4600) .. controls (630.8000,449.6900) and (630.2800,450.9200) ..
	      (630.5300,452.4500) .. controls (630.7800,453.9100) and (632.1300,454.2400) ..
	      (631.8500,455.9300) -- cycle(640.8900,456.4200) .. controls
	      (638.2700,456.5800) and (637.0700,446.2400) .. (642.2000,446.2200) --
	      (641.4400,446.4500) .. controls (643.3300,446.9800) and (641.4000,454.2800) ..
	      (640.8900,456.4200) -- cycle(651.1700,448.8700) .. controls
	      (650.7400,451.6300) and (650.9200,454.0700) .. (649.1600,456.3200) .. controls
	      (648.2200,457.5200) and (646.6200,458.1800) .. (645.2000,458.0300) .. controls
	      (645.3700,456.8600) and (645.8300,441.8400) .. (645.8700,441.8400) .. controls
	      (648.5700,441.7000) and (651.0700,439.2100) .. (652.2100,442.7300) .. controls
	      (652.7900,444.5400) and (651.4500,447.0900) .. (651.1700,448.8700) --
	      cycle(664.8100,425.0600) .. controls (664.5600,426.1200) and
	      (664.5000,427.1600) .. (664.3900,428.3200) .. controls (663.3800,428.4700) and
	      (662.5500,428.4600) .. (662.2700,429.5300) .. controls (660.6100,429.8900) and
	      (660.7500,428.3500) .. (659.9200,427.4700) .. controls (659.0500,426.5500) and
	      (657.8700,426.7300) .. (656.7200,426.6200) .. controls (656.0400,423.3000) and
	      (659.0600,424.6700) .. (660.5500,423.7500) .. controls (661.6100,423.1000) and
	      (661.4700,420.4900) .. (663.3300,420.6100) .. controls (662.7300,420.5700) and
	      (665.4100,422.9800) .. (665.3800,422.9100) .. controls (665.7000,423.7500) and
	      (665.0100,424.2200) .. (664.8300,424.9400) .. controls (664.8300,424.9700) and
	      (664.8200,425.0200) .. (664.8100,425.0600) -- cycle(655.8500,431.0900) ..
	      controls (655.4800,432.0700) and (655.6900,432.9500) .. (654.0600,433.7300) ..
	      controls (652.6100,434.4200) and (649.9800,433.2900) .. (649.6000,434.9000) ..
	      controls (649.4400,434.9200) and (648.7900,434.8800) .. (648.7300,434.6600) ..
	      controls (648.6100,434.2400) and (648.6300,433.4200) .. (648.7700,433.0000) ..
	      controls (650.4700,432.2400) and (649.2000,429.3600) .. (650.8800,428.4000) ..
	      controls (652.0900,427.7100) and (656.0000,427.4800) .. (657.3700,427.7100) ..
	      controls (658.4300,427.8800) and (655.9400,430.8700) .. (655.8500,431.0900) --
	      cycle(662.4700,434.5300) .. controls (662.3600,435.5800) and
	      (662.3300,437.1200) .. (661.9300,437.8200) .. controls (661.4900,438.6000) and
	      (660.1700,439.1300) .. (659.8700,437.8000) .. controls (657.1200,437.5600) and
	      (655.1200,436.8000) .. (652.7000,436.0200) .. controls (653.3600,435.3400) and
	      (654.4200,435.6400) .. (655.4100,435.6000) .. controls (655.9000,434.9500) and
	      (656.4100,434.4400) .. (656.9600,433.8800) .. controls (657.8500,432.9900) and
	      (657.1200,429.6600) .. (659.0200,429.3700) .. controls (659.7400,429.2600) and
	      (661.6300,430.7900) .. (662.8200,430.8600) .. controls (662.9900,432.4000) and
	      (662.6300,433.0100) .. (662.4700,434.5300) -- cycle(672.0000,433.8800) ..
	      controls (671.8700,434.7100) and (671.6800,435.5200) .. (671.5300,435.7500) ..
	      controls (670.7400,436.9100) and (669.5900,436.7800) .. (668.3100,436.4200) ..
	      controls (668.0800,436.3600) and (666.6700,435.6000) .. (666.5200,435.4400) ..
	      controls (665.9500,434.8100) and (666.0700,433.8200) .. (665.5900,433.3800) ..
	      controls (664.7300,432.5900) and (662.7500,433.4700) .. (663.4000,431.3800) ..
	      controls (665.4700,431.3000) and (670.9600,429.2300) .. (672.1400,431.8700) ..
	      controls (672.2200,432.0700) and (672.1400,432.9800) .. (672.0000,433.8800) --
	      cycle(665.9600,437.9400) .. controls (665.9300,438.1800) and
	      (665.9100,438.4200) .. (665.8800,438.6200) .. controls (664.3400,439.1100) and
	      (663.9000,440.8900) .. (663.0400,438.6100) .. controls (662.6200,437.5000) and
	      (662.9700,435.5300) .. (664.3100,435.2900) .. controls (666.1200,434.9800) and
	      (666.0900,436.6300) .. (665.9600,437.9400) -- cycle(655.7900,440.2900) ..
	      controls (655.6800,440.3400) and (655.5800,440.3900) .. (655.4600,440.4500) ..
	      controls (655.0000,440.6900) and (654.3600,441.8800) .. (653.7700,441.8100) ..
	      controls (651.9400,441.6100) and (652.1500,437.6000) .. (653.9600,437.2800) ..
	      controls (655.0900,437.0800) and (654.8800,437.8400) .. (655.5500,438.1100) ..
	      controls (656.4600,438.4800) and (657.3300,438.6500) .. (658.5900,438.7600) ..
	      controls (658.7900,438.7800) and (658.5700,439.7900) .. (658.5200,439.9000) ..
	      controls (657.4300,439.9200) and (656.7000,439.8800) .. (655.7900,440.2900) --
	      cycle(651.6100,438.8200) .. controls (651.5800,439.0600) and
	      (651.5600,439.2900) .. (651.5400,439.5000) .. controls (651.3900,440.9600) and
	      (646.6200,440.4700) .. (645.8200,440.3600) .. controls (645.6800,439.6000) and
	      (645.8100,438.8500) .. (646.1300,438.2000) .. controls (646.8700,438.1600) and
	      (647.8700,438.2700) .. (648.5400,437.8800) .. controls (649.0500,437.5900) and
	      (649.2800,436.4600) .. (649.6700,436.3200) .. controls (651.5100,435.6700) and
	      (651.7600,437.3700) .. (651.6100,438.8200) -- cycle(671.4200,425.7200) ..
	      controls (671.8900,428.1800) and (671.5700,429.8100) .. (668.9200,429.7200) ..
	      controls (667.7300,429.6800) and (665.5100,429.1100) .. (665.1300,430.5500) ..
	      controls (665.6900,427.4300) and (667.0200,425.0300) .. (666.3200,421.9300) ..
	      controls (665.7100,421.9700) and (665.0000,421.7600) .. (664.4000,421.8000) ..
	      controls (664.3500,421.0900) and (664.3700,420.3300) .. (664.4600,419.6200) ..
	      controls (666.5700,419.7300) and (666.9600,421.1600) .. (668.3600,422.2900) ..
	      controls (669.3200,423.0700) and (670.5100,423.2000) .. (671.0800,424.5100) ..
	      controls (671.2000,424.8400) and (671.3300,425.2700) .. (671.4200,425.7200) --
	      cycle(662.8000,454.2300) .. controls (660.8400,454.3200) and
	      (660.0400,454.5800) .. (659.4900,456.4400) .. controls (659.0000,458.0900) and
	      (659.4900,460.1200) .. (657.1900,460.3500) .. controls (657.1100,458.3400) and
	      (657.5200,456.6000) .. (657.5500,454.5900) .. controls (657.5900,451.6100) and
	      (656.5200,452.0400) .. (653.8900,451.7500) .. controls (653.9700,450.9400) and
	      (654.7900,450.8500) .. (655.6100,451.0400) .. controls (654.7500,450.8300) and
	      (656.4400,441.5200) .. (656.8100,440.6000) .. controls (657.5800,441.4100) and
	      (659.8100,440.9700) .. (661.0500,441.0900) .. controls (661.7100,443.0600) and
	      (662.6300,444.7000) .. (662.7400,446.8100) .. controls (662.7800,447.4900) and
	      (663.1700,454.2100) .. (662.8000,454.2300) -- cycle(672.8100,455.9900) ..
	      controls (671.9700,456.0500) and (668.9400,456.0800) .. (668.2400,455.6900) ..
	      controls (666.8900,454.9400) and (667.3200,452.7800) .. (667.1900,451.3200) ..
	      controls (666.9600,448.8600) and (665.7800,449.3100) .. (665.0200,447.3200) ..
	      controls (664.5800,446.1500) and (665.6200,443.3400) .. (663.9200,443.2400) ..
	      controls (663.8800,441.7000) and (663.2600,440.3600) .. (665.0000,439.4900) ..
	      controls (666.3200,438.8300) and (667.8700,439.4800) .. (668.9100,440.2800) ..
	      controls (671.2400,442.0600) and (670.0400,446.3600) .. (671.4900,448.7700) ..
	      controls (672.0000,449.6100) and (673.0500,449.8700) .. (673.5300,450.7200) ..
	      controls (674.5200,452.4400) and (673.0200,454.0400) .. (672.8100,455.9900) --
	      cycle(693.3700,443.7400) .. controls (692.9200,443.8300) and
	      (692.3600,443.6600) .. (692.0100,443.5200) .. controls (690.4100,442.8600) and
	      (689.5800,442.4000) .. (687.7500,442.2100) .. controls (687.6400,441.4100) and
	      (688.0200,440.1600) .. (687.7400,439.4000) .. controls (687.3600,438.3900) and
	      (686.4400,437.8900) .. (686.1600,436.8600) .. controls (685.8000,435.5800) and
	      (684.6800,432.2900) .. (686.2800,432.0100) .. controls (687.8000,431.7400) and
	      (689.2900,433.6400) .. (690.3600,434.4900) .. controls (691.2400,435.1900) and
	      (691.6100,435.4100) .. (691.9100,436.4900) .. controls (692.4200,438.3100) and
	      (692.5100,440.0900) .. (693.3900,441.7900) .. controls (693.6800,442.3500) and
	      (694.5400,442.6700) .. (693.8700,443.4600) .. controls (693.7400,443.6200) and
	      (693.5700,443.7000) .. (693.3700,443.7400) -- cycle(700.3000,447.7600) ..
	      controls (699.9900,447.6700) and (699.6900,447.5800) .. (699.4100,447.4900) ..
	      controls (698.5000,447.2100) and (698.0300,447.2500) .. (697.3500,446.7800) ..
	      controls (696.4800,446.1900) and (695.9700,445.2700) .. (695.4800,444.4300) ..
	      controls (694.5400,442.8300) and (694.3600,441.9700) .. (694.2800,440.0600) ..
	      controls (694.2100,438.3300) and (694.0700,436.6200) .. (694.0500,434.9100) ..
	      controls (692.7000,434.3500) and (691.4200,433.2500) .. (690.1200,432.6100) ..
	      controls (688.9700,432.0400) and (688.1100,431.0200) .. (689.8300,430.6000) ..
	      controls (691.0000,430.3200) and (694.0400,429.3900) .. (695.0200,430.3000) ..
	      controls (696.1500,431.3500) and (695.1500,433.3400) .. (697.1000,434.0900) ..
	      controls (698.0300,434.4500) and (698.5300,434.2800) .. (699.2200,435.0600) ..
	      controls (699.6200,435.5100) and (699.7000,436.0900) .. (700.2200,436.5100) ..
	      controls (701.2000,437.3000) and (702.7000,437.2900) .. (703.5700,438.2600) ..
	      controls (704.4200,439.2200) and (703.9800,440.6100) .. (704.4800,441.7000) ..
	      controls (704.8900,442.5900) and (705.7300,443.2900) .. (706.1900,444.1900) ..
	      controls (707.2100,446.2300) and (706.6100,447.6300) .. (704.2900,448.1300) ..
	      controls (702.9300,448.4400) and (701.5600,448.1300) .. (700.3000,447.7600) --
	      cycle(685.8900,443.7100) .. controls (685.8800,443.8900) and
	      (685.8600,444.0600) .. (685.8100,444.1900) .. controls (685.5800,444.8300) and
	      (684.7900,445.1900) .. (684.5700,445.8600) .. controls (684.1100,447.2900) and
	      (685.7800,448.7500) .. (685.3400,449.9000) .. controls (684.7800,449.3700) and
	      (684.1500,449.0200) .. (683.3500,449.1000) .. controls (682.9400,447.6300) and
	      (681.2300,446.4000) .. (679.7300,446.5000) .. controls (679.3200,445.6700) and
	      (679.6200,445.0100) .. (679.4300,444.1800) .. controls (679.1900,443.1900) and
	      (678.8300,442.4200) .. (678.6700,441.3200) .. controls (678.4900,440.1300) and
	      (678.3000,438.4400) .. (677.9300,437.3300) .. controls (677.6500,436.4800) and
	      (676.9100,435.8800) .. (676.5600,434.9800) .. controls (676.1100,433.8100) and
	      (677.1500,431.0000) .. (675.4500,430.9000) .. controls (675.4100,429.3600) and
	      (674.7900,428.0200) .. (676.5400,427.1500) .. controls (679.0100,425.9200) and
	      (681.1300,428.8600) .. (682.2900,430.5600) .. controls (683.6500,432.5600) and
	      (684.7600,433.8300) .. (685.3300,436.1500) .. controls (685.6300,437.3500) and
	      (685.9600,438.0500) .. (685.9200,439.3400) .. controls (685.8900,440.3800) and
	      (685.8700,441.4300) .. (685.8400,442.4700) .. controls (685.8400,442.8100) and
	      (685.9000,443.3000) .. (685.8900,443.7100) -- cycle(677.9900,450.7100) ..
	      controls (677.4100,451.1500) and (676.6300,451.2200) .. (675.9100,450.6100) ..
	      controls (675.5000,450.2600) and (674.5500,449.2100) .. (674.2800,448.8100) ..
	      controls (673.8700,448.1900) and (673.9100,447.7100) .. (673.6300,446.9000) ..
	      controls (673.2100,445.7200) and (672.0900,445.0600) .. (671.6400,443.8800) ..
	      controls (671.2800,442.9300) and (671.7700,441.8700) .. (671.5300,440.9100) ..
	      controls (671.3300,440.1400) and (670.7500,439.7700) .. (670.4400,439.1500) ..
	      controls (672.5200,438.1200) and (672.6900,436.2600) .. (672.6500,434.1300) ..
	      controls (672.6200,433.0400) and (672.4800,431.9500) .. (672.5700,430.8600) ..
	      controls (672.5900,430.6400) and (673.2300,428.2100) .. (673.3200,428.3200) ..
	      controls (673.9100,429.0500) and (674.0200,430.9000) .. (674.2700,431.8700) ..
	      controls (674.6300,433.2100) and (675.0500,434.3500) .. (675.6900,435.5500) ..
	      controls (676.8800,437.7900) and (678.2300,439.6800) .. (678.1500,442.3300) ..
	      controls (678.1100,443.5900) and (677.9400,444.9600) .. (678.2200,446.1800) ..
	      controls (678.4700,447.2900) and (679.1300,448.2400) .. (678.7800,449.5300) ..
	      controls (678.6300,450.0100) and (678.3500,450.4300) .. (677.9900,450.7100) --
	      cycle(776.0200,393.5500) .. controls (776.8800,393.7100) and
	      (777.6800,393.8200) .. (778.6400,393.9000) -- (778.3100,393.8900) .. controls
	      (780.8900,394.3200) and (779.5200,400.4500) .. (778.1900,401.5400) .. controls
	      (778.0800,400.1400) and (778.2300,398.6800) .. (778.1700,397.2700) .. controls
	      (775.5200,397.6900) and (775.8400,395.3900) .. (776.0200,393.5500) --
	      cycle(763.9500,416.7000) .. controls (761.4100,420.1500) and
	      (760.3900,420.8200) .. (756.2400,420.3100) .. controls (754.5500,417.6400) and
	      (756.1100,414.6400) .. (756.6700,412.2800) .. controls (757.2800,409.6900) and
	      (757.5800,407.1100) .. (757.6000,404.3800) .. controls (757.6400,400.6300) and
	      (755.3000,399.5000) .. (754.7800,396.2500) .. controls (754.5300,394.6600) and
	      (754.8800,393.2300) .. (754.6200,391.9800) .. controls (754.3200,390.5200) and
	      (753.9100,389.7300) .. (754.0500,387.9700) .. controls (754.0900,387.4600) and
	      (757.9800,390.6000) .. (758.3200,390.9700) .. controls (759.9000,392.7200) and
	      (760.7900,395.0900) .. (761.7600,397.1900) .. controls (763.1300,400.1700) and
	      (766.0500,402.9800) .. (766.3300,406.2800) .. controls (766.6100,409.6100) and
	      (765.9200,414.0300) .. (763.9500,416.7000) -- cycle(770.7200,404.0000) ..
	      controls (770.7800,402.0800) and (768.0500,402.3600) .. (766.7700,401.5500) ..
	      controls (766.7200,400.4900) and (766.8000,399.3800) .. (766.7500,398.3200) ..
	      controls (766.3800,398.3500) and (765.8800,398.1600) .. (765.5100,398.1900) ..
	      controls (765.4600,396.7900) and (765.5700,395.3400) .. (765.5200,393.9500) ..
	      controls (765.5100,393.6300) and (762.2000,392.8200) .. (762.5800,390.7100) ..
	      controls (762.9000,388.9300) and (764.3800,388.8800) .. (766.0100,388.7700) ..
	      controls (768.6100,388.6000) and (772.8700,389.3100) .. (772.9500,392.6500) ..
	      controls (773.0000,394.5300) and (772.1800,403.6500) .. (770.7200,404.0000) --
	      cycle(781.1500,412.7100) .. controls (780.8500,415.1100) and
	      (781.0500,417.3000) .. (779.8900,419.4900) .. controls (778.8400,421.4700) and
	      (777.9900,422.8300) .. (777.4400,425.2100) .. controls (776.4900,425.2600) and
	      (775.4800,425.2500) .. (774.5300,425.1300) .. controls (774.4300,422.3200) and
	      (773.9800,403.8700) .. (776.5100,403.2200) .. controls (776.3600,403.1000) and
	      (776.2200,402.9900) .. (776.0600,402.8500) -- (776.7200,403.2000) .. controls
	      (776.6500,403.1900) and (776.5800,403.2100) .. (776.5100,403.2200) .. controls
	      (777.8500,404.3000) and (778.5600,404.6800) .. (779.6900,406.4900) .. controls
	      (780.1300,407.1900) and (781.7100,408.5200) .. (781.8700,409.1400) .. controls
	      (782.1200,410.1000) and (781.2800,411.6500) .. (781.1500,412.7100) --
	      cycle(786.6600,401.6500) .. controls (783.0200,402.3400) and
	      (783.2600,397.5200) .. (784.6900,395.6700) .. controls (784.8000,395.5300) and
	      (784.9200,395.4000) .. (785.0400,395.2700) .. controls (784.6500,393.4200) and
	      (784.7400,391.8800) .. (786.4000,391.7600) -- (786.0700,391.4200) .. controls
	      (788.2100,393.0800) and (786.3000,393.9500) .. (785.0300,395.2700) .. controls
	      (785.5400,397.6400) and (786.8400,400.5300) .. (786.6600,401.6500) --
	      cycle(801.3000,409.4600) .. controls (800.7400,409.6000) and
	      (799.6100,409.5700) .. (799.0600,409.4000) .. controls (799.2600,404.6800) and
	      (793.9200,406.3200) .. (791.5900,404.1100) .. controls (789.7400,402.3500) and
	      (790.8800,396.3400) .. (791.7800,394.2700) .. controls (792.4800,394.5700) and
	      (793.2800,394.9000) .. (794.0200,395.2800) .. controls (793.9100,395.1700) and
	      (793.8100,395.0600) .. (793.6900,394.9500) -- (794.6800,395.6400) .. controls
	      (794.4700,395.5100) and (794.2500,395.3900) .. (794.0200,395.2700) .. controls
	      (796.2400,397.4200) and (797.0600,399.8200) .. (798.8900,402.2600) .. controls
	      (800.9000,404.9600) and (801.6000,406.0200) .. (801.3000,409.4600) --
	      cycle(852.2200,995.6200) .. controls (851.6300,996.5600) and
	      (852.1700,997.5500) .. (850.2800,996.8000) .. controls (850.0700,995.5100) and
	      (850.0000,993.5300) .. (850.4300,992.2800) .. controls (851.3300,992.8400) and
	      (851.8200,993.9000) .. (852.2400,994.9400) -- (852.2200,995.6200) --
	      cycle(864.3300,1015.8700) .. controls (863.4300,1016.1100) and
	      (862.0600,1016.0700) .. (861.1700,1015.7900) .. controls (860.5800,1013.8700)
	      and (861.2200,1012.9300) .. (862.5200,1011.9200) -- (863.8500,1011.9500) ..
	      controls (864.5700,1013.1300) and (864.7600,1014.4800) .. (864.3300,1015.8700)
	      -- cycle(918.0100,555.0000) .. controls (919.7900,555.6800) and
	      (921.0500,557.7300) .. (921.3900,559.5600) .. controls (921.5500,560.4300) and
	      (921.0600,562.4700) .. (921.7400,563.0600) .. controls (922.3900,563.6400) and
	      (923.8300,563.1000) .. (924.1800,562.4400) .. controls (924.5200,561.8100) and
	      (924.0300,560.6500) .. (924.6400,560.1800) .. controls (925.1100,559.8100) and
	      (926.2500,560.3400) .. (926.8500,560.3400) .. controls (928.2600,560.3500) and
	      (929.7800,559.9900) .. (931.1400,560.5300) .. controls (931.2200,561.7400) and
	      (931.4600,563.3600) .. (930.6400,564.1200) .. controls (929.6200,565.0600) and
	      (928.4600,565.3500) .. (927.9500,566.7500) .. controls (927.5600,567.8100) and
	      (927.6400,569.6500) .. (926.1800,570.0000) .. controls (922.4000,570.9000) and
	      (921.1900,561.1900) .. (918.2100,559.2600) .. controls (915.9300,557.7800) and
	      (913.7000,557.9700) .. (911.6800,555.6200) .. controls (913.5500,554.6000) and
	      (915.8800,554.1900) .. (918.0100,555.0000) -- cycle(894.5800,922.1600) ..
	      controls (895.2900,918.3600) and (896.3400,915.4600) .. (896.2800,911.2600) ..
	      controls (896.2200,907.5000) and (895.6300,903.2600) .. (896.6400,899.6400) ..
	      controls (899.7700,899.3400) and (898.2800,894.8500) .. (899.4400,892.7200) ..
	      controls (903.7300,884.8900) and (905.5700,894.5700) .. (905.6600,898.1400) ..
	      controls (905.7100,900.1000) and (906.4500,898.7600) .. (904.9300,900.8800) ..
	      controls (904.2800,901.7800) and (901.6900,901.8400) .. (901.8100,903.3800) ..
	      controls (901.9500,905.1900) and (904.7400,904.7000) .. (905.3900,905.8900) ..
	      controls (905.9300,906.8700) and (905.4100,909.7000) .. (905.3300,910.8300) ..
	      controls (905.1000,914.1200) and (905.5800,917.0100) .. (905.3800,920.1300) ..
	      controls (904.5700,920.3300) and (902.9300,920.2900) .. (902.1300,920.0500) ..
	      controls (902.3300,918.9400) and (901.9200,917.5800) .. (902.1200,916.4800) ..
	      controls (901.1600,916.2400) and (899.5100,916.2000) .. (898.5400,916.3900) ..
	      controls (897.8200,919.4100) and (901.7400,924.3500) .. (899.5500,927.3800) ..
	      controls (898.7800,928.4500) and (895.5400,929.1500) .. (894.2300,927.5000) ..
	      controls (893.1700,926.1600) and (894.3400,923.4500) .. (894.5800,922.1600) --
	      cycle(887.0800,1059.5700) .. controls (886.6800,1062.0100) and
	      (887.2600,1060.8300) .. (884.3400,1062.2400) .. controls (882.8400,1062.9600)
	      and (881.8000,1063.0200) .. (880.8700,1064.4300) .. controls
	      (875.3100,1065.7800) and (879.1000,1054.3800) .. (879.3000,1051.4700) ..
	      controls (879.8800,1051.5200) and (880.6400,1051.3200) .. (881.2100,1051.4200)
	      .. controls (881.2700,1050.9000) and (881.2600,1050.3700) ..
	      (881.3600,1049.8600) .. controls (884.3700,1049.0000) and (884.1600,1045.4500)
	      .. (885.8300,1043.5300) .. controls (889.0800,1047.6600) and
	      (887.8600,1054.7500) .. (887.0800,1059.5700) -- cycle(893.9000,1014.3400) ..
	      controls (892.3900,1014.3500) and (890.8200,1014.3100) .. (889.3100,1014.2200)
	      .. controls (888.7100,1010.8900) and (891.2500,1009.6500) ..
	      (890.8500,1006.3400) .. controls (891.9600,1006.5500) and (893.3500,1006.9700)
	      .. (894.4000,1007.4500) .. controls (894.4300,1008.4600) and
	      (894.0400,1009.3800) .. (893.7800,1009.6600) .. controls (894.0100,1011.1400)
	      and (894.1900,1012.8000) .. (893.9000,1014.3400) -- cycle(892.1400,1003.6600)
	      .. controls (891.5800,1002.7500) and (892.0800,1001.6100) ..
	      (891.6400,1000.6500) .. controls (891.0600,999.3600) and (889.2200,998.5000)
	      .. (888.6700,997.3000) .. controls (887.8800,995.6000) and (889.2800,993.7800)
	      .. (887.1900,992.7900) .. controls (887.1500,991.2900) and (887.2400,989.7300)
	      .. (887.2100,988.2200) .. controls (886.3600,988.2900) and (885.7200,987.7300)
	      .. (884.9900,987.7200) .. controls (884.8300,986.4500) and (885.0600,985.6000)
	      .. (886.0100,984.7400) .. controls (887.9900,987.5700) and (889.6800,984.2100)
	      .. (888.0400,982.1800) .. controls (889.4400,980.0200) and (888.5300,977.3500)
	      .. (888.9400,974.8600) .. controls (889.3400,972.4200) and (891.0500,970.4300)
	      .. (890.8400,967.9500) .. controls (892.4400,968.1400) and (892.9500,969.6700)
	      .. (893.3000,971.1000) .. controls (893.2200,970.7300) and (893.1400,970.3500)
	      .. (893.0800,969.9600) -- (893.6800,972.6500) .. controls (893.5400,972.2000)
	      and (893.4300,971.6600) .. (893.3000,971.1100) .. controls (893.9300,974.1000)
	      and (894.9500,976.6300) .. (894.8400,979.7000) .. controls (894.7400,982.5300)
	      and (892.3300,987.2700) .. (894.2500,989.7400) .. controls (896.2500,988.0400)
	      and (897.0300,985.1200) .. (900.3400,985.5600) .. controls (900.2700,988.5500)
	      and (899.2300,991.3100) .. (899.1500,994.5000) .. controls (899.0800,997.5000)
	      and (900.1600,1001.0200) .. (899.5300,1003.8100) .. controls
	      (897.9800,1004.1200) and (896.5500,1005.2400) .. (895.1000,1005.3200) ..
	      controls (892.2500,1005.4800) and (893.4500,1005.8000) .. (892.1400,1003.6600)
	      -- cycle(897.0900,964.1400) .. controls (897.4800,962.4300) and
	      (898.3700,961.2600) .. (900.3200,962.4400) .. controls (901.3900,963.0800) and
	      (901.4800,969.1100) .. (900.0000,969.4100) .. controls (899.6900,969.4700) and
	      (896.8500,969.7100) .. (896.8400,969.3400) .. controls (896.8200,968.5300) and
	      (896.6600,966.0100) .. (897.0900,964.1400) -- cycle(898.2800,1146.2900) ..
	      controls (898.2700,1147.2100) and (897.5500,1149.1200) .. (897.1200,1149.9600)
	      .. controls (896.9600,1150.2500) and (894.5500,1152.3100) ..
	      (894.5300,1151.5900) .. controls (894.4100,1148.4300) and (894.5000,1145.0500)
	      .. (894.7800,1141.9200) .. controls (895.5600,1142.1200) and
	      (896.5300,1142.0400) .. (897.0900,1142.6400) .. controls (897.1000,1142.6600)
	      and (897.1200,1142.6800) .. (897.1400,1142.7000) .. controls
	      (897.5700,1143.2200) and (897.4300,1144.0500) .. (897.8900,1144.5900) ..
	      controls (898.3600,1145.1500) and (899.1100,1145.3400) .. (899.6200,1145.7800)
	      .. controls (899.2300,1146.0100) and (898.7400,1146.1100) ..
	      (898.2800,1146.2900) -- cycle(903.2600,950.1300) .. controls
	      (902.2900,949.9000) and (900.9800,950.3800) .. (900.0100,950.1500) .. controls
	      (899.5100,953.2300) and (900.8200,955.8100) .. (900.6900,958.7500) .. controls
	      (897.8600,958.8000) and (894.9200,958.7200) .. (892.0900,958.5300) .. controls
	      (892.3200,955.0200) and (890.4300,952.0500) .. (890.6100,948.8600) .. controls
	      (890.7800,946.0400) and (892.7100,944.1200) .. (893.4800,941.6000) .. controls
	      (894.2600,939.0300) and (892.5800,933.8400) .. (893.3600,932.8900) .. controls
	      (894.5000,931.5000) and (900.8000,930.6600) .. (902.2200,931.8800) .. controls
	      (904.6700,933.9800) and (902.2500,939.1100) .. (902.9200,941.8400) .. controls
	      (903.3700,943.6800) and (904.7900,944.1600) .. (904.7700,946.2400) .. controls
	      (904.7500,947.4000) and (903.0000,948.3200) .. (903.2600,950.1300) --
	      cycle(921.0100,601.0000) .. controls (920.2400,601.0800) and
	      (918.9100,601.2600) .. (918.4100,601.0100) .. controls (917.5000,600.5500) and
	      (917.7100,599.3900) .. (917.6500,598.5300) .. controls (917.0400,598.3500) and
	      (916.6500,597.8200) .. (916.0300,597.6400) .. controls (916.1400,596.0300) and
	      (915.3700,595.2200) .. (913.9400,594.8400) .. controls (913.1700,594.6400) and
	      (912.3500,594.6100) .. (911.5500,594.3800) .. controls (910.9200,594.2000) and
	      (910.2300,593.7500) .. (909.5300,593.8100) .. controls (909.4900,593.2300) and
	      (909.4900,592.6100) .. (909.5300,592.0300) .. controls (910.3400,591.9800) and
	      (911.1700,592.0300) .. (911.9800,591.9800) .. controls (912.0700,588.9300) and
	      (917.0300,591.1700) .. (918.5200,591.3400) .. controls (919.4800,591.4500) and
	      (920.6500,590.7700) .. (921.5000,591.3000) .. controls (923.0200,592.2400) and
	      (921.3000,593.3200) .. (921.5200,594.5200) .. controls (921.6900,595.4400) and
	      (922.7900,595.7600) .. (922.8500,596.7500) .. controls (922.8800,597.1700) and
	      (920.9200,601.0000) .. (921.3100,600.9700) .. controls (921.2200,600.9800) and
	      (921.1200,600.9900) .. (921.0100,601.0000) -- cycle(906.2400,544.9800) ..
	      controls (906.1100,546.0300) and (905.9200,546.8000) .. (905.6500,546.8100) ..
	      controls (904.3200,546.8900) and (904.3300,546.0000) .. (903.8500,545.1800) ..
	      controls (903.1500,544.0100) and (902.6900,543.8700) .. (902.6700,542.4300) ..
	      controls (902.6400,540.1700) and (902.4000,538.2000) .. (903.0100,536.0000) ..
	      controls (903.6900,536.3800) and (903.6200,537.3900) .. (904.3400,537.8400) ..
	      controls (905.2900,538.4300) and (905.9200,537.8200) .. (906.3600,539.1700) ..
	      controls (906.4900,539.6100) and (906.4900,542.8600) .. (906.2400,544.9800) --
	      cycle(884.6300,540.5900) .. controls (884.5500,540.5800) and
	      (884.4600,540.5800) .. (884.3800,540.5700) .. controls (883.0200,540.5100) and
	      (883.0100,540.1400) .. (882.3400,539.0100) .. controls (881.9400,538.3400) and
	      (881.4500,537.8000) .. (881.2400,537.0300) .. controls (881.0400,536.3200) and
	      (881.2600,535.5200) .. (880.9300,534.8200) .. controls (880.7100,534.3600) and
	      (879.9200,533.4500) .. (879.5400,533.0900) .. controls (878.7300,532.3400) and
	      (877.6900,532.2400) .. (876.8700,531.6300) .. controls (876.7800,531.0300) and
	      (876.8200,529.7800) .. (877.3700,529.4000) .. controls (877.9600,529.0000) and
	      (878.4400,529.4700) .. (879.0100,528.9100) .. controls (879.8400,528.0800) and
	      (879.5600,526.1400) .. (879.9600,525.0500) .. controls (880.7500,526.8300) and
	      (883.0900,525.4000) .. (883.8400,527.1400) .. controls (884.0900,527.7200) and
	      (883.7300,528.5800) .. (883.9800,529.2300) .. controls (884.2800,530.0200) and
	      (884.9900,530.4100) .. (885.5000,531.0000) .. controls (887.8400,533.7300) and
	      (888.8900,537.4200) .. (888.6500,540.9800) .. controls (887.3700,541.0500) and
	      (885.9100,540.6900) .. (884.6300,540.5900) -- cycle(868.0100,521.1900) ..
	      controls (868.1000,520.3800) and (867.7400,520.0000) .. (867.6600,519.3400) ..
	      controls (867.5000,517.9400) and (868.6000,517.8200) .. (868.6400,516.7000) ..
	      controls (868.4900,516.6900) and (868.3400,516.6700) .. (868.1900,516.6500) ..
	      controls (868.1400,515.7400) and (868.4400,514.8900) .. (868.3100,514.0300) ..
	      controls (866.1900,513.9100) and (866.9800,508.7000) .. (869.4100,510.6400) ..
	      controls (870.6600,511.6400) and (870.2300,512.2600) .. (869.5200,513.0900) ..
	      controls (868.7600,513.9900) and (868.6000,514.1100) .. (868.7000,515.4800) ..
	      controls (870.1500,515.0800) and (870.4100,517.4900) .. (871.0000,518.3600) ..
	      controls (871.8400,519.5900) and (873.3900,519.5000) .. (874.3700,520.7400) ..
	      controls (874.7300,521.2000) and (875.2800,522.2700) .. (875.2200,522.8800) ..
	      controls (875.1000,524.0100) and (874.7700,523.7400) .. (873.8000,523.8400) ..
	      controls (872.7500,523.9400) and (872.1500,524.1100) .. (871.3800,524.6600) ..
	      controls (870.8700,525.0200) and (871.0100,526.0500) .. (870.0800,525.3700) ..
	      controls (869.5100,524.9500) and (869.4800,523.8500) .. (868.8500,523.3400) ..
	      controls (868.4200,523.0000) and (867.9400,523.3200) .. (867.6700,522.7300) ..
	      controls (867.5200,522.4100) and (867.9700,521.5100) .. (868.0100,521.1900) --
	      cycle(929.4100,588.9000) .. controls (928.8300,588.2300) and
	      (928.3300,587.5200) .. (927.9500,587.0600) .. controls (926.6400,585.4900) and
	      (924.6000,585.8100) .. (923.1500,584.5000) .. controls (921.5600,583.0600) and
	      (921.4400,581.3400) .. (921.3300,579.3900) .. controls (921.2400,577.6300) and
	      (920.4900,576.7100) .. (918.8200,576.2600) .. controls (916.5400,575.6500) and
	      (915.3900,575.4700) .. (914.7400,573.0500) .. controls (914.1900,571.0000) and
	      (912.3600,570.5900) .. (911.4700,568.7700) .. controls (910.6700,567.1200) and
	      (911.1200,565.0300) .. (910.5300,563.2600) .. controls (909.5900,560.4600) and
	      (912.4000,561.8000) .. (913.2900,563.3500) .. controls (914.2500,565.0300) and
	      (915.0400,567.5600) .. (914.7000,569.4800) .. controls (915.5100,569.5400) and
	      (916.9200,569.2800) .. (917.5900,569.8000) .. controls (918.4800,570.4800) and
	      (918.1500,571.6400) .. (918.2000,572.6500) .. controls (919.4300,572.7100) and
	      (922.3700,573.3000) .. (922.0300,571.3600) .. controls (924.1400,571.1300) and
	      (923.8100,572.8300) .. (925.2600,573.0800) .. controls (926.1900,573.2400) and
	      (926.7700,572.4300) .. (927.5100,572.3300) .. controls (929.4500,572.0500) and
	      (930.4300,573.3800) .. (930.6000,574.9900) .. controls (930.8600,577.6200) and
	      (932.4800,580.2600) .. (932.3200,582.8100) .. controls (929.9300,583.1000) and
	      (930.1700,584.7900) .. (931.6000,586.2500) .. controls (932.4600,587.1300) and
	      (934.6400,588.6400) .. (933.5500,590.1800) .. controls (932.3700,591.8100) and
	      (930.2400,589.8600) .. (929.4100,588.9000) -- cycle(915.4700,1188.8700) ..
	      controls (914.1600,1188.7600) and (913.3400,1188.0400) .. (912.9100,1186.8400)
	      .. controls (912.4500,1185.5700) and (913.3000,1184.8100) ..
	      (913.8000,1186.2800) .. controls (914.3100,1187.8300) and (916.3000,1186.7900)
	      .. (915.4700,1188.8700) -- cycle(921.8400,1201.7100) .. controls
	      (920.9300,1201.9600) and (919.5800,1201.9100) .. (918.6900,1201.6300) ..
	      controls (918.7600,1197.9000) and (915.9800,1195.9700) .. (916.9300,1191.7600)
	      .. controls (917.7900,1191.6000) and (918.5600,1191.6200) ..
	      (919.4100,1191.8200) .. controls (919.2500,1191.7800) and (919.5200,1194.3600)
	      .. (919.5700,1194.5800) .. controls (919.8000,1195.4700) and
	      (920.2000,1196.3100) .. (920.7100,1197.0800) .. controls (921.7300,1198.6000)
	      and (922.6700,1199.7000) .. (921.8400,1201.7100) -- cycle(933.0500,823.3800)
	      -- (935.0100,825.4300) .. controls (935.6900,826.1800) and (936.5500,825.9700)
	      .. (936.2200,827.3400) .. controls (935.5800,827.6700) and (934.4500,827.9200)
	      .. (933.7600,828.0200) .. controls (932.2100,826.5200) and (932.0400,825.0300)
	      .. (933.0500,823.3800) -- cycle(926.5800,1199.1800) .. controls
	      (924.2300,1199.1800) and (924.3800,1195.7300) .. (925.5800,1196.1200) ..
	      controls (925.4800,1197.0100) and (926.3700,1196.8300) .. (926.7100,1197.3800)
	      .. controls (926.9000,1197.6700) and (926.9400,1199.1800) ..
	      (926.5800,1199.1800) -- cycle(950.7500,968.1100) -- (950.0700,968.7600) ..
	      controls (950.8400,969.1500) and (951.6000,969.6900) .. (952.3600,970.1800) ..
	      controls (951.3700,970.2200) and (950.3800,970.1300) .. (949.4500,969.9500) ..
	      controls (949.1900,968.6600) and (949.9400,968.7300) .. (950.7500,968.1100) --
	      cycle(932.4200,1215.3500) .. controls (932.4200,1214.7400) and
	      (932.4300,1214.1500) .. (932.4700,1213.5500) .. controls (934.3500,1213.5000)
	      and (936.2400,1214.1800) .. (937.8100,1215.1700) .. controls
	      (938.3100,1215.4800) and (939.5300,1215.8600) .. (939.7700,1216.3800) ..
	      controls (939.5700,1216.5000) and (932.4100,1214.8200) .. (932.4200,1215.3500)
	      -- cycle(944.4200,1214.2200) .. controls (943.6400,1213.3000) and
	      (942.8600,1212.4900) .. (941.9100,1211.5700) .. controls (942.0900,1209.9800)
	      and (941.6300,1208.0500) .. (941.8300,1206.4600) .. controls
	      (938.7800,1205.6200) and (939.5700,1200.6200) .. (941.4300,1198.9000) ..
	      controls (942.6900,1200.2900) and (942.6500,1201.9800) .. (943.5000,1203.4400)
	      .. controls (943.5500,1203.5300) and (943.6000,1203.6200) ..
	      (943.6500,1203.7000) .. controls (944.2300,1204.6800) and (944.7300,1205.3100)
	      .. (944.8700,1206.6000) .. controls (945.1500,1209.1600) and
	      (944.4600,1211.6800) .. (944.4200,1214.2200) -- cycle(948.4300,1186.3700) ..
	      controls (947.2100,1188.3900) and (946.2900,1186.6600) .. (946.2300,1185.2100)
	      .. controls (946.2000,1184.3500) and (946.4000,1179.8300) ..
	      (947.9400,1182.5200) .. controls (948.2700,1183.0800) and (948.4500,1183.7000)
	      .. (948.5400,1184.3300) .. controls (948.6100,1184.9200) and
	      (948.7600,1185.8400) .. (948.4300,1186.3700) -- cycle(959.5400,1239.8100) ..
	      controls (959.3500,1237.2800) and (962.0700,1237.5600) .. (963.3300,1236.0100)
	      .. controls (963.9200,1236.1100) and (964.2700,1236.2000) ..
	      (964.8800,1236.3800) .. controls (964.3900,1236.8900) and (964.5600,1237.4500)
	      .. (963.6000,1238.0300) .. controls (964.1500,1238.6200) and
	      (964.4600,1239.7700) .. (965.1500,1240.2700) .. controls (964.2200,1240.3200)
	      and (963.1000,1240.4300) .. (962.1600,1240.2600) -- (962.4900,1240.6000) ..
	      controls (961.6400,1240.2700) and (960.9600,1239.6200) .. (959.5400,1239.8100)
	      -- cycle(976.5700,1266.0100) .. controls (976.7600,1267.7200) and
	      (976.1400,1270.4500) .. (976.0100,1272.2900) .. controls (973.9500,1272.3300)
	      and (971.8100,1272.2700) .. (969.7500,1272.1300) .. controls
	      (969.7600,1267.7700) and (967.8800,1263.4100) .. (966.2900,1259.4500) ..
	      controls (964.9500,1258.9600) and (964.0500,1258.6700) .. (962.4100,1258.2400)
	      .. controls (962.3500,1254.9900) and (963.0000,1251.8600) ..
	      (963.0000,1248.6900) .. controls (964.2900,1248.2700) and (965.8400,1248.2200)
	      .. (967.2500,1248.3500) .. controls (968.4400,1245.2400) and
	      (971.4500,1245.7800) .. (974.3600,1245.9700) .. controls (973.8100,1245.9400)
	      and (972.9900,1252.8900) .. (973.6100,1253.9100) .. controls
	      (974.6700,1255.6600) and (977.6200,1255.1300) .. (977.7100,1257.6200) ..
	      controls (977.7400,1258.5800) and (976.1300,1259.7100) .. (975.7700,1260.6400)
	      .. controls (974.7000,1263.3800) and (976.3200,1263.8100) ..
	      (976.5700,1266.0100) -- cycle(993.7400,741.7900) .. controls
	      (995.8900,740.0400) and (994.9500,738.2500) .. (998.0900,737.5500) .. controls
	      (1000.9200,736.9100) and (1002.3700,737.2600) .. (1003.3600,734.0400) ..
	      controls (1003.2600,734.0200) and (1003.1500,734.0100) .. (1003.0300,734.0100)
	      -- (1003.3700,734.0200) .. controls (1003.3700,734.0300) and
	      (1003.3700,734.0300) .. (1003.3600,734.0400) .. controls (1004.6800,734.2900)
	      and (1004.7700,736.4900) .. (1004.1600,737.6300) .. controls
	      (1003.5600,738.7600) and (1002.0900,739.2600) .. (1000.9000,739.7700) ..
	      controls (998.7500,740.6700) and (996.1700,744.2900) .. (993.7400,741.7900) --
	      cycle(969.5500,752.0800) .. controls (968.5400,750.6800) and
	      (969.5200,748.9800) .. (971.0200,747.4700) .. controls (971.9900,746.5000) and
	      (973.4100,745.8600) .. (974.6900,745.4000) .. controls (976.8600,744.6200) and
	      (976.8100,743.6000) .. (977.3300,741.5000) .. controls (977.5100,740.7700) and
	      (977.9000,740.0900) .. (978.0100,739.3500) .. controls (978.1200,738.6000) and
	      (977.8000,737.8000) .. (978.2500,737.2400) .. controls (978.7800,736.5800) and
	      (979.8100,736.7600) .. (980.5300,736.4400) .. controls (981.2400,736.1300) and
	      (981.7800,735.4600) .. (982.3100,735.1800) .. controls (982.4300,737.0200) and
	      (982.4000,738.5100) .. (981.5000,739.9200) .. controls (980.8000,741.0100) and
	      (980.0900,742.0300) .. (979.3600,743.1000) .. controls (979.0000,743.6400) and
	      (978.8100,744.3200) .. (978.5000,744.8700) .. controls (978.2200,745.3800) and
	      (978.0900,746.1300) .. (977.8000,746.6200) .. controls (977.6200,746.9100) and
	      (977.1100,746.9500) .. (976.9000,747.3300) .. controls (976.7400,747.6300) and
	      (976.8000,748.0800) .. (976.6700,748.3300) .. controls (976.3100,749.0200) and
	      (975.8000,749.2000) .. (975.3300,749.7800) .. controls (974.3500,751.0100) and
	      (974.8200,752.5900) .. (974.5900,754.0100) .. controls (974.0000,753.6200) and
	      (973.0300,752.0400) .. (972.2200,752.1500) .. controls (971.2000,752.2900) and
	      (972.0800,753.8800) .. (970.6800,753.6300) .. controls (970.6900,753.4400) and
	      (970.6200,753.2000) .. (970.6300,753.0200) .. controls (970.1500,752.7400) and
	      (969.7900,752.4200) .. (969.5500,752.0800) -- cycle(1003.4300,744.0400) ..
	      controls (1002.8700,745.8400) and (1003.5700,747.9000) .. (1002.9100,749.6500)
	      .. controls (1000.2600,750.4500) and (1002.1600,756.7800) ..
	      (1001.0500,758.7200) .. controls (1000.1000,756.8000) and (1000.5100,753.0100)
	      .. (1000.4200,750.6500) .. controls (1000.3600,749.1200) and
	      (999.9400,747.7600) .. (999.6700,746.7100) .. controls (999.4000,745.6100) and
	      (998.8100,744.7000) .. (999.1500,743.3100) .. controls (1001.9600,743.1100)
	      and (1002.9600,740.0300) .. (1005.2400,739.0800) -- (1005.2300,739.4100) ..
	      controls (1006.5600,741.3100) and (1003.9800,742.2900) .. (1003.4300,744.0400)
	      -- cycle(1032.8800,740.8300) .. controls (1032.3400,741.2100) and
	      (1031.2900,741.1600) .. (1030.5300,741.1700) .. controls (1029.0000,741.1800)
	      and (1027.6700,741.0600) .. (1027.1200,742.8800) .. controls
	      (1026.7800,744.0300) and (1027.6700,745.7400) .. (1028.6400,746.2000) ..
	      controls (1029.0500,747.5300) and (1027.6500,747.1000) .. (1026.9200,747.3400)
	      .. controls (1025.8600,747.6900) and (1025.6500,748.7300) ..
	      (1024.7000,749.2000) .. controls (1024.5700,750.6900) and (1024.9800,752.0400)
	      .. (1025.0300,753.4800) .. controls (1026.1500,753.5500) and
	      (1026.9200,754.2000) .. (1027.9500,754.5000) .. controls (1028.8700,754.7700)
	      and (1030.8300,754.3100) .. (1031.4900,755.0800) .. controls
	      (1033.5000,757.4600) and (1027.6100,757.5700) .. (1026.7100,757.5400) ..
	      controls (1024.6800,757.4600) and (1021.8900,757.1600) .. (1020.2300,755.8800)
	      .. controls (1018.6300,754.6600) and (1018.2300,751.8600) ..
	      (1019.3900,750.2600) .. controls (1019.7300,749.7900) and (1020.3200,749.4800)
	      .. (1020.6200,748.9900) .. controls (1021.8400,746.9500) and
	      (1021.0700,744.6500) .. (1021.6600,742.5400) .. controls (1022.2200,740.5400)
	      and (1023.6400,739.0800) .. (1025.6900,738.5200) .. controls
	      (1027.0300,738.1500) and (1028.0800,738.4700) .. (1029.4100,738.5500) ..
	      controls (1030.5200,738.6200) and (1032.4200,737.8800) .. (1033.0400,739.2900)
	      .. controls (1033.3900,740.1100) and (1033.2500,740.5700) ..
	      (1032.8800,740.8300) -- cycle(1045.6100,716.4800) .. controls
	      (1046.4200,715.1900) and (1045.2200,713.9600) .. (1045.0000,712.9000) ..
	      controls (1044.7100,711.4600) and (1043.8800,706.5400) .. (1046.9300,707.4300)
	      -- (1046.9200,707.7600) .. controls (1046.8700,709.6500) and
	      (1046.9600,711.5400) .. (1046.9300,713.4200) .. controls (1046.9100,714.4100)
	      and (1047.3400,716.6800) .. (1047.0800,717.5300) .. controls
	      (1046.1700,720.4200) and (1042.2900,718.0900) .. (1041.6300,719.2500) ..
	      controls (1042.7300,717.3400) and (1044.7100,717.9200) .. (1045.6100,716.4800)
	      -- cycle(1047.5600,722.1400) .. controls (1047.4900,725.3400) and
	      (1046.4100,727.1300) .. (1045.6600,729.9700) .. controls (1045.0600,732.2700)
	      and (1044.5000,736.9400) .. (1041.5800,734.9600) .. controls
	      (1041.5800,733.2300) and (1041.5800,724.9600) .. (1040.1700,724.5600) ..
	      controls (1040.0400,723.8200) and (1040.0600,722.7200) .. (1040.2400,722.0000)
	      .. controls (1042.3100,721.9300) and (1045.9700,722.7100) ..
	      (1047.5700,721.8000) -- (1047.5600,722.1400) -- cycle(1054.7600,728.4600) ..
	      controls (1054.1500,729.5700) and (1053.5300,729.2000) .. (1053.0400,730.5500)
	      .. controls (1052.7900,731.2400) and (1052.9900,732.4600) ..
	      (1052.9800,733.2000) .. controls (1052.6300,732.4000) and (1052.1600,731.8600)
	      .. (1051.6300,731.3200) .. controls (1051.2400,731.3100) and
	      (1050.8000,731.2300) .. (1050.4100,731.1800) .. controls (1050.2700,731.0100)
	      and (1049.7600,730.0800) .. (1049.6800,729.8800) .. controls
	      (1050.3300,728.6200) and (1051.5300,728.8800) .. (1052.2700,728.1100) ..
	      controls (1053.1200,727.2300) and (1053.6000,725.7200) .. (1054.2100,724.6500)
	      -- (1053.5600,723.9700) .. controls (1054.1100,723.7600) and
	      (1054.9700,723.7700) .. (1055.5300,723.7400) .. controls (1055.5700,725.4700)
	      and (1055.5800,726.9700) .. (1054.7600,728.4600) -- cycle(1049.1900,726.4200)
	      .. controls (1049.1300,724.9500) and (1049.5800,723.5400) ..
	      (1049.9000,722.2000) -- (1050.2200,722.5400) .. controls (1050.8900,722.5200)
	      and (1051.5500,722.7800) .. (1052.1700,722.9700) .. controls
	      (1052.1700,724.3300) and (1050.1500,725.6000) .. (1049.1900,726.4200) --
	      cycle(1056.1700,719.0200) .. controls (1055.0400,720.4100) and
	      (1048.5100,720.0900) .. (1047.8800,718.3700) .. controls (1047.4400,717.1600)
	      and (1048.8100,715.5600) .. (1049.0600,714.4000) .. controls
	      (1049.4100,712.7400) and (1049.1500,710.8600) .. (1049.2200,709.1600) --
	      (1049.5700,708.8300) .. controls (1051.4500,704.3400) and (1059.6100,714.7800)
	      .. (1056.1700,719.0200) -- cycle(1060.4600,738.9900) .. controls
	      (1058.9100,737.3500) and (1060.2600,733.7400) .. (1060.3000,731.7800) ..
	      controls (1060.3800,728.3400) and (1060.3800,724.6700) .. (1060.2600,721.1800)
	      .. controls (1056.7000,721.2900) and (1057.0200,720.2300) ..
	      (1057.4600,717.5200) .. controls (1057.9200,714.7400) and (1058.3300,712.0900)
	      .. (1059.2700,709.4100) -- (1059.0900,709.6600) .. controls
	      (1058.8500,710.0100) and (1058.6600,710.2800) .. (1058.5700,710.4000) --
	      (1059.0900,709.6600) .. controls (1059.9200,708.4400) and (1061.3400,706.2200)
	      .. (1061.1000,705.8100) .. controls (1063.5200,709.9900) and
	      (1064.0900,715.3500) .. (1064.7800,720.0700) .. controls (1065.0900,722.1500)
	      and (1064.8900,724.5300) .. (1065.7000,726.5000) .. controls
	      (1066.5400,728.5600) and (1068.7200,729.2900) .. (1069.6800,731.0900) ..
	      controls (1071.6400,734.8100) and (1063.1600,741.8400) .. (1060.4600,738.9900)
	      -- cycle;
	   \end{scope}%%% Outline of India Map
	\end{scope}%%% India Map
	%%%-------------------------------------------------
	
	%%% Capital Legend
	\path[draw=c231f20,fill=ceaeaea,rounded corners=0cm] (466,-270)
	  rectangle (936,-80);
	
	\path[draw=red,fill=red] (534,-228) circle
	  (7) node[right, xshift=30] () {National Capital};
	\path[draw=white,fill=white] (534,-228) circle
	  (4);
	\path[draw=red,fill=red] (534,-228) circle
	  (2);
	
	\path[draw=red,fill=red] (534,-178) circle
	  (5) node[right, xshift=30] () {State Capital};
	\path[draw=black,fill=black] (534,-178) circle
	  (2);
	
	\path[draw=red,fill=red] (534,-128) circle
	  (5) node[right, xshift=30] () {Union Territory Capital};
	\path[draw=white,fill=white] (534,-128) circle
	  (2);
	
	\begin{scope}[opacity=0.850,transparency group]%%% UT
	
	  \path (40,50) node () {\footnotesize Delhi};
	
	  \path (-280,540) node () {\footnotesize Dadra \& Nagar Haveli};
	  
	  \path (-260,505) node () {\footnotesize Daman \& Diu};
	
	  \path (300,1050) node () {\footnotesize Pondicherry (Karaikal)};
	
	  \path (430,730) node () {\footnotesize Pondicherry (Yanam)};
	
	  \path (-180,985) node () {\footnotesize Pondicherry (Mahe)};
	
	  \path (850,970) node () {\footnotesize Andaman \& Nicobar Islands};
	
	  \path (-300,1030) node () {\footnotesize Lakshadweep Islands};
	
	\end{scope} %%% UT
	
	\begin{scope}%%% Pointers to UT names
	  %%% Dadra \& Nagar Haveli
	  \path[draw=c231f20,line width=1.6pt] (-169,515) -- (-193,530);
	
	  %%% Daman \& Diu
	  \path[draw=c231f20,line width=1.6pt] (-199,501) -- (-172,497);
	
	  %%% Diu
	  \path[draw=c231f20,line width=1.6pt] (-276,475) -- (-296,486);
	
	  %%% Pondicherry (Mahe)
	  \path[draw=c231f20,line width=1.6pt] (-68,991) -- (-94,982);
	
	  %%% Pondicherry (Karaikal)
	  \path[draw=c231f20,line width=1.6pt] (173,1047) -- (194,1047);
	
	  %%% Pondicherry (Yanam)
	  \path[draw=c231f20,line width=1.6pt] (317,725) -- (337,725);
	
	\end{scope}%%% Pointers to UT names
	
	\begin{scope}[opacity=0.850,transparency group]%%% States Names
	
	  \path (100,-300) node () {\small {JAMMU \& KASHMIR}};
	
	  \path (100,-153) node () {\small HIMACHAL}
	  	 ++(10,30) node () {\small PRADESH};
	
	  \path (0,-70) node () {\small PUNJAB};
	
	  \path (250,0) node () {\small UTTARANCHAL};
	
	  \path (40,20) node () {\small HARYANA};
	
	  \path (-175,150) node () {\small RAJASTHAN};
	  
	  \path (220,120) node () {\small UTTAR PRADESH};
	  
	  \path (520,220) node ()	{\small BIHAR};
	
	  \path (-250,380) node () {\small GUJARAT};
	
	  \path (120,330) node () {\small MADHYA PRADESH};
	
	  \path (600,100) node () {\small SIKKIM};
	  	
	  \path (1000,185) node () {\small NAGALAND};
	
	  \path (900,60) node () {\small ARUNACHAL PRADESH};
	
	  \path (860,170) node () {\small ASSAM};
	  
	  \path (750,242) node () {\small MEGHALAYA};
	
	  \path (940,285) node () {\small MANIPUR};
	
	  \path (750,350) node () {\small TRIPURA};
	
	  \path (910,350) node () {\small MIZORAM};
	
	  \path (480,332) node () {\small JHARKHAND};
	
	  \path (600,350) node () {\small WEST}
	  	++(0,30) node () {\small BENGAL};
	
	  \path (-80,557) node ()  {\small MAHARASHTRA };
	  
	  \path (-164,793) node () 	{\small GOA};
	
	  \path (310,450) node () {\small CHHATTISGARH};
	
	  \path (450,515) node () {\small ORISSA};
	
	  \path (130,730) node() {\small ANDHRA}
			++(0,30) node () {\small PRADESH};
	
	  \path (-60,870) node () {\small KARNATAKA};
	
	  \path (100,1029) node () {\small TAMIL}
			++(0,30) node () {\small NADU};
	
	  \path (-50,1112) node () {\small KERALA};
	\end{scope}%%% States Names
	
	\begin{scope}%%% State Capitals
	
			\path[draw=red,fill=red] (-12,-254) circle
			  (5);
			\path[draw=black,fill=black] (-12,-254) circle
			  (2);
	    \path (3,-240) node () {\tiny Srinagar};
	
			\path[draw=red,fill=red] (79,-75) circle
			  (5);
			\path[draw=black,fill=black] (79,-75) circle
			  (2);
	    \path (82,-90) node () {\tiny Shimla};
	
			\path[draw=red,fill=red] (125,-33) circle
			  (5);
			\path[draw=black,fill=black] (125,-33) circle
			  (2);
	    \path (145,-20) node () {\tiny Dehradun};
	
			\path[draw=red,fill=red] (623,404) circle
			  (5);
			\path[draw=black,fill=black] (623,404) circle
			  (2);
	    \path (636,418) node () {\tiny Kolkata};
	
			\path[draw=red,fill=red] (296,475) circle
			  (5);
			\path[draw=black,fill=black] (296,475) circle
			  (2);
	    \path(270,490) node () {\tiny Raipur};
	
			\path[draw=red,fill=red] (856,322) circle
			  (5);
			\path[draw=black,fill=black] (856,322) circle
			  (2);
	    \path (869,332) node () {\tiny Aizwal};
	
			\path[draw=red,fill=red] (910,259) circle
			  (5);
			\path[draw=black,fill=black] (910,259) circle
			  (2);
	    \path (940,260) node () {\tiny Imphal};
	
			\path[draw=red,fill=red] (921,212) circle
			  (5);
			\path[draw=black,fill=black] (921,212) circle
			  (2);
	    \path (953,213) node () {\tiny Kohima};
	
			\path[draw=red,fill=red] (807,195) circle
			  (5);
			\path[draw=black,fill=black] (807,195) circle
			  (2);
	    \path (758,198) node ()	{\tiny Guwahati};
	
			\path[draw=red,fill=red] (809,223) circle
			  (5);
			\path[draw=black,fill=black] (809,223) circle
			  (2);
	    \path (845,220) node () {\tiny Shillong};
	
			\path[draw=red,fill=red] (790,324) circle
			  (5);
			\path[draw=black,fill=black] (790,324) circle
			  (2);
	    \path (745,325) node () {\tiny Agartala};
	
			\path[draw=red,fill=red] (887,136) circle
			  (5);
			\path[draw=black,fill=black] (887,136) circle
			  (2);
	    \path (845,138) node () {\tiny Itanagar};
	
			\path[draw=red,fill=red] (634,131) circle
			  (5);
			\path[draw=black,fill=black] (634,131) circle
			  (2);
	    \path(593,135) node () {\tiny Gangtok};
	
			\path[draw=red,fill=red] (72,355) circle
			  (5);
			\path[draw=black,fill=black] (72,355) circle
			  (2);
	    \path (50,375) node () {\tiny Bhopal};
	
			\path[draw=red,fill=red] (0,144) circle
			  (5);
			\path[draw=black,fill=black] (0,144) circle
			  (2);
	    \path (-48,148) node ()	{\tiny Jaipur};
	
			\path[draw=red,fill=red] (-166,343) circle
			  (5);
			\path[draw=black,fill=black] (-166,343) circle
			  (2);
	    \path (-225,335) node () {\tiny Gandhinagar};
	
			\path[draw=red,fill=red] (253,163) circle
			  (5);
			\path[draw=black,fill=black] (253,163) circle
			  (2);
	    \path (265,175) node () {\tiny Lucknow};
	
			\path[draw=red,fill=red] (457,239) circle
			  (5);
			\path[draw=black,fill=black] (457,239) circle
			  (2);
	    \path (435,250) node () {\tiny Patna};
	
			\path[draw=red,fill=red] (471,363) circle
			  (5);
			\path[draw=black,fill=black] (471,363) circle
			  (2);
	    \path (455,380) node () {\tiny Ranchi};
	
			\path[draw=red,fill=red] (-183,572) circle
			  (5);
			\path[draw=black,fill=black] (-183,572) circle
			  (2);
	    \path (-228,574) node () {\tiny Mumbai};
	
			\path[draw=red,fill=red] (-139,775) circle
			  (5);
			\path[draw=black,fill=black] (-139,775) circle
			  (2);
	    \path (-183,774) node () {\tiny Panaji};
	
			\path[draw=red,fill=red] (491,535) circle
			  (5);
			\path[draw=black,fill=black] (491,535) circle
			  (2);
	    \path (504,547) node () {\tiny Bhubaneshwar};
	
			\path[draw=red,fill=red] (107,681) circle
			  (5);
			\path[draw=black,fill=black] (107,681) circle
			  (2);
	    \path (120,695) node () {\tiny Hyderabad};
	
			\path[draw=red,fill=red] (196,923) circle
			  (5);
			\path[draw=black,fill=black] (196,923) circle
			  (2);
	    \path (210,936) node () {\tiny Chennai};
	
			\path[draw=red,fill=red] (49,929) circle
			  (5);
			\path[draw=black,fill=black] (49,929) circle
			  (2);
	    \path (0,930) node () {\tiny Bangalore};
	
			\path[draw=red,fill=red] (8,1180) circle
			  (5);
			\path[draw=black,fill=black] (8,1180) circle
			  (2);
	    \path (-85,1180) node () {\tiny Thiruvananthapuram};
	
	\end{scope}%%% State Capitals
	
	\begin{scope}%%% Union Territory and Capital
	
			\path[draw=red,fill=red] (75,58) circle
			  (7);
			\path[draw=white,fill=white] (75,58) circle
			  (4);
			\path[draw=red,fill=red] (75,58) circle
			  (2);
	    \path (128,60) node () {\tiny NEW DELHI};
	
			\path[draw=red,fill=red] (62,-64) circle
			  (5);
			\path[draw=white,fill=white] (62,-64) circle
			  (2);
	    \path (25,-50) node () {\tiny Chandigarh};
	
			\path[draw=red,fill=red] (-160,511) circle
			  (5);
			\path[draw=white,fill=white] (-160,511) circle
			  (2);
	    \path (-138,524) node () {\tiny Silvasaa};
	
			\path[draw=red,fill=red] (170,992) circle
			  (5);
			\path[draw=white,fill=white] (170,992) circle
			  (2);
	    \path (260,990) node () {\tiny Pondicherry (Puducherry)};
	
			\path[draw=red,fill=red] (895,1002) circle
			  (5);
			\path[draw=white,fill=white] (895,1002) circle
			  (2);
	    \path (906,1015) node () {\tiny Port Blair};
	
			\path[draw=red,fill=red] (-273,471) circle
			  (5);
			\path[draw=white,fill=white] (-273,471) circle
			  (2);
	    \path (-315,484) node () {\tiny Diu};
	
			\path[draw=red,fill=red] (-234,1045) circle
			  (5);
			\path[draw=white,fill=white] (-234,1045) circle
			  (2);
	    \path (-260,1055) node () {\tiny Kavarati};
	\end{scope}%%% Union Territory and Capital
	
	\end{tikzpicture}
	
	\end{figure}
	
	\end{document}
snippet electrical induction-machine
	% Dynamic inverse-$\varGamma$-equivalent circuit for an induction machine
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Dynamic inverse-gamma-equivalent circuit for an induction machine
	:Tags: Electrical engineering;circuitikz
	:Author: Erno Pentzin
	:Slug: induction-machine
	\end{comment} 
	\usepackage[europeanresistors,americaninductors]{circuitikz}
	\begin{document}
	
	\begin{circuitikz}[american voltages]
	\draw
	  % rotor circuit
	  (0,0) to [short, *-] (6,0)
	  to [V, l_=$\mathrm{j}{\omega}_m \underline{\psi}^s_R$] (6,2) % rotor emf
	  to [R, l_=$R_R$] (6,4) % rotor resistance
	  to [short, i_=$\underline{i}^s_R$] (5,4) % rotor current
	
	  % stator circuit
	  (0,0) to [open, v^>=$\underline{u}^s_s$] (0,4) % stator voltage
	  to [short, *- ,i=$\underline{i}^s_s$] (1,4) % stator current
	  to [R, l=$R_s$] (3,4) % stator resistance
	  to [L, l=$L_{\sigma}$] (5,4) % leakage inductance
	  to [short, i_=$\underline{i}^s_M$] (5,3) % magnetizing current
	  to [L, l_=$L_M$] (5,0); % magnetizing inductance
	\end{circuitikz}
	
	\end{document}
snippet block inertial-navigation-system
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows}
	\usepackage{amsmath,bm,times}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Inertial navigation system
	:Tags: Block diagrams, Layers
	
	A block diagram of an inertial measurement unit (IMU) combined with navigation
	equations to form an inertial navigation system (INS). A handful of useful tricks have been 
	used to align blocks and arrows nicely. Hard coding coordinates has been avoided as
	much as possible.
	
	\end{comment}
	
	\newcommand{\mx}[1]{\mathbf{\bm{#1}}} % Matrix command
	\newcommand{\vc}[1]{\mathbf{\bm{#1}}} % Vector command
	
	\begin{document}
	\pagestyle{empty}
	
	% We need layers to draw the block diagram
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	% Define a few styles and constants
	\tikzstyle{sensor}=[draw, fill=blue!20, text width=5em, 
	    text centered, minimum height=2.5em]
	\tikzstyle{ann} = [above, text width=5em]
	\tikzstyle{naveqs} = [sensor, text width=6em, fill=red!20, 
	    minimum height=12em, rounded corners]
	\def\blockdist{2.3}
	\def\edgedist{2.5}
	
	\begin{tikzpicture}
	    \node (naveq) [naveqs] {Navigation equations};
	    % Note the use of \path instead of \node at ... below. 
	    \path (naveq.140)+(-\blockdist,0) node (gyros) [sensor] {Gyros};
	    \path (naveq.-150)+(-\blockdist,0) node (accel) [sensor] {Accelero-meters};
	    
	    % Unfortunately we cant use the convenient \path (fromnode) -- (tonode) 
	    % syntax here. This is because TikZ draws the path from the node centers
	    % and clip the path at the node boundaries. We want horizontal lines, but
	    % the sensor and naveq blocks aren't aligned horizontally. Instead we use
	    % the line intersection syntax |- to calculate the correct coordinate
	    \path [draw, ->] (gyros) -- node [above] {$\vc{\omega}_{ib}^b$} 
	        (naveq.west |- gyros) ;
	    % We could simply have written (gyros) .. (naveq.140). However, it's
	    % best to avoid hard coding coordinates
	    \path [draw, ->] (accel) -- node [above] {$\vc{f}^b$} 
	        (naveq.west |- accel);
	    \node (IMU) [below of=accel] {IMU};
	    \path (naveq.south west)+(-0.6,-0.4) node (INS) {INS};
	    \draw [->] (naveq.50) -- node [ann] {Velocity } + (\edgedist,0) 
	        node[right] {$\vc{v}^l$};
	    \draw [->] (naveq.20) -- node [ann] {Attitude} + (\edgedist,0) 
	        node[right] { $\mx{R}_l^b$};
	    \draw [->] (naveq.-25) -- node [ann] {Horisontal position} + (\edgedist,0)
	        node [right] {$\mx{R}_e^l$};
	    \draw [->] (naveq.-50) -- node [ann] {Depth} + (\edgedist,0) 
	        node[right] {$z$};
	    
	    % Now it's time to draw the colored IMU and INS rectangles.
	    % To draw them behind the blocks we use pgf layers. This way we  
	    % can use the above block coordinates to place the backgrounds   
	    \begin{pgfonlayer}{background}
	        % Compute a few helper coordinates
	        \path (gyros.west |- naveq.north)+(-0.5,0.3) node (a) {};
	        \path (INS.south -| naveq.east)+(+0.3,-0.2) node (b) {};
	        \path[fill=yellow!20,rounded corners, draw=black!50, dashed]
	            (a) rectangle (b);
	        \path (gyros.north west)+(-0.2,0.2) node (a) {};
	        \path (IMU.south -| gyros.east)+(+0.2,-0.2) node (b) {};
	        \path[fill=blue!10,rounded corners, draw=black!50, dashed]
	            (a) rectangle (b);
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\end{document}
snippet electrical insulated-gate-bipolar-transistor
	% Insulated gate bipolar transistor (IGBT).
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Insulated gate bipolar transistor equivalent circuit
	:Tags: Electrical engineering;cirkuitikz
	:Author: Erno Pentzin
	:Slug: insulated-gate-bipolar-transistor
	
	Equivalent circuit of the non-punch through (NPT) type insulated
	gate bipolar transistor (IGBT). Adapted from the schematic in the
	book by Jouko Niiranen (2007).
	
	Symbol with voltage and current of the NPT-type IGBT.
	\end{comment}
	\usepackage[europeanresistors,americaninductors]{circuitikz}
	\usepackage{amsmath}
	\begin{document}
	
	\begin{circuitikz}
	% Equivalent circuit:
	\begin{scope}[scale=0.8]
	\draw (0,2) to[Tpnp,n=pnp] (0,0)
	      (pnp.E) node[below=2mm] {C} % Collector (of the (whole) IGBT)
	      (pnp.B) node[left=7mm] {pnp}
	
	      (0,7) to[R,l_=$R_B$] (0,5) -- (pnp.C) % body region spreading resistance
	
	      (0,7) -- (5,7)
	
	      to[Tnigfete,n=mosfet] (5,5) % MOSFET
	      to[Tnjfet,n=jfet,mirror] (5,3) % JFET
	      to[R,l=$R_{\text{mod}}$] (5,1) % drift region resistance (modulated)
	      -- (pnp.B)
	
	      (mosfet.G) node[anchor=west] {G} % Gate
	      (mosfet.B) node[anchor=east] {MOSFET}
	      (jfet) node[anchor=west] {JFET}
	
	      (2,7) -- (2,6) to[Tnpn,n=npn,mirror] (2,4) -- (2,1)
	      (npn.B) -- (0,5)
	      (npn.B) node[right=7mm] {npn}
	
	      (3,7.5) to[short,n=IGBTE] (3,7) % Emitter
	      (IGBTE) node[above=2mm] {E};
	\end{scope}
	
	% Symbol with voltage and current:
	\draw (8,3) node[nigbt] (igbt) {}
	      (igbt.C) node[anchor=east] {C} % Collector
	      (igbt.B) node[anchor=east] {G} % Gate
	      (igbt.E) node[anchor=east] {E} % Emitter
	
	      (igbt.C) to [short, i<_=$I_C$] +(0,+5mm) %current
	      (igbt.C) to [open, v^>=$U_{CE}$] (igbt.E) -- +(0,-2mm); %voltage
	\end{circuitikz}
	\end{document}
snippet scopes interaction-diagram
	% Interaction diagram
	% Author: Pascal Seppecher
	% Based on diagram from Marco Miani.
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Interaction diagram
	:Tags: Scopes,3D, Diagrams,Transparency,Economics,Computer Science
	:Author: Pascal Seppecher
	:Slug: interaction-diagram
	
	Real and monetary flows in an agent-based 
	macroeconomic model with endogenous money.
	\end{comment}
	\usetikzlibrary{positioning}
	\newcommand{\MonetaryLevel}{Monetary level}
	\newcommand{\RealLevel}{Real level}
	\newcommand{\Firms}{Firms}
	\newcommand{\Households}{Households}
	\newcommand{\Banks}{Banks}
	\newcommand{\Commodities}{Commodities}
	\newcommand{\LaborPower}{Labor power}
	\newcommand{\Wages}{Wages}
	\newcommand{\Consumption}{Consumption}
	\newcommand{\Credits}{Credits}
	\newcommand{\Withdrawals}{Withdrawals}
	\newcommand{\Deposits}{Deposits}
	\newcommand{\Repayments}{Repayments}
	
	\newcommand{\yslant}{0.5}
	\newcommand{\xslant}{-0.6}
	\begin{document}
	\begin{tikzpicture}[scale=1.1,every node/.style={minimum size=1cm},on grid]
	
		% Real level
		\begin{scope}[
			yshift=-120,
			every node/.append style={yslant=\yslant,xslant=\xslant},
			yslant=\yslant,xslant=\xslant
		] 
			% The frame:
			\draw[black, dashed, thin] (0,0) rectangle (7,7); 
			% Agents:
			\draw[fill=red]  
				(5,2) circle (.1) % Firms
				(2,2) circle (.1); % Households
			% Flows:
			\draw[-latex,thin] 
				(2,1.8) to[out=-90,in=-90] (5,1.8); % Labour Powers
			\draw[-latex,thin]
				(5,2.2) to[out=90,in=90] (2,2.2); % Wages
			 % Labels:
			\fill[black]
				(0.5,6.5) node[right, scale=.7] {\RealLevel}	
				(5.1,1.9) node[right,scale=.7]{\textbf{\Firms}}
				(1.9,1.9) node[left,scale=.7]{\textbf{\Households}}
				(2.2,3) node [scale=.6, rotate=40] {\Commodities} 
				(4.8,1) node [scale=.6, rotate=40] {\LaborPower};	
		\end{scope}
		
		% 2 vertical lines for linking agents on the 2 levels
		\draw[ultra thin](3.8,4) to (3.8,-0.32);
		\draw[ultra thin](.8,2.4) to (.8,-1.8);
		
		% Monetary level
		\begin{scope}[
			yshift=0,
			every node/.append style={yslant=\yslant,xslant=\xslant},
			yslant=\yslant,xslant=\xslant
		]
			% The frame:
			\fill[white,fill opacity=.75] (0,0) rectangle (7,7); % Opacity
			\draw[black, dashed, thin] (0,0) rectangle (7,7); 
			 % Agents:
			\draw [fill=red]
				(5,2) circle (.1) % Firms
				(2,2) circle (.1) % Households
				(3.5,5) circle (.1); % Banks
			 % Monetary Flows:
			\draw[-latex, thin]
				(3.65,5.1) to[out=30,in=30] (5.15,2.1); % Credits
			\draw[-latex, thin]
				(5,1.8) to[out=-90,in=-90] (2,1.8); % Wages
			\draw[-latex, thin]
				(1.9,2.1) to[out=150,in=150] (3.4,5.1);  % Deposits
			\draw[-latex, thin]
				(3.6,4.9) to[out=-30,in=-30] (2.1,1.9); % Withdrawals
			\draw[-latex, thin]
				(2,2.2) to[out=90,in=90] (5,2.2); % Consumption
			\draw[-latex, thin]
				(4.85,1.9) to[out=210,in=210] (3.35,4.9) ; % Repayments
			 % Labels:
			\fill[black]
				(0.5,6.5) node[right, scale=.7] {\MonetaryLevel}
				(5.1,1.9) node[right,scale=.7]{\textbf {\Firms}}
				(1.9,1.9) node[left,scale=.7]{\textbf {\Households}}
				(3.5,5.1) node[above,scale=.7]{\textbf {\Banks}}
				(5.5,2.8) node [above, scale=.6, rotate=-100] {\Credits}
				(2.6,1.3) node [above, scale=.6, rotate=-10] {\Withdrawals}
				(2.9,4.25) node [above, scale=.6, rotate=50] {\Repayments}
				(2.6,5) node [above, scale=.6, rotate=25] {\Deposits}
				(4.7,2.9) node [above, scale=.6, rotate=-60] {\Consumption}
				(2.3,1.3) node [below, scale=.6, rotate=-40] {\Wages}; 
		\end{scope} 
	\end{tikzpicture}
	\end{document}
snippet diagrams interaction-nets
	% Interaction nets
	% Author: Marc de Falco
	\documentclass{minimal}
	\usepackage[fancy,color=orange]{tikz-inet}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Interaction nets
	:Tags: Diagrams, Macro packages
	:Grid: 2x2
	
	These examples are from the documentation of the `tikz-inet package`_ available
	on CTAN. The package helps you to draw interaction nets (a graphical 
	programming paradigm close to functional programming and linear logic).
	
	.. _tikz-inet package: http://www.ctan.org/tex-archive/help/Catalogue/entries/tikz-inet.html
	
	:Author: Marc de Falco
	:Source: The `tikz-inet documentation`_
	
	.. _tikz-inet documentation: http://www.ctan.org/tex-archive/graphics/pgf/contrib/tikz-inet/tikz-inet-doc.pdf 
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	\newcount\angle
	    \foreach \x in {1,...,12} {
	        \pgfmathsetcount{\angle}{360*\x/12+90}
	        \inetcell[\inetcellstyle=green!\x0,
	            at=(\the\angle-90:1.5cm)]
	            (c\x){A}[\angle]
	    }
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    \inetcell{A}
	    \inetprombox{(A)}(pa)
	    \inetcell[at=(bpa.east),right=5pt]{B}
	    \inetwire(B.middle pax)(A.middle pax)
	    \inetprombox{(bpa)(pa)(B)}(p)
	    \inetwire(A.pal)(pa.middle pax)
	    \inetwirefree(pa.pal)
	    \inetwirefree(p.pal)
	    \inetwire(B.pal)(p.middle pax)
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\matrix{
	    \inetcell{A} &
	    \inetcell[fancycellstyle=green]{B} \\
	    \inetcell[bottom color=green]{C} &
	    \inetcell[draw=black]{D} \\
	    \inetcell[very thick]{E} &
	    \inetnofancy \inetcell{F} \inetfancy \\
	};
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\newcount\angle
	    \newcount\order
	    \order=10
	    \newcount\arity
	    \pgfmathsetcount{\arity}{\order-1}
	    \foreach \x in {1,...,\order} {
	        \foreach \y/\symbol in {0/!,1/?} {
	            \pgfmathsetcount{\angle}
	                {(180*(2*\x+\y))/\order+90}
	            \inetcell[at=(\the\angle-90:\the\order*1.8ex),
	                arity=\order-1](c\y\x){\symbol}[\angle]
	            \inetwirefree(c\y\x.pal)
	        }
	    }
	
	    \newcount\nextcell
	    \newcount\nextport
	    \newcount\depth
	    \foreach \x in {1,...,\order} {
	        \foreach \y in {1,...,\arity} {
	            \pgfmathsetcount{\nextcell}
	                {mod(\x+\y-1,\order)+1}
	            \pgfmathsetcount{\nextport}
	                {\arity-\y+1}
	            \pgfmathsetcount{\depth}{(\x-1)*100/\order}
	            \inetwire[\inetwirestyle=\inetcolor!\the\depth!black]%
	                (c0\x.pax \y)(c1\the\nextcell.pax \the\nextport)
	        }
	    }
	\end{tikzpicture}
	\end{document}
snippet intersect intersecting-arcs
	% Author: Andrew Mertz
	\documentclass{article}
	
	\usepackage{tikz,tkz-2d}
	
	\usepackage[graphics,tightpage,active]{preview}
	\setlength{\PreviewBorder}{3pt}
	\PreviewEnvironment{tikzpicture}
	
	
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title:  Intersecting arcs
	
	An example that uses `tkz-2d`_.
	
	.. _tkz-2d: http://www.texample.net/tikz/examples/tkz-2d/
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	  % Initialize tkz-2d and set the range of x and y values
	  \tkzInit[xmin=-4.1,xmax=5.2,ymin=-4.1,ymax=8]
	  \tkzClip
	
	  % Define two points using TikZ. Note TikZ coordinates can be given
	  % in polar form.
	  \coordinate (A) at (100:8);
	  \coordinate (B) at (50:8);
	
	  % Draw a circle. Note star form of \tkzPoint defines points but does
	  % not draw them.
	  \tkzPoint*(0,0){C} % center of circle
	  \tkzPoint*(0,4){R} % radius of circle
	  \tkzCircle(C,R)
	
	  % Define the points that are tangent to the circle where the tangent
	  % line passes through either A or B
	  \tkzTgtFromP(C,C,R)(A){D}{E}
	  \tkzTgtFromP(C,C,R)(B){F}{G}
	
	  % Compute the distance between A and D (the result is stored in
	  % \tkzmathLen)
	  \tkzMathLength(A,D)
	
	  % Fill and highlight the sector centered at A
	  \tkzFillSector*[color=blue!80!black,opacity=0.5](A,\tkzmathLen pt)(D,E)
	  \tkzArc*(A,A,D)(D,E)
	
	  % Fill and highlight the sector centered at B
	  \tkzMathLength(B,F)
	  \tkzFillSector*[color=red!80!black,opacity=0.5](B,\tkzmathLen pt)(F,G)
	  \tkzArc*(B,B,F)(F,G)
	
	  % Find the intersection of the two arcs  
	  \tkzInterCC(A,A,D)(B,B,F){H}{I}
	
	  % Draw the intersection
	  \tkzDrawPoint[pos=below left](I)
	\end{tikzpicture}
	
	\end{document}
	
	% LocalWords:  TikZ tkz xmin xmax ymin ymax LocalWords
snippet axes intersecting-lines
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Intersecting lines
	:Tags: Axes, Basics, Coordinate systems
	
	An example of using the intersection coordinate systems. Both the ``intersection`` and 
	``perpendicular`` coordinate system are used. The latter is a special case of the former,
	but has the shorter and more convenient ``-|`` and ``|-`` syntax. 
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}[scale=1.5]
	    % Draw axes
	    \draw [<->,thick] (0,2) node (yaxis) [above] {$y$}
	        |- (3,0) node (xaxis) [right] {$x$};
	    % Draw two intersecting lines
	    \draw (0,0) coordinate (a_1) -- (2,1.8) coordinate (a_2);
	    \draw (0,1.5) coordinate (b_1) -- (2.5,0) coordinate (b_2);
	    % Calculate the intersection of the lines a_1 -- a_2 and b_1 -- b_2
	    % and store the coordinate in c.
	    \coordinate (c) at (intersection of a_1--a_2 and b_1--b_2);
	    % Draw lines indicating intersection with y and x axis. Here we use
	    % the perpendicular coordinate system
	    \draw[dashed] (yaxis |- c) node[left] {$y'$}
	        -| (xaxis -| c) node[below] {$x'$};
	    % Draw a dot to indicate intersection point
	    \fill[red] (c) circle (2pt);
	\end{tikzpicture}
	\end{document}
snippet clipping intersecting-rings
	% Intersecting rings
	% Author: Dominique Wrtz
	% Source: http://www.nabble.com/Intersection-area-to15711124.html
	
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Intersecting rings
	:Tags: Clipping
	
	This example shows how to fill the intersection area of two rings. 
	The operation requires you to apply the ``even odd rule`` to the clipping path. Unfortunately
	you can not set some options directly when specifying the clipping path. You can easily solve
	this problem by putting the path inside a scope. (See Chapter 14.7 in the manual for an
	explanation)
	
	:Author: Dominique Wrtz
	:Source: `pgf-users mailing list`_
	
	.. _pgf-users mailing list: http://www.nabble.com/Intersection-area-to15711124.html
	
	\end{comment}
	
	\begin{document}
	 
	% Define the rings. Store them in macros to make things
	% more flexible. 
	\def\ringa{(-1,0) circle (2) (-1,0) circle (3)}
	\def\ringb{(1,0) circle (2) (1,0) circle (3)}
	
	\begin{tikzpicture}
	    % First we fill the intersecting area
	    % The \clip command does not allow options, therefore 
	    % we have to use a scope to set the even odd rule. 
	    \begin{scope}[even odd rule]
	        % Define a clipping path. All paths outside ringa will
	        % be cut because the even odd rule is set. 
	        \clip \ringa;
	        % Fill ringb. Since the even odd rule is set, only the
	        % ring will be filled, not the hole in the middle.  
	        \fill[fill=orange] \ringb;
	    \end{scope}
	    % Then we draw the rings
	    \draw \ringa;
	    \draw \ringb;
	\end{tikzpicture}
	
	\end{document}
snippet coordinates intersection-of
	% Intersection of
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Intersection of
	:Tags: Coordinate systems
	
	
	This example shows how the ``intersection of`` mechanism of Tikz work. Notice how a horizontal 
	line is made from point B to allow the calculation to be done.
	
	Caption: In a fixed exchange regime it might not be possible to reach internal balance 
	(full employment and price stability) and external balance (some given level of net export) 
	using only fiscal policy. At point B only point C and D can be reached via fiscal policy. 
	Only by devaluing the country is able to reach the optimum level at point A.
	
	:Author: Rasmus Pank Roulund
	
	\end{comment}
	\usetikzlibrary{arrows}
	\begin{document}
	\begin{tikzpicture}[
	    scale=5,
	    axis/.style={very thick, ->, >=stealth'},
	    important line/.style={thick},
	    dashed line/.style={dashed, thin},
	    pile/.style={thick, ->, >=stealth', shorten <=2pt, shorten
	    >=2pt},
	    every node/.style={color=black}
	    ]
	    % axis
	    \draw[axis] (-0.1,0)  -- (1.1,0) node(xline)[right]
	        {$G\uparrow/T\downarrow$};
	    \draw[axis] (0,-0.1) -- (0,1.1) node(yline)[above] {$E$};
	    % Lines
	    \draw[important line] (.15,.15) coordinate (A) -- (.85,.85)
	        coordinate (B) node[right, text width=5em] {$Y^O$};
	    \draw[important line] (.15,.85) coordinate (C) -- (.85,.15)
	        coordinate (D) node[right, text width=5em] {$\mathit{NX}=x$};
	    % Intersection of lines
	    \fill[red] (intersection cs:
	       first line={(A) -- (B)},
	       second line={(C) -- (D)}) coordinate (E) circle (.4pt)
	       node[above,] {$A$};
	    % The E point is placed more or less randomly
	    \fill[red]  (E) +(-.075cm,-.2cm) coordinate (out) circle (.4pt)
	        node[below left] {$B$};
	    % Line connecting out and ext balances
	    \draw [pile] (out) -- (intersection of A--B and out--[shift={(0:1pt)}]out)
	        coordinate (extbal);
	    \fill[red] (extbal) circle (.4pt) node[above] {$C$};
	    % line connecting  out and int balances
	    \draw [pile] (out) -- (intersection of C--D and out--[shift={(0:1pt)}]out)
	        coordinate (intbal);
	    \fill[red] (intbal) circle (.4pt) node[above] {$D$};
	    % line between out og all balanced out :)
	    \draw[pile] (out) -- (E);
	\end{tikzpicture}
	\end{document}
	%%% Local Variables:
	%%% mode: latex
	%%% TeX-master: t
	%%% End:
snippet spy islamic-art
	% Author: Amir Etemadi
	% Drawing: Modernized Islamic Art
	% October 15, 2011
	\documentclass{minimal}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Modernized Islamic Art
	:Tags: Spy Library; Decorative Drawings
	:Author: Amir Etemadi
	:Slug: islamic-art
	\end{comment}
	\usepackage{calc}
	\usetikzlibrary{spy}
	%The base shape for this drawing is constructed by line segments
	% of two lengths: \longd & \shortd
	\newlength\longd
	\newlength\shortd
	\setlength{\longd}{0.5cm}
	\setlength{\shortd}{0.2cm}
	
	% The base shape is created by defining a new command.
	%Polar coordination is used to find the important vertices.
	% Some of the corners are rounded and others are sharp.
	% The base shape is shaded using \shade draw command.
	% The new command has three parameters which define
	%the inner color, the outer color, and the border color.
	\newcommand{\myshape}[3]{
	   \shadedraw[inner color=#1,outer color=#2, draw=#3 ]
	   (O)[rounded corners=4pt] --
	   ++(90:\longd)[sharp corners] --
	   ++(210:\shortd)[rounded corners=4pt] --
	   ++(150:\shortd) --
	   ++(30:\longd)--
	   ++(330:\longd)[sharp corners] --
	   ++(210:\shortd)[rounded corners=4pt] --
	   ++(150:\shortd)--
	   ++(-90:\longd) --
	   ++(90-120:\longd) [sharp corners]--
	   ++(210-120:\shortd)[rounded corners=4pt] --
	   ++(150-120:\shortd)--
	   ++(30-120:\longd) --
	   ++(330-120:\longd)[sharp corners] --
	   ++(210-120:\shortd)[rounded corners=4pt]--
	   ++(150-120:\shortd)--
	   ++(-90-120:\longd) --
	   ++(90-240:\longd) [sharp corners]--
	   ++(210-240:\shortd)[rounded corners=4pt] --
	   ++(150-240:\shortd) --
	   ++(30-240:\longd) --
	   ++(330-240:\longd)[sharp corners] --
	   ++(210-240:\shortd)[rounded corners=4pt] --
	   ++(150-240:\shortd)-- cycle;
	}
	\begin{document}
	\begin{tikzpicture}[scale=1.6, spy using outlines={circle,
	  magnification=4, size=3cm, connect spies}]
	  \begin{scope} %Scope environment is used to limit the clip command
	   \clip [rounded corners] (.5,.5) rectangle (7.5,7.5);
	  %The base shape is repeatedly drawn using loop comands.
	  \foreach \y in {0,.9,..., 9} % {0, 4.5*\shortd, ..., n*4.5*\shortd}
	  {
	     \foreach \x in {0,1.55884,..., 7.79423}
	          %{0, sqrt(3)*4.5*\shortd,..., upper limit}
	     {
	         \coordinate (O) at (\x,\y);
	         \myshape{white}{black}{black};
	     }
	  }
	  \foreach \y in {-0.45,.45,..., 8.6}
	          %{0-4.5*\shortd/2, 4.5*\shortd/2,..., n*4.5*\shortd}
	  {
	     \foreach \x in {0.779422,2.338267,..., 10}
	          %{0.5*sqrt(3)*4.5*\shortd, 1.5*sqrt(3)*4.5*\shortd/2,...,upper lim}
	     {
	         \coordinate (O) at (\x,\y);
	         \myshape{white}{black}{black};
	     }
	  }
	  \end{scope}
	  \draw [rounded corners, very thick] (.5,.5) rectangle (7.5,7.5);
	  \spy [cyan] on (5.4,2.3) in node [left] at (5.4,-1.15);
	\end{tikzpicture}
	\end{document}
snippet diagrams is-lm-diagram
	% IS-LM diagram
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: IS-LM diagram
	:Tags: Diagrams, Plots, Coord. calculations
	
	This figure shows how an economy utilizing fixed exchange rates will
	react according to the `IS-LM curve`_ (sometimes also known as `Mundell Flemming`_)
	
	.. _IS-LM curve: http://en.wikipedia.org/wiki/IS/LM_model
	.. _Mundell Flemming: http://en.wikipedia.org/wiki/Mundell-Fleming_model
	
	:Author: Rasmus Pank Roulund
	
	\end{comment}
	
	\usetikzlibrary{arrows,calc}
	\usepackage{relsize}
	\newcommand\LM{\ensuremath{\mathit{LM}}}
	\newcommand\IS{\ensuremath{\mathit{IS}}}
	\begin{document}
	
	\begin{tikzpicture}[
	        scale=2,
	        IS/.style={blue, thick},
	        LM/.style={red, thick},
	        axis/.style={very thick, ->, >=stealth', line join=miter},
	        important line/.style={thick}, dashed line/.style={dashed, thin},
	        every node/.style={color=black},
	        dot/.style={circle,fill=black,minimum size=4pt,inner sep=0pt,
	            outer sep=-1pt},
	    ]
	    % axis
	    \draw[axis,<->] (2.5,0) node(xline)[right] {$Y$} -|
	                    (0,2.5) node(yline)[above] {$i$};
	    % IS-LM diagram
	    \draw[LM] (0.2,0.3) coordinate (LM_1) parabola (1.8,1.8)
	        coordinate (LM_2) node[above] {\LM};
	    \draw[IS] (0.2,1.8) coordinate (IS_1) parabola[bend at end]
	         (1.8,.3) coordinate (IS_2) node[right] {\IS};
	    %Intersection is calculated "manually" since Tikz does not offer
	    %intersection calculation for parabolas
	    \node[dot,label=above:$A$] at (1,.68) (int1) {};
	    %shifted IS-LM diagram
	    \draw[xshift=.7cm, LM, red!52] (0.2,0.2) parabola (1.8,1.7)
	        node[above] {\LM'};
	    \draw[xshift=.4cm, yshift=.3cm, IS, blue!60] (0.2,1.8)
	        parabola[bend at end] (1.8,.3)
	        node[right] {\IS'};
	    %Intersection of shifted IS-LM
	    \path[xshift=.36cm, yshift=.35cm] (.98,.7)
	        node[dot,label=above:{$B$}] (int2) {};
	    \path[xshift=.805cm] (1,.68) node[dot,label=above:$C$] (int3) {};
	    %arrows between intersections
	    \draw[->, very thick, black, >=stealth']
	        ($(int1)+1/2*(-.80,1)$) -- ($(int2)+1/2*(-.8,1)$)
	        node[sloped, above, midway] {$\mathsmaller{\Delta G > 0}$};
	    \draw[->, very thick, black, >=stealth']
	        ($(int2)+2*(.14,.2)$) -- ($(int2)!.2cm!270:(int2)+(.9,0)$)
	        node[sloped,above, midway] {$\mathsmaller{\Delta M>0}$};
	        
	    \begin{scope}[xshift=4cm]
	        %E-diagram
	        \draw[axis,<->] (0,2.5) node(eyline)[above] {$i$} |-
	                        (2.5,0) node(exline)[right] {$E$};
	
	        \draw[important line, green, xshift=.5cm]
	            (.2,.2) coordinate (es) -- (1.5,1.5) coordinate (ee)
	            node [above right] {Interest rate parity};
	    \end{scope}
	    %Lines connecting IS LM coordinates and E coordinates
	    \draw[dashed] 
	        let
	            % Store the intersection point in \p1 for later retrieval. 
	            % A convenient feature of the let operation is that we can
	            % access the x and y component of the coordinate directly 
	            % using the \x1 and \y1 syntax. 
	            \p1=(intersection of int2--[xshift=1]int2 and es--ee)
	        in
	            (0,\y1) node[left]{$i'$} -|  (\x1,0)
	            node[pos=0.5,dot,label=above:$B'$] {} node[below] {$E'$};
	
	    \draw[dashed line] let
	        \p1=(intersection of int3--[xshift=1]int3 and es--ee)
	            in
	        (0,\y1) node[left]{$i\phantom{'}$} -| (\x1,0)
	        node[dot,label=above:$C'$,pos=0.5] {} node[below] {$E$};
	
	\end{tikzpicture}
	\end{document}
	%%% Local Variables:
	%%% mode: latex
	%%% TeX-master: t
	%%% End:
snippet plots j-curve
	% J-Curve
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usetikzlibrary{calc,arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: J-Curve
	:Tags: Plots, Coord. calculations
	
	An illustration of a countrys trade balance following a devaluation. The shape of the curve
	is known as a J-curve_.
	
	.. _j-curve: http://en.wikipedia.org/wiki/J_curve
	
	:Author: Rasmus Pank Roulund
	
	\end{comment}
	
	
	\begin{document}
	
	\begin{tikzpicture}[
	        %We set the scale and define some styles
	        scale=1.5,
	        axis/.style={very thick, ->, >=stealth'},
	        important line/.style={thick},
	        dashed line/.style={dashed, thick},
	        every node/.style={color=black,}
	     ]
	    % Important coordinates are defined
	    \coordinate (beg_1) at (0,-.5);
	    \coordinate (beg_2) at ($(beg_1)+(1,0)$);
	    \coordinate (dev_1) at ($(beg_2)+(0,-.75)$);
	    \coordinate (xint) at (3,0);
	    \coordinate (end) at (5,1.25);
	
	    %We make some nice shading to annotate different parts of the curve
	    % Everything for x<0
	    \begin{scope}
	        \shade[top color=white, bottom color=red]
	            ($(beg_2)+(0,.5)$) parabola bend (dev_1) (xint)
	            (0,0) rectangle (beg_2);
	    \end{scope}
	    %  Everything for x>0
	    \begin{scope}
	        \shade[bottom color=white, top color=green]
	            (xint) parabola bend (end) ($(end)+(0,-1.25)$);
	    \end{scope}
	    % axis
	    \draw[axis] (0,0)  -- (5.2,0) node(xline)[right] {time};
	    \draw[axis] (0,-1.7) -- (0,1.7) node(yline)[above] {$\mathit{NX}$};
	    % J curve is drawn
	    \draw[important line]
	        (beg_1) -- (beg_2)
	        (dev_1) parabola (xint)
	        (xint) parabola[bend at end] (end);
	    % coordinates are added
	    \fill[black] (beg_2) circle (1pt) node[right] {$A$};
	    \fill[black] (dev_1) circle (1pt) node[left] {$B$};
	    \fill[black] (xint) circle (1pt) node[above left] {$C$};
	    % The time of the devaluation is added
	    \draw[dashed line] (beg_2) -- (dev_1);
	    \draw[thick] (1,-1.5pt) -- (1,1.5pt) node[above] {$t$};
	\end{tikzpicture}
	
	\end{document}
snippet kalman kalman-filter
	% Kalman filter system model
	% by Burkart Lingner
	% An example using TikZ/PGF 2.00
	%
	% Features: Decorations, Fit, Layers, Matrices, Styles
	% Tags: Block diagrams, Diagrams
	% Technical area: Electrical engineering
	
	\documentclass[a4paper,10pt]{article}
	
	\usepackage[english]{babel}
	\usepackage[T1]{fontenc}
	\usepackage[ansinew]{inputenc}
	
	\usepackage{lmodern}	% font definition
	\usepackage{amsmath}	% math fonts
	\usepackage{amsthm}
	\usepackage{amsfonts}
	
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Kalman Filter System Model
	:Slug: kalman-filter
	:Author: Burkart Lingner
	
	This is the system model of the (linear) Kalman filter. 
	
	\end{comment}
	
	
	\usetikzlibrary{decorations.pathmorphing} % noisy shapes
	\usetikzlibrary{fit}					% fitting shapes to coordinates
	\usetikzlibrary{backgrounds}	% drawing the background after the foreground
	
	\begin{document}
	
	\begin{figure}[htbp]
	\centering
	% The state vector is represented by a blue circle.
	% "minimum size" makes sure all circles have the same size
	% independently of their contents.
	\tikzstyle{state}=[circle,
	                                    thick,
	                                    minimum size=1.2cm,
	                                    draw=blue!80,
	                                    fill=blue!20]
	
	% The measurement vector is represented by an orange circle.
	\tikzstyle{measurement}=[circle,
	                                                thick,
	                                                minimum size=1.2cm,
	                                                draw=orange!80,
	                                                fill=orange!25]
	
	% The control input vector is represented by a purple circle.
	\tikzstyle{input}=[circle,
	                                    thick,
	                                    minimum size=1.2cm,
	                                    draw=purple!80,
	                                    fill=purple!20]
	
	% The input, state transition, and measurement matrices
	% are represented by gray squares.
	% They have a smaller minimal size for aesthetic reasons.
	\tikzstyle{matrx}=[rectangle,
	                                    thick,
	                                    minimum size=1cm,
	                                    draw=gray!80,
	                                    fill=gray!20]
	
	% The system and measurement noise are represented by yellow
	% circles with a "noisy" uneven circumference.
	% This requires the TikZ library "decorations.pathmorphing".
	\tikzstyle{noise}=[circle,
	                                    thick,
	                                    minimum size=1.2cm,
	                                    draw=yellow!85!black,
	                                    fill=yellow!40,
	                                    decorate,
	                                    decoration={random steps,
	                                                            segment length=2pt,
	                                                            amplitude=2pt}]
	
	% Everything is drawn on underlying gray rectangles with
	% rounded corners.
	\tikzstyle{background}=[rectangle,
	                                                fill=gray!10,
	                                                inner sep=0.2cm,
	                                                rounded corners=5mm]
	
	\begin{tikzpicture}[>=latex,text height=1.5ex,text depth=0.25ex]
	    % "text height" and "text depth" are required to vertically
	    % align the labels with and without indices.
	  
	  % The various elements are conveniently placed using a matrix:
	  \matrix[row sep=0.5cm,column sep=0.5cm] {
	    % First line: Control input
	    &
	        \node (u_k-1) [input]{$\mathbf{u}_{k-1}$}; &
	        &
	        \node (u_k)   [input]{$\mathbf{u}_k$};     &
	        &
	        \node (u_k+1) [input]{$\mathbf{u}_{k+1}$}; &
	        \\
	        % Second line: System noise & input matrix
	        \node (w_k-1) [noise] {$\mathbf{w}_{k-1}$}; &
	        \node (B_k-1) [matrx] {$\mathbf{B}$};       &
	        \node (w_k)   [noise] {$\mathbf{w}_k$};     &
	        \node (B_k)   [matrx] {$\mathbf{B}$};       &
	        \node (w_k+1) [noise] {$\mathbf{w}_{k+1}$}; &
	        \node (B_k+1) [matrx] {$\mathbf{B}$};       &
	        \\
	        % Third line: State & state transition matrix
	        \node (A_k-2)         {$\cdots$};           &
	        \node (x_k-1) [state] {$\mathbf{x}_{k-1}$}; &
	        \node (A_k-1) [matrx] {$\mathbf{A}$};       &
	        \node (x_k)   [state] {$\mathbf{x}_k$};     &
	        \node (A_k)   [matrx] {$\mathbf{A}$};       &
	        \node (x_k+1) [state] {$\mathbf{x}_{k+1}$}; &
	        \node (A_k+1)         {$\cdots$};           \\
	        % Fourth line: Measurement noise & measurement matrix
	        \node (v_k-1) [noise] {$\mathbf{v}_{k-1}$}; &
	        \node (H_k-1) [matrx] {$\mathbf{H}$};       &
	        \node (v_k)   [noise] {$\mathbf{v}_k$};     &
	        \node (H_k)   [matrx] {$\mathbf{H}$};       &
	        \node (v_k+1) [noise] {$\mathbf{v}_{k+1}$}; &
	        \node (H_k+1) [matrx] {$\mathbf{H}$};       &
	        \\
	        % Fifth line: Measurement
	        &
	        \node (z_k-1) [measurement] {$\mathbf{z}_{k-1}$}; &
	        &
	        \node (z_k)   [measurement] {$\mathbf{z}_k$};     &
	        &
	        \node (z_k+1) [measurement] {$\mathbf{z}_{k+1}$}; &
	        \\
	    };
	    
	    % The diagram elements are now connected through arrows:
	    \path[->]
	        (A_k-2) edge[thick] (x_k-1)	% The main path between the
	        (x_k-1) edge[thick] (A_k-1)	% states via the state
	        (A_k-1) edge[thick] (x_k)		% transition matrices is
	        (x_k)   edge[thick] (A_k)		% accentuated.
	        (A_k)   edge[thick] (x_k+1)	% x -> A -> x -> A -> ...
	        (x_k+1) edge[thick] (A_k+1)
	        
	        (x_k-1) edge (H_k-1)				% Output path x -> H -> z
	        (H_k-1) edge (z_k-1)
	        (x_k)   edge (H_k)
	        (H_k)   edge (z_k)
	        (x_k+1) edge (H_k+1)
	        (H_k+1) edge (z_k+1)
	        
	        (v_k-1) edge (z_k-1)				% Output noise v -> z
	        (v_k)   edge (z_k)
	        (v_k+1) edge (z_k+1)
	        
	        (w_k-1) edge (x_k-1)				% System noise w -> x
	        (w_k)   edge (x_k)
	        (w_k+1) edge (x_k+1)
	        
	        (u_k-1) edge (B_k-1)				% Input path u -> B -> x
	        (B_k-1) edge (x_k-1)
	        (u_k)   edge (B_k)
	        (B_k)   edge (x_k)
	        (u_k+1) edge (B_k+1)
	        (B_k+1) edge (x_k+1)
	        ;
	    
	    % Now that the diagram has been drawn, background rectangles
	    % can be fitted to its elements. This requires the TikZ
	    % libraries "fit" and "background".
	    % Control input and measurement are labeled. These labels have
	    % not been translated to English as "Measurement" instead of
	    % "Messung" would not look good due to it being too long a word.
	    \begin{pgfonlayer}{background}
	        \node [background,
	                    fit=(u_k-1) (u_k+1),
	                    label=left:Entrance:] {};
	        \node [background,
	                    fit=(w_k-1) (v_k-1) (A_k+1)] {};
	        \node [background,
	                    fit=(z_k-1) (z_k+1),
	                    label=left:Measure:] {};
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\caption{Kalman filter system model}
	\end{figure}
	
	This is the system model of the (linear) Kalman filter. At each time
	step the state vector $\mathbf{x}_k$ is propagated to the new state
	estimation $\mathbf{x}_{k+1}$ by multiplication with the constant state
	transition matrix $\mathbf{A}$. The state vector $\mathbf{x}_{k+1}$ is
	additionally influenced by the control input vector $\mathbf{u}_{k+1}$
	multiplied by the input matrix $\mathbf{B}$, and the system noise vector
	$\mathbf{w}_{k+1}$. The system state cannot be measured directly. The
	measurement vector $\mathbf{z}_k$ consists of the information contained
	within the state vector $\mathbf{x}_k$ multiplied by the measurement
	matrix $\mathbf{H}$, and the additional measurement noise $\mathbf{v}_k$.
	
	\end{document}
snippet foreach kascade-map
	% Map of a HiSPARC detector inside the KASCADE experiment
	% Author: David Fokkema
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Map of a HiSPARC detector inside the KASCADE experiment
	:Tags: Foreach;Styles;Spy library;Physics;Astronomy
	:Author: David Fokkema
	:Slug: kascade-map
	
	The KASCADE experiment is a 200 × 200 m array detecting cosmic rays. It
	consists of 252 detector stations spaced 13 m apart and has taken data
	from 1996 to 2009. It continued to host a few guest experiments,
	including LOPES, TAUWER and HiSPARC, until early 2013. This map shows the
	layout of KASCADE and the location of the HiSPARC station. This figure is
	a minor revision of the one included in
	[my PhD thesis](http://dx.doi.org/10.3990/1.9789036534383).
	\end{comment}
	\usetikzlibrary{spy,arrows}
	\usepackage[detect-all]{siunitx}
	
	\newcommand{\hisparcbox}[1]{%
	    \path[hisparc,#1]
	        (-.4, .7) .. controls (0, .75) ..  (.4, .7) --
	        (.35, -1.7) ..  controls(0, -1.72) ..  (-.35, -1.7) -- cycle;
	}
	
	\begin{document}
	\begin{center}
	\begin{tikzpicture}
	    [ x=.5mm, y=.5mm,
	      font={\sffamily},
	      station/.style={fill=gray},
	      hut/.style={fill=lightgray},
	      cluster/.style={fill=yellow!30, rounded corners=2pt},
	      road/.style={fill=blue!10},
	      calorimeter/.style={fill=green!30},
	      tracker/.style={fill=red!30},
	      hisparc/.style={fill=red, rounded corners=.15pt},
	      hisparcgps/.style={fill=red},
	      axis/.style={gray,very thick,->,>=stealth'},
	      ruler/.style={gray,|<->|,>=stealth'},
	      spy using outlines={red, circle, magnification=4, size=25 * 4,
	                          connect spies}
	    ]
	    % Clusters
	    \foreach \i in {-1.5, -0.5, ..., 1.5} {
	        \foreach \j in {-1.5, -0.5, ..., 1.5} {
	            \path[cluster, shift={(\i * 52, \j * 52)}]
	                (-22, -22) rectangle (22, 22);
	        }
	    }
	
	    % Roads
	    \foreach \i in {-1.5, -0.5, ..., 1.5} {
	        \path[road, shift={(0, \i * 52 + 2)}]
	            (-105, -1.5) rectangle (105, 1.5);
	    }
	
	    % Detector array
	    \foreach \i in {-7.5, -6.5, ..., 7.5} {
	        \foreach \j in {-7.5, -6.5, ..., 7.5} {
	            \path[station, shift={(\i * 13, \j * 13)}]
	                (-1.2, -1.2) rectangle (1.2, 1.2);
	        }
	    }
	    % Two detectors are slightly displaced
	    \path[station, shift={(-6.5, 23.5)}] (-1.2, -1.2) rectangle (1.2, 1.2);
	    \path[station, shift={(6.5, 23.5)}] (-1.2, -1.2) rectangle (1.2, 1.2);
	
	    % Electronic huts
	    \foreach \i in {-1.5, -0.5, ..., 1.5} {
	        \foreach \j in {-1.5, -0.5, ..., 1.5} {
	            \path[hut, shift={(\i * 52, \j * 52 - 1.5)}]
	                (-2.5, -1.2) rectangle (2.5, 1.2);
	        }
	    }
	
	    % Central detector
	    \fill[white] (-13, -13) rectangle (13, 21);
	    \path[calorimeter, shift={(0, 5)}] (-10, -8) rectangle (10, 8);
	
	    % Muon tracker
	    \path[tracker, shift={(0, 4)}] (-2.7, 32.5) rectangle (2.7, 70.5);
	
	    % HiSPARC station
	    \hisparcbox{shift={(65.0, 15.05)}, rotate=180}
	    \hisparcbox{shift={(65.0, 20.82)}, rotate=180}
	    \hisparcbox{shift={(70.0, 23.71)}, rotate=-90}
	    \hisparcbox{shift={(60.0, 23.71)}, rotate=90}
	    \path[hisparcgps, shift={(65.0, 23.71)}] (0, 0) circle (.3);
	
	    % Draw rulers
	    \draw[ruler] (-97.5, -105) -- (97.5, -105)
	        node[midway,below] {\SI{195}{\meter}};
	    \draw[ruler] (84.5, 105) -- (97.5, 105)
	        node[midway,above] {\SI{13}{\meter}};
	    \draw[ruler] (-105, -97.5) -- (-105, 97.5)
	        node[midway,above,sloped] {\SI{195}{\meter}};
	    \draw[ruler] (105, 84.5) -- (105, 97.5)
	        node[midway,below,sloped] {\SI{13}{\meter}};
	
	    % Spy
	    \spy on (65.0, 20.82) in node at (30, -50);
	
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet shapes kb-exchange
	% Knowledge Base Exchange framework
	% Author: Elena Botoeva
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Knowledge Base Exchange framework
	:Tags: Shapes;Shadows;Calculations,Computer Science
	:Author: Elena Botoeva
	:Slug: kb-exchange
	
	Extension of the Data Exchange framework
	\end{comment}
	\usetikzlibrary{shapes,shadows,calc}
	\usepgflibrary{arrows}
	
	\newcommand{\A}{\mathcal{A}}
	\newcommand{\K}{\mathcal{K}}
	\newcommand{\M}{\mathcal{M}}
	\newcommand{\T}{\mathcal{T}}
	
	
	\tikzset{
	  sshadow/.style={opacity=.25, shadow xshift=0.05, shadow yshift=-0.06},
	}
	
	%-----#1 size, #2 angle, #3 aspect, #4 label next to the diamond
	%-----#5 name of the node, #6 coordinate, #7 label
	\def\schemel[#1,#2,#3,#4,#5,#6]#7{ %
	  \node[draw, diamond, shape aspect=#3, rotate=#2, minimum size=#1, %
	  bottom color=green!55, top color=green!25, color=green!65!black, %
	  drop shadow={sshadow,color=green!60!black}, #4] (#5) at #6
	  {\textcolor{green!40}{bla}}; %
	  \node at #6 {#7};%
	}
	
	\def\schemer[#1,#2,#3,#4,#5,#6]#7{ %
	  \node[draw, diamond, shape aspect=#3, rotate=#2, minimum size=#1, %
	  bottom color=green!65, top color=green!30, color=green!60!black, %
	  drop shadow={sshadow,color=green!65!black}, #4] (#5) at #6
	  {\textcolor{green!53}{bla}}; %
	  \node at #6 {#7}; %
	}
	
	%-----TBoxes
	%-----#1 height, #2 width, #3 anchor for the label, #4 name of the node, #5
	%-----coordinate, #6 label
	\def\tboxl[#1,#2,#3,#4,#5]#6{%
	  \node[draw, drop shadow={opacity=.35}, minimum height=#1, minimum width=#2, %
	  inner color=blue!45, outer color=blue!55, color=blue!40!black] (#4) at #5 {}; %
	  \node[anchor=#3,inner sep=2pt] at (#4.#3) {#6};%
	}
	
	\def\tboxr[#1,#2,#3,#4,#5]#6{%
	  \node[draw, drop shadow={opacity=.35}, minimum height=#1, minimum width=#2, %
	  inner color=blue!35, outer color=blue!45, color=blue!50!black] (#4) at #5 {}; %
	  \node[anchor=#3,inner sep=2pt] at (#4.#3) {#6}; %
	}
	
	%-----#1 name of the node, #2 coordinate, #3 label
	\def\entity[#1,#2]#3;{
	  \node[draw,drop shadow={opacity=.4,shadow xshift=0.04, shadow
	    yshift=-0.04},color=blue!30!black,fill=white,rounded corners=3] (#1) at #2 {#3};
	}
	
	%-----#1 from node, #2 to node, #3 specification of a node (label), #4
	%-----dashed, or other parameters for draw
	\def\isaedge[#1,#2,#3,#4];{ 
	  \draw[-triangle 60,color=black!20!black,#4,fill=white] (#1) -- #3
	  (#2);  
	}
	
	%-----ABoxes
	%-----#1 height, #2 width, #3 aspect, #4 name of the node, #5
	%-----coordinate, #6 label
	\def\aboxl[#1,#2,#3,#4,#5]#6{%
	  \node[draw, cylinder, alias=cyl, shape border rotate=90, aspect=#3, %
	  minimum height=#1, minimum width=#2, outer sep=-0.5\pgflinewidth, %
	  color=orange!40!black, left color=orange!70, right color=orange!80, middle
	  color=white] (#4) at #5 {};%
	  \node at #5 {#6};%
	  \fill [orange!30] let \p1 = ($(cyl.before top)!0.5!(cyl.after top)$), \p2 =
	  (cyl.top), \p3 = (cyl.before top), \n1={veclen(\x3-\x1,\y3-\y1)},
	  \n2={veclen(\x2-\x1,\y2-\y1)} in (\p1) ellipse (\n1 and \n2); }
	    
	\def\aboxr[#1,#2,#3,#4,#5]#6{%
	  \node[draw, cylinder, alias=cyl, shape border rotate=90, aspect=#3, %
	  minimum height=#1, minimum width=#2, outer sep=-0.5\pgflinewidth, %
	  color=orange!50!black, left color=orange!50, right color=orange!60, middle
	  color=white] (#4) at #5 {};%
	  \node at #5 {#6};%
	  \fill [orange!20] let \p1 = ($(cyl.before top)!0.5!(cyl.after top)$), \p2 =
	  (cyl.top), \p3 = (cyl.before top), \n1={veclen(\x3-\x1,\y3-\y1)},
	  \n2={veclen(\x2-\x1,\y2-\y1)} in (\p1) ellipse (\n1 and \n2); }
	
	%-----#1 height, #2 width, #3 name of the node, #4
	%-----coordinate, #5 label
	\def\kbbox[#1,#2,#3,#4,#5]#6{
	        \draw[dashed] node[draw,color=gray!50,minimum
	        height=#1,minimum width=#2] (#4) at #5 {}; 
	        \node[anchor=#3,inner sep=2pt] at (#4.#3)  {#6};
	}
	
	%-----#1 from node, #2 to node, #3 specification of a node (label), #4
	%-----dashed, or other parameters for draw
	\def\soledge[#1,#2,#3,#4];{
	        \draw[dashed,-latex,#4] (#1) -- #3 (#2);
	}
	
	\begin{document}
	  \begin{tikzpicture}
	    \small
	    
	    % schemas
	    \schemel[30,23,4,label=below:{source signature},p1,(0,5)] {$\Sigma_1$};
	    \schemer[25,23,3,label=below:{target signature},p2,(6,5)] {$\Sigma_2$};
	    \draw[-latex] (p1) .. node[above] {$\M$} controls (2.5,6) and (3.5,6) ..  (p2); 
	
	    % source KB
	    \kbbox[144,94,south,k1,(0,1.25)] {source KB $\K_1$};
	    \tboxl[60,80,north east,t1,(0,2.5)] {$\T_1$};
	    \entity[A1,(-0.9,3.1)] {$A_1$};
	    \entity[B1,(-0.4,1.9)] {$B_1$};
	    \entity[C1,(0.9,1.9)] {$C_1$};
	    \entity[D1,(0.4,3.1)] {$D_1$};
	    \isaedge[B1,A1,,];
	    \isaedge[C1,B1,,];
	    \isaedge[C1,D1,,];
	    \aboxl[45,40,1.6,a1,(0,0)] {$\A_1$};
	
	    % target KB
	    \kbbox[144,84,south,k2,(6,1.25)] {target KB $\K_2$};
	    \tboxr[60,70,north east,t2,(6,2.5)] {$\T_2$};
	    \entity[A2,(6,3.1)] {$A_2$};
	    \entity[B2,(5.3,1.9)] {$B_2$};
	    \entity[C2,(6.7,1.9)] {$C_2$};
	    \isaedge[B2,A2,,];
	    \isaedge[C2,B2,,];
	    \aboxr[40,50,1.4,a2,(6,0)] {$\A_2$};
	
	    \soledge[k1,k2,,dashed];
	  \end{tikzpicture}
	\end{document}
snippet matrices labeled-chain
	% TikZ chains with labeled edges
	% Author: Stefan Kottwitz , http://texblog.net
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Chains with labeled edges
	:Tags: Matrices, Chains,Styles
	:Author: Stefan Kottwitz
	:Slug: labeled-chain
	http://texblog.net/latex-archive/maths/pgf-tikz-commutative-diagram/
	
	The chains library is very useful for writing exact sequences. Yet there's no feature
	for labeling the edges of a chain. Besides arrows, we might need to write symbols for
	maps over, under, or just next to it.
	
	This example shows a way by modifying the join method of the chains library.
	Its original syntax is join=with<node> by <options>, here the syntax is changed
	to join={node[options] {label}}.
	
	Furthermore, we define a style for the labels, so that all are in math mode
	and typeset in scriptstyle.
	\end{comment}
	\usetikzlibrary{arrows,chains,matrix,positioning,scopes}
	%
	\makeatletter
	\tikzset{join/.code=\tikzset{after node path={%
	\ifx\tikzchainprevious\pgfutil@empty\else(\tikzchainprevious)%
	edge[every join]#1(\tikzchaincurrent)\fi}}}
	\makeatother
	%
	\tikzset{>=stealth',every on chain/.append style={join},
	         every join/.style={->}}
	\tikzstyle{labeled}=[execute at begin node=$\scriptstyle,
	   execute at end node=$]
	%
	\begin{document}
	\begin{tikzpicture}
	  \matrix (m) [matrix of math nodes, row sep=3em, column sep=3em]
	    { 0 & A  & B  & C  & 0 \\
	      0 & A' & B' & C' & 0 \\ };
	  { [start chain] \chainin (m-1-1);
	    \chainin (m-1-2);
	    { [start branch=A] \chainin (m-2-2)
	        [join={node[right,labeled] {\eta_1}}];}
	    \chainin (m-1-3) [join={node[above,labeled] {\varphi}}];
	    { [start branch=B] \chainin (m-2-3)
	        [join={node[right,labeled] {\eta_2}}];}
	    \chainin (m-1-4) [join={node[above,labeled] {\psi}}];
	    { [start branch=C] \chainin (m-2-4)
	        [join={node[right,labeled] {\eta_3}}];}
	    \chainin (m-1-5); }
	  { [start chain] \chainin (m-2-1);
	    \chainin (m-2-2);
	    \chainin (m-2-3) [join={node[above,labeled] {\varphi'}}];
	    \chainin (m-2-4) [join={node[above,labeled] {\psi'}}];
	    \chainin (m-2-5); }
	\end{tikzpicture}
	\end{document}
snippet shadows labs-schema
	% Schema of Labs on a class
	% Author: Cristo J. Alanis
	\documentclass[11pt]{article}
	\usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Schema of Labs on a class
	:Tags: Shadows;Styles;Backgrounds;Diagrams
	:Author: Cristo J. Alanis
	:Slug: labs-schema
	
	Listado de pr\'acticas
	\end{comment}
	\usetikzlibrary{shadows,arrows}
	% Define the layers to draw the diagram
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	 
	% Define block styles  
	\tikzstyle{materia}=[draw, fill=blue!20, text width=6.0em, text centered,
	  minimum height=1.5em,drop shadow]
	\tikzstyle{practica} = [materia, text width=8em, minimum width=10em,
	  minimum height=3em, rounded corners, drop shadow]
	\tikzstyle{texto} = [above, text width=6em, text centered]
	\tikzstyle{linepart} = [draw, thick, color=black!50, -latex', dashed]
	\tikzstyle{line} = [draw, thick, color=black!50, -latex']
	\tikzstyle{ur}=[draw, text centered, minimum height=0.01em]
	 
	% Define distances for bordering
	\newcommand{\blockdist}{1.3}
	\newcommand{\edgedist}{1.5}
	
	\newcommand{\practica}[2]{node (p#1) [practica]
	  {Pr\'actica #1\\{\scriptsize\textit{#2}}}}
	
	% Draw background
	\newcommand{\background}[5]{%
	  \begin{pgfonlayer}{background}
	    % Left-top corner of the background rectangle
	    \path (#1.west |- #2.north)+(-0.5,0.5) node (a1) {};
	    % Right-bottom corner of the background rectanle
	    \path (#3.east |- #4.south)+(+0.5,-0.25) node (a2) {};
	    % Draw the background
	    \path[fill=yellow!20,rounded corners, draw=black!50, dashed]
	      (a1) rectangle (a2);
	    \path (a1.east |- a1.south)+(0.8,-0.3) node (u1)[texto]
	      {\scriptsize\textit{Unidad #5}};
	  \end{pgfonlayer}}
	
	\newcommand{\transreceptor}[3]{%
	  \path [linepart] (#1.east) -- node [above]
	    {\scriptsize Transreceptor #2} (#3);}
	
	\begin{document}
	\begin{tikzpicture}[scale=0.7,transform shape]
	 
	  % Draw diagram elements
	  \path \practica {1}{Diferencias en componentes electr\'onicos};
	  \path (p1.south)+(0.0,-1.0) \practica{2}{Serie de Fourier};
	  \path (p2.south)+(-2.5,-1.5) \practica{3}{Antena para HF};
	  \path (p3.south)+(0.0,-1.0) \practica{5}{Medidor de SWR};
	  \path (p3.south)+(5.0,-1.0) \practica{4}{Amplificador para HF};
	
	  \path (p4.south)+(-2.5,-1.5) \practica{6}{Oscilador de RF};
	  \path (p6.south)+(-2.5,-1.25) \practica{7}{Modulador AM};
	  \path (p6.south)+(2.5,-1.25) \practica{8}{Demodulador AM};
	  \path (p8.east)+(+5.5,0) node (ur1)[ur] {};
	
	  \path (p7.south)+(0.0,-1.5) \practica{9}{Codificador digital};
	  \path (p8.south)+(0.0,-1.5) \practica{10}{Decodificador digital};
	  \path (p10.east)+(+5.5,0) node (ur2)[ur] {};
	  \path (p9.south)+(0.0,-1.5) \practica{11}{Codificador FDM};
	  \path (p10.south)+(0.0,-1.5) \practica{12}{Decodificador FDM};
	  \path (p12.east)+(+5.5,0) node (ur3)[ur] {};
	  \path (p11.south)+(0.0,-1.5) \practica{13}{Codificador SSTV};
	  \path (p12.south)+(0.0,-1.5) \practica{14}{Decodificador SSTV};
	  \path (p14.east)+(+5.5,0) node (ur4)[ur] {};
	  \path (p14.south)+(-2.5,-1.5) \practica{15}{Conmutaci\'on telef\'onica};
	  \path (p15.south)+(0.0,-1.0) \practica{16}{Telfon\'ia celular an\'aloga};
	  \path (p16.south)+(0.0,-1.5) \practica{17}{Receptor de  telemetr\'ia}; 
	  \path (p17.south)+(0.0,-1.5) \practica{18}{Gu\'ias de ondas};
	     
	  % Draw arrows between elements
	  \path [line] (p1.south) -- node [above] {} (p2);
	
	  \path [line] (p2.south) -- +(0.0,-0.5) -- +(-2.5,-0.5)
	    -- node [above, midway] {} (p3);
	  \path [line] (p3.south) -- node [above] {} (p5) ;
	     
	  \path [line] (p2.south) -- +(0.0,-0.5) -- +(+2.5,-0.5)
	    -- node [above, midway] {} (p4);
	  \path [linepart] (p3.east) -- +(+0.5,-0.0) -- +(+0.5,-1.75)
	    -- node [left, midway] {} (p4);
	  \path [linepart] (p3.east) -- +(+0.5,-0.0) -- +(+0.5,-1.75)
	    -- node [left, midway] {} (p4);
	
	  \path [line] (p4.south) -- +(0.0,-0.5) -- +(-2.5,-0.5)
	    -- node [above, midway] {} (p6);
	  \path [line] (p5.south) -- +(0.0,-0.5) -- +(+2.5,-0.5)
	    -- node [above, midway] {} (p6);     
	  \path [linepart] (p2.east) -- +(2.75,0.0) -- +(2.75,-5.85)
	    -- node [right] {} (p6);
	  \path [line] (p6.south) -- +(0.0,-0.25) -- +(-2.5,-0.25)
	    -- node [above, midway] {} (p7);
	  \path [line] (p6.south) -- +(0.0,-0.25) -- +(+2.5,-0.25)
	    -- node [above, midway] {} (p8);
	  \path [linepart] (p7.east) -- node [left] {} (p8);
	  \transreceptor{p8}{AM banda 40m}{ur1}
	
	  \path [line] (p7.south) -- node [above] {} (p9) ;
	  \path [line] (p8.south) -- node [above] {} (p10) ;
	  \path [linepart] (p9.east) -- node [left] {} (p10);
	  \transreceptor{p10}{CW}{ur2}
	  \path [line] (p9.south) -- node [above] {} (p11) ;
	  \path [line] (p10.south) -- node [above] {} (p12) ;
	  \path [linepart] (p11.east) -- node [left] {} (p12);
	  \transreceptor{p12}{FDMDV}{ur3}
	
	  \path [line] (p11.south) -- node [above] {} (p13) ;
	  \path [line] (p12.south) -- node [above] {} (p14) ;
	  \path [linepart] (p13.east) -- node [left] {} (p14);   
	  \transreceptor{p14}{SSTV}{ur4}
	
	  \path [line] (p14.south) -- +(0.0,-0.5) -- +(-2.5,-0.5)
	    -- node [above, midway] {} (p15);
	  \path [line] (p13.south) -- +(0.0,-0.5) -- +(+2.5,-0.5)
	    -- node [above, midway] {} (p15);
	  \path [line] (p15.south) -- node [above] {} (p16) ;     
	  \path [line] (p16.south) -- node [above] {} (p17) ;
	  \path [line] (p17.south) -- node [above] {} (p18) ;
	   
	  \background{p3}{p1}{p4}{p2}{I}
	  \background{p3}{p3}{p4}{p5}{II}
	  \background{p3}{p6}{p4}{p7}{III}
	  \background{p3}{p9}{p4}{p10}{IV}
	  \background{p3}{p11}{p4}{p12}{V}
	  \background{p3}{p13}{p4}{p14}{VI}
	  \background{p3}{p15}{p4}{p16}{VII}
	  \background{p3}{p17}{p4}{p17}{VIII}
	  \background{p3}{p18}{p4}{p18}{IX}
	\end{tikzpicture}
	\end{document}
snippet foreach lambert-beer-law
	% Lambert-Beer law parameters drawing
	% Author: Michele Muccioli
	% Compile with LuaLaTeX
	\documentclass{standalone}
	\usepackage{tikz}
	\usetikzlibrary{calc,fadings,decorations.markings}
	\usepackage{amsmath}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Lambert-Beer law parameters drawing
	:Tags: Foreach; Physics; Optics
	:Author: Michele Muccioli
	:Slug: lambert-beer-law
	The Lambert-Beer law states there is a logarithmic dependence
	between the ratio between incident light intensity $I_0$ and
	the intensity of scattered light directing forward $I$ through
	a media and the product of the absorption coefficient $\gamma$
	of the substance and the distance the light travels through
	the material $L$.
	\[
	\dfrac{I}{I_0}=\exp(-\gamma L)
	\]
	In the case of the figure above, the light is a red laser beam
	through a cloud formed by sand grains with a certain granulometry
	schematized with spherical particles.
	
	To deep the argument ($\gamma$ computation), see ``Light scattering
	by small particles'' by Hulst van de H.C., Dover Publications.
	\end{comment}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% FADING LIGHT DECORATION %
	%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\makeatletter
	\pgfkeys{/pgf/decoration/.cd,
	         start color/.store in = \startcolor,
	         end color/.store in   = \endcolor
	        }
	
	\pgfdeclaredecoration{color change}{initial}{
	% Initial state
	\state{initial}[%
	    width                     = 0pt,
	    next state                = line,
	    persistent precomputation = {\pgfmathdivide{50}{\pgfdecoratedpathlength}%
	                                 \let\increment=\pgfmathresult%
	                                 \def\x{0}}]%
	{}%
	
	% Line state
	\state{line}[%
	    width                      = .5pt,
	    persistent postcomputation = {\pgfmathadd@{\x}{\increment}%
	                                  \let\x=\pgfmathresult}]%
	{%
	  \pgfsetlinewidth{\pgflinewidth}%
	  \pgfsetarrows{-}%
	  \pgfpathmoveto{\pgfpointorigin}%
	  \pgfpathlineto{\pgfqpoint{.75pt}{0pt}}%
	  \pgfsetstrokecolor{\endcolor!\x!\startcolor}%
	  \pgfusepath{stroke}%
	}%
	
	% Final state
	\state{final}{%
	  \pgfsetlinewidth{\pgflinewidth}%
	  \pgfpathmoveto{\pgfpointorigin}%
	  \color{\endcolor!\x!\startcolor}%
	  \pgfusepath{stroke}% 
	}
	}
	\makeatother
	
	%%%%%%%%%%%%
	% COMMANDS %
	%%%%%%%%%%%%
	\def\pr#1{\directlua{tex.print(#1)}}
	
	\def\rnd{.%
	\pdfuniformdeviate10%
	\pdfuniformdeviate10%
	\pdfuniformdeviate10%
	}
	
	\begin{document}
	%%%%%%%%%%%%%%
	% PARAMETERS %
	%%%%%%%%%%%%%%
	\definecolor{sand}{RGB}{193,154,107} % Particles color
	\def\cols{20}                        % Number of columns
	\def\rows{40}                        % Number of rows
	\def\SquareUnit{.35}                 % Lengths of unit square edges (cm)
	\pgfmathsetmacro\RmaxParticle{.1}    % Maximum particle radius
	\def\BeforeLight{5}                  % Light path before particle cloud
	\begin{tikzpicture}[x          = \SquareUnit cm,
	                    y          = \SquareUnit cm,
	                    line width = 2pt
	                   ]
	%%%%%%%%%%%%%%
	% LIGHT PATH %
	%%%%%%%%%%%%%%
	%-> Before particles cloud
	\draw[red,
	      decoration = {markings,
	                    mark = at position 0.5 with {\arrow[]{latex}}},
	      postaction = {decorate}] (-\BeforeLight,{\rows*\SquareUnit/2})--++
	                               (\BeforeLight,0)node[midway,
	                                                    above,
	                                                    black]{$I_0$};
	
	%-> Trespassing particles cloud
	\draw[decoration = {color change,
	                    start color = red,
	                    end color   = red!20!white},
	                    decorate] (0,{\rows*\SquareUnit/2})--++
	                              (\cols*\SquareUnit,0);
	
	%-> After particles cloud
	\draw[red!20!white,
	      decoration = {markings,
	                    mark = at position 0.5 with {\arrow[]{latex}}},
	      postaction = {decorate}] ({\cols*\SquareUnit},{\rows*\SquareUnit/2})--++
	                               (\BeforeLight,0)node[midway,
	                                                    above,
	                                                    black]{$I$};
	%%%%%%%%%%%%%%%%%%%
	% PARTICLES CLOUD %
	%%%%%%%%%%%%%%%%%%%
	%-> Lua version (FASTER)
	\foreach \i in {1,...,\cols}{
		\foreach \j in {1,...,\rows}{
	        \edef\radius{\pr{\RmaxParticle*math.random()}}
	        \edef\l{\pr{\SquareUnit-2*\radius}}
	        \edef\x{\pr{(\i-1)*\SquareUnit+\radius+\l*math.random()}}
	        \edef\y{\pr{(\j-1)*\SquareUnit+\radius+\l*math.random()}}
	        \fill[sand] (\x,\y)circle[radius=\radius];
	        }
	}
	
	%-> pgfmath version (uncomment it if you want to try)
	% Some time compilation gives too high
	% number computation problem
	%\foreach \i in {1,...,\cols}{
	%	\foreach \j in {1,...,\rows}{
	%        \pgfmathsetmacro\radius{\RmaxParticle*\rnd}
	%        \pgfmathsetmacro\l{\SquareUnit-2*\radius}
	%        \pgfmathsetmacro\x{(\i-1)*\SquareUnit+\radius+\l*\rnd}
	%        \pgfmathsetmacro\y{(\j-1)*\SquareUnit+\radius+\l*\rnd}
	%        \fill[sand] (\x,\y)circle[radius=\radius];
	%        }
	%}
	
	%%%%%%%%%%%%%%%%%%
	% LENGTH QUOTING %
	%%%%%%%%%%%%%%%%%%
	\draw[|<->|,
	      >          = latex,
	      line width = .8pt] ($(0,\rows*\SquareUnit)+(0,1)$)--++
	                         (\cols*\SquareUnit,0)node[midway,
	                                                   above]{$L$};
	%%%%%%%%%%%%%%%%%%%%
	% LAMBERT-BEER LAW %
	%%%%%%%%%%%%%%%%%%%%
	\node[anchor    = north,
	      inner sep = 1ex] at (current bounding box.south){$\dfrac{I}{I_0}=\exp(-\gamma L)$};
	\end{tikzpicture}
	\end{document}
snippet foreach lattice-points
	% Drawing lattice points and vectors
	% Author: Bill Tourloupis
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage,floats]{preview}
	\setlength\PreviewBorder{30pt}%
	%%%>
	\begin{comment}
	:Title: Drawing lattice points and vectors
	:Tags: Foreach;Transformations;Graphs;Mathematics
	:Author: Bill Tourloupis
	:Slug: lattice-points
	An illustration of Babai's algorithm for the Closest Vector Problem (CVP):
	Find the closest lattice point for a given lattice and a target vector.
	Source: http://tex.stackexchange.com/q/42564/
	\end{comment}
	\usepackage{tikz}
	\usetikzlibrary{calc}
	\begin{document}
	\begin{figure}[ht]
	  \centering
	  \begin{tikzpicture}
	    \coordinate (Origin)   at (0,0);
	    \coordinate (XAxisMin) at (-3,0);
	    \coordinate (XAxisMax) at (5,0);
	    \coordinate (YAxisMin) at (0,-2);
	    \coordinate (YAxisMax) at (0,5);
	    \draw [thin, gray,-latex] (XAxisMin) -- (XAxisMax);% Draw x axis
	    \draw [thin, gray,-latex] (YAxisMin) -- (YAxisMax);% Draw y axis
	
	    \clip (-3,-2) rectangle (10cm,10cm); % Clips the picture...
	    \pgftransformcm{1}{0.6}{0.7}{1}{\pgfpoint{0cm}{0cm}}
	          % This is actually the transformation matrix entries that
	          % gives the slanted unit vectors. You might check it on
	           % MATLAB etc. . I got it by guessing.
	    \coordinate (Bone) at (0,2);
	    \coordinate (Btwo) at (2,-2);
	    \draw[style=help lines,dashed] (-14,-14) grid[step=2cm] (14,14);
	          % Draws a grid in the new coordinates.
	          %\filldraw[fill=gray, fill opacity=0.3, draw=black] (0,0) rectangle (2,2);
	              % Puts the shaded rectangle
	    \foreach \x in {-7,-6,...,7}{% Two indices running over each
	      \foreach \y in {-7,-6,...,7}{% node on the grid we have drawn 
	        \node[draw,circle,inner sep=2pt,fill] at (2*\x,2*\y) {};
	            % Places a dot at those points
	      }
	    }
	    \draw [ultra thick,-latex,red] (Origin)
	        -- (Bone) node [above left] {$b_1$};
	    \draw [ultra thick,-latex,red] (Origin)
	        -- (Btwo) node [below right] {$b_2$};
	    \draw [ultra thick,-latex,red] (Origin)
	        -- ($(Bone)+(Btwo)$) node [below right] {$b_1+b_2$};
	    \draw [ultra thick,-latex,red] (Origin)
	        -- ($2*(Bone)+(Btwo)$) node [above left] {2$b_1+b_2$};
	    \filldraw[fill=gray, fill opacity=0.3, draw=black] (Origin)
	        rectangle ($2*(Bone)+(Btwo)$);
	    %\draw [thin,-latex,red, fill=gray, fill opacity=0.3] (0,0)
	        % -- ($2*(0,2)+(2,-2)$)
	        % -- ($3*(0,2)+2*(2,-2)$) -- ($(0,2)+(2,-2)$) -- cycle;
	  \end{tikzpicture}
	  \caption{Babai's algorithm works poorly if the basis is ``bad''.}
	  \label{figure:solving-CVP-bad-basis}
	\end{figure}
	\end{document}
snippet shadings lindenmayer-systems
	% Lindenmayer systems
	% Dec 18, 2011, Stefan Kottwitz
	% http://texblog.net
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\usepackage{subfig}
	\PreviewEnvironment{tabular}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Lindenmayer systems
	:Tags: Shadings; Graphs
	:Author: Stefan Kottwitz
	:Slug: lindenmayer-systems
	\end{comment}
	\usetikzlibrary{lindenmayersystems}
	\usetikzlibrary[shadings]
	\begin{document}
	\pgfdeclarelindenmayersystem{Koch curve}{
	  \rule{F -> F-F++F-F}}
	\pgfdeclarelindenmayersystem{Sierpinski triangle}{
	  \rule{F -> G-F-G}
	  \rule{G -> F+G+F}}
	\pgfdeclarelindenmayersystem{Fractal plant}{
	  \rule{X -> F-[[X]+X]+F[+FX]-X}
	  \rule{F -> FF}}
	\pgfdeclarelindenmayersystem{Hilbert curve}{
	  \rule{L -> +RF-LFL-FR+}
	  \rule{R -> -LF+RFR+FL-}}
	
	\begin{tabular}{cc}
	\begin{tikzpicture}
	\shadedraw[shading=color wheel] 
	[l-system={Koch curve, step=2pt, angle=60, axiom=F++F++F, order=4}]
	lindenmayer system -- cycle;
	\end{tikzpicture}
	&
	\begin{tikzpicture}
	\shadedraw [top color=white, bottom color=blue!80, draw=blue!80!black]
	[l-system={Sierpinski triangle, step=2pt, angle=60, axiom=F, order=8}]
	lindenmayer system -- cycle;
	\end{tikzpicture}
	\\
	\begin{tikzpicture}
	    \shadedraw [bottom color=white, top color=red!80, draw=red!80!black]
	    [l-system={Hilbert curve, axiom=L, order=5, step=8pt, angle=90}]
	    lindenmayer system; 
	\end{tikzpicture}
	&
	\begin{tikzpicture}
	    \draw [green!50!black, rotate=90]
	    [l-system={Fractal plant, axiom=X, order=6, step=2pt, angle=25}]
	    lindenmayer system; 
	\end{tikzpicture}
	\end{tabular}
	\end{document}
snippet foreach linear-regression
	% Linear regression
	% Author: Henri Menke
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Linear regression
	:Tags: Foreach;Plotting;Plots;Mathematics
	:Author: Henri Menke
	:Slug: linear-regression
	
	This is an illustration of linear regression.
	
	This example was written by Henri Menke on TeXwelt.de.
	http://texwelt.de/wissen/fragen/4912/skizze-zur-illustration-linearer-regression
	An animated version can be found there in addition.
	\end{comment}
	\usetikzlibrary{arrows,intersections}
	\begin{document}
	\begin{tikzpicture}[
	    thick,
	    >=stealth',
	    dot/.style = {
	      draw,
	      fill = white,
	      circle,
	      inner sep = 0pt,
	      minimum size = 4pt
	    }
	  ]
	  \coordinate (O) at (0,0);
	  \draw[->] (-0.3,0) -- (8,0) coordinate[label = {below:$x$}] (xmax);
	  \draw[->] (0,-0.3) -- (0,5) coordinate[label = {right:$f(x)$}] (ymax);
	  \path[name path=x] (0.3,0.5) -- (6.7,4.7);
	  \path[name path=y] plot[smooth] coordinates {(-0.3,2) (2,1.5) (4,2.8) (6,5)};
	  \scope[name intersections = {of = x and y, name = i}]
	    \fill[gray!20] (i-1) -- (i-2 |- i-1) -- (i-2) -- cycle;
	    \draw      (0.3,0.5) -- (6.7,4.7) node[pos=0.8, below right] {Sekante};
	    \draw[red] plot[smooth] coordinates {(-0.3,2) (2,1.5) (4,2.8) (6,5)};
	    \draw (i-1) node[dot, label = {above:$P$}] (i-1) {} -- node[left]
	      {$f(x_0)$} (i-1 |- O) node[dot, label = {below:$x_0$}] {};
	    \path (i-2) node[dot, label = {above:$Q$}] (i-2) {} -- (i-2 |- i-1)
	      node[dot] (i-12) {};
	    \draw           (i-12) -- (i-12 |- O) node[dot,
	                              label = {below:$x_0 + \varepsilon$}] {};
	    \draw[blue, <->] (i-2) -- node[right] {$f(x_0 + \varepsilon) - f(x_0)$}
	                              (i-12);
	    \draw[blue, <->] (i-1) -- node[below] {$\varepsilon$} (i-12);
	    \path       (i-1 |- O) -- node[below] {$\varepsilon$} (i-2 |- O);
	    \draw[gray]      (i-2) -- (i-2 -| xmax);
	    \draw[gray, <->] ([xshift = -0.5cm]i-2 -| xmax) -- node[fill = white]
	      {$f(x_0 + \varepsilon)$}  ([xshift = -0.5cm]xmax);
	  \endscope
	\end{tikzpicture}
	\end{document}
snippet block line-junctions
	% Block diagram wire junctions
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Block diagram line junctions
	:Slug: line-junctions
	:Tags: Block diagrams, Foreach, Transformations, Paths
	
	An example of how to draw line junctions in a block diagram. 
	A semicircle is used to indicate that two lines are not connected. 
	This is a good example of how flexible TikZ' paths are. 
	The intersection between the lines are calculated using the convenient 
	``-|`` syntax. Since we want the semicircle to have its center where 
	the lines intersect, we have to shift the intersection coordinate 
	accordingly. 
	
	\end{comment}
	
	
	\begin{document}
	
	\tikzstyle{block} = [draw,fill=blue!20,minimum size=2em]
	% diameter of semicircle used to indicate that two lines are not connected
	\def\radius{.7mm} 
	\tikzstyle{branch}=[fill,shape=circle,minimum size=3pt,inner sep=0pt]
	
	\begin{tikzpicture}[>=latex']
	
	    % Draw blocks, inputs and outputs
	    \foreach \y in {1,2,3,4,5} {
	        \node at (0,-\y) (input\y) {$i_\y$};
	        \node[block] at (2,-\y) (block\y) {$f_\y$};
	        \draw[->] (input\y) -- (block\y);
	        \draw[->] (block\y.east) -- +(0.5,0);
	    }
	    \node[block] at (2,-6) (block6) {$f_6$};
	    \draw[->] (block6.east) -- +(0.5,0);
	
	    % Calculate branch point coordinate
	    \path (input1) -- coordinate (branch) (block1);
	
	    % Define a style for shifting a coordinate upwards
	    % Note the curly brackets around the coordinate.
	    \tikzstyle{s}=[shift={(0mm,\radius)}]
	    % It would be natural to use the yshift or xshift option, but that does
	    % not seem to work when shifting coordinates.
	
	    \draw[->] (branch) node[branch] {}{ % draw branch junction
	            \foreach \c in {2,3,4,5} {
	                % Draw semicircle junction to indicate that the lines are
	                % not connected. The intersection between the lines are
	                % calculated using the convenient -| syntax. Since we want
	                % the semicircle to have its center where the lines intersect,
	                % we have to shift the intersection coordinate using the 's'
	                % style to account for this.
	                [shift only] -- ([s]input\c -| branch) arc(90:-90:\radius)
	                % Note the use of the [shift only] option. It is not necessary,
	                % but I have used it to ensure that the semicircles have the
	                % same size regardless of scaling.
	            }
	        } |- (block6);
	\end{tikzpicture}
	\end{document}
snippet intersections line-junction
	% Handling the crossover of intersecting lines
	% Author: Steffen Knoll
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Handling the crossover of intersecting lines
	:Tags: Intersections;tkz-euclide
	:Author: Steffen Knoll
	:Slug: line-junction
	
	This example shows handling of the crossover of intersecting lines.
	It makes use of the intersections library and tkz-euklide to be
	more flexible in drawing the arc.
	
	It uses the tikz library intersections to find the intersection of
	both lines and a circle pathed around this intersection.
	The arc is then drawed using tkzDrawArc, which uses the center,
	start and end coordinate instead of the angles of the normal arc command.
	 
	Only problem so far are the corners of the line,
	since it is not drawn in one draw command.
	\end{comment}
	\usetikzlibrary{intersections}
	\usepackage{tkz-euclide}
	\usetkzobj{all}
	
	\begin{document}
	
	% Radius for arc over intersection
	\def\radius{1.mm} 
	
	\begin{tikzpicture}[scale=1]
	  \coordinate (A) at (0,0);
	  \coordinate (B) at (0,3);
	  \coordinate (C) at (2,0);
	  \coordinate (D) at (3,3);
	
	  % first line
	  \draw [->,name path=line 1] (B) -- (C);
	
	  % second line (defined as path)
	  \path[name path=line 2] (D) -- (A);	
	
	  % find intersection of first and second line
	  \path [name intersections={of = line 1 and line 2}];
	  \coordinate (S)  at (intersection-1);
	
	  % path a circle around this intersection for the arc
	  \path[name path=circle] (S) circle(\radius);
	
	  % find intersections of second line and circle
	  \path [name intersections={of = circle and line 2}];
	  \coordinate (I1)  at (intersection-1);
	  \coordinate (I2)  at (intersection-2);
	
	  % draw normal line segments
	  \draw (D) -- (I1);
	  \draw[->] (I2) -- (A);
	
	  % draw arc at intersection
	  \tkzDrawArc[color=black](S,I1)(I2);
	
	\end{tikzpicture}
	\end{document}
snippet plotting line-plot-example
	\documentclass{minimal}
	% Line plot example using external data fiels.
	%
	% Author: Claudio Favi
	\usepackage{tikz}
	\usetikzlibrary{plotmarks}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Line Plot Example
	:Tags: Plotting; Plots
	:Author: Claudio Favi
	\end{comment}
	
	% The data files, written on the first run.
	\begin{filecontents}{div_soft.data}
	#MOPS 	Power [mW]
	1.33E-02	10.403432
	1.33E-01	12.53108
	2.66E-01	14.90265
	3.99E-01	17.22483
	5.31E-01	19.58292
	6.64E-01	21.89876
	7.97E-01	24.44624
	9.30E-01	26.6708
	\end{filecontents}
	
	\begin{filecontents}{div_ciu.data}
	# MOPS 	Power [mW]
	4.35E-02	9.562436
	4.35E-01	10.845494
	8.69E-01	12.24356
	1.30E+00	13.66974
	1.74E+00	15.13008
	2.17E+00	16.57845
	2.61E+00	17.97894
	3.04E+00	19.41534
	\end{filecontents}
	
	\begin{filecontents}{div_ciu_oscar.data}
	#MOPS 	Power [mW]
	8.57E-01	11.255013
	9.99E-01	11.4804
	1.14E+00	11.718
	1.29E+00	11.9916
	1.64E+00	12.65854
	2.00E+00	13.308
	2.64E+00	14.484
	3.85E+00	16.8
	\end{filecontents}
	
	\begin{filecontents}{div_ciu_oscar_extrapolated.data}
	# MOPS 	Power [mW]
	4.28E+00	17.56312023
	5.71E+00	20.21127914
	7.14E+00	22.85943805
	8.57E+00	25.50759696
	9.99E+00	28.15575587
	\end{filecontents}
	
	\begin{document}
	\begin{tikzpicture}[y=.2cm, x=.7cm,font=\sffamily]
	 	%axis
		\draw (0,0) -- coordinate (x axis mid) (10,0);
	    	\draw (0,0) -- coordinate (y axis mid) (0,30);
	    	%ticks
	    	\foreach \x in {0,...,10}
	     		\draw (\x,1pt) -- (\x,-3pt)
				node[anchor=north] {\x};
	    	\foreach \y in {0,5,...,30}
	     		\draw (1pt,\y) -- (-3pt,\y) 
	     			node[anchor=east] {\y}; 
		%labels      
		\node[below=0.8cm] at (x axis mid) {MOPS};
		\node[rotate=90, above=0.8cm] at (y axis mid) {Power [mW]};
	
		%plots
		\draw plot[mark=*, mark options={fill=white}] 
			file {div_soft.data};
		\draw plot[mark=triangle*, mark options={fill=white} ] 
			file {div_ciu.data};
		\draw plot[mark=square*, mark options={fill=white}]
			file {div_ciu_oscar.data};
		\draw plot[mark=square*]
			file {div_ciu_oscar_extrapolated.data};  
	    
		%legend
		\begin{scope}[shift={(4,4)}] 
		\draw (0,0) -- 
			plot[mark=*, mark options={fill=white}] (0.25,0) -- (0.5,0) 
			node[right]{soft};
		\draw[yshift=\baselineskip] (0,0) -- 
			plot[mark=triangle*, mark options={fill=white}] (0.25,0) -- (0.5,0)
			node[right]{ciu};
		\draw[yshift=2\baselineskip] (0,0) -- 
			plot[mark=square*, mark options={fill=white}] (0.25,0) -- (0.5,0)
			node[right]{ciu + oscar};
		\draw[yshift=3\baselineskip] (0,0) -- 
			plot[mark=square*, mark options={fill=black}] (0.25,0) -- (0.5,0)
			node[right]{ciu + oscar extrapolated};
		\end{scope}
	\end{tikzpicture}
	\end{document}
snippet lipid lipid-vesicle
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Lipid vesicle
	
	Illustration of a vesicle_ composed of two lipid layers. A custom decoration is created to
	place lipid leaflets evenly on a circle.
	
	.. _vesicle: http://en.wikipedia.org/wiki/Lipid_vesicle
	
	:Source: `pgf-users mailing list`__
	
	.. __: http://www.nabble.com/Spread-decorations-evenly-on-a-circle-td22202756.html#a22202756
	\end{comment}
	\usetikzlibrary{decorations,decorations.pathreplacing}
	
	\begin{document}
	
	% Define decoration
	\pgfdeclaredecoration{lipidleaflet}{initial}
	{
	  % Place as many segments as possible along the path to decorate
	  % the minimum distance between two segments is set to 7 pt.
	  \state{initial}[width=\pgfdecoratedpathlength/floor(\pgfdecoratedpathlength/7pt)]
	  {
	    % Draw the two acyl chains
	    \pgfpathmoveto{\pgfpoint{-1pt}{0pt}}
	    \pgfpathlineto{\pgfpoint{-1pt}{-10pt}}
	    \pgfpathmoveto{\pgfpoint{1pt}{0pt}}
	    \pgfpathlineto{\pgfpoint{1pt}{-10pt}}
	    % Draw the head group
	    \pgfpathmoveto{\pgfpoint{1pt}{0pt}}
	    \pgfpathcircle{\pgfpoint{0pt}{2pt}}{2.5pt}
	  }
	  \state{final}
	  {
	    \pgfpathmoveto{\pgfpointdecoratedpathlast}
	  }
	}
	
	% Draw a vesicle composed of two lipid layers
	\begin{tikzpicture}
	% Micelle
	\draw[decorate, decoration={lipidleaflet, mirror}] (0, 3) circle (0.6cm);
	\draw (0, 2) node {Micelle};
	
	% Inverted micelle
	\draw[decorate, decoration={lipidleaflet}] (0, 0) circle (0.45cm);
	\draw (0, -1) node {Inverted micelle};
	
	% Lipid bilayer
	\draw[decorate, decoration={lipidleaflet, mirror}]
	  (-1, -2.8) -- (2, -2.8);
	\draw[decorate, decoration={lipidleaflet}]
	  (-1, -2) -- (2, -2);
	\draw (0, -3.5) node {Lipid bilayer};
	
	% Vesicle
	\draw[decorate, decoration={lipidleaflet}] (5, 0.5) circle (2.5cm);
	\draw[decorate, decoration={lipidleaflet, mirror}] (5, 0.5) circle (3.3cm);
	\draw (5, -3.5) node {Vesicle};
	
	\end{tikzpicture}
	
	\end{document}
snippet spiral logarithmic-spiral
	% Logarithmic spiral
	% Author: Andrew Mertz
	\documentclass{minimal}
	\usepackage{tikz}
	\usetikzlibrary{backgrounds,calc}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{0pt}%
	%%%>
	
	\begin{comment}
	:Title: Logarithmic spiral
	
	A `logarithmic spiral`_.
	
	.. _logarithmic spiral: http://en.wikipedia.org/wiki/Logarithmic_spiral
	
	\end{comment}
	
	\begin{document}
	\begin{tikzpicture}[background rectangle/.style={fill=black},
	                    show background rectangle, x=1pt, y=1pt]
	 % Compute the golden ratio
	  \pgfmathsetmacro{\goldenRatio}{(1+sqrt(5)) / 2}
	
	  % Compute the angle between the tangent and radial line 
	  \pgfmathsetmacro{\offset}{rad(atan(2*ln(\goldenRatio)/pi))};
	
	  % Plot the spiral using the parametric form of a logarithmic spiral
	  % (a e^{b t} cos(t), a e^{b t} sin(t)). In this case a = 1 and b = 2
	  % ln((1+sqrt(5)) / 2) / pi. There can be a slight gap between the
	  % last line segment and the end of the plot. Having a large sample
	  % size reduces the gap.
	  \draw[very thick,white,domain=\offset:\offset+14*pi/2,
	       smooth,samples=600,variable=\t] plot
	   ({pow(\goldenRatio, 2 * \t / pi) * cos(\t r)},
	    {pow(\goldenRatio, 2 * \t / pi) * sin(\t r)}) 
	   coordinate(end);
	
	  % Remember the start of the spiral
	  \coordinate (0) at 
	    ({pow(\goldenRatio, 2 * \offset / pi) * cos(\offset r)},
	     {pow(\goldenRatio, 2 * \offset / pi) * sin(\offset r)});
	
	 % This loop draws the line segments
	  \foreach \i in {1,...,14}
	  {
	    % Get the "name" of the last point on the spiral
	    \pgfmathsetmacro{\lastpoint}{\i-1}
	
	    % Compute the start angle for this turn of the spiral
	    \pgfmathsetmacro{\angle}{\i * pi / 2  + \offset}
	
	   \draw[very thick,white] (\lastpoint) --
	     ({pow(\goldenRatio, 2 * \angle / pi) * cos(\angle r)},
	      {pow(\goldenRatio, 2 * \angle / pi) * sin(\angle r)})
	     coordinate (\i);
	  }
	
	  % Add some text displaying the formula for the parametric form of the
	  % spiral
	   \node(eq) at ($(14) + 5*(\goldenRatio cm,1cm)$) 
	     [white,text width=2cm,font=\fontsize{30}{30}\selectfont,
	      anchor=north west] {
	     \begin{displaymath}
	       \begin{array}{llll}
	         x&(\theta) = \phi^{\frac{2\theta}{\pi}}&\cos&(\theta)\\
	         y&(\theta) = \phi^{\frac{2\theta}{\pi}}&\sin&(\theta)\\
	       \end{array}
	     \end{displaymath}
	  };
	\end{tikzpicture}
	\end{document}
	% LocalWords:  tikzpicture TikZ sqrt ln atan eq llll
snippet block logic-circuits-library
	% Logic circuits library
	% Authors: Juergen Werber and Christoph Bartoschek
	\documentclass{article}
	
	\usepackage{tikz}
	% load circuits library
	\usetikzlibrary{circuits}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Logic circuits library
	:Tags: Block diagrams, Nodes and shapes, Matrix
	
	The ``circuits`` library, written by Juergen Werber and Cristoph Bartoschek, is a 
	library of custom node shapes for drawing logic circuits. The library code is well
	written and easy to follow. Adding new variants of the shapes is straightforward.
	
	To run the example the ``pgflibrarytikzcircuits.code.tex`` file is needed:
	
	- `pgflibrarytikzcircuits.code.tex`_
	
	Note that the library is loaded using:
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{circuits}
	
	.. _pgflibrarytikzcircuits.code.tex: /media/pgftikzexamples/circuits/pgflibrarytikzcircuits.code.tex 
	
	:Authors: Juergen Werber and Christoph Bartoschek
	
	
	\end{comment}
	
	\begin{document}
	
	
	
	\begin{tikzpicture}[scale=0.5,cktbaselength=0.5pt]
	\draw (6,0) node[nand2ni,anchor=tip,draw] (n4) {}
	      (n4.z) -- +(0mm,-5mm)
	      (n4.b) |- ++(10mm,2mm) -- ++(0mm,2mm)
	      node[and2in,anchor=z,draw,fill=gray] (n3) {}
	      (n4.a) |- ++(-10mm,2mm) -- ++(0mm,2mm)
	      node[or3nni,anchor=tip,draw] (n2) {}
	      (n3.b) -- +(0mm,5mm) node[above] {$i_5$}
	      (n3.a) |- ++(-5mm,2mm)
	      coordinate (p) -- +(0mm,5mm) node[above] {$i_4$}
	      (n2.c) |- (p)
	      (n2.b) |- ++(6mm,12mm) -- +(0mm,5mm) node[above] {$i_3$}
	      (n2.a) -- +(0mm,8mm)
	      node[and2,anchor=tip,draw] (n1) {}
	      (n1.b) -- +(0mm,5mm) node[above] {$i_2$}
	      (n1.a) -- +(0mm,5mm) node[above] {$i_1$};
	\end{tikzpicture}
	%
	% Define a few helper macros to save typing
	% The \spacer macro inserts a dummy node and defines the t (top) and
	% b (bottom) coordinates. t and b are used to align the pins
	\newcommand\spacer{%
	\node[anchor=south,minimum height=1cm,inner sep=0pt, outer sep=0pt] (tmp) {};%
	\path (tmp.north) coordinate (t) (tmp.south) coordinate (b);%
	}
	% Draw connecting pins. Note the use of the t and b coordinates defined
	% in the \spacer macro
	\newcommand\drawpins[1]{%
	\draw (#1.a) -- (t -| #1.a)
	      (#1.b) -- (t -| #1.b)
	      (#1.z) -- (b -| #1.z);
	}
	% Draw pins for a logic gate with tree inputs
	\newcommand\drawpinsiii[1]{%
	\draw (#1.a) -- (t -| #1.a)
	      (#1.b) -- (t -| #1.b)
	      (#1.c) -- (t -| #1.c)
	      (#1.z) -- (b -| #1.z);
	}
	%
	\begin{tikzpicture}[scale=0.5,cktbaselength=0.5pt,baseline]
	\tikzstyle{gate} = [draw,anchor=center,yshift=5mm]
	\tikzstyle{ann} = [below,font=\small\tt]
	\matrix[column sep=0.5cm] (circuit shapes) {
	    % Use the first column to place a dummy spacer node
	    \spacer &[-0.5cm] % remove column spacing
	    \node[and2,gate] (N10) {} node[ann] {and2};\drawpins{N10} &
	    \node[and2in,gate] (N20) {} node[ann] {and2in};\drawpins{N20} &
	    \node[and2ni,gate] (N30) {} node[ann] {and2ni};\drawpins{N30} &
	    \node[and2ii,gate] (N40) {} node[ann] {and2ii};\drawpins{N40} \\
	    \spacer &
	    \node[nand2,gate] (N11) {} node[ann] {nand2};\drawpins{N11} &
	    \node[nand2in,gate] (N21) {} node[ann] {nand2in};\drawpins{N21} &
	    \node[nand2ni,gate] (N31) {} node[ann] {nand2ni};\drawpins{N31} &
	    \node[nand2ii,gate] (N41) {} node[ann] {nand2ii};\drawpins{N41} \\
	    \spacer &
	    \node[or2,gate] (N12) {} node[ann] {or2};\drawpins{N12} &
	    \node[or2in,gate] (N22) {} node[ann] {or2in};\drawpins{N22} &
	    \node[or2ni,gate] (N32) {} node[ann] {or2ni};\drawpins{N32} &
	    \node[or2ii,gate] (N42) {} node[ann] {or2ii};\drawpins{N42} \\
	    \spacer &
	    \node[nor2,gate] (N13) {} node[ann] {nor2};\drawpins{N13} &
	    \node[nor2in,gate] (N23) {} node[ann] {nor2in};\drawpins{N23} &
	    \node[nor2ni,gate] (N33) {} node[ann] {nor2ni};\drawpins{N33} &
	    \node[nor2ii,gate] (N43) {} node[ann] {nor2ii};\drawpins{N43} \\
	    \spacer &
	    \node[or3,gate] (N14) {} node[ann] {or3};\drawpinsiii{N14} &
	    \node[nor3iii,gate] (N24) {} node[ann] {nor3iii};\drawpinsiii{N24} &
	    \node[or3nni,gate] (N34) {} node[ann] {or3nni};\drawpinsiii{N34} \\
	    \spacer &
	    \node[buffer,gate] (buf) {} node[ann] {buffer};
	    \draw (buf.z) -- (buf.z |- b)
	          (buf.a) -- (buf.a |- t); &
	    \node[inverter,gate] (inv) {} node[ann] {inverter};
	    \draw (inv.z) -- (inv.z |- b)
	          (inv.a) -- (inv.a |- t); \\
	};%
	\node[above] at (circuit shapes.north) {Circuit node shapes};%
	\end{tikzpicture}%
	
	
	\end{document}
snippet matrices logic-matrix
	% Logic diagram
	% Author: Stefan Kottwitz
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Logic diagram
	:Tags: Matrices
	:Author: Stefan Kottwitz
	:Slug: logic-matrix
	
	Math formulas and arrows with TikZ
	http://texblog.net/latex-archive/maths/logic-tikz/
	
	In the Art of Problem Solving Forum http://www.artofproblemsolving.com/Forum/viewtopic.php?p=1359679#1359679
	somebody asked for help in creating a construction for proofs and demonstrations
	in Logic by LaTeX commands. Math expressions should be aligned, some connected
	by arrows going vertically and horizontally.
	
	This example uses TikZ for arrows and its matrix library for math nodes.
	Some nodes are connected by -| or |- path construction operations.
	\end{comment}
	\usetikzlibrary{matrix}
	\begin{document}
	\begin{tikzpicture}[every node/.style={anchor=west}]
	  \matrix (m) [matrix of math nodes,
	    nodes in empty cells]{
	    \quad & 1.\quad (x)(Q\supset Fx) & \\
	    & 2.\quad Q\supset Fx & \textrm{I,\textbf{UI}} & \\
	    & 3.\quad Q \\
	    & 4.\quad Fx & 2, 3, \textrm{ M.P.}\\
	    & 5.\quad (x)Fx & 4, \textrm{ \textbf{UG}} \\
	    & 6.\quad Q\supset(x)Fx & 3-5, \textrm{ C.P.} \\
	    & 7.\quad \parbox[t]{2.9cm}{%
	             $(x)(Q\supset(x)Fx)\supset$\\
	             $[Q\supset(x)Fx]$} & 1-6, \textrm{ C.P.}\\};
	  \draw[-stealth] (m-7-2.north east)
	               -| (m-1-1.west) |- (m-1-2);
	  \draw[-stealth] (m-6-2.north east)
	               -| (m-3-1.east) |- (m-3-2);
	\end{tikzpicture}
	\end{document}
snippet hippocrates lune-of-hippocrates
	% 25/11/2008
	% Alain Matthes
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usetikzlibrary{through,calc}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Lune of Hippocrates
	:Author: Alain Matthes
	
	What is the relationship between the area of the `isosceles right triangle`_ ABC and the
	`area of the lune`_?
	
	.. _isosceles right triangle: http://mathworld.wolfram.com/IsoscelesRightTriangle.html
	.. _area of the lune: http://mathworld.wolfram.com/Lune.html
	\end{comment}
	
	
	\begin{document}
	
	\begin{tikzpicture}[thick]
	    \path[draw] (-4,0)  coordinate [label= left:$A$] (A)
	            -- ( 0,4)  coordinate [label=above:$C$] (C)
	            -- ( 4,0)  coordinate [label=right:$B$] (B)
	            -- cycle;
	    \foreach \point in {A,B,C}
	           \fill [black] (\point) circle (2pt);
	    \draw [color=red] circle(4cm);
	    % The radius of the inner circular arc is equal to the length of BC.
	    % Use the math engine to do the necessary calculations and store the
	    % radius in the \n1 register
	    \draw[color=red,fill=black!20]
	         let \p1 = ($ (B) - (C) $),
	             \n1 = {veclen(\x1,\y1)} in
	         (A) arc (180:360:4cm) arc (-45:-135:\n1);
	\end{tikzpicture}
	\end{document}
snippet foreach mandala
	% Mandala
	% Author: Elena Botoeva
	\documentclass{article}
	\usepackage[margin=0.3cm, paperwidth=8.4cm, paperheight=8.4cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Mandala
	:Tags: Foreach;Fadings;Decorative Drawings
	:Author: Elena Botoeva
	:Slug: mandala
	
	Maṇḍala means "circle" in Sanskrit. Mandalas are concentric diagrams,
	which have a spiritual and ritual meaning in both Buddhism and Hinduism.
	
	Here we use TikZ for drawing such geometric patterns.
	The fading slows down the compilation.
	\end{comment}
	\usetikzlibrary{shadows}
	\usetikzlibrary{fadings}
	
	\tikzfading[name=fade out, inner color=transparent!0,
	  outer color=transparent!100]
	
	\def\petal { 
	  [rounded corners=0.5] %
	  (-1,0)%
	  .. controls (-1,0.6) and (-0.07,0.8).. (0,1)%
	  .. controls (0.07,0.8) and (1,0.6).. (1,0)%
	  .. controls (0.7,-1) and (-0.7,-1).. (-1,0)%
	}
	
	%%%%% circles in the background %%%%%
	\def\background[#1,#2]{
	  \fill[#1] (0,0) circle (3.9);
	  \fill[#2] (0,0) circle (1);
	}
	
	%%%%% star and small circle in the center %%%%%
	\def\center[#1]{
	  \foreach \a in {51.4285,102.857,...,360} { %
	    \draw[color=yellow,rotate=\a,fill=#1]
	    (-0.08,0) -- (0,0.46) -- (0.08,0); %
	  }
	  \draw[color=yellow,fill=#1] (0,0) circle (0.1);
	}
	
	%%%%%%%%%% Mandala with fixed colouring %%%%%%%%%%
	\def \mandala {
	  \background[red!30!blue!70!black,blue!70!yellow!50];
	
	  % ysh - yshift
	  % xs - xscale
	  % ys - yscale
	  % af - first angle in foreach
	  % as - second angle in foreach
	  % y - number in the color specification after yellow
	  % b - number in the color specification before blue
	  % r - number in the color specification of the shading after red
	  % bl - number in the color specification of the shading before black
	  \foreach \ysh/\xs/\ys/\af/\as/\y/\b/\w/\r/\bl in {%
	    3.06/0.72/0.8/   25.71425/51.4285/    70/100/100/ 100/100,%
	    2.34/1/0.9/        25.71425/77.14275/   6/90/92/       80/80,%
	    1.8/0.8/0.9/       51.4285/102.857/       0/75/100/     60/70,%
	    1.5/0.6/0.6/       25.71425/77.14275/   0/55/100/     40/60,%
	    1.1/0.53/0.58/   51.4285/102.857/       0/40/100/     20/50,%
	    0.8/0.37/0.45/   25.71425/77.14275/   0/45/85/       20/40,%
	    0.53/0.1/0.24/   25.71425/77.14275/   0/10/100/     0/30,%
	    0.49/0.22/0.32/ 51.4285/102.857/       0/10/100/     0/50%
	  }
	  {
	    \foreach \a in {\af,\as,...,360}
	    {
	      \begin{scope}[rotate=\a,shift={(0,\ysh)},xscale=\xs,yscale=\ys]
	        \draw[color=yellow,fill=yellow!\y!red!\b!blue!\w] %
	        [drop shadow={shadow xshift=0.5pt, shadow yshift=-0.5pt}]
	        \petal;
	      \end{scope}
	      
	      \begin{scope}[transform canvas={rotate=\a},shift={(0,\ysh)},xscale=\xs,yscale=\ys]
	        \clip \petal; %
	        \fill[path fading=fade out,fill=red!\r!blue!\bl!black, opacity=0.7]%
	        (0,-0.35) ellipse (1.2 and 0.75);
	        \fill[path fading=fade out,fill=red!\r!blue!\bl!black, opacity=0.3]%
	        (0,-0.2) ellipse (1.2 and 0.4);
	
	        \fill[path fading=fade out,fill=red!\r!blue,opacity=0.2] %
	        (-0.4,0.6) -- (0,0.9) -- (0.4,0.6);
	      \end{scope}
	    }
	  }
	
	  \center[blue]
	}
	%%%%%%%%%% End of Mandala with fixed colouring %%%%%%%%%%
	
	%%%%% one layer of petals %%%%%
	\def\mainbody{
	  \foreach \a in {\af,\as,...,360}
	  {
	    \begin{scope}[rotate=\a,shift={(0,\ysh)},xscale=\xs,yscale=\ys]
	      \draw[color=yellow,fill=\c] %
	      [drop shadow={shadow xshift=0.5pt, shadow yshift=-0.5pt}]
	      \petal;
	    \end{scope}
	
	    % fadings
	    \begin{scope}[transform canvas={rotate=\a}, shift={(0,\ysh)},xscale=\xs,yscale=\ys]
	      \clip \petal; %
	      \fill[path fading=fade out,fill=\fc, opacity=0.7]%
	      (0,-0.35) ellipse (1.2 and 0.75);
	      \fill[path fading=fade out,fill=\fc, opacity=0.3]%
	      (0,-0.2) ellipse (1.2 and 0.4);
	      \fill[path fading=fade out,fill=\fc,opacity=0.2] %
	      (-0.4,0.6) -- (0,0.9) -- (0.4,0.6);
	    \end{scope}
	  }
	}
	
	%%%%%%%%%%% Mandalas with parametrized colouring %%%%%%%%%%
	% #1 - the color of the outer most (first) layer
	% #2 - the color of the third layer
	% #3 - the color of the fifth layer
	% #4 - the color of the seventh layer
	% #5 - the color of the fading, gets denser closer to the center
	\def \mandalac[#1,#2,#3,#4,#5]{
	  \background[#3!30!#4!70!#5,#4!70!#2!50];
	
	  % ysh - yshift
	  % xs - xscale
	  % ys - yscale
	  % af - first angle in foreach
	  % as - second angle in foreach
	  % c - color of the petal
	  % fc - color of the fading
	  \foreach \ysh/\xs/\ys/\af/\as/\c/\fc in {%
	    3.06/0.72/0.8/   25.71425/51.4285  /#1/#1!50!#2!90!#5,%
	    2.34/1/0.9/        25.71425/77.14275/#1!50!#2/#2!80!#5,%
	    1.8/0.8/0.9/       51.4285/102.857    /#2/#2!50!#3!70!#5,%
	    1.5/0.6/0.6/       25.71425/77.14275/#2!50!#3/#3!60!#5,%
	    1.1/0.53/0.58/   51.4285/102.857    /#3/#3!50!#4!50!#5,%
	    0.8/0.37/0.45/   25.71425/77.14275/#3!50!#4/#4!40!#5,%
	    0.53/0.1/0.24/   25.71425/77.14275/#4/#4!50!#5,%
	    0.49/0.22/0.32/ 51.4285/102.857    /#4/#4!50!#5%
	  }
	  {
	    \mainbody
	  }
	  \center[#4]
	}
	
	% #1 - the color of the outer most (first) layer
	% #2 - the color of the second layer
	% #3 - the color of the third layer
	% #4 - the color of the forth layer
	% #5 - the color of the fifth layer
	% #6 - the color of the sixth layer
	% #7 - the color of the seventh layer
	% #8 - the color of the fading, gets denser closer to the center
	\def \mandalab[#1,#2,#3,#4,#5,#6,#7,#8]{
	  \background[#6!30!#7!70!#8,#7!70!#4!50];
	
	  % ysh - yshift
	  % xs - xscale
	  % ys - yscale
	  % af - first angle in foreach
	  % as - second angle in foreach
	  % c - color of the petal
	  % fc - color of the fading
	  \foreach \ysh/\xs/\ys/\af/\as/\c/\fc in {%
	    3.06/0.72/0.8/   25.71425/51.4285  /#1/#2!90!#8,%
	    2.34/1/0.9/        25.71425/77.14275/#2/#3!90!#8,%
	    1.8/0.8/0.9/       51.4285/102.857    /#3/#4!80!#8,%
	    1.5/0.6/0.6/       25.71425/77.14275/#4/#5!80!#8,%
	    1.1/0.53/0.58/   51.4285/102.857    /#5/#6!70!#8,%
	    0.8/0.37/0.45/   25.71425/77.14275/#6/#7!70!#8,%
	    0.53/0.1/0.24/   25.71425/77.14275/#7/#7!50!#8,%
	    0.49/0.22/0.32/ 51.4285/102.857    /#7/#7!50!#8%
	  }
	  {
	    \mainbody
	  }
	  \center[#7]
	}
	%%%%%%%%%%% End of Mandalas with parametrized colouring %%%%%%%%%%
	
	%%%%%%%%%%%%%%%%%%%%%%%%% BEGIN DOCUMENT %%%%%%%%%%%%%%%%%%%%%%%%
	\pagestyle{empty}
	\setlength{\parindent}{0pt}
	\begin{document}
	\tikz\mandala;
	
	\tikz\mandalac[magenta!30!,magenta,purple,violet,];
	
	\tikz\mandalac[blue!40!black,violet,purple,pink,];
	
	\tikz\mandalac[lime!90!black,yellow!95!black,orange,red,];
	
	\tikz\mandalac[green!80!black,yellow,pink,purple!90!,red];
	
	\tikz\mandalab[green!50!black, green!60!black, green!70!black!80!, green!50!,
	  green!10!, pink!40!, red!40!,];
	
	\tikz\mandalab[blue!30!black, blue!40!black, blue!60!black, blue!70!black!80!,
	  blue!50!, yellow!40!, yellow!70!,];
	\end{document}
snippet diagrams manet
	% Mobile ad-hoc network
	% Author: Dr. Ludger Humbert
	% Source: https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{pgf}
	
	\usepackage{xxcolor}
	
	\usetikzlibrary{arrows,shadows,petri}
	%                              wg. tokens
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Mobile ad-hoc network
	:Slug: manet
	:Tags: Diagrams, Transparency
	
	A diagram from the the field of `mobile ad-hoc networking`_ (MANET). 
	
	:Author: Dr. `Ludger Humbert`_
	:Source: `https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2`__
	
	Note: Download the PDF to see the full transparency and shading effects.  
	
	.. _mobile ad-hoc networking: http://en.wikipedia.org/wiki/Mobile_ad-hoc_network
	.. __: https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2
	.. _Ludger Humbert: https://haspe.homeip.net/cgi-bin/pyblosxom.cgi
	
	
	
	\end{comment}
	
	\newlength{\imagewidth}
	\newlength{\imagescale}
	
	\listfiles
	
	\begin{document}
	
	\begin{tikzpicture}[
	    knoten/.style={
	      shade=ball,
	      circle,
	      inner sep=.35cm,
	      circular drop shadow,
	      draw},
	    /schriftstueck/.code 2 args={
	      \fill[red!50, opacity=#2] #1 rectangle +(.6,.7);
	      \foreach \y in {0pt,2pt,4pt,6pt,8pt,10pt,12pt,14pt}
	       \draw [yshift=\y, opacity=#2] #1+(0.1,0.1) -- +(0.5,0.1);
	      }
	    ]
	
	  \node at (1,.5) (knoten0) [knoten, ball color=blue!60!black] {};
	
	  \node[rectangle,draw] at (1,-1) (k0)
	  {Message};
	
	  \draw  [-] (knoten0.south)      -- (k0);
	
	  \pgfkeys{/schriftstueck={(0.7,-.5)}{1}}
	
	  \node at (4,.5) (knoten1) [knoten, ball color=green!60!black] {};
	
	  \node[rectangle,draw] at (5.5,1.5) (k1)
	  {Starting point};
	
	  \node at (7,.5) (knoten2) [knoten, ball color=gray!40!white,tokens=3] {};
	
	  \node[rectangle,draw] at (6.8,-0.75) (k2)
	  {Hop(s)};
	
	  \node at (10,.5) (knoten3) [knoten, ball color=red!60!black] {};
	  \node[rectangle,draw] at (8.5,1.5) (k3)
	  {End point};
	
	  \path[dashed,opacity=.5] [-latex] 
	    (knoten1.north west) edge [bend right]  (knoten0.north east);
	  \node[rectangle,draw,dashed,opacity=.5] at (2.5,1.5)  (ack10) {ACK};
	
	  \path  [-latex] (knoten0.south east) edge [bend right] (knoten1.south west);
	  \path  [-latex] (knoten1.south east) edge [bend right] (knoten2.south west);
	  \pgfkeys{/schriftstueck={(5.2,-.5)}{.7}}
	  \path  [-latex] (knoten2.south east) edge [bend right] (knoten3.south west);
	  \pgfkeys{/schriftstueck={(8.2,-.5)}{.9}}
	
	  \draw  [-] (knoten1.north east) -- (k1);
	  \draw  [-] (knoten2.south)      -- (k2);
	  \draw  [-] (knoten3.north west) -- (k3);
	\end{tikzpicture}
	
	\end{document}
snippet 3d map-projections
	% Stereographic and cylindrical map projections
	% Author: Tomasz M. Trzeciak
	% Source: LaTeX-Community.org 
	%         <http://www.latex-community.org/viewtopic.php?f=4&t=2111>
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{calc,fadings,decorations.pathreplacing}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Stereographic and cylindrical map projections
	:Tags: 3D
	:Slug: map-projections
	:Grid: 2x2
	
	Examples inspired by the thread at comp.text.tex about `how to convert some hand
	drawn pictures into programmatic 3D sketches`__.
	
	.. __: http://groups.google.com/group/comp.text.tex/browse_thread/thread/a03baf5d6fa64865/f7e7b903f1d87a6a
	
	The sketches present stereographic and cylindrical map projections and they
	pose some interesting challenges for doing them with a 2D drawing package PGF/TikZ.
	
	The main idea is to draw in selected 3D planes and then project onto the canvas
	coordinate system with an appriopriate transformation. Some highlights:
	
	- usage of pgf math engine for calculation of projection transformations and
	  transitions points from visible (solid lines) to invisible (dashed lines) on
	  meridians and latitude circles
	- definition of 3D plane transformation with expanded styles so that they are robust
	  against redefinition of macros used in their construction
	- usage of named coordinates (nodes) for definition of characteristic points in
	  local coordinate systems so that they are accessible outside of their plane of
	  definition
	- calculation of intersections points with TikZ intersection coordinate system
	- usage of 'to' path operation instead of 'arc' for marking angles to allow for
	  easy positioning of text labels on the curve
	- 3D lighting effects with shading
	
	:Author: Tomasz M. Trzeciak
	:Source: LaTeX-Community.org_
	
	.. _LaTeX-Community.org: http://www.latex-community.org/viewtopic.php?f=4&t=2111
	
	\end{comment}
	
	%% helper macros
	
	\newcommand\pgfmathsinandcos[3]{%
	  \pgfmathsetmacro#1{sin(#3)}%
	  \pgfmathsetmacro#2{cos(#3)}%
	}
	\newcommand\LongitudePlane[3][current plane]{%
	  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	  \pgfmathsinandcos\sint\cost{#3} % azimuth
	  \tikzset{#1/.style={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
	}
	\newcommand\LatitudePlane[3][current plane]{%
	  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	  \pgfmathsinandcos\sint\cost{#3} % latitude
	  \pgfmathsetmacro\yshift{\cosEl*\sint}
	  \tikzset{#1/.style={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}} %
	}
	\newcommand\DrawLongitudeCircle[2][1]{
	  \LongitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	   % angle of "visibility"
	  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	  \draw[current plane] (\angVis:1) arc (\angVis:\angVis+180:1);
	  \draw[current plane,dashed] (\angVis-180:1) arc (\angVis-180:\angVis:1);
	}
	\newcommand\DrawLatitudeCircle[2][1]{
	  \LatitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
	  % angle of "visibility"
	  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
	  \draw[current plane] (\angVis:1) arc (\angVis:-\angVis-180:1);
	  \draw[current plane,dashed] (180-\angVis:1) arc (180-\angVis:\angVis:1);
	}
	
	%% document-wide tikz options and styles
	
	\tikzset{%
	  >=latex, % option for nice arrows
	  inner sep=0pt,%
	  outer sep=2pt,%
	  mark coordinate/.style={inner sep=0pt,outer sep=0pt,minimum size=3pt,
	    fill=black,circle}%
	}
	
	\begin{document}
	
	\begin{tikzpicture} % "THE GLOBE" showcase
	
	\def\R{2.5} % sphere radius
	\def\angEl{35} % elevation angle
	\filldraw[ball color=white] (0,0) circle (\R);
	\foreach \t in {-80,-60,...,80} { \DrawLatitudeCircle[\R]{\t} }
	\foreach \t in {-5,-35,...,-175} { \DrawLongitudeCircle[\R]{\t} }
	
	\end{tikzpicture}
	
	\begin{tikzpicture} % CENT
	
	%% some definitions
	
	\def\R{2.5} % sphere radius
	\def\angEl{35} % elevation angle
	\def\angAz{-105} % azimuth angle
	\def\angPhi{-40} % longitude of point P
	\def\angBeta{19} % latitude of point P
	
	%% working planes
	
	\pgfmathsetmacro\H{\R*cos(\angEl)} % distance to north pole
	\tikzset{xyplane/.style={cm={cos(\angAz),sin(\angAz)*sin(\angEl),-sin(\angAz),
	                              cos(\angAz)*sin(\angEl),(0,-\H)}}}
	\LongitudePlane[xzplane]{\angEl}{\angAz}
	\LongitudePlane[pzplane]{\angEl}{\angPhi}
	\LatitudePlane[equator]{\angEl}{0}
	
	%% draw xyplane and sphere
	
	\draw[xyplane] (-2*\R,-2*\R) rectangle (2.2*\R,2.8*\R);
	\fill[ball color=white] (0,0) circle (\R); % 3D lighting effect
	\draw (0,0) circle (\R);
	
	%% characteristic points
	
	\coordinate (O) at (0,0);
	\coordinate[mark coordinate] (N) at (0,\H);
	\coordinate[mark coordinate] (S) at (0,-\H);
	\path[pzplane] (\angBeta:\R) coordinate[mark coordinate] (P);
	\path[pzplane] (\R,0) coordinate (PE);
	\path[xzplane] (\R,0) coordinate (XE);
	\path (PE) ++(0,-\H) coordinate (Paux); % to aid Phat calculation
	\coordinate[mark coordinate] (Phat) at (intersection cs: first line={(N)--(P)},
	                                        second line={(S)--(Paux)});
	
	%% draw meridians and latitude circles
	
	\DrawLatitudeCircle[\R]{0} % equator
	%\DrawLatitudeCircle[\R]{\angBeta}
	\DrawLongitudeCircle[\R]{\angAz} % xzplane
	\DrawLongitudeCircle[\R]{\angAz+90} % yzplane
	\DrawLongitudeCircle[\R]{\angPhi} % pzplane
	
	%% draw xyz coordinate system
	
	\draw[xyplane,<->] (1.8*\R,0) node[below] {$x,\xi$} -- (0,0) -- (0,2.4*\R)
	    node[right] {$y,\eta$};
	\draw[->] (0,-\H) -- (0,1.6*\R) node[above] {$z,\zeta$};
	
	%% draw lines and put labels
	
	\draw[dashed] (P) -- (N) +(0.3ex,0.6ex) node[above left] {$\mathbf{N}$};
	\draw (P) -- (Phat) node[above right] {$\mathbf{\hat{P}}$};
	\path (S) +(0.4ex,-0.4ex) node[below] {$\mathbf{S}$};
	\draw[->] (O) -- (P) node[above right] {$\mathbf{P}$};
	\draw[dashed] (XE) -- (O) -- (PE);
	\draw[pzplane,->,thin] (0:0.5*\R) to[bend right=15]
	    node[pos=0.4,right] {$\beta$} (\angBeta:0.5*\R);
	\draw[equator,->,thin] (\angAz:0.4*\R) to[bend right=30]
	    node[pos=0.4,below] {$\phi$} (\angPhi:0.4*\R);
	\draw[thin,decorate,decoration={brace,raise=0.5pt,amplitude=1ex}] (N) -- (O)
	    node[midway,right=1ex] {$a$};
	
	\end{tikzpicture}
	
	\begin{tikzpicture} % MERC
	
	%% some definitions
	
	\def\R{3} % sphere radius
	\def\angEl{25} % elevation angle
	\def\angAz{-100} % azimuth angle
	\def\angPhiOne{-50} % longitude of point P
	\def\angPhiTwo{-35} % longitude of point Q
	\def\angBeta{33} % latitude of point P and Q
	
	%% working planes
	
	\pgfmathsetmacro\H{\R*cos(\angEl)} % distance to north pole
	\LongitudePlane[xzplane]{\angEl}{\angAz}
	\LongitudePlane[pzplane]{\angEl}{\angPhiOne}
	\LongitudePlane[qzplane]{\angEl}{\angPhiTwo}
	\LatitudePlane[equator]{\angEl}{0}
	
	%% draw background sphere
	
	\fill[ball color=white] (0,0) circle (\R); % 3D lighting effect
	%\fill[white] (0,0) circle (\R); % just a white circle
	\draw (0,0) circle (\R);
	
	%% characteristic points
	
	\coordinate (O) at (0,0);
	\coordinate[mark coordinate] (N) at (0,\H);
	\coordinate[mark coordinate] (S) at (0,-\H);
	\path[xzplane] (\R,0) coordinate (XE);
	\path[pzplane] (\angBeta:\R) coordinate (P);
	\path[pzplane] (\R,0) coordinate (PE);
	\path[qzplane] (\angBeta:\R) coordinate (Q);
	\path[qzplane] (\R,0) coordinate (QE);
	
	%% meridians and latitude circles
	
	% \DrawLongitudeCircle[\R]{\angAz} % xzplane
	% \DrawLongitudeCircle[\R]{\angAz+90} % yzplane
	\DrawLongitudeCircle[\R]{\angPhiOne} % pzplane
	\DrawLongitudeCircle[\R]{\angPhiTwo} % qzplane
	\DrawLatitudeCircle[\R]{\angBeta}
	\DrawLatitudeCircle[\R]{0} % equator
	
	% shifted equator in node with nested call to tikz 
	% (I didn't know it's possible)
	\node at (0,1.6*\R) { \tikz{\DrawLatitudeCircle[\R]{0}} };
	
	%% draw lines and put labels
	
	\draw (-\R,-\H) -- (-\R,2*\R) (\R,-\H) -- (\R,2*\R);
	\draw[->] (XE) -- +(0,2*\R) node[above] {$y$};
	\node[above=8pt] at (N) {$\mathbf{N}$};
	\node[below=8pt] at (S) {$\mathbf{S}$};
	\draw[->] (O) -- (P);
	\draw[dashed] (XE) -- (O) -- (PE);
	\draw[dashed] (O) -- (QE);
	\draw[pzplane,->,thin] (0:0.5*\R) to[bend right=15]
	    node[midway,right] {$\beta$} (\angBeta:0.5*\R);
	\path[pzplane] (0.5*\angBeta:\R) node[right] {$\hat{1}$};
	\path[qzplane] (0.5*\angBeta:\R) node[right] {$\hat{2}$};
	\draw[equator,->,thin] (\angAz:0.5*\R) to[bend right=30]
	    node[pos=0.4,above] {$\phi_1$} (\angPhiOne:0.5*\R);
	\draw[equator,->,thin] (\angAz:0.6*\R) to[bend right=35]
	    node[midway,below] {$\phi_2$} (\angPhiTwo:0.6*\R);
	\draw[equator,->] (-90:\R) arc (-90:-70:\R) node[below=0.3ex] {$x = a\phi$};
	\path[xzplane] (0:\R) node[below] {$\beta=0$};
	\path[xzplane] (\angBeta:\R) node[below left] {$\beta=\beta_0$};
	
	\end{tikzpicture}
	
	
	\begin{tikzpicture} % KART
	
	\def\R{2.5}
	
	\node[draw,minimum size=2cm*\R,inner sep=0,outer sep=0,circle] (C) at (0,0) {};
	\coordinate (O) at (0,0);
	\coordinate[mark coordinate] (Phat) at (20:2.5*\R);
	\coordinate (T1) at (tangent cs: node=C, point={(Phat)}, solution=1);
	\coordinate (T2) at (tangent cs: node=C, point={(Phat)}, solution=2);
	\coordinate[mark coordinate] (P) at ($(T1)!0.5!(T2)$);
	
	\draw[dashed] (T1) -- (O) -- (T2) -- (Phat) -- (T1) -- (T2);
	\draw[<->] (0,1.5*\R) node[above] {$y$} |- (2.5*\R,0) node[right] {$x$};
	\draw (O) node[below left] {$\mathbf{O}$} -- (P)
	    +(1ex,0) node[above=1ex] {$\mathbf{P}$};
	\draw (P) -- (Phat) node[above=1ex] {$\mathbf{\hat{P}}$};
	
	\end{tikzpicture}
	
	\end{document} 
snippet arrows marketing-distribution-channel
	%% Depiction of a marketing distribution channel or supply chain. 
	%% Author: Ashutosh Prasad
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows,positioning} 
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:TItle: Marketing distribution channel
	
	Depiction of a marketing distribution channel or supply chain. 
	This type of figure, where the boxes represent channel members and arrows
	represent the flow of goods, is quite common in business management. 
	
	For a discussion of advertising participation rates in channels, see, e.g., 
	He, Prasad & Sethi (POM 2009). 
	
	\end{comment}
	
	\begin{document}
	
	\begin{figure}
	\centering
	\begin{tikzpicture}[node distance=1cm, auto]  
	\tikzset{
	    mynode/.style={rectangle,rounded corners,draw=black, top color=white, bottom color=yellow!50,very thick, inner sep=1em, minimum size=3em, text centered},
	    myarrow/.style={->, >=latex', shorten >=1pt, thick},
	    mylabel/.style={text width=7em, text centered} 
	}  
	\node[mynode] (manufacturer) {MANUFACTURER};  
	\node[below=3cm of manufacturer] (dummy) {}; 
	\node[mynode, left=of dummy] (retailer1) {RETAILER 1};  
	\node[mynode, right=of dummy] (retailer2) {RETAILER 2};
	\node[mylabel, below left=of manufacturer] (label1) {Participation rate $\theta_1$};  
	\node[mylabel, below right=of manufacturer] (label2) {Participation rate $\theta_2$};
	% The text width of 7em forces the text to break into two lines. 
	
	\draw[myarrow] (manufacturer.south) -- ++(-.5,0) -- ++(0,-1) -|  (retailer1.north);	
	\draw[myarrow] (manufacturer.south) -- ++(.5,0) -- ++(0,-1) -|  (retailer2.north);
	% There is a slight overlap of the arrows with the (manufacturer) south edge
	% because creating the offset in another way didn't compile. 
	 
	\draw[<->, >=latex', shorten >=2pt, shorten <=2pt, bend right=45, thick, dashed] 
	    (retailer1.south) to node[auto, swap] {Competition}(retailer2.south); 
	% The swap command corrects the placement of the text.
	
	\end{tikzpicture} 
	\medskip
	\caption{Structure of the Market} 
	\end{figure}
	
	\end{document}
snippet charts math-flowchart
	% Flowchart
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=20pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Flowchart
	:Tags: Charts;Flowcharts;Cookbook
	:Author: Stefan Kottwitz
	:Slug: math-flowchart
	
	A flowchart showing how we may choose a math
	environment.
	
	It shows using styles, placing nodes in a matrix,
	and drawing arrows using loops.
	\end{comment}
	\usepackage[a4paper,vmargin=3cm]{geometry}
	\usepackage{tikz}
	\usetikzlibrary{matrix,calc,shapes}
	\tikzset{
	  treenode/.style = {shape=rectangle, rounded corners,
	                     draw, anchor=center,
	                     text width=5em, align=center,
	                     top color=white, bottom color=blue!20,
	                     inner sep=1ex},
	  decision/.style = {treenode, diamond, inner sep=0pt},
	  root/.style     = {treenode, font=\Large, bottom color=red!30},
	  env/.style      = {treenode, font=\ttfamily\normalsize},
	  finish/.style   = {root, bottom color=green!40},
	  dummy/.style    = {circle,draw}
	}
	\newcommand{\yes}{edge node [above] {yes}}
	\newcommand{\no}{edge  node [left]  {no}}
	\begin{document}
	\begin{tikzpicture}[-latex]
	  \matrix (chart)
	    [
	      matrix of nodes,
	      column sep      = 3em,
	      row sep         = 5ex,
	      column 1/.style = {nodes={decision}},
	      column 2/.style = {nodes={env}}
	    ]
	    {
	      |[root]| Formula           &                \\
	      single-line?               & equation       \\
	      centered?                  & gather         \\
	      aligned at relation sign?  & align, flalign \\
	      aligned at several places? & alignat        \\
	      first left, centered,
	        last right?              & multline       \\
	      & & |[decision]| numbered? \\
	      & & |[treenode]| Add a \texttt{*} & |[finish]| Done \\
	    };
	  \draw
	    (chart-1-1) edge (chart-2-1)
	    \foreach \x/\y in {2/3, 3/4, 4/5, 5/6} {
	      (chart-\x-1) \no (chart-\y-1) }
	    \foreach \x in {2,...,6} {
	       (chart-\x-1) \yes (chart-\x-2) }
	   (chart-7-3) \no  (chart-8-3)
	   (chart-8-3) edge (chart-8-4);
	 \draw
	   (chart-6-1) -- +(-2,0) |- (chart-1-1)
	     node[near start,sloped,above] {no, reconsider};
	  \foreach \x in {2,...,6} {
	   \draw (chart-\x-2) -| (chart-7-3);}
	 \draw   (chart-7-3)  -| (chart-8-4)
	   node[near start,above] {yes}; 
	\end{tikzpicture}
	\end{document}
snippet matrix matrix-multiplication
	% Author : Alain Matthes
	% Source : http://altermundus.com/pages/examples.html
	\documentclass[]{article}
	
	\usepackage[utf8]{inputenc}
	\usepackage[upright]{fourier}
	\usepackage{tikz}
	\usetikzlibrary{matrix,arrows,decorations.pathmorphing}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Matrix multiplication
	:Use page: 1
	
	Illustration of how to compute the product of two matrices.
	
	:Source: `Altermundus.com`_
	
	.. _Altermundus.com: http://altermundus.com/pages/examples.html
	\end{comment}
	
	\begin{document}
	
	% l' unite
	\newcommand{\myunit}{1 cm}
	\tikzset{
	    node style sp/.style={draw,circle,minimum size=\myunit},
	    node style ge/.style={circle,minimum size=\myunit},
	    arrow style mul/.style={draw,sloped,midway,fill=white},
	    arrow style plus/.style={midway,sloped,fill=white},
	}
	
	\begin{tikzpicture}[>=latex]
	% les matrices
	\matrix (A) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter = )] at (0,0)
	{%
	  a_{11} & a_{12} & \ldots & a_{1p}  \\
	  \node[node style sp] {a_{21}};%
	         & \node[node style sp] {a_{22}};%
	                  & \ldots%
	                           & \node[node style sp] {a_{2p}}; \\
	  \vdots & \vdots & \ddots & \vdots  \\
	  a_{n1} & a_{n2} & \ldots & a_{np}  \\
	};
	\node [draw,below=10pt] at (A.south) 
	    { $A$ : \textcolor{red}{$n$ rows} $p$ columns};
	
	\matrix (B) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter =)] at (6*\myunit,6*\myunit)
	{%
	  b_{11} & \node[node style sp] {b_{12}};%
	                  & \ldots & b_{1q}  \\
	  b_{21} & \node[node style sp] {b_{22}};%
	                  & \ldots & b_{2q}  \\
	  \vdots & \vdots & \ddots & \vdots  \\
	  b_{p1} & \node[node style sp] {b_{p2}};%
	                  & \ldots & b_{pq}  \\
	};
	\node [draw,above=10pt] at (B.north) 
	    { $B$ : $p$ rows \textcolor{red}{$q$ columns}};
	% matrice résultat
	\matrix (C) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter = )] at (6*\myunit,0)
	{%
	  c_{11} & c_{12} & \ldots & c_{1q} \\
	  c_{21} & \node[node style sp,red] {c_{22}};%
	                  & \ldots & c_{2q} \\
	  \vdots & \vdots & \ddots & \vdots \\
	  c_{n1} & c_{n2} & \ldots & c_{nq} \\
	};
	% les fleches
	\draw[blue] (A-2-1.north) -- (C-2-2.north);
	\draw[blue] (A-2-1.south) -- (C-2-2.south);
	\draw[blue] (B-1-2.west)  -- (C-2-2.west);
	\draw[blue] (B-1-2.east)  -- (C-2-2.east);
	\draw[<->,red](A-2-1) to[in=180,out=90]
		node[arrow style mul] (x) {$a_{21}\times b_{12}$} (B-1-2);
	\draw[<->,red](A-2-2) to[in=180,out=90]
		node[arrow style mul] (y) {$a_{22}\times b_{22}$} (B-2-2);
	\draw[<->,red](A-2-4) to[in=180,out=90]
		node[arrow style mul] (z) {$a_{2p}\times b_{p2}$} (B-4-2);
	\draw[red,->] (x) to node[arrow style plus] {$+$} (y)%
	                  to node[arrow style plus] {$+\raisebox{.5ex}{\ldots}+$} (z)%
	                  to (C-2-2.north west);
	
	
	\node [draw,below=10pt] at (C.south) 
	    {$ C=A\times B$ : \textcolor{red}{$n$ rows}  \textcolor{red}{$q$ columns}};
	
	\end{tikzpicture}
	
	\begin{tikzpicture}[>=latex]
	% unit
	% defintion of matrices
	\matrix (A) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter = )] at (0,0)
	{%
	  a_{11} &\ldots & a_{1k} & \ldots & a_{1p}  \\
	    \vdots & \ddots & \vdots & \vdots & \vdots \\
	  \node[node style sp] {a_{i1}};& \ldots%
	         & \node[node style sp] {a_{ik}};%
	                  & \ldots%
	                           & \node[node style sp] {a_{ip}}; \\
	  \vdots & \vdots& \vdots & \ddots & \vdots  \\
	  a_{n1}& \ldots & a_{nk} & \ldots & a_{np}  \\
	};
	\node [draw,below] at (A.south) { $A$ : \textcolor{red}{$n$ rows} $p$ columns};
	\matrix (B) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter =)] at (7*\myunit,7*\myunit)
	{%
	  b_{11} &  \ldots& \node[node style sp] {b_{1j}};%
	                  & \ldots & b_{1q}  \\
	  \vdots& \ddots & \vdots & \vdots & \vdots \\
	  b_{k1} &  \ldots& \node[node style sp] {b_{kj}};%
	                  & \ldots & b_{kq}  \\
	  \vdots& \vdots & \vdots & \ddots & \vdots \\
	  b_{p1} &  \ldots& \node[node style sp] {b_{pj}};%
	                  & \ldots & b_{pq}  \\
	};
	\node [draw,above] at (B.north) { $B$ : $p$ rows \textcolor{red}{$q$ columns}};
	% matrice resultat
	\matrix (C) [matrix of math nodes,%
	             nodes = {node style ge},%
	             left delimiter  = (,%
	             right delimiter = )] at (7*\myunit,0)
	{%
	  c_{11} & \ldots& c_{1j} & \ldots & c_{1q} \\
	  \vdots& \ddots & \vdots & \vdots & \vdots \\
	    c_{i1}& \ldots & \node[node style sp,red] {c_{ij}};%
	                  & \ldots & c_{iq} \\
	  \vdots& \vdots & \vdots & \ddots & \vdots \\
	  c_{n1}& \ldots & c_{nk} & \ldots & c_{nq} \\
	};
	\node [draw,below] at (C.south) 
	    {$ C=A\times B$ : \textcolor{red}{$n$ rows}  \textcolor{red}{$q$ columns}};
	% arrows
	\draw[blue] (A-3-1.north) -- (C-3-3.north);
	\draw[blue] (A-3-1.south) -- (C-3-3.south);
	\draw[blue] (B-1-3.west)  -- (C-3-3.west);
	\draw[blue] (B-1-3.east)  -- (C-3-3.east);
	\draw[<->,red](A-3-1) to[in=180,out=90] 
	    node[arrow style mul] (x) {$a_{i1}\times b_{1j}$} (B-1-3);
	\draw[<->,red](A-3-3) to[in=180,out=90] 
	    node[arrow style mul] (y) {$a_{ik}\times b_{kj}$}(B-3-3);
	\draw[<->,red](A-3-5) to[in=180,out=90] 
	    node[arrow style mul] (z) {$a_{ip}\times b_{pj}$}(B-5-3);
	\draw[red,->] (x) to node[arrow style plus] {$+\raisebox{.5ex}{\ldots}+$} (y)%
	                  to node[arrow style plus] {$+\raisebox{.5ex}{\ldots}+$} (z);
	                  %
	                  % to (C-3-3.north west);
	\draw[->,red,decorate,decoration=zigzag] (z) -- (C-3-3.north west);
	\end{tikzpicture}
	\end{document}
snippet manual maze
	% encoding : utf8
	% format   : pdfLaTeX
	% author   : Alain Matthes
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Maze
	:Tags: Manual, Paths
	
	This example is from the utilities page of the TikZ and PGF manual.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}
	  \draw[line width=0.3cm,color=red!30,cap=round,join=round] (0,0)--(2,0)--(2,5);
	  \draw[help lines] (-2.5,-2.5) grid (5.5,7.5);
	  \draw[very thick] (1,-1)--(-1,-1)--(-1,1)--(0,1)--(0,0)--
	    (1,0)--(1,-1)--(3,-1)--(3,2)--(2,2)--(2,3)--(3,3)--
	    (3,5)--(1,5)--(1,4)--(0,4)--(0,6)--(1,6)--(1,5)
	    (3,3)--(4,3)--(4,5)--(3,5)--(3,6)
	    (3,-1)--(4,-1);
	  \draw[below left] (0,0) node(s){$s$};
	  \draw[below left] (2,5) node(t){$t$};
	  \fill (0,0) circle (0.06cm) (2,5) circle (0.06cm);
	  \draw[->,rounded corners=0.2cm,shorten >=2pt]
	    (1.5,0.5)-- ++(0,-1)-- ++(1,0)-- ++(0,2)-- ++(-1,0)-- ++(0,2)-- ++(1,0)--
	    ++(0,1)-- ++(-1,0)-- ++(0,-1)-- ++(-2,0)-- ++(0,3)-- ++(2,0)-- ++(0,-1)--
	    ++(1,0)-- ++(0,1)-- ++(1,0)-- ++(0,-1)-- ++(1,0)-- ++(0,-3)-- ++(-2,0)--
	    ++(1,0)-- ++(0,-3)-- ++(1,0)-- ++(0,-1)-- ++(-6,0)-- ++(0,3)-- ++(2,0)--
	    ++(0,-1)-- ++(1,0);
	\end{tikzpicture}
	
	\end{document}
snippet foreach membrane-ions
	% Membrane and Ions
	% Yotam Avital
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Membrane and Ions
	:Tags: Foreach;Shadings;3D;Random;Surfaces;Physics
	:Author: Yotam Avital
	:Slug: membrane-ions
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[x=3cm, y=3cm]
	\begin{scope}[every node/.append style={
	      yslant=0,xslant=0},yslant=0,xslant=2.5
	  ]
	  \shade[bottom color = black, top color = white] (-12.54, 5)
	    rectangle +(0.1, 1.1);
	  \shade[bottom color = blue, top color = white] (-12.48,5)
	    rectangle +(0.5,1.1);
	  \shade[bottom color = black, top color = white] (-12, 4.98)
	    rectangle +(0.1, 1.1);
	\end{scope}
	
	\begin{scope}[every node/.append style={
	      yslant=0,xslant=0},yslant=0.4,xslant=0
	  ]
	  \shade[left color = blue, right color = white, rounded corners=1]
	    (0.54,-0.26) rectangle +(2.8,5.03);
	  \foreach \x in {0.8,1.3,...,3.3}{
	    \foreach \y in {0.1, 0.7,..., 4.8}{
	      \pgfmathsetmacro{\val}{1-(\x-0.8)/2.6}
	      \node [color = red, opacity =\val] at (\x ,\y) {\Huge{\textbf +}};
	    }
	  }
	\end{scope}
	
	\pgfmathsetseed{10}
	
	  \foreach \i in {1,2,...,30}{
	%    \pgfmathsetmacro{\x}{(rand*0.5 + 1)*4 + 1}
	%    \pgfmathsetmacro{\y}{(rand*0.5 + 1)*3.9 + 2 }
	    \pgfmathsetmacro{\x}{(rand*0.5 + 1)*3 - 0.5}
	    \pgfmathsetmacro{\y}{(rand*0.5 + 1)*4.7-1.2}
	    %    \pgfmathsetmacro{\opacVal}{0.95*(\x-2.5)/4 + rand*0.05}
	    \pgfmathsetmacro{\opacVal}{rand*0.5+1}
	    \shade [ball color = green, opacity = \opacVal] (\x,\y) circle (0.1);
	  }
	
	\fill [fill = black,rounded corners= 0.6] (-0.05,-0.05)
	  rectangle +(0.6,5.05);
	\fill [fill = blue] (0,0) rectangle +(0.5,4.95);
	\end{tikzpicture}
	\end{document}
snippet 3d membrane-surface
	% Membrane-like surface
	% Author: Yotam Avital
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{calc,fadings,decorations.pathreplacing}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Membrane-like surface
	:Tags: 3D;Random;Chemistry;Biology;Physics
	:Author: Yotam Avital
	:Slug: membrane-surface
	A code to generate a membrane-like surface with some curvature
	and randomness to the  ``molecules'' constituting the surface.
	\end{comment}
	\begin{document}
	\begin{tikzpicture}
	  \def\nuPi{3.1459265}
	  \foreach \i in {11,10,...,0}{% This one doesn't matter
	    \foreach \j in {5,4,...,0}{% This will crate a membrane
	                               % with the front lipids visible
	      % top layer
	      \pgfmathsetmacro{\dx}{rand*0.1}% A random variance in the x coordinate
	      \pgfmathsetmacro{\dy}{rand*0.1}% A random variance in the y coordinate,
	                                     % gives a hight fill to the lipid
	      \pgfmathsetmacro{\rot}{rand*0.1}% A random variance in the
	                                      % molecule orientation      
	      \shade[ball color=red] ({\i+\dx+\rot},{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)}) circle(0.45);
	      \shade[ball color=gray] (\i+\dx,{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)-0.9}) circle(0.45);
	      \shade[ball color=gray] (\i+\dx-\rot,{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)-1.8}) circle(0.45);
	      % bottom layer
	      \pgfmathsetmacro{\dx}{rand*0.1}
	      \pgfmathsetmacro{\dy}{rand*0.1}
	      \pgfmathsetmacro{\rot}{rand*0.1}
	      \shade[ball color=gray] (\i+\dx+\rot,{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)-2.8}) circle(0.45);
	      \shade[ball color=gray] (\i+\dx,{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)-3.7}) circle(0.45);
	      \shade[ball color=red] (\i+\dx-\rot,{0.5*\j+\dy+0.4*sin(\i*\nuPi*10)-4.6}) circle(0.45);
	    }
	  }
	\end{tikzpicture}
	\end{document}
snippet trees merge-sort-recursion-tree
	% MergeSort-RecursionTree
	% Manuel Kirsch
	\documentclass[a4paper,landscape]{scrartcl}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	%\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Merge sort recursion tree
	
	\end{comment}
	\usepackage{fancybox}
	\usepackage{tikz}
	
	\title{MergeSort-RecursionTree}
	\author{Manuel Kirsch}
	\date{}
	\begin{document}
	\begin{preview}
	\ovalbox{
	\begin{tikzpicture}[level/.style={sibling distance=60mm/#1}]
	\node [circle,draw] (z){$n$}
	  child {node [circle,draw] (a) {$\frac{n}{2}$}
	    child {node [circle,draw] (b) {$\frac{n}{2^2}$}
	      child {node {$\vdots$}
	        child {node [circle,draw] (d) {$\frac{n}{2^k}$}}
	        child {node [circle,draw] (e) {$\frac{n}{2^k}$}}
	      } 
	      child {node {$\vdots$}}
	    }
	    child {node [circle,draw] (g) {$\frac{n}{2^2}$}
	      child {node {$\vdots$}}
	      child {node {$\vdots$}}
	    }
	  }
	  child {node [circle,draw] (j) {$\frac{n}{2}$}
	    child {node [circle,draw] (k) {$\frac{n}{2^2}$}
	      child {node {$\vdots$}}
	      child {node {$\vdots$}}
	    }
	  child {node [circle,draw] (l) {$\frac{n}{2^2}$}
	    child {node {$\vdots$}}
	    child {node (c){$\vdots$}
	      child {node [circle,draw] (o) {$\frac{n}{2^k}$}}
	      child {node [circle,draw] (p) {$\frac{n}{2^k}$}
	        child [grow=right] {node (q) {$=$} edge from parent[draw=none]
	          child [grow=right] {node (q) {$O_{k = \lg n}(n)$} edge from parent[draw=none]
	            child [grow=up] {node (r) {$\vdots$} edge from parent[draw=none]
	              child [grow=up] {node (s) {$O_2(n)$} edge from parent[draw=none]
	                child [grow=up] {node (t) {$O_1(n)$} edge from parent[draw=none]
	                  child [grow=up] {node (u) {$O_0(n)$} edge from parent[draw=none]}
	                }
	              }
	            }
	            child [grow=down] {node (v) {$O(n \cdot \lg n)$}edge from parent[draw=none]}
	          }
	        }
	      }
	    }
	  }
	};
	\path (a) -- (j) node [midway] {+};
	\path (b) -- (g) node [midway] {+};
	\path (k) -- (l) node [midway] {+};
	\path (k) -- (g) node [midway] {+};
	\path (d) -- (e) node [midway] {+};
	\path (o) -- (p) node [midway] {+};
	\path (o) -- (e) node (x) [midway] {$\cdots$}
	  child [grow=down] {
	    node (y) {$O\left(\displaystyle\sum_{i = 0}^k 2^i \cdot \frac{n}{2^i}\right)$}
	    edge from parent[draw=none]
	  };
	\path (q) -- (r) node [midway] {+};
	\path (s) -- (r) node [midway] {+};
	\path (s) -- (t) node [midway] {+};
	\path (s) -- (l) node [midway] {=};
	\path (t) -- (u) node [midway] {+};
	\path (z) -- (u) node [midway] {=};
	\path (j) -- (t) node [midway] {=};
	\path (y) -- (x) node [midway] {$\Downarrow$};
	\path (v) -- (y)
	  node (w) [midway] {$O\left(\displaystyle\sum_{i = 0}^k n\right) = O(k \cdot n)$};
	\path (q) -- (v) node [midway] {=};
	\path (e) -- (x) node [midway] {+};
	\path (o) -- (x) node [midway] {+};
	\path (y) -- (w) node [midway] {$=$};
	\path (v) -- (w) node [midway] {$\Leftrightarrow$};
	\path (r) -- (c) node [midway] {$\cdots$};
	\end{tikzpicture}}
	\end{preview}
	\end{document}
snippet diagrams mesif
	% Author: Marek Fiser <tikz at marekfiser.cz>
	% MESIF protocol: http://en.wikipedia.org/wiki/MESIF_protocol
	\documentclass[tikz, border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: MESIF protocol
	:Tags: Diagrams;Block diagrams;Computer science
	:Author: Marek Fiser
	:Slug: mesif
	
	A diagram describing the MESIF protocol: http://en.wikipedia.org/wiki/MESIF_protocol
	\end{comment}
	\usetikzlibrary{arrows}
	\begin{document}
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
	  thick,main node/.style={circle,fill=blue!20,draw,
	  font=\sffamily\Large\bfseries,minimum size=15mm}]
	
	  \node[main node] (M) {M};
	  \node[main node] (E) [below of=M] {E};
	  \node[main node] (S) [below of=E] {S};
	  \node[main node] (F) [below of=S] {F};
	  \node[main node] (I) [below of=F] {I};
	
	  \path[every node/.style={font=\sffamily\small,
	  		fill=white,inner sep=1pt}]
	  	% Right-hand-side arrows rendered from top to bottom to
	  	% achieve proper rendering of labels over arrows.
	    (M) edge [loop above] node {PrRd/-, PrWr/-} (M)
	        edge [bend left=60] node[right=1mm] {BusRdX/Flush} (I)
	        edge [bend left=40] node[right=1mm] {BusRd/Flush} (S)
	    (E) edge [loop above] node {PrRd/-} (E)
	        edge [bend left=50] node[right=1mm] {BusRdX/Flush} (I)
	        edge [bend left=30] node[right=1mm] {BusRd/Flush} (S)
	    (S) edge [loop above] node {PrRd/-} (S)
	        edge [loop right] node[right=1mm]  {BusRd/-} (S)
	        edge [bend left=40] node[right=1mm] {BusRdX/Flush} (I)
	    (F) edge [bend left=30] node[right=1mm] {BusRdX/Flush} (I)
	        
	  	% Left-hand-side arrows rendered from bottom to top to
	  	% achieve proper rendering of labels over arrows.
	    (I) edge [bend left=65] node[left=1mm] {PrWr/BusRdX} (M)
	        edge [bend left=55] node[left=1mm] {PrRd/BusRd Ex} (E)
	        edge [bend left=30] node[left=1mm] {PrRd/BusRd} (F)
	    (F) edge [loop above] node {PrRd/-} (F)
	        edge [bend left=50] node[left=1mm] {PrWr/BusRdX} (M)
	        edge [bend left=30] node[left=1mm] {BusRd/Flush} (S)
	    (S) edge [bend left=40] node[left=1mm] {PrWr/BusRdX} (M)
	    (E) edge [bend left=30] node[left=1mm] {PrWr/-} (M);
	\end{tikzpicture}
	\end{document}
snippet mindmaps mindmap
	% Mindmap
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border = 60pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Mindmap
	:Tags: Mindmaps;Cookbook
	:Author: Stefan Kottwitz
	:Slug: mindmap
	
	A mindmap of TeX concepts.
	\end{comment}
	\usepackage[landscape]{geometry}
	\usepackage{tikz}
	\usetikzlibrary{mindmap}
	\usepackage{metalogo}
	\usepackage{dtklogos}
	\begin{document}
	\begin{tikzpicture}
	  \path [
	    mindmap,
	    text = white,
	    level 1 concept/.append style =
	      {font=\Large\bfseries, sibling angle=90},
	    level 2 concept/.append style =
	      {font=\normalsize\bfseries},
	    level 3 concept/.append style =
	      {font=\small\bfseries},
	    tex/.style     = {concept, ball color=blue,
	      font=\Huge\bfseries},
	    engines/.style = {concept, ball color=green!50!black},
	    formats/.style = {concept, ball color=blue!50!black},
	    systems/.style = {concept, ball color=red!90!black},
	    editors/.style = {concept, ball color=orange!90!black}
	  ]
	  node [tex] {\TeX} [clockwise from=0]
	    child[concept color=green!50!black, nodes={engines}] {
	      node {Engines} [clockwise from=90]
	        child { node {\TeX} }
	        child { node {pdf\TeX} }
	        child { node {\XeTeX} }
	        child { node {Lua\TeX} }}
	    child [concept color=blue, nodes={formats}] {
	      node {Formats} [clockwise from=300]
	        child { node {\LaTeX} }
	        child { node {Con\TeX t} }}
	    child [concept color=red, nodes={systems}] {
	      node {Systems} [clockwise from=210]
	        child { node {\TeX Live} [clockwise from=300]
	          child { node {Mac \TeX} }}
	        child { node {MiK\TeX} [clockwise from=60]
	          child { node {Pro \TeX t} }}}
	    child [concept color=orange, nodes={editors}] {
	      node {Editors} };
	\end{tikzpicture}
	\end{document}
snippet block minimum-shift-keying-modulator
	% Example for an interconnection of signal flow diagrams.
	%
	% Author: Dr. Karlheinz Ochs, Ruhr-University of Bochum, Germany
	% Version: 0.1
	% Date: 2007/01/05
	\documentclass{article}
	\usepackage{signalflowdiagram}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{signalflow}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Minimum shift keying modulator
	:Tag: MSK-modulator
	:Tags: Block diagrams, Macro packages
	
	An example of interconnection of signal flow diagrams using the signalflow library by
	Karlheinz Ochs. Common system blocks like minimum shift keying coders and pulse
	shapers are defined as macros for easy reuse and interconnection.
	
	Files:
	
	- Download the version of the ``signalflow`` library used in this example: `signalflow.zip`_
	
	.. _signalflow.zip: http://media.texample.net/tikz/examples/signalflowlibrary/signalflowlibrary.zip
	
	| Author: `Dr. Karlheinz Ochs`__, Ruhr-University of Bochum, Germany
	
	.. __: http://www.nt.ruhr-uni-bochum.de/Extern/en/Group/Who/Engineer/Ochs/person.htm
	
	\end{comment}
	\begin{document}
	
	% Note: The following macros are also defined in the macros.sty file
	
	%
	% Creates the signal flow diagram of a minimum shift keying coder.
	%
	% #1 = global label
	% #2 = parameter for placement
	\newcommand{\mskCoder}[3]{%
	   % building blocks
	   \node[modulator]  (#1-in)  [#2] {};
	   \node[multiplier] (mul)    [below from=#1-in] {$\mathrm{j}$};
	   \node[delay]      (del)    [right from=#1-in] {$T$};
	   \node[node]       (#1-out) [right from=del]   {};
	   % signal paths
	   \path[c>] (#1-in)  -- (del);
	   \path[c>] (del)    -- (#1-out);
	   \path[c>] (#1-out) |- (mul);
	   \path[c>] (mul)    -- (#1-in);
	}%
	
	% Creates the signal flow diagram of a pulse shaper.
	%
	% #1 = global label
	% #2 = parameter for placement
	\newcommand{\pulseShaper}[4]{%
	   % building blocks
	   \node[modulator]  (#1-in)  [#2] {};
	   \node[coordinate] (pam)
	      [above from = #1-in,
	       label=above:$\sum\limits_{\nu=-\infty}^{\infty} \delta(t-t_\nu)$] {};
	   \node[filter]     (#1-out) [right from = #1-in] {$q(t)$};
	   % signal paths
	   \path[r>] (pam)   -- (#1-in);
	   \path[c>] (#1-in) -- (#1-out);
	}%
	
	% interconnection of an MSK symbol encoder with a pulse shaper
	\begin{signalflow}{Minimum shift keying modulator}%
	   \node[input]  (in)                      {$x(t)$};
	   \mskCoder     {mC}  {right from=in}     {};
	   \pulseShaper  {pS}  {right from=mC-out} {};
	   \node[output] (out) [right from=pS-out] {$z(t)$};
	   % signal paths
	   \path[c>] (in)     -- (mC-in);
	   \path[c>] (mC-out) -- (pS-in);
	   \path[c>] (pS-out) -- (out);
	   \textaboveof{mC-out}{$y(t)$}
	\end{signalflow}
	
	\end{document}
snippet matrix mnemonic-rule-for-matrix-determinant
	% Mnemonic rule for matrix determinant 
	% Author: Alain Matthes
	\documentclass[]{article}
	\usepackage[utf8]{inputenc}
	\usepackage[upright]{fourier}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Mnemonic rule for matrix determinant
	
	Pierre Frédéric Sarrus (10 March 1798, Saint-Affrique - 20 November 1861) was a 
	French mathematician.  Sarrus was professor at the University of Strasbourg, France (1826-1856)
	and member of the Academy of Sciences in Paris (1842). He  discovered a mnemonic rule for 
	solving the determinant of a 3-by-3 matrix, named Sarrus' scheme, which provides an 
	easy-to-remember method of working out the determinant of a 3-by-3 matrix.
	
	\end{comment}
	
	\usetikzlibrary{matrix}
	\usepackage{fullpage,amsmath}
	\begin{document}
	  Pierre Frédéric Sarrus (10 March 1798, Saint-Affrique - 20 November 1861) was a French mathematician.
	  Sarrus was professor at the University of Strasbourg, France (1826-1856) and member of the Academy of Sciences in Paris (1842). He  discovered a mnemonic rule for solving the determinant of a 3-by-3 matrix, named Sarrus' scheme, which provides an easy-to-remember method of working out the determinant of a 3-by-3 matrix (as illustrated below)
	
	\tikzset{node style ge/.style={circle}}
	det(M)=
	$\left|
	\begin{matrix}
	    a_{11} & a_{12} & a_{13}  \\
	    a_{21} & a_{22} & a_{23}  \\
	    a_{31} & a_{32} & a_{33}  \\
	\end{matrix}%
	\right|$
	=$\big(a_{11}a_{22}a_{33}+a_{21}a_{32}a_{13}+a_{31}a_{12}a_{33}\big)-\big(a_{13}a_{22}a_{31}+a_{23}a_{32}a_{11}+a_{33}a_{12}a_{31}\big)$
	
	
	
	\begin{tikzpicture}[baseline=(A.center)]
	  \tikzset{BarreStyle/.style =   {opacity=.4,line width=4 mm,line cap=round,color=#1}}
	    \tikzset{SignePlus/.style =   {above left,,opacity=1,circle,fill=#1!50}}
	    \tikzset{SigneMoins/.style =   {below left,,opacity=1,circle,fill=#1!50}}
	% les matrices
	\matrix (A) [matrix of math nodes, nodes = {node style ge},,column sep=0 mm] 
	{ a_{11} & a_{12} & a_{13}  \\
	  a_{21} & a_{22} & a_{23}  \\
	  a_{31} & a_{32} & a_{33}  \\
	  a_{11} & a_{12} & a_{13} \\
	  a_{21} & a_{22} & a_{13}\\
	};
	
	 \draw [BarreStyle=blue] (A-1-1.north west) node[SignePlus=blue] {$+$} to (A-3-3.south east) ;
	 \draw [BarreStyle=blue] (A-2-1.north west) node[SignePlus=blue] {$+$} to (A-4-3.south east) ;
	 \draw [BarreStyle=blue] (A-3-1.north west) node[SignePlus=blue] {$+$} to (A-5-3.south east) ;
	 \draw [BarreStyle=red]  (A-3-1.south west) node[SigneMoins=red] {$-$} to (A-1-3.north east);
	 \draw [BarreStyle=red]  (A-4-1.south west) node[SigneMoins=red] {$-$} to (A-2-3.north east);
	 \draw [BarreStyle=red]  (A-5-1.south west) node[SigneMoins=red] {$-$} to (A-3-3.north east);
	\end{tikzpicture}
	
	
	\end{document}
snippet absolute modifying-current-page-node
	\documentclass[showtrims]{memoir}
	
	\begin{comment}
	:Title: Modifying the current page node
	:Slug: modifying-current-page-node
	:Tags: Absolute positioning
	:Grid: 2x1
	
	The special ``current page`` node allows you to draw on the current page using
	absolute coordinates. The anchors ``current page.north west`` and ``current page.north west``
	are the top left and bottom right corners of the current physical page.
	So, if you want to put a nice border around the page you can simply write:
	
	.. sourcecode:: latex
	
	    ...
	    \usetikzlibrary{decorations.pathmorphing}
	    ...
	    \tikz[remember picture,overlay] {%
	        \draw[thick,red, decorate,decoration={snake}]
	            (current page.north west) rectangle (current page.south east);
	    }
	
	Unfortunately the ``current page`` node does not work properly if you want to
	print your document on stock paper that is larger than your page size.
	A common scenario is to print for instance a B5 page on an A4 page.
	This example shows you can modify the code for the ``current page`` node to
	take stock paper and `recto and verso pages`_ into account.
	
	The example defines the ``\setpagenode`` macro. When called it will
	modify the ``current page`` node. If your page is centered on the stock paper
	you only need to calculate the node once. If your page is not centered the
	relevant page dimensions will be different depending on whether it is an odd
	or even page. This unfortunately requires a recalculation for every page that
	access the ``current page`` node. A quick hack save some typing is to force
	a recalculation every time the ``overlay`` style is used. Thanks to PGF's powerful
	``pgfkeys`` library this is quite easy:
	
	
	.. sourcecode:: latex
	
	    \pgfkeys{/tikz/overlay/.add code={}{\setpagenode}}
	
	
	**Note**: This example is specific to the Memoir document class. For other document
	classes you have to consult the documentation for the appropriate page dimensions.
	
	
	.. _recto and verso pages: http://en.wikipedia.org/wiki/Recto_and_verso
	
	
	\end{comment}
	
	% Set stock size to A4
	\setstocksize{297mm}{210mm}
	% Set page size to B5
	\settrimmedsize{250mm}{176mm}{*}
	\isopage
	\checkandfixthelayout
	
	\usepackage{tikz}
	\usetikzlibrary{decorations.pathmorphing}
	
	% Special current page bounding box rectangle that adapts to stock paper sizes
	% and recto/verso pages
	\newcommand\setpagenode{
	    % The original current page node code can be found in the file
	    % generic/pgf/modules/pgfmoduleshapes.code.tex
	    \expandafter\def\csname pgf@sh@ns@current page\endcsname{rectangle}
	    % Use a few low level Memoir macros to check if we are on an even or odd page.
	    \strictpagecheck
	    \checkoddpage
	    \ifoddpage%
	        \expandafter\def\csname pgf@sh@np@current page\endcsname{%
	          % Set the current page.south west coordinate
	          \def\southwest{\pgfpoint{\stockwidth-\paperwidth-\trimedge}%
	                                  {\stockheight-\trimtop-\paperheight}}%
	          % Set the current page.north east coordinate
	          \def\northeast{\pgfpoint{\stockwidth-\trimedge}{\stockheight-\trimtop}}%
	        }
	    \else
	        \expandafter\def\csname pgf@sh@np@current page\endcsname{%
	          \def\southwest{\pgfpoint{\trimedge}{\stockheight-\trimtop-\paperheight}}%
	          \def\northeast{\pgfpoint{\trimedge+\paperwidth}{\stockheight-\trimtop}}%
	        }
	    \fi
	    \expandafter\def\csname pgf@sh@nt@current page\endcsname{{1}{0}{0}{1}{0pt}{0pt}}
	    \expandafter\def\csname pgf@sh@pi@current page\endcsname{pgfpageorigin}
	}
	
	\begin{document}
	
	
	% Force recalculation of the current page node whenever the overlay option is used.
	% If you page is centered on your stock paper it is only necessary to calculate
	% the current page rectangle once.
	\pgfkeys{/tikz/overlay/.add code={}{\setpagenode}}
	
	\HUGE Verso page
	
	\tikz[remember picture,overlay] {%
	    \draw[thick,red, decorate,decoration={snake}]
	        (current page.north west) rectangle (current page.south east);
	}
	
	
	\newpage
	\HUGE Recto page
	
	\tikz[remember picture,overlay] {%
	    \draw[thick,red, decorate,decoration={snake}]
	        (current page.north west) rectangle (current page.south east);
	}
	
	\end{document}
snippet timing more-tikz-timing-examples
	% TikZ-Timing v0.7 2009/12/09 Example 8 & 9:
	% Author: Martin Scharrer
	%
	% This is an example for the 'tikz-timing' package.
	% It redraws the timing diagram taken from
	% http://commons.wikimedia.org/wiki/File:SR_FF_timing_diagram.png
	% http://en.wikipedia.org/wiki/File:SPI_timing_diagram.svg
	%
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: More tikz-timing examples
	:Grid: 1x2
	
	This example shows how to make a timing diagrams with the `tikz-timing <http://www.ctan.org/tex-archive/help/Catalogue/entries/tikz-timing.html>`_  package. The timing diagrams were taken from an external source and redrawn in TeX to demonstrate the necessary steps.
	
	The external sources are:
	
	- `<http://commons.wikimedia.org/wiki/File:SR_FF_timing_diagram.png>`_
	- `<http://en.wikipedia.org/wiki/File:SPI_timing_diagram.svg>`_
	
	Timing diagrams like these can be done using the tikztimingtable environment which has the same syntax as a tabular environment with two columns. The first column holds the signal name, the second one the timing characters. See the `package manual <http://www.ctan.org/tex-archive/graphics/pgf/contrib/tikz-timing/tikz-timing.pdf>`_ for detailed information about them.
	
	\end{comment}
	
	\usepackage{tikz-timing}[2009/12/09]
	% Use tikz-timing library 'counters' to define a counter character.
	% This character draws a 'D{<counter value>}' and increases the counter
	% value by one. A reset character which resets the counter value 
	% (by default to 1) is also defined.
	\usetikztiminglibrary[new={char=Q,reset char=R}]{counters}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{5mm}
	\pagestyle{empty}
	
	\begin{document}
	%
	% Defining foreground (fg) and background (bg) colors
	\definecolor{bgblue}{rgb}{0.41961,0.80784,0.80784}%
	\definecolor{bgred}{rgb}{1,0.61569,0.61569}%
	\definecolor{fgblue}{rgb}{0,0,0.6}%
	\definecolor{fgred}{rgb}{0.6,0,0}%
	%
	\begin{tikztimingtable}[
	    timing/slope=0,         % no slope
	    timing/coldist=2pt,     % column distance
	    xscale=2.05,yscale=1.1, % scale diagrams
	    semithick               % set line width
	  ]
	  \scriptsize clock     & 7{C}                              \\
	  S                     & [fgblue] .75L h 2.25L H LLl       \\
	  R                     & [fgblue]  1.8L .8H 2.2L 1.4H 0.8L \\
	  Q                     &          L .8H 1.7L 1.5H LL       \\
	  $\overline{\mbox{Q}}$ &          H .8L 1.7H 1.5L HH       \\
	  Q                     & [fgred]  HLHHHLL                  \\
	  $\overline{\mbox{Q}}$ & [fgred]  LHLLLHH                  \\
	\extracode
	 \makeatletter
	 \begin{pgfonlayer}{background}
	  % Draw shaded backgrounds
	  \shade [right color=bgblue,left color=white]
	     (7,-8.45) rectangle (-2,-4.6);
	  \shade [right color=bgred,left color=white]
	     (7,-12.8) rectangle (-2,-8.6);
	  % Add background grid lines
	  \begin{scope}[gray,semitransparent,semithick]
	    \horlines{}
	    \foreach \x in {1,...,6}
	      \draw (\x,1) -- (\x,-12.8);
	    % similar: \vertlines{1,...,6}
	  \end{scope}
	  % Add labels
	  \node [anchor=south east,inner sep=0pt]
	    at (7,-8.45) {\tiny clocked};
	  \node [anchor=south east,inner sep=0pt,fgred]
	    at (7,-12.8) {\tiny positive edge triggered};
	 \end{pgfonlayer}
	\end{tikztimingtable}%
	%
	\begin{tikztimingtable}
	  [timing/d/background/.style={fill=white},
	   timing/lslope=0.2]
	          CPOL=0 & LL 15{T} LL \\
	          CPOL=1 & HH 15{T} HH \\
	                 & H 17L H     \\
	  \\
	        Cycle \# & U     R 8{2Q} 2U    \\
	            MISO & D{z}  R 8{2Q} 2D{z} \\
	            MOSI & D{z}  R 8{2Q} 2D{z} \\
	  \\
	        Cycle \# & UU    R 8{2Q} U    \\
	            MISO & D{z}U R 8{2Q} D{z} \\
	            MOSI & D{z}U R 8{2Q} D{z} \\
	\extracode
	  % Add vertical lines in two colors
	  \begin{pgfonlayer}{background}
	    \begin{scope}[semitransparent,semithick]
	      \vertlines[red]{2.1,4.1,...,17.1}
	      \vertlines[blue]{3.1,5.1,...,17.1}
	    \end{scope}
	  \end{pgfonlayer}
	  % Add big group labels
	  \begin{scope}
	    [font=\sffamily\Large,shift={(-6em,-0.5)},anchor=east]
	    \node at (  0, 0) {SCK};    \node at (  0,-3 ) {SS};
	    \node at (1ex,-9) {CPHA=0}; \node at (1ex,-17) {CPHA=1};
	  \end{scope}
	\end{tikztimingtable}%
	\end{document}
snippet morleys morleys-triangle
	% Morley's triangle
	% Author : Arnaud Lefebvre (IREM Rouen)
	% Intersections of trisector lines in any triangle
	% are vertices of an equilateral triangle
	
	\documentclass{article}
	
	\usepackage{tikz,tkz-2d}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Morley's triangle
	
	In any triangle, trisector lines intersect in 3 points that are vertices of an equilateral triangle.
	
	Note that this example requires the `tkz-2d package <http://www.texample.net/tikz/examples/tkz-2d/>`_.
	
	\end{comment}
	\usetikzlibrary{calc,intersections}
	
	\pagestyle{empty}
	
	\begin{document}
	
	\begin{tikzpicture}
	
	%----------------------------------------------------
	% Coordinates of A, B and C, the triangle vertices 
	%----------------------------------------------------
	\coordinate[label=above:$A$] (A) at (5,4);
	\coordinate[label=left:$B$] (B) at (0,0);
	\coordinate[label=right:$C$] (C) at (7,0);
	
	%----------------------------------------------------
	% Lengths of segments [AB], [BC], and [CA] 
	%----------------------------------------------------
	\tkzMathLength(B,C)
	\newlength{\la}
	\setlength{\la}{\tkzMathLen pt}
	\setlength{\la}{.01\la}
	\tkzMathLength(A,C)
	\newlength{\lb}
	\setlength{\lb}{\tkzMathLen pt}
	\setlength{\lb}{.01\lb}
	\tkzMathLength(A,B)
	\newlength{\lc}
	\setlength{\lc}{\tkzMathLen pt}
	\setlength{\lc}{.01\lc}
	
	%----------------------------------------------------
	% Computing 1/3 of each angle
	%----------------------------------------------------
	\pgfmathsetmacro{\A}{acos((\la*\la-\lb*\lb-\lc*\lc)/(-2*\lb*\lc))};
	\pgfmathsetmacro{\tA}{\A/3};
	\pgfmathsetmacro{\B}{acos((\lb*\lb-\la*\la-\lc*\lc)/(-2*\la*\lc))};
	\pgfmathsetmacro{\tB}{\B/3};
	\pgfmathsetmacro{\C}{acos((\lc*\lc-\lb*\lb-\la*\la)/(-2*\lb*\la))};
	\pgfmathsetmacro{\tC}{\C/3};
	
	%----------------------------------------------------
	% Computing intersections of trisector lines
	%----------------------------------------------------
	\coordinate (A1) at ($(A)!100*max(\lb,\lc)!\tA:(B)$);
	\coordinate (A2) at ($(A)!100*max(\lb,\lc)!2*\tA:(B)$);
	\coordinate (B1) at ($(B)!100*max(\la,\lc)!\tB:(C)$);
	\coordinate (B2) at ($(B)!100*max(\la,\lc)!2*\tB:(C)$);
	\coordinate (C1) at ($(C)!100*max(\la,\lb)!\tC:(A)$);
	\coordinate (C2) at ($(C)!100*max(\la,\lb)!2*\tC:(A)$);
	
	%----------------------------------------------------
	% Computing coordinates of vertices O, P and Q of 
	% the Morley's triangle 
	%----------------------------------------------------
	\coordinate (O) at (intersection of C--C1 and A--A2);
	\coordinate (P) at (intersection of A--A1 and B--B2);
	\coordinate (Q) at (intersection of B--B1 and C--C2);
	
	%----------------------------------------------------
	% Drawing triangles and trisectors
	%----------------------------------------------------
	\tkzMarkAngle[size=1,fillcolor=green!80](B/A/A1)
	\tkzMarkAngle[size=.9,fillcolor=green!80](A2/A/A1)
	\tkzMarkAngle[size=.8,fillcolor=green!80](A2/A/C)
	\tkzMarkAngle[size=1,fillcolor=blue!80](C/B/B1)
	\tkzMarkAngle[size=.9,fillcolor=blue!80](B2/B/B1)
	\tkzMarkAngle[size=.8,fillcolor=blue!80](B2/B/A)
	\tkzMarkAngle[size=1,fillcolor=red!80](A/C/C1)
	\tkzMarkAngle[size=.9,fillcolor=red!80](C2/C/C1)
	\tkzMarkAngle[size=.8,fillcolor=red!80](C2/C/B)
	\draw (A)--(B)--(C)--cycle;
	\draw[fill=orange, opacity=.4] 
	   (O)--node[sloped]{\tiny{//}}
	   (P)--node[sloped]{\tiny{//}}
	   (Q)--node[sloped]{\tiny{//}}(O);
	\draw (A)--(O) (A)--(P) (B)--(P) (B)--(Q) (C)--(Q) (C)--(O);
	
	%----------------------------------------------------
	% Caption
	%----------------------------------------------------
	\node[rounded corners, fill=purple!20,anchor=south east] at (3,3) 
	   {\begin{minipage}{5cm}
	     \textbf{Morley's triangle}\newline In any triangle, trisector 
	     lines intersect in 3 points that are vertices of an 
	     equilateral triangle.
	   \end{minipage}};
	
	\end{tikzpicture}
	
	\end{document}
snippet mosaic mosaic-from-pompeii
	% Author: Daniel Steger
	% Source: Mosaic from Pompeji
	% Casa degli Armorini Dorati, Living room, mosaic
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Mosaic from Pompeii
	
	A decorative element from a mosaic in the living room of Casa degli Armorini Dorati, Pompeii. The example shows the power of PGF's mathematical engine. 
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}[cap=round]
	% Colors
	\colorlet{anglecolor}{green!50!black}
	\colorlet{bordercolor}{black}
	
	%Configuration: change this to define number of intersections: 
	% 5 degree mean 360/10 = 36 elements
	\def\alpha{5} % degree
	\def\layer{5}
	
	\begin{scope}[scale=5]
	% Radius R = 1
	
	% The figure is constructed by intersecting circles Cx of radius R.
	%  M_Cx lies on the circle C with a radius \alpha degree from the outer circle R 
	%  and a distance defined by \alpha degree.
	
	% It is sufficent to calculate one special M_C, which is intersecting the x-axis 
	% at distance R from (0,0).
	\pgfmathsetmacro\sinTriDiff{sin(60-\alpha)}
	\pgfmathsetmacro\cosTriDiff{1-cos(60-\alpha)}
	% The distance from the (0,0).
	\pgfmathsetmacro\radiusC{sqrt(\cosTriDiff*\cosTriDiff + \sinTriDiff*\sinTriDiff)}
	% Angle of M_C (from x-axis)
	\pgfmathsetmacro\startAng{\alpha + atan(\sinTriDiff/\cosTriDiff)}
	
	% The segment layer are \alpha degree apart
	\pgfmathsetmacro\al{\alpha*\layer}
	
	% For each segment create the intersection parts of the circles by using arcs
	\foreach \x in {0,\alpha,...,\al}
	{
	  % Calculate the polar coordiantes of M_Cx. We take the M_C from above 
	  % and  can calculate all other M_Cx by adding \alpha
	  \pgfmathsetmacro\ang{\x + \startAng}
	  % From ths we get the (x,y) coordinates
	  \pgfmathsetmacro\xRs{\radiusC*cos(\ang)}
	  \pgfmathsetmacro\yRs{\radiusC*sin(\ang)}
	
	  % Now we intersect each new M_C with the x-axis:
	  % We can find the radius of concentric inner circles
	  \pgfmathsetmacro\radiusLayer{\xRs + sqrt( 1 - \yRs*\yRs )}
	
	  % To calculate angles for the arcs later, this angle is needed
	  \pgfmathsetmacro\angRs{acos(\yRs)}
	
	 % We need to have the angle from the previous loop as well
	  \pgfmathsetmacro\angRss{acos(\radiusC*sin(\ang-\alpha))}
	
	
	  % Add some fading by \ang
	  \colorlet{anglecolor}{black!\ang!green}
	
	  % The loop needs to run a whole.  
	  % We don't want to cope with angles > 360 degree, adapt the limits. 
	  \pgfmathsetmacro\step{2*\alpha - 180}
	  \pgfmathsetmacro\stop{180-2*\alpha}
	  \foreach \y in {-180, \step ,..., \stop}
	  {
	    \pgfmathsetmacro\deltaAng{\y-\x}
	    % This are the arcs which are definied by the intersection of 3 circles 
	    \filldraw[color=anglecolor,draw=bordercolor] 
	        (\y-\x:\radiusLayer)    
	                arc (-90+\angRs+\deltaAng : \alpha-90+\angRss+\deltaAng :1) 
	                arc (\alpha+90-\angRss+\deltaAng : 2*\alpha+90-\angRs+\deltaAng :1)
	                arc (\deltaAng+2*\alpha : \deltaAng : \radiusLayer);
	  }
	
	
	  % helper circles  & lines
	  %\draw[color=gray] (\xRs,\yRs) circle (1);
	  %\draw[color=gray] (\xRs,-\yRs) circle (1);
	  %\draw[color=blue] (0,0) circle (\radiusLayer);
	  %\draw[color=blue, very thick] (0,0) -- (0:1);
	  %\draw[color=blue, very thick] (0,0) -- (\ang:\radiusC) -- (\xRs,0);  
	  %\draw[color=blue, very thick] (\xRs,\yRs) -- (0:\radiusLayer);
	  %\filldraw[color=blue!20, very thick] (\xRs,\yRs) -- 
	  % (\xRs,\yRs-0.3) arc (-90:-90+\angRs:0.2) -- cycle;
	
	}
	% Additional inner decoration element
	\pgfmathsetmacro\xRs{\radiusC*cos(\al+\startAng)}
	\pgfmathsetmacro\yRs{\radiusC*sin(\al+\startAng)}
	\pgfmathsetmacro\radiusLayer{\xRs + sqrt( 1 - \yRs*\yRs )}
	\draw[line width=2, color=bordercolor] (0,0) circle (.8*\radiusLayer);
	\pgfmathsetmacro\radiusSmall{.7*\radiusLayer}
	% There are six elements to create. Avoid angles >360 degree.
	\foreach \x in {-60,0,...,240}
	{
	    \fill[color=anglecolor] (\x:\radiusSmall) arc (-180+\x+60: -180+\x: \radiusSmall)
	                             arc (0+\x: -60+\x: \radiusSmall)
	                             arc (120+\x: 60+\x: \radiusSmall); 
	}
	% The outer decoration
	\foreach \x in {0, 4, ..., 360}
	{
	  \fill[color=anglecolor] (\x:1) -- (\x+3:1.05) -- (\x+5:1.05) -- (\x+2:1) -- cycle;
	  \fill[color=anglecolor] (\x+5:1.05) -- (\x+7:1.05) -- (\x+4:1.1) -- (\x+2:1.1) -- cycle;
	}
	\draw[line width=1, color=bordercolor] (0,0) circle (1);
	\draw[line width=1, color=bordercolor] (0,0) circle (1.1);
	\end{scope}
	
	\end{tikzpicture}
	
	\end{document}
snippet circuits mosfet
	% 18W MOSFET amplifier, with npn transistor.
	% Author: Ramón Jaramillo.
	\documentclass[margin=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: 18W MOSFET amplifier with npn transistor
	:Tags: Circuits;circuitikz;Electrical engineering
	:Author: Ramón Jaramillo
	:Slug: mosfet
	
	This example make use of the circuitikz and siunitx packages for drawing
	a 18W MOSFET  Amplifier for one-channel. You need to have those packages
	installed for compiling.
	
	Source: http://www.circuitstoday.com/mosfet-amplifier-circuits
	\end{comment}
	\usepackage[siunitx]{circuitikz}
	\begin{document}
	\begin{tikzpicture}[scale=2]
	  \draw[color=black, thick]
	    (0,0) to [short,o-] (6,0){} % Baseline for connection to ground
	    % Input and ground
	    (0,1) node[]{\large{\textbf{INPUT}}}
	    % Connection of passive components
	    (5,0) node[ground]{} node[circ](4.5,0){}
	    (0,2) to [pC, l=$C_1$, o-] (0.5,2)
	    to [R,l=$R_1$,](1.5,2)
	    to node[short]{}(2.6,2)
	    (1.5,2) to [C, l=$C_2$, *-] (1.5,3) -| (5,3)
	    (2.2,2) to [R, l=$R_2$, *-*] (2.2,3)
	    (2.2,3) to [pC, l=$C_3$, *-] (2.2,5) -| (3,5)
	    % Transistor Bipolar Q1
	    (3,0) to [R,l=$R_5$,-*] (3,1.5)
	    to [Tnpn,n=npn1] (3,2.5)
	    (npn1.E) node[right=3mm, above=5mm]{$Q_1$} % Labelling the NPN transistor
	    (4,0) to [pC, l_=$C_4$, *-] (4, 1.5)--(3,1.5)
	    (2.2,0) to [vR, l=$R_3$, *-*] (2.2,2)
	    (3,2.5) to node[short]{}(3,3)
	    (3,5) to [pR, n=pot1, l_=$R_4$, *-] (3,3)
	    (3,5) to [R, l=$R_6$, *-] (5,5)
	    to [short,*-o](5,5.5) node[right]{$V_S=40 V$}
	    % Mosfet Transistors
	    (5,3) to [Tnigfetd,n=mos1] (5,5)
	    (mos1.B) node[anchor=west]{$Q_2$} % Labelling MOSFET Q2 Transistor
	    (pot1.wiper)  to [R, l=$R_7$] (4.5,4) -| (mos1.G)
	    (5,1.5) to [Tpigfetd,n=mos2] (5,2.5)
	    (5,0) to (mos2.S)
	    (3,2.5) to [R, l=$R_8$, *-] (4.5,2.5)
	    -| (mos2.G)
	    (mos2.B) node[anchor=west]{$Q_3$} % Labelling MOSFET Q3 Transistor
	    % Output
	    (6,3) to [pC, l=$C_5$,-*](5,3)
	    (6,3) to [short,-o] (6,2){}
	    (mos1.S)--(mos2.D)
	    (6,0) to [short,-o] (6,1){} node[above=7mm]{\large{\textbf{SPEAKER}}}
	    ;
	\end{tikzpicture}
	\end{document}
snippet circuits multiplexer
	% Block Diagram for TTL IC Multiplexer 74HC153
	% Author: Ramón Jaramillo.
	\documentclass[tikz,border=10pt,12pt,x11names]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Block Diagram for TTL IC Multiplexer 74HC153
	:Tags: Circuits;Electrical engineering
	:Author: Ramón Jaramillo
	:Slug: multiplexer
	
	This image was taken from a handbook about TTL Logic devices.
	\end{comment}
	\usepackage{tikz}
	\usetikzlibrary{circuits.logic.US} % TiKZ Library for US Logic Circuits.
	\begin{document}
	\begin{tikzpicture}[circuit logic US, every circuit symbol/.style={thick}]
		% Logic Gates in Left Side of Multiplexor
		\node[buffer gate, point down,inputs={i}] (buf1) at (-1,3)    {}; % Input Ea
		\node[and gate,inputs={nnnn}, point down] (and1) at (0,-1)    {};
		\node[and gate,inputs={nnnn}, point down] (and2) at (1.5,-1)  {};
		\node[and gate,inputs={nnnn}, point down] (and3) at (3,-1)    {};
		\node[and gate,inputs={nnnn}, point down] (and4) at (4.5,-1)  {};
		\node[or gate,inputs={nnnn}, point down]  (or1)  at (2.25,-3) {};
		\node[not gate, point down]               (not1) at (5.5,4)   {}; % Input Sa
		\node[buffer gate, point down,inputs={i}] (buf2) at (5.5,2.5) {};
		% Left Side connections
		\draw [red, very thick] (buf1.output) -- ++(down:26.4mm) -| (and1.input 4);
		\draw (and1.output) -- ++(down:5mm) -| (or1.input 4);
		\draw (and2.output) -- ++(down:3mm) -| (or1.input 3);
		\draw (and3.output) -- ++(down:3mm) -| (or1.input 2);
		\draw (and4.output) -- ++(down:5mm) -| (or1.input 1);
		\draw (not1.output) -- (buf2.input);
		% Logic Gates in Right Side of Multiplexor
		\node[not gate, point down] (not2) at (7,4) {}; % Input Sb
		\node[buffer gate, point down,inputs={i}] (buf3) at (7,2.5)    {};
		\node[buffer gate, point down,inputs={i}] (buf4) at (13.50,3)  {}; % Input Eb
		\node[and gate,inputs={nnnn}, point down] (and5) at (8,-1)     {};
		\node[and gate,inputs={nnnn}, point down] (and6) at (9.5,-1)   {};
		\node[and gate,inputs={nnnn}, point down] (and7) at (11,-1)    {};
		\node[and gate,inputs={nnnn}, point down] (and8) at (12.5,-1)  {};
		\node[or gate,inputs={nnnn},  point down] (or2)  at (10.25,-3) {};
		\draw (not2.output) -- (buf3.input);
		% Right Side connections
		\draw [red, very thick] (buf4.output) -- ++(down:26.4mm) -| (and8.input 1);
		\draw (and5.output) -- ++(down:5mm) -|  (or2.input 4);
		\draw (and6.output) -- ++(down:3mm) -|  (or2.input 3);
		\draw (and7.output) -- ++(down:3mm) -|  (or2.input 2);
		\draw (and8.output) -- ++(down:5mm) -|  (or2.input 1);
		% Inputs and Outputs of Multiplexer
		\draw [black,very thick] (buf1.input) -- ++(up:5mm) node [above]{$E_a$};
		    % Enable Signal a
		\draw [black,very thick] (buf4.input) -- ++(up:5mm) node [above]{$E_b$};
		    % Enable Signal b
		\draw [black,very thick] (not1.input) -- ++(up:5mm) node [above]{$S_a$};
		    % Selection Signal a
		\draw [black,very thick] (not2.input) -- ++(up:5mm) node [above]{$S_b$};
		    % Selection Signal b
	 	% Inputs I_na with n={0, 1, 2, 3}
		\draw [black,very thick] (and1.input 1) -- ++(up:4.3) node [above]{$I_{0a}$}; 
		\draw [black,very thick] (and2.input 1) -- ++(up:4.3) node [above]{$I_{1a}$};
		\draw [black,very thick] (and3.input 1) -- ++(up:4.3) node [above]{$I_{2a}$};
		\draw [black,very thick] (and4.input 1) -- ++(up:4.3) node [above]{$I_{3a}$};
		% Inputs I_nb with n={0, 1, 2, 3}
		\draw [black,very thick] (and5.input 4) -- ++(up:4.3) node [above]{$I_{0b}$}; 
		\draw [black,very thick] (and6.input 4) -- ++(up:4.3) node [above]{$I_{1b}$};
		\draw [black,very thick] (and7.input 4) -- ++(up:4.3) node [above]{$I_{2b}$};
		\draw [black,very thick] (and8.input 4) -- ++(up:4.3) node [above]{$I_{3b}$};
		% Output of NOT gates
		\draw [blue, very thick]  (not1.output) -- ++(down:2.5mm)
		      -- ++(left:5mm) -- (5,0.45);
		\draw [blue, very thick]  (not1.output) -- (buf2.input);
		\draw [Gold3, very thick] (not2.output) -- ++(down:2.5mm) -- ++(left:5mm)
		      -- (6.5,0.1);
		\draw [Gold3, very thick] (not2.output) -- (buf3.input);
		% Output of BUFFER gates
		\draw [Brown4, very thick] (buf2.output) -- (5.5,1);
		\draw [Green4, very thick] (buf3.output) -- (7,0.7);
		% Interconnection of AND gates
		\draw [red,very thick]    (and1.input 4) -- ++(up:3mm)  -| (and2.input 4)
		      -- ++(up:3mm) -|    (and3.input 4) -- ++(up:3mm)  -| (and4.input 4);
		\draw [red,very thick]    (and5.input 1) -- ++(up:3mm)  -| (and6.input 1)
		      -- ++(up:3mm) -|    (and7.input 1) -- ++(up:3mm)  -| (and8.input 1);
		\draw [blue,very thick]   (and1.input 3) -- ++(up:9mm)  -| (and2.input 3)
		      -- ++(up:9mm) -|    (and5.input 3) -- ++(up:9mm)  -| (and6.input 3);
		\draw [Gold3,very thick]  (and1.input 2) -- ++(up:6mm)  -| (and3.input 2)
		      -- ++(up:6mm) -|    (and5.input 2) -- ++(up:6mm)  -| (and7.input 2);
		\draw [Green4,very thick] (and2.input 2) -- ++(up:12mm) -| (and4.input 2)
		      -- ++(up:12mm) -|   (and6.input 2) -- ++(up:12mm) -| (and8.input 2);
		\draw [Brown4,very thick] (and3.input 3) -- ++(up:15mm) -| (and4.input 3)
		      -- ++(up:15mm) -|   (and7.input 3) -- ++(up:15mm) -| (and8.input 3);
	    % Outputs of multiplexer
	    % Buffers at output of OR logic gates.
	        \node[buffer gate, point down,inputs={i}] (1y) at (2.25,-4.5)  {};
	        \node[buffer gate, point down,inputs={i}] (2y) at (10.25,-4.5) {};
	    % Connecting output of OR logic gates to Buffers input
	        \draw (or1.output) -- (1y.input);
	        \draw (or2.output) -- (2y.input);
	    % Outputs of multiplexer
		\draw (1y.output) -- ++(down:5mm) node [below]{$1Y$};
		\draw (2y.output) -- ++(down:5mm) node [below]{$2Y$};
	\end{tikzpicture}
	\end{document}
snippet coord myncbar
	% Metapost style ncbar node connection
	% Requires PGF 2.00 or later
	\documentclass{article}
	
	\usepackage{tikz}
	
	% The calc library is needed for the ($...$) node calculation syntax.
	\usetikzlibrary{calc}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Metapost style ncbar connection
	:Slug: myncbar
	:Tags: Coord. calculations, Paths, PGF 2.0, To paths
	:Grid: 2x1
	
	
	TikZ provides a convenient way of connecting two nodes using the *to path* operation (see chapter 13.13 in the manual). A handful of to-paths are available in the to path library, but you can also easily create your own.
	
	Users familiar with Metapost and PSTricks may have noticed that TikZ does not directly provides a node connection operation similar to ``ncbar``. In this entry I will create a TikZ versions of ``ncbar`` using to-paths.
	
	This example defines a custom to-path called ``myncbar``. Two options can be used to adjust the bar:
	
	``angle``
	     The direction the connection is leaving the start node (default value is 0).
	``arm``
	    The length from the start node to the right angle turn (default value is 1cm). 
	
	Here are a few examples: 
	
	.. figure:: #nodeconnections1.png
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}
	        \draw[black!20] (-2,-2) grid (4,4);
	        \node[draw,circle] at (0,0) (start) {start};
	        \node[draw,circle] at (2,2) (end) {end};
	        \draw (start) to[myncbar,arm=2cm,angle=120] node[auto] {120} (end);
	        \draw[red,->] (end) to[myncbar] (start);
	        \draw[blue,->] (start) to[myncbar,angle=-90,arm=1.5] (end);
	    \end{tikzpicture}
	
	    \end{document}
	
	
	**Note**. This is a simplified version of the ncbar command available in PSTricks and Metaobj. There is only one ``arm`` option and if the arm is too short you will get a step-like path:
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}
	        \draw[black!20] (0,0) grid (2,2);
	        \node[draw,circle] at (0,0) (start) {start};
	        \node[draw,circle] at (2,2) (end) {end};
	        \draw[->] (start) to[myncbar,angle=90,arm=1] (end);
	    \end{tikzpicture}
	
	.. figure:: #nodeconnections2.png
	
	The code for the to-path is relatively straightforward. Note the use of the new coordinate calculation syntax ``($...$)`` introduced in PGF 2.00. This syntax allows you to do some very useful calculations like for instance projections. I have also used the new ``let``  operation to initialize some coordinates that I need in order to draw the path. See chapter 13.14 in the manual for details. 
	
	\end{comment}
	
	\begin{document}
	
	% Define the arm and angle options
	\def\myarm{1cm}
	\def\myangle{0}
	\tikzset{
	  arm/.default=1cm,
	  arm/.code={\def\myarm{#1}}, % store value in \myarm
	  angle/.default=0,
	  angle/.code={\def\myangle{#1}} % store value in \myangle
	}
	
	% Define the myncbar to path
	\tikzset{
	    myncbar/.style = {to path={
	        % We need to calculate a couple of coordinates to help us draw
	        % the path. 
	        let
	            % Same as (\tikztotarget)++(\myangle:\myarm)
	            \p1=($(\tikztotarget)+(\myangle:\myarm)$)
	        in
	            -- ++(\myangle:\myarm) coordinate (tmp)
	            % Find the projection of the (tmp) coordinate
	            % on the line from the target to p1
	            -- ($(\tikztotarget)!(tmp)!(\p1)$)
	            -- (\tikztotarget)\tikztonodes
	    }}
	}
	% Instead of the let operation we could probably have used the 
	% 'execute at begin to' option or the \pgfextra operation
	
	\begin{tikzpicture}
	    \draw[black!20] (-2,-2) grid (4,4);
	    \node[draw,circle] at (0,0) (start) {start};
	    \node[draw,circle] at (2,2) (end) {end};
	    
	    \draw (start) to[myncbar,arm=2cm,angle=120] node[auto] {120} (end);
	    \draw[red,->] (end) to[myncbar] (start);
	    \draw[blue,->] (start) to[myncbar,angle=-90,arm=1.5] (end);
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    \draw[black!20] (0,0) grid (2,2);
	    \node[draw,circle] at (0,0) (start) {start};
	    \node[draw,circle] at (2,2) (end) {end};
	    
	    \draw[->] (start) to[myncbar,angle=90,arm=1] (end);
	\end{tikzpicture}
	
	\end{document}
snippet block nav1d
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: 1D navigation
	:Slug: nav1d
	:Tags: Block diagrams
	
	A simple block diagram.
	
	| Author: Kjell Magne Fauske
	
	\end{comment}
	%
	\tikzstyle{int}=[draw, fill=blue!20, minimum size=2em]
	\tikzstyle{init} = [pin edge={to-,thin,black}]
	
	\begin{tikzpicture}[node distance=2.5cm,auto,>=latex']
	    \node [int, pin={[init]above:$v_0$}] (a) {$\frac{1}{s}$};
	    \node (b) [left of=a,node distance=2cm, coordinate] {a};
	    \node [int, pin={[init]above:$p_0$}] (c) [right of=a] {$\frac{1}{s}$};
	    \node [coordinate] (end) [right of=c, node distance=2cm]{};
	    \path[->] (b) edge node {$a$} (a);
	    \path[->] (a) edge node {$v$} (c);
	    \draw[->] (c) edge node {$p$} (end) ;
	\end{tikzpicture}
	
	\end{document}
snippet grids nested-grids-in-swan-and-wam-coupling
	% Nested Grids in SWAN and WAM coupling
	% Author: Marco Miani
	% Nested grid and nesting play a crucial role in SWAN model. Lack of resolution is a 
	% main problem. SWAN overcomes it, by interpolating a denser grid. 
	\documentclass[12pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Nested Grids in SWAN and WAM coupling
	
	Nested grid and nesting play a crucial role in SWAN model. Lack of resolution is a 
	main problem. SWAN overcomes it, by interpolating a denser grid. 
	
	\end{comment}
	
	\usetikzlibrary{positioning}
	\usetikzlibrary{trees}
	\usetikzlibrary{decorations.pathmorphing}
	\usetikzlibrary{decorations.markings}
	\usetikzlibrary{decorations.pathreplacing,decorations.pathmorphing}
	
	
	
	
	\begin{document}
	%\pagestyle{empty}
	\begin{figure}[t!]
	    \begin{tikzpicture}[scale=.55,interface/.style={
	            postaction={draw,decorate,decoration={border,angle=45,
	                        amplitude=0.5cm,segment length=3mm}}}]
	    
	    
	        \begin{scope}[xshift=-100mm,
	        yshift=90,every node/.append style={
	        yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	                     ]
	        %\fill[white,fill opacity=.9] (0,0) rectangle (7,9);
	    %Coarse grid is obtained by drawins subgridS and puzzling them together. 
	    
	    \draw[step=20mm,black,ultra thick,dashed] (2,0) grid (6,9); 
	    \draw[step=20mm,black,ultra thick,dashed] (6,5) grid (9,9); 
	    %interface
	    \draw[line width=.8pt,interface,very thick,black](-5.2,-3)--(-5.2,9);
	    %nested grid
	    \draw[step=4mm, red] (-5.2,.2) grid (1.8,5);
	    \draw[step=4mm, thick,red,dotted] (-6.8,.2) grid (-5.2,5);
	    \draw[black,ultra thick] (-5.2,.2) rectangle (1.8,5);
	    
	    \draw[step=20mm,black,ultra thick,dashed] (-5.2,-.2) grid (2,-3.1);%XXXXXX
	    \draw[step=20mm,black,ultra thick,dashed] (-5.2,5.2) grid (1.8,8); 
	    
	    %filling
	    \fill[yellow,ultra thick] (1.82,0) rectangle (1.98,5);%boundary area
	    \fill[yellow,ultra thick] (-5.2,5) rectangle (1.8,5.2);%boundary area
	    \fill[yellow,ultra thick] (-5.2,.2) rectangle (2,0);%boundary area
	    \fill[red,ultra thick] (6.1,6.1) rectangle (7.9,7.9);%cell element
	    %   %axes
	    %   \draw[->,very thick,black](-3,-5) to[](-2,-5);
	    %   \draw[->,very thick,black](-3,-5) to[](-3,-4);
	        %\draw[-,ultra thin,black,dashed](-4.5,-5) to[](-4.5,6);
	    
	    
	    \draw[<-,ultra thick,black,red](3.5,1) to[](4.5,1);
	    \draw[<-,ultra thick,black,red](3.5,3) to[](4.5,3);
	    \draw[<-,ultra thick,black,red](3.5,5) to[](4.5,5);
	    
	    \draw[<-,ultra thick,black,red](2,1) to[](2.5,1);
	    \draw[<-,ultra thick,black,red](2,3) to[](2.5,3);
	    \draw[<-,ultra thick,black,red](2,5) to[](2.5,5);
	    %arrows interacting with yellow boundary zone
	    \draw[<-,ultra thick,black,red](5.5,1) to[](6.5,1);
	    \draw[<-,ultra thick,black,red](5.5,3) to[](6.5,3);
	    \draw[<-,ultra thick,black,red](5.5,5) to[](6.5,5);
	    %Inside the grid
	%   \foreach \t in {-80,-60,...,80} { \DrawLatitudeCircle[\R]{\t} }
	
	    %\foreach \y in {0.5,1,...,3} { \draw[<-](1,{\y}) to[](1.5,{\y})};
	    \draw[<-,ultra thick,blue](-5,1.5) to[](-4.5,1.5);
	    \draw[<-,ultra thick,blue](-5,2.5) to[](-4.5,2.5);
	    \draw[<-,ultra thick,blue](-5,3.5) to[](-4.5,3.5);
	    \draw[<-,ultra thick,blue](-5,4.5) to[](-4.5,4.5);
	
	    
	    
	    \draw[<-,thick,blue](-4,1) to[](-3.5,1);
	    \draw[<-,thick,blue](-4,2) to[](-3.5,2);
	    \draw[<-,thick,blue](-4,3) to[](-3.5,3);
	    \draw[<-,thick,blue](-4,4) to[](-3.5,4);
	  
	    \draw[<-,thick,blue](-3,1.5) to[](-2.5,1.5);
	    \draw[<-,thick,blue](-3,2.5) to[](-2.5,2.5);
	    \draw[<-,thick,blue](-3,3.5) to[](-2.5,3.5);
	    \draw[<-,thick,blue](-3,4.5) to[](-2.5,4.5);
	
	
	
	    \draw[<-,thick,blue](-2,1.3) to[](-1.5,1.5);
	    \draw[<-,thick,blue](-2,2.3) to[](-1.5,2.5);
	    \draw[<-,thick,blue](-2,3.3) to[](-1.5,3.5);
	    \draw[<-,thick,blue](-2,4.3) to[](-1.5,4.5);
	
	
	    \draw[<-,thick,blue](-1,1.3) to[](-.5,1);
	    \draw[<-,thick,blue](-1,2.3) to[](-.5,2);
	    \draw[<-,thick,blue](-1,3.3) to[](-.5,3);
	    \draw[<-,thick,blue](-1,4.3) to[](-.5,4);
	
	
	
	    \draw[<-,thick,blue](0,1.3) to[](.5,1.5);
	    \draw[<-,thick,blue](0,2.3) to[](.5,2.5);
	    \draw[<-,thick,blue](0,3.3) to[](.5,3.5);
	    \draw[<-,thick,blue](0,4.3) to[](.5,4.5);
	
	
	    \draw[<-,thick,blue](1,1.3) to[](1.5,1);
	    \draw[<-,thick,blue](1,2.3) to[](1.5,2);
	    \draw[<-,thick,blue](1,3.3) to[](1.5,3);
	    \draw[<-,thick,blue](1,4.3) to[](1.5,4);
	
	
	    %\draw[<-,thick,blue](-4,5) to[](-3.5,5);
	%  \draw[<-,ultra thick,black,green](1,3) to[](1.5,3);  
	    %WAM or WAVEWATCH forcing
	    \draw[-,ultra thick,dashed, black] (-5.2,9) to[] (-5.2,10);
	    \draw[-,ultra thick,dashed, black] (-5.2,9.5) to[] (-5.2,10.5);
	    \draw[-,step=20mm,ultra thick,dashed, orange] (-5.2,10.5) grid (13,12);
	    \fill[yellow] (-5.2,11.8) rectangle (13,12);
	    
	    \draw[<-,ultra thick,green,dotted](1.5,12) to[](1.5,13);
	    \draw[<-,ultra thick,green](3.5,12) to[](3.5,13);
	    \draw[<-,ultra thick,green,dotted](5.5,12) to[](5.5,13);
	    \draw[<-,ultra thick,green](7.5,12) to[](7.5,13);
	
	
	    \draw[<-,thick,red](1.5,11) to[](1.5,12);
	    \draw[<-,thick,red](3.5,11) to[](3.5,12);
	    \draw[<-,thick,red](5.5,11) to[](5.5,12);
	    \draw[<-,thick,red](7.5,11) to[](7.5,12);
	    \draw[<-,thick,red](9.5,11) to[](9.5,12);
	
	
	%pointers
	    \draw[thick](-8,9)node[below]{$\mathsf{Land}$};
	    \draw[thick](-3,10)node[below]{$\mathsf{Water}$};
	    \draw[thick,red](13,10)node[below]{$\mathsf{Inside\ Grid}$};
	    \draw[thick,green](12,15)node[below]{$\mathsf{Outside\ Grid\ (WAM)}$};
	    \draw[thick,red](13,9)node[below]{$\mathsf{(SWAN)}$};
	
	    \end{scope}
	    
	    \end{tikzpicture}
	    \caption[Nested Grids in SWAN and WAM coupling]{SWAN nested (finer resolution) grid represented in red and computational grid (coarser) in black. On the former occours bla bla bla; grid covers land wich is assumed to totally absorb incoming spectral flux \textit{killing} back-propagation. On the latter bla bla bla. Boundary zone between grids drawn in yellow: note how incoming signal (outside yellow rectangle) duplicates or triplicates \textit{once crossed} boundary (inside yellow rectangle) for both cases. Same principle holds for nesting with WAM whose incoming signal (green) has lower spatial resolution, which is improved once passed \textit{trough} the yellow interface. Note how resolution tend to increasem by approaching shallow waters. WAM/SWAN interface drawn in orange. Cell grid (red filled box), represented in Fig.(??)}
	    \label{fig:nesting}
	\end{figure}
	\end{document}
snippet styles network-topology
	% Three-tier data center architecture
	% Author: Claudio Fiandrino
	\documentclass{article}
	\usepackage{tikz}
	\usepackage[a4paper,landscape,hmargin={1cm,1cm}]{geometry}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Network topology
	:Tags: Styles;Nodes and shapes;Background;Shadings;Computer science
	:Author: Claudio Fiandrino
	:Slug: network-topology
	
	Three-tier data center architecture. The reference was Figure 3-8 Three-Tie
	Model with 8-Way ECMP of Cisco Data Center Infrastructure 2.5 Design Guide.
	
	This code was written by Claudio Fiandrino and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{backgrounds,calc,shadings,shapes.arrows,shapes.symbols,shadows}
	\definecolor{switch}{HTML}{006996}
	
	\makeatletter
	\pgfkeys{/pgf/.cd,
	  parallelepiped offset x/.initial=2mm,
	  parallelepiped offset y/.initial=2mm
	}
	\pgfdeclareshape{parallelepiped}
	{
	  \inheritsavedanchors[from=rectangle] % this is nearly a rectangle
	  \inheritanchorborder[from=rectangle]
	  \inheritanchor[from=rectangle]{north}
	  \inheritanchor[from=rectangle]{north west}
	  \inheritanchor[from=rectangle]{north east}
	  \inheritanchor[from=rectangle]{center}
	  \inheritanchor[from=rectangle]{west}
	  \inheritanchor[from=rectangle]{east}
	  \inheritanchor[from=rectangle]{mid}
	  \inheritanchor[from=rectangle]{mid west}
	  \inheritanchor[from=rectangle]{mid east}
	  \inheritanchor[from=rectangle]{base}
	  \inheritanchor[from=rectangle]{base west}
	  \inheritanchor[from=rectangle]{base east}
	  \inheritanchor[from=rectangle]{south}
	  \inheritanchor[from=rectangle]{south west}
	  \inheritanchor[from=rectangle]{south east}
	  \backgroundpath{
	    % store lower right in xa/ya and upper right in xb/yb
	    \southwest \pgf@xa=\pgf@x \pgf@ya=\pgf@y
	    \northeast \pgf@xb=\pgf@x \pgf@yb=\pgf@y
	    \pgfmathsetlength\pgfutil@tempdima{\pgfkeysvalueof{/pgf/parallelepiped
	      offset x}}
	    \pgfmathsetlength\pgfutil@tempdimb{\pgfkeysvalueof{/pgf/parallelepiped
	      offset y}}
	    \def\ppd@offset{\pgfpoint{\pgfutil@tempdima}{\pgfutil@tempdimb}}
	    \pgfpathmoveto{\pgfqpoint{\pgf@xa}{\pgf@ya}}
	    \pgfpathlineto{\pgfqpoint{\pgf@xb}{\pgf@ya}}
	    \pgfpathlineto{\pgfqpoint{\pgf@xb}{\pgf@yb}}
	    \pgfpathlineto{\pgfqpoint{\pgf@xa}{\pgf@yb}}
	    \pgfpathclose
	    \pgfpathmoveto{\pgfqpoint{\pgf@xb}{\pgf@ya}}
	    \pgfpathlineto{\pgfpointadd{\pgfpoint{\pgf@xb}{\pgf@ya}}{\ppd@offset}}
	    \pgfpathlineto{\pgfpointadd{\pgfpoint{\pgf@xb}{\pgf@yb}}{\ppd@offset}}
	    \pgfpathlineto{\pgfpointadd{\pgfpoint{\pgf@xa}{\pgf@yb}}{\ppd@offset}}
	    \pgfpathlineto{\pgfqpoint{\pgf@xa}{\pgf@yb}}
	    \pgfpathmoveto{\pgfqpoint{\pgf@xb}{\pgf@yb}}
	    \pgfpathlineto{\pgfpointadd{\pgfpoint{\pgf@xb}{\pgf@yb}}{\ppd@offset}}
	  }
	}
	\makeatother
	
	\tikzset{l3 switch/.style={
	    parallelepiped,fill=switch, draw=white,
	    minimum width=0.75cm,
	    minimum height=0.75cm,
	    parallelepiped offset x=1.75mm,
	    parallelepiped offset y=1.25mm,
	    path picture={
	      \node[fill=white,
	        circle,
	        minimum size=6pt,
	        inner sep=0pt,
	        append after command={
	          \pgfextra{
	            \foreach \angle in {0,45,...,360}
	            \draw[-latex,fill=white] (\tikzlastnode.\angle)--++(\angle:2.25mm);
	          }
	        }
	      ] 
	       at ([xshift=-0.75mm,yshift=-0.5mm]path picture bounding box.center){};
	    }
	  },
	  ports/.style={
	    line width=0.3pt,
	    top color=gray!20,
	    bottom color=gray!80
	  },
	  rack switch/.style={
	    parallelepiped,fill=white, draw,
	    minimum width=1.25cm,
	    minimum height=0.25cm,
	    parallelepiped offset x=2mm,
	    parallelepiped offset y=1.25mm,
	    xscale=-1,
	    path picture={
	      \draw[top color=gray!5,bottom color=gray!40]
	      (path picture bounding box.south west) rectangle 
	      (path picture bounding box.north east);
	      \coordinate (A-west) at ([xshift=-0.2cm]path picture bounding box.west);
	      \coordinate (A-center) at ($(path picture bounding box.center)!0!(path
	        picture bounding box.south)$);
	      \foreach \x in {0.275,0.525,0.775}{
	        \draw[ports]([yshift=-0.05cm]$(A-west)!\x!(A-center)$)
	          rectangle +(0.1,0.05);
	        \draw[ports]([yshift=-0.125cm]$(A-west)!\x!(A-center)$)
	          rectangle +(0.1,0.05);
	       } 
	      \coordinate (A-east) at (path picture bounding box.east);
	      \foreach \x in {0.085,0.21,0.335,0.455,0.635,0.755,0.875,1}{
	        \draw[ports]([yshift=-0.1125cm]$(A-east)!\x!(A-center)$)
	          rectangle +(0.05,0.1);       
	      }
	    }
	  },
	  server/.style={
	    parallelepiped,
	    fill=white, draw,
	    minimum width=0.35cm,
	    minimum height=0.75cm,
	    parallelepiped offset x=3mm,
	    parallelepiped offset y=2mm,
	    xscale=-1,
	    path picture={
	      \draw[top color=gray!5,bottom color=gray!40]
	      (path picture bounding box.south west) rectangle 
	      (path picture bounding box.north east);
	      \coordinate (A-center) at ($(path picture bounding box.center)!0!(path
	        picture bounding box.south)$);
	      \coordinate (A-west) at ([xshift=-0.575cm]path picture bounding box.west);
	      \draw[ports]([yshift=0.1cm]$(A-west)!0!(A-center)$)
	        rectangle +(0.2,0.065);
	      \draw[ports]([yshift=0.01cm]$(A-west)!0.085!(A-center)$)
	        rectangle +(0.15,0.05);
	      \fill[black]([yshift=-0.35cm]$(A-west)!-0.1!(A-center)$)
	        rectangle +(0.235,0.0175);
	      \fill[black]([yshift=-0.385cm]$(A-west)!-0.1!(A-center)$)
	        rectangle +(0.235,0.0175);
	      \fill[black]([yshift=-0.42cm]$(A-west)!-0.1!(A-center)$)
	        rectangle +(0.235,0.0175);
	    }  
	  },
	}
	
	\usetikzlibrary{calc, shadings, shadows, shapes.arrows}
	
	% Styles for interfaces and edge labels
	\tikzset{%
	  interface/.style={draw, rectangle, rounded corners, font=\LARGE\sffamily},
	  ethernet/.style={interface, fill=yellow!50},% ethernet interface
	  serial/.style={interface, fill=green!70},% serial interface
	  speed/.style={sloped, anchor=south, font=\large\sffamily},% line speed at edge
	  route/.style={draw, shape=single arrow, single arrow head extend=4mm,
	    minimum height=1.7cm, minimum width=3mm, white, fill=switch!20,
	    drop shadow={opacity=.8, fill=switch}, font=\tiny}% inroute/outroute arrows
	}
	\newcommand*{\shift}{1.3cm}% For placing the arrows later
	
	% The router icon
	\newcommand*{\router}[1]{
	\begin{tikzpicture}    
	  \coordinate (ll) at (-3,0.5);
	  \coordinate (lr) at (3,0.5);
	  \coordinate (ul) at (-3,2);
	  \coordinate (ur) at (3,2);
	  \shade [shading angle=90, left color=switch, right color=white] (ll)
	    arc (-180:-60:3cm and .75cm) -- +(0,1.5) arc (-60:-180:3cm and .75cm)
	    -- cycle;
	  \shade [shading angle=270, right color=switch, left color=white!50] (lr)
	    arc (0:-60:3cm and .75cm) -- +(0,1.5) arc (-60:0:3cm and .75cm) -- cycle;
	  \draw [thick] (ll) arc (-180:0:3cm and .75cm)
	    -- (ur) arc (0:-180:3cm and .75cm) -- cycle;
	  \draw [thick, shade, upper left=switch, lower left=switch,
	    upper right=switch, lower right=white] (ul)
	    arc (-180:180:3cm and .75cm);
	  \node at (0,0.5){\color{blue!60!black}\Huge #1};% The name of the router
	  % The four arrows, symbols for incoming and outgoing routes:
	  \begin{scope}[yshift=2cm, yscale=0.28, transform shape]
	    \node[route, rotate=45, xshift=\shift] {\strut};
	    \node[route, rotate=-45, xshift=-\shift] {\strut};
	    \node[route, rotate=-135, xshift=\shift] {\strut};
	    \node[route, rotate=135, xshift=-\shift] {\strut};
	  \end{scope}
	\end{tikzpicture}}
	
	\makeatletter
	\pgfdeclareradialshading[tikz@ball]{cloud}{\pgfpoint{-0.275cm}{0.4cm}}{%
	  color(0cm)=(tikz@ball!75!white);
	  color(0.1cm)=(tikz@ball!85!white); 
	  color(0.2cm)=(tikz@ball!95!white); 
	  color(0.7cm)=(tikz@ball!89!black); 
	  color(1cm)=(tikz@ball!75!black)
	}
	\tikzoption{cloud color}{\pgfutil@colorlet{tikz@ball}{#1}%
	  \def\tikz@shading{cloud}\tikz@addmode{\tikz@mode@shadetrue}}
	\makeatother
	
	\tikzset{my cloud/.style={
	     cloud, draw, aspect=2,
	     cloud color={gray!5!white}
	  }
	}
	
	\begin{document}
	
	\begin{tikzpicture}
	
	\node[server](server 1){};
	\node[server, right of= server 1](server 2){};
	\node[server, right of= server 2](server 3){};
	
	\node[rack switch, above of=server 2,xshift=0.1cm,yshift=0.3cm]
	  (rack switch 1){};
	
	\draw[thick,darkgray!10!gray] (server 1.north)--(rack switch 1);
	\draw[thick,darkgray!10!gray] (server 2.north)--(rack switch 1);
	\draw[thick,darkgray!10!gray] (server 3.north)--(rack switch 1);
	
	\begin{scope}[xshift=3.5cm]
	  \node[server](server 4){};
	  \node[server, right of= server 4](server 5){};
	  \node[server, right of= server 5](server 6){};
	
	  \node[rack switch, above of=server 5,xshift=0.1cm,yshift=0.3cm]
	  (rack switch 2){};
	
	  \draw[thick,darkgray!10!gray] (server 4.north)--(rack switch 2);
	  \draw[thick,darkgray!10!gray] (server 5.north)--(rack switch 2);
	  \draw[thick,darkgray!10!gray] (server 6.north)--(rack switch 2);
	\end{scope}
	
	\begin{scope}[xshift=8cm]
	  \node[server](server 7){};
	  \node[server, right of= server 7](server 8){};
	  \node[server, right of= server 8](server 9){};
	
	  \node[rack switch, above of=server 8,xshift=0.1cm,yshift=0.3cm]
	  (rack switch 3){};
	
	  \draw[thick,darkgray!10!gray] (server 7.north)--(rack switch 3);
	  \draw[thick,darkgray!10!gray] (server 8.north)--(rack switch 3);
	  \draw[thick,darkgray!10!gray] (server 9.north)--(rack switch 3);
	\end{scope}
	
	
	\node[l3 switch, above of =rack switch 1, xshift=1.5cm,yshift=0.5cm]
	  (l3 switch 1){};
	\node[l3 switch, above of =rack switch 2, xshift=2cm,yshift=0.5cm]
	  (l3 switch 2){};
	
	\begin{scope}[very thick,darkgray!10!gray]
	  \draw ($(rack switch 1.north)!0.5!(rack switch 1.north west)$)--
	   ($(l3 switch 2.south)!0.5!(l3 switch 2.south west)$);
	  \draw ($(rack switch 1.north)!0.5!(rack switch 1.north east)$)--
	   ($(l3 switch 1.south)!0.5!(l3 switch 1.south west)$);
	
	  \draw ($(rack switch 2.north)!0.5!(rack switch 2.north west)$)--
	   ($(l3 switch 2.south)!0!(l3 switch 2.south west)$);
	  \draw ($(rack switch 2.north)!0.5!(rack switch 2.north east)$)--
	   ($(l3 switch 1.south)!0!(l3 switch 1.south west)$);  
	
	  \draw ($(rack switch 3.north)!0.5!(rack switch 3.north west)$)--
	   ($(l3 switch 2.south)!0.5!(l3 switch 2.south east)$);
	  \draw ($(rack switch 3.north)!0.5!(rack switch 3.north east)$)--
	   ($(l3 switch 1.south)!0.5!(l3 switch 1.south east)$); 
	
	  \draw ($(l3 switch 2.north west)!0.25!(l3 switch 2.south west)$)--
	  ($(l3 switch 1.north east)!0.25!(l3 switch 1.south east)$);
	
	  \draw ($(l3 switch 2.north west)!0.75!(l3 switch 2.south west)$)--
	  ($(l3 switch 1.north east)!0.75!(l3 switch 1.south east)$);
	
	\end{scope} 
	
	\node[l3 switch, above of =l3 switch 1, xshift=2cm,yshift=0.75cm](border 1){}; 
	
	% = = = = = = = = = = = = = = = =
	% Labels
	% = = = = = = = = = = = = = = = =
	
	
	\node[xshift=-1.05cm,yshift=0.2cm,left of = server 3,align=left](lev1)
	  {Computing Servers};
	
	\node[xshift=0.9cm,yshift=0.3cm,above of = lev1,align=left](lev2)
	  {Access Layer};
	
	\node[xshift=1.6cm,yshift=0.4cm,above of = lev2,align=left](lev3)
	  {Aggregation Layer};
	\node[xshift=2.55cm,yshift=0.75cm,above of = lev3,align=right](lev4)
	  {Core Layer};
	\node[xshift=5.7cm,yshift=1.2cm,above of = lev4,align=right](lev5)
	  {Gateway Router};
	
	% = = = = = = = = = = = = = = = =
	% Shifted part
	% = = = = = = = = = = = = = = = =
	
	\begin{scope}[xshift=12cm]
	  \node[server](server 1-a){};
	  \node[server, right of= server 1-a](server 2-a){};
	  \node[server, right of= server 2-a](server 3-a){};
	
	  \node[rack switch, above of=server 2-a,xshift=0.1cm,yshift=0.3cm]
	    (rack switch 1-a){};
	
	  \draw[thick,darkgray!10!gray] (server 1-a.north)--(rack switch 1-a);
	  \draw[thick,darkgray!10!gray] (server 2-a.north)--(rack switch 1-a);
	  \draw[thick,darkgray!10!gray] (server 3-a.north)--(rack switch 1-a);
	
	  \begin{scope}[xshift=3.5cm]
	    \node[server](server 4-a){};
	    \node[server, right of= server 4-a](server 5-a){};
	    \node[server, right of= server 5-a](server 6-a){};
	
	    \node[rack switch, above of=server 5-a,xshift=0.1cm,yshift=0.3cm]
	      (rack switch 2-a){};
	
	    \draw[thick,darkgray!10!gray] (server 4-a.north)--(rack switch 2-a);
	    \draw[thick,darkgray!10!gray] (server 5-a.north)--(rack switch 2-a);
	    \draw[thick,darkgray!10!gray] (server 6-a.north)--(rack switch 2-a);
	  \end{scope}
	
	  \begin{scope}[xshift=8cm]
	    \node[server](server 7-a){};
	    \node[server, right of= server 7-a](server 8-a){};
	    \node[server, right of= server 8-a](server 9-a){};
	
	    \node[rack switch, above of=server 8-a,xshift=0.1cm,yshift=0.3cm]
	      (rack switch 3-a){};
	
	    \draw[thick,darkgray!10!gray] (server 7-a.north)--(rack switch 3-a);
	    \draw[thick,darkgray!10!gray] (server 8-a.north)--(rack switch 3-a);
	    \draw[thick,darkgray!10!gray] (server 9-a.north)--(rack switch 3-a);
	  \end{scope}
	
	
	  \node[l3 switch, above of =rack switch 1-a, xshift=1.5cm,yshift=0.5cm]
	    (l3 switch 1-a){};
	  \node[l3 switch, above of =rack switch 2-a, xshift=2cm,yshift=0.5cm]
	    (l3 switch 2-a){};
	
	  \begin{scope}[very thick,darkgray!10!gray]
	    \draw ($(rack switch 1-a.north)!0.5!(rack switch 1-a.north west)$)--
	     ($(l3 switch 2-a.south)!0.5!(l3 switch 2-a.south west)$);
	    \draw ($(rack switch 1-a.north)!0.5!(rack switch 1-a.north east)$)--
	     ($(l3 switch 1-a.south)!0.5!(l3 switch 1-a.south west)$);
	
	    \draw ($(rack switch 2-a.north)!0.5!(rack switch 2-a.north west)$)--
	     ($(l3 switch 2-a.south)!0!(l3 switch 2-a.south west)$);
	    \draw ($(rack switch 2-a.north)!0.5!(rack switch 2-a.north east)$)--
	     ($(l3 switch 1-a.south)!0!(l3 switch 1-a.south west)$);  
	
	    \draw ($(rack switch 3-a.north)!0.5!(rack switch 3-a.north west)$)--
	     ($(l3 switch 2-a.south)!0.5!(l3 switch 2-a.south east)$);
	    \draw ($(rack switch 3-a.north)!0.5!(rack switch 3-a.north east)$)--
	     ($(l3 switch 1-a.south)!0.5!(l3 switch 1-a.south east)$); 
	
	    \draw ($(l3 switch 2-a.north west)!0.25!(l3 switch 2-a.south west)$)--
	    ($(l3 switch 1-a.north east)!0.25!(l3 switch 1-a.south east)$);
	
	    \draw ($(l3 switch 2-a.north west)!0.75!(l3 switch 2-a.south west)$)--
	    ($(l3 switch 1-a.north east)!0.75!(l3 switch 1-a.south east)$);
	
	  \end{scope} 
	
	  \node[l3 switch, above of =l3 switch 1-a, xshift=2cm,yshift=0.75cm]
	    (border 1-a){}; 
	
	  \begin{scope}[very thick,darkgray!10!gray]
	    \draw ($(border 1-a.south)!0.5!(border 1-a.south west)$)--
	     (l3 switch 1-a.north);
	
	    \draw[thick] (border 1-a.south)--
	     ([xshift=0.1cm]l3 switch 1.north);
	
	    \draw ($(border 1-a.south)!-0.5!(border 1-a.south west)$)--
	      (l3 switch 2-a.north);
	
	    \draw[thick] (border 1-a.south)--([xshift=0.05cm]l3 switch 2.north); 
	  \end{scope}
	\end{scope}
	
	
	% = = = = = = = = = = = = = = = =
	% Background rectangle - removed
	% = = = = = = = = = = = = = = = =
	
	\path ($(server 3.south west)!0.9!(lev1.south east)-(0,0.4cm)$) coordinate (A)
	  --([yshift=0.86cm]A |- lev4.north east)coordinate (B)--
	  ($(B)+(11.2cm,0)$)coordinate (C);
	
	% = = = = = = = = = = = = = = = =
	% Border Router and Internet
	% = = = = = = = = = = = = = = = =
	
	% interconnections of border 1
	\begin{scope}[very thick,darkgray!10!gray]
	  \draw ($(border 1.south)!0.5!(border 1.south west)$)--
	   (l3 switch 1.north);
	
	  \draw[thick] (border 1.south)--
	   ([xshift=-0.05cm]l3 switch 1-a.north);
	
	  \draw ($(border 1.south)!-0.5!(border 1.south west)$)--
	   (l3 switch 2.north);
	
	  \draw[thick] (border 1.south)--
	   ([xshift=-0.1cm]l3 switch 2-a.north);
	\end{scope}
	
	\begin{scope}
	  \node[yshift=1cm,scale=0.2] (brouter) at (C) {\router{}}
	    edge[very thick,darkgray!10!gray] ([xshift=0.1cm,yshift=0.5cm]border 1);
	
	  \node[yshift=0.65cm,my cloud, minimum width=1.25cm, minimum height=1.55cm,
	    above of=brouter,font=\large] (it) {Internet}
	      edge[very thick,darkgray!30!gray] (brouter);
	  \draw[very thick,darkgray!30!gray](brouter)--
	    ([xshift=0.1cm,yshift=0.125cm]border 1-a.north);
	\end{scope}
	
	% = = = = = = = = = = = = = = = =
	% paths
	% = = = = = = = = = = = = = = = =
	
	% paths: north-south
	\draw[stealth-stealth,very thick, red!80!black,shorten <=0.025cm,
	  shorten >=0.56cm]([yshift=-0.25cm]brouter.west)--
	  ([xshift=0.05cm]border 1.north);
	
	\draw[stealth-stealth,very thick, red!80!black,shorten <=0.05cm,
	  shorten >=0.125cm] (border 1.south)--
	  ([yshift=0.075cm,xshift=0.4cm]l3 switch 1.north);
	
	\draw[stealth-stealth,very thick, red!80!black,shorten <=0.1cm, shorten >=0.2cm]
	  ([xshift=-0.15cm]l3 switch 1.south)--
	  ([yshift=0.075cm,xshift=-0.65cm]rack switch 2.north);
	
	\draw[stealth-stealth,very thick, red!80!black,shorten <=0.1cm, shorten >=0.1cm]
	  ([xshift=-0.25cm]rack switch 2.south)--
	  ([yshift=0.075cm,xshift=-0.06cm]server 6.north);
	
	% paths: east-west
	\draw[stealth-stealth,very thick, green!70!black,shorten <=0.1cm,
	  shorten >=0.1cm] ([xshift=-0.25cm]rack switch 1-a.south)--
	  ([yshift=0.075cm,xshift=-0.06cm]server 3-a.north);
	
	\draw[stealth-stealth,very thick, green!70!black,shorten <=0.025cm,
	  shorten >=0.2cm] ([xshift=-0.4cm]l3 switch 1-a.south)--
	  ([yshift=0.075cm,xshift=-0.4cm]rack switch 1-a.north);
	
	\draw[stealth-stealth, very thick, green!70!black,shorten <=0.1cm,
	  shorten >=0.2cm] ([xshift=-0.15cm]l3 switch 1-a.south)--
	  ([yshift=0.075cm,xshift=-0.65cm]rack switch 2-a.north);
	
	\draw[stealth-stealth,very thick, green!70!black,shorten <=0.1cm,
	  shorten >=0.15cm] ([xshift=-0.1cm]rack switch 2-a.south)--
	  ([yshift=0.075cm,xshift=-0.12cm]server 5-a.north);
	
	\end{tikzpicture}
	
	\end{document}
snippet foreach neural-network
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Neural network
	:Tags: Foreach
	
	The ``\foreach`` command is very useful for quickly creating structured graphics
	like this neural network diagram.
	
	\end{comment}
	
	\begin{document}
	\pagestyle{empty}
	
	\def\layersep{2.5cm}
	
	\begin{tikzpicture}[shorten >=1pt,->,draw=black!50, node distance=\layersep]
	    \tikzstyle{every pin edge}=[<-,shorten <=1pt]
	    \tikzstyle{neuron}=[circle,fill=black!25,minimum size=17pt,inner sep=0pt]
	    \tikzstyle{input neuron}=[neuron, fill=green!50];
	    \tikzstyle{output neuron}=[neuron, fill=red!50];
	    \tikzstyle{hidden neuron}=[neuron, fill=blue!50];
	    \tikzstyle{annot} = [text width=4em, text centered]
	
	    % Draw the input layer nodes
	    \foreach \name / \y in {1,...,4}
	    % This is the same as writing \foreach \name / \y in {1/1,2/2,3/3,4/4}
	        \node[input neuron, pin=left:Input \#\y] (I-\name) at (0,-\y) {};
	
	    % Draw the hidden layer nodes
	    \foreach \name / \y in {1,...,5}
	        \path[yshift=0.5cm]
	            node[hidden neuron] (H-\name) at (\layersep,-\y cm) {};
	
	    % Draw the output layer node
	    \node[output neuron,pin={[pin edge={->}]right:Output}, right of=H-3] (O) {};
	
	    % Connect every node in the input layer with every node in the
	    % hidden layer.
	    \foreach \source in {1,...,4}
	        \foreach \dest in {1,...,5}
	            \path (I-\source) edge (H-\dest);
	
	    % Connect every node in the hidden layer with the output layer
	    \foreach \source in {1,...,5}
	        \path (H-\source) edge (O);
	
	    % Annotate the layers
	    \node[annot,above of=H-1, node distance=1cm] (hl) {Hidden layer};
	    \node[annot,left of=hl] {Input layer};
	    \node[annot,right of=hl] {Output layer};
	\end{tikzpicture}
	% End of code
	\end{document}
snippet triangle nine-points-circle-of-a-triangle
	% Nine points circle of a triangle
	% Author : Arnaud Lefebvre (IREM Rouen)
	%
	% In any triangle ABC, there exists a circle passing through
	% nine special points : 
	%  - the 3 middles of sides
	%  - the 3 vertices projections on opposite sides
	%  - the middles of segments [HA], [HB] and [HC] such that
	%    H is the intersection point of the 3 altitudes
	
	% Requirements : 
	%  - tkz-2d.sty  
	%  - tkz-arith.sty  
	%  - tkz-base.sty  
	%  - tkz-berge.sty 
	%  - developement version of PGF
	
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Nine points circle of a triangle
	:Tags: 
	:Author: Arnaud Lefebvre
	
	
	In any triangle ABC, there exists a circle passing through nine special points : 
	 - the 3 middles of sides
	 - the 3 vertices projections on opposite sides
	 - the middles of segments [HA], [HB] and [HC] such that H is the intersection point of the 3 altitudes
	
	
	This TikZ code shows these points.
	\end{comment}
	
	
	
	\usepackage{tikz,tkz-2d}
	\usetikzlibrary{calc,through,intersections}
	\usepackage{ifthen}
	\usepackage{geometry}
	\geometry{vmargin=1cm}
	
	% Definition of the command showing the nine points
	\newcommand\ninepointscircle[3]{%
	\begin{tikzpicture}
		%----------------------------------------------------------
		% Vertices of the triangle
		%----------------------------------------------------------
		\coordinate[label=above:$A$] (A) at (#1);
		\coordinate[label=left:$B$]  (B) at (#2);
		\coordinate[label=right:$C$] (C) at (#3);
	
		%----------------------------------------------------------
		% Middles of sides
		%----------------------------------------------------------
		\coordinate[label=below:$A'$] (A') at ($(B)!.5!(C)$);
		\coordinate[label=right:$B'$] (B') at ($(A)!.5!(C)$);
		\coordinate[label=left:$C'$]  (C') at ($(B)!.5!(A)$);
	
		%----------------------------------------------------------
		% Projections of vertices on opposite sides
		%----------------------------------------------------------
		\coordinate[label=below:$H_A$] (HA) at ($(B)!(A)!(C)$);
		\coordinate[label=45:$H_B$]    (HB) at ($(A)!(B)!(C)$);
		\coordinate[label=135:$H_C$]   (HC) at ($(B)!(C)!(A)$);
	
		%----------------------------------------------------------
		% Drawing the triangle, medians and altitudes
		%----------------------------------------------------------
		\draw[name path=triangle] (A) -- (B) -- (C) -- cycle;
		\draw[color=red,name path=ma] (A)--(A');
		\draw[color=red,name path=mb] (B)--(B');
		\draw[color=red,name path=mc] (C)--(C');
		\draw[fill=blue,color=blue,name path=ha] (A) -- (HA);
		\draw[fill=blue,color=blue,name path=hb] (B) -- (HB);
		\draw[fill=blue,color=blue,name path=hc] (C) -- (HC);
		\tkzRightAngle[color=blue](B/HC/C,C/HA/A,A/HB/B)
	
		%----------------------------------------------------------
		% Drawing perpendicular bisectors
		%----------------------------------------------------------
		\tkzMathLength(A,HA)
		\path [name path=C1] (A') -- ($(A')!\tkzMathLen pt!90:(C)$);
		\tkzMathLength(B,HB)
		\path [name path=C2] (B') -- ($(B')!\tkzMathLen pt!90:(A)$);
		\tkzMathLength(C,HC)
		\path [name path=C3] (C') -- ($(C')!\tkzMathLen pt!90:(B)$);
		\draw[color=green,name intersections={of=triangle and C1,name=ch1,sort by=C1,total=\t}] 
		   (ch1-\t)--(A') coordinate (OA') at (ch1-\t);
		\draw[color=green,name intersections={of=triangle and C2,name=ch2,sort by=C2,total=\t}] 
		   (ch2-\t)--(B') coordinate (OB') at (ch2-\t);
		\draw[color=green,name intersections={of=triangle and C3,name=ch3,sort by=C3,total=\t}] 
		   (ch3-\t)--(C') coordinate (OC') at (ch3-\t);
	
		%----------------------------------------------------------
		% Drawing angles
		%----------------------------------------------------------
		\tkzRightAngle[color=green](B/C'/OC',C/A'/OA',A/B'/OB')
	
		%----------------------------------------------------------
		% Drawing in dashed style in case of obtuse angle
		%----------------------------------------------------------
		\tkzMathLength(B,C)
		\ifthenelse{\isundefined{\la}}{\newlength{\la}}{}
		\setlength{\la}{\tkzMathLen pt}
		\setlength{\la}{.01\la}
		\tkzMathLength(A,C)
		\ifthenelse{\isundefined{\lb}}{\newlength{\lb}}{}
		\setlength{\lb}{\tkzMathLen pt}
		\setlength{\lb}{.01\lb}
		\tkzMathLength(A,B)
		\ifthenelse{\isundefined{\lc}}{\newlength{\lc}}{}
		\setlength{\lc}{\tkzMathLen pt}
		\setlength{\lc}{.01\lc}
		\pgfmathsetmacro{\angle}{acos((\la*\la-\lb*\lb-\lc*\lc)/(-2*\lb*\lc))}
		\pgfmathtruncatemacro\A{\angle}
		\ifthenelse{\A>90}{
		   \draw[style=dashed,color=green] (O)--(OA') (O)--(OB') (O)--(OC'); 
		   \draw [style=dashed, color=black] (A)--(HC) (A)--(HB); 
		   \draw[style=dashed,color=blue] (A)--(H) (HB)--(H) (HC)--(H);}{}
		\pgfmathsetmacro{\angle}{acos((\lb*\lb-\la*\la-\lc*\lc)/(-2*\la*\lc))}
		\pgfmathtruncatemacro\B{\angle}
		\ifthenelse{\B>90}{
		   \draw[style=dashed,color=green] (O)--(OA') (O)--(OB') (O)--(OC'); 
		   \draw [style=dashed, color=black] (B)--(HA) (B)--(HC); 
		   \draw[style=dashed,color=blue] (B)--(H) (HC)--(H) (HA)--(H);}{}
		\pgfmathsetmacro{\angle}{acos((\lc*\lc-\la*\la-\lb*\lb)/(-2*\lb*\la))}
		\pgfmathtruncatemacro\C{\angle}
		\ifthenelse{\C>90}{
		   \draw[style=dashed,color=green] (O)--(OA') (O)--(OB') (O)--(OC'); 
		   \draw [style=dashed, color=black] (C)--(HA) (C)--(HB); 
		   \draw[style=dashed,color=blue] (C)--(H) (HB)--(H) (HA)--(H);}{}
	
		%----------------------------------------------------------
		% Positioning gravity center, centroid, circumcenter
		% and the nine points circle center
		%----------------------------------------------------------
		\coordinate[label=45:$H$] (H) at (intersection of A--HA and B--HB);
		\coordinate[label=0:$G$] (G) at (intersection of A--A' and B--B');
		\coordinate[label=-135:$O$] (O) at (intersection of OC'--C' and OB'--B');
		\draw[fill=red,color=red] (G) circle (.8pt);
		\draw[fill=blue,color=blue] (H) circle (.8pt);
		\draw[fill=green,color=green] (O) circle (.8pt);
		\coordinate (N) at ($(H)!.5!(O)$);
	
		%----------------------------------------------------------
		% Drawing the Euler's line (also in case of obtuse angle)
		%----------------------------------------------------------
		\ifthenelse{\la>\lb}{\def\m{max(\la,\lc)}}{\def\m{max(\lb,\lc)}}
		\ifthenelse{\A>90}{\draw[color=orange] (G)--($(G)!1.1!(O)$) (G)--($(G)!1.1!(H)$) node[right]{Euler's line};}{
		\ifthenelse{\B>90}{\draw[color=orange] (G)--($(G)!1.1!(O)$) (G)--($(G)!1.1!(H)$) node[right]{Euler's line};}{
		\ifthenelse{\C>90}{\draw[color=orange] (G)--($(G)!1.1!(O)$) (G)--($(G)!1.1!(H)$) node[right]{Euler's line};}{
		\draw[color=orange] (G)--($(G)!50*\m!(O)$) (G)--($(G)!50*\m!(H)$) node[right]{Euler's line};}}}
	
		%----------------------------------------------------------
		% Marking points of interest
		%----------------------------------------------------------
		\draw[fill=black] ($(A)!.5!(H)$) circle (.8pt) node[anchor=south west] {$I$};
		\path ($(A)!.5!(H)$) -- node[sloped] {\tiny{//}} (A);
		\path ($(A)!.5!(H)$) -- node[sloped] {\tiny{//}} (H);
		\draw[fill=black] ($(B)!.5!(H)$) circle (.8pt) node[below] {$J$};
		\path ($(B)!.5!(H)$) -- node[sloped] {\tiny{/}} (B);
		\path ($(B)!.5!(H)$) -- node[sloped] {\tiny{/}} (H);
		\draw[fill=black] ($(C)!.5!(H)$) circle (.8pt) node[right] {$K$};
		\path ($(C)!.5!(H)$) -- node[sloped] {\tiny{$\times$}} (C);
		\path ($(C)!.5!(H)$) -- node[sloped] {\tiny{$\times$}} (H);
		\draw[fill=black] (A') circle (.8pt);
		\draw[fill=black] (B') circle (.8pt);
		\draw[fill=black] (C') circle (.8pt);
		\draw[fill=black] (HA) circle (.8pt);
		\draw[fill=black] (HB) circle (.8pt);
		\draw[fill=black] (HC) circle (.8pt);
	
		%----------------------------------------------------------
		% Drawing the nine points circle
		%----------------------------------------------------------
		\node[fill=lightgray,opacity=.2,draw,circle through=(C'),
		   label=90:$\mathcal{C}$] at (N) {};
	\end{tikzpicture}
	}
	
	\begin{document}
	\pagestyle{empty}
	\begin{preview}
	\ninepointscircle{5,6}{0,0}{7,0}\\
	\ninepointscircle{10,4}{0,0}{7,0}
	\end{preview}
	\end{document}
snippet basics node-shapes
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes,snakes}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Node shapes
	:Tags: Basics, Nodes and shapes, Matrix, PGF 1.18
	
	An overview of predefined node shapes. Note that only the ``rectangle`` and
	``circle`` shapes are loaded by default. To use other shapes, load the
	``shape`` library. The ``regular polygon`` and ``star`` shapes are only available for PGF >= v 1.18.
	
	\end{comment}
	
	
	
	\begin{document}
	
	\pagestyle{empty}
	
	\begin{tikzpicture}[scale=2]
	    \tikzstyle{ann} = [draw=none,fill=none,right]
	    \matrix[nodes={draw, ultra thick, fill=blue!20},
	        row sep=0.3cm,column sep=0.5cm] {
	    \node[draw=none,fill=none] {Plain node}; &
	    \node[rectangle] {Rectangle}; &
	    \node[circle] {Circle};\\
	    \node[ellipse] {Ellipse};&
	    \node[circle split] {Circle \nodepart{lower} split};&
	    \node[forbidden sign,text width=4em, text centered]
	                    {Forbidden sign};\\
	    \node[diamond] {Diamond};&
	    \node[cross out] {Cross out};&
	    \node[strike out] {Strike out};\\
	    \node[regular polygon,regular polygon sides=5] {$n=5$};&
	    \node[regular polygon,regular polygon sides=7] {$n=7$};&
	    \node[regular polygon,regular polygon sides=9] {$n=9$};&
	    \node[ann]{Regular polygon};\\
	    \node[star,star points=4] {$p=4$};&
	    \node[star,star points=7,star point ratio=0.8] {$p=7$};&
	    \node[star,star points=10] {$p=9$};&
	    \node[ann]{Star};\\
	    };
	\end{tikzpicture}
	
	
	\end{document}
snippet manual nodetutorial
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	\def\xcolorversion{2.00}
	\def\xkeyvalversion{1.8}
	
	\usepackage[version=0.96]{pgf}
	\usepackage{tikz}
	\usetikzlibrary{arrows,shapes,snakes,automata,backgrounds,petri}
	\usepackage[latin1]{inputenc}
	\usepackage{verbatim}
	
	\begin{document}
	
	\begin{comment}
	:Title: A Petri-net for Hagen
	:Slug: nodetutorial
	:Tags: Manual, Petri net, Graphs
	
	This example is from the tutorial: A Petri-net for Hagen.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}[node distance=1.3cm,>=stealth',bend angle=45,auto]
	
	  \tikzstyle{place}=[circle,thick,draw=blue!75,fill=blue!20,minimum size=6mm]
	  \tikzstyle{red place}=[place,draw=red!75,fill=red!20]
	  \tikzstyle{transition}=[rectangle,thick,draw=black!75,
	  			  fill=black!20,minimum size=4mm]
	
	  \tikzstyle{every label}=[red]
	
	  \begin{scope}
	    % First net
	    \node [place,tokens=1] (w1)                                    {};
	    \node [place] (c1) [below of=w1]                      {};
	    \node [place] (s)  [below of=c1,label=above:$s\le 3$] {};
	    \node [place] (c2) [below of=s]                       {};
	    \node [place,tokens=1] (w2) [below of=c2]                      {};
	
	    \node [transition] (e1) [left of=c1] {}
	      edge [pre,bend left]                  (w1)
	      edge [post,bend right]                (s)
	      edge [post]                           (c1);
	
	    \node [transition] (e2) [left of=c2] {}
	      edge [pre,bend right]                 (w2)
	      edge [post,bend left]                 (s)
	      edge [post]                           (c2);
	
	    \node [transition] (l1) [right of=c1] {}
	      edge [pre]                            (c1)
	      edge [pre,bend left]                  (s)
	      edge [post,bend right] node[swap] {2} (w1);
	
	    \node [transition] (l2) [right of=c2] {}
	      edge [pre]                            (c2)
	      edge [pre,bend right]                 (s)
	      edge [post,bend left]  node {2}       (w2);
	  \end{scope}
	
	  \begin{scope}[xshift=6cm]
	    % Second net
	    \node [place,tokens=1]
	                      (w1')                                                {};
	    \node [place]     (c1') [below of=w1']                                 {};
	    \node [red place] (s1') [below of=c1',xshift=-5mm,label=left:$s$]      {};
	    \node [red place,tokens=3]
	                      (s2') [below of=c1',xshift=5mm,label=right:$\bar s$] {};
	    \node [place]     (c2') [below of=s1',xshift=5mm]                      {};
	    \node [place,tokens=1]
	                      (w2') [below of=c2']                                 {};
	
	    \node [transition] (e1') [left of=c1'] {}
	      edge [pre,bend left]                  (w1')
	      edge [post]                           (s1')
	      edge [pre]                            (s2')
	      edge [post]                           (c1');
	
	    \node [transition] (e2') [left of=c2'] {}
	      edge [pre,bend right]                 (w2')
	      edge [post]                           (s1')
	      edge [pre]                            (s2')
	      edge [post]                           (c2');
	
	    \node [transition] (l1') [right of=c1'] {}
	      edge [pre]                            (c1')
	      edge [pre]                            (s1')
	      edge [post]                           (s2')
	      edge [post,bend right] node[swap] {2} (w1');
	
	    \node [transition] (l2') [right of=c2'] {}
	      edge [pre]                            (c2')
	      edge [pre]                            (s1')
	      edge [post]                           (s2')
	      edge [post,bend left]  node {2}       (w2');
	  \end{scope}
	
	  \draw [-to,thick,snake=snake,segment amplitude=.4mm,
	         segment length=2mm,line after snake=1mm]
	    ([xshift=5mm]s -| l1) -- ([xshift=-5mm]s1' -| e1')
	    node [above=1mm,midway,text width=3cm,text centered]
	      {replacement of the \textcolor{red}{capacity} by 
	        \textcolor{red}{two places}};
	
	  \begin{pgfonlayer}{background}
	    \filldraw [line width=4mm,join=round,black!10]
	      (w1.north  -| l1.east)  rectangle (w2.south  -| e1.west)
	      (w1'.north -| l1'.east) rectangle (w2'.south -| e1'.west);
	  \end{pgfonlayer}
	\end{tikzpicture}
	
	\end{document}
snippet diagrams noise-shaper
	% Title: Block diagram of Third order noise shaper in Compact Disc Players
	% Author: Ramón Jaramillo
	\documentclass[tikz,14pt,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Block diagram of Third order noise shaper in Compact Disc Players
	:Tags: Diagrams;Block diagrams;Electrical engineering
	:Author: Ramón Jaramillo
	:Slug: noise-shaper
	
	This is a block diagram of a third-order noise shaper, circuit located inside
	of a compact disc player.
	
	Source: A fundamental introduction to the Compact Disc Player (1994), 
	located in http://www.tc.umn.edu/~erick205/Papers/3011Paper.pdf, page 17
	by Grant M. Erickson
	\end{comment}
	\usepackage{textcomp}
	\usetikzlibrary{shapes,arrows}
	\begin{document}
	% Definition of blocks:
	\tikzset{%
	  block/.style    = {draw, thick, rectangle, minimum height = 3em,
	    minimum width = 3em},
	  sum/.style      = {draw, circle, node distance = 2cm}, % Adder
	  input/.style    = {coordinate}, % Input
	  output/.style   = {coordinate} % Output
	}
	% Defining string as labels of certain blocks.
	\newcommand{\suma}{\Large$+$}
	\newcommand{\inte}{$\displaystyle \int$}
	\newcommand{\derv}{\huge$\frac{d}{dt}$}
	
	\begin{tikzpicture}[auto, thick, node distance=2cm, >=triangle 45]
	\draw
		% Drawing the blocks of first filter :
		node at (0,0)[right=-3mm]{\Large \textopenbullet}
		node [input, name=input1] {} 
		node [sum, right of=input1] (suma1) {\suma}
		node [block, right of=suma1] (inte1) {\inte}
	         node at (6.8,0)[block] (Q1) {\Large $Q_1$}
	         node [block, below of=inte1] (ret1) {\Large$T_1$};
	    % Joining blocks. 
	    % Commands \draw with options like [->] must be written individually
		\draw[->](input1) -- node {$X(Z)$}(suma1);
	 	\draw[->](suma1) -- node {} (inte1);
		\draw[->](inte1) -- node {} (Q1);
		\draw[->](ret1) -| node[near end]{} (suma1);
		% Adder
	\draw
		node at (5.4,-4) [sum, name=suma2] {\suma}
	    	% Second stage of filter 
		node at  (1,-6) [sum, name=suma3] {\suma}
		node [block, right of=suma3] (inte2) {\inte}
		node [sum, right of=inte2] (suma4) {\suma}
		node [block, right of=suma4] (inte3) {\inte}
		node [block, right of=inte3] (Q2) {\Large$Q_2$}
		node at (9,-8) [block, name=ret2] {\Large$T_2$}
	;
		% Joining the blocks of second filter
		\draw[->] (suma3) -- node {} (inte2);
		\draw[->] (inte2) -- node {} (suma4);
		\draw[->] (suma4) -- node {} (inte3);
		\draw[->] (inte3) -- node {} (Q2);
		\draw[->] (ret2) -| (suma3);
		\draw[->] (ret2) -| (suma4);
	         % Third stage of filter:
		% Defining nodes:
	\draw
		node at (11.5, 0) [sum, name=suma5]{\suma}
		node [output, right of=suma5]{}
		node [block, below of=suma5] (deriv1){\derv}
		node [output, right of=suma5] (sal2){}
	;
		% Joining the blocks:
		\draw[->] (suma2) -| node {}(suma3);
		\draw[->] (Q1) -- (8,0) |- node {}(ret1);
		\draw[->] (8,0) |- (suma2);
		\draw[->] (5.4,0) -- (suma2);
		\draw[->] (Q1) -- node {}(suma5);
		\draw[->] (deriv1) -- node {}(suma5);
		\draw[->] (Q2) -| node {}(deriv1);
	    	\draw[<->] (ret2) -| node {}(deriv1);
	    	\draw[->] (suma5) -- node {$Y(Z)$}(sal2);
	    	% Drawing nodes with \textbullet
	\draw
		node at (8,0) {\textbullet} 
		node at (8,-2){\textbullet}
		node at (5.4,0){\textbullet}
	    	node at (5,-8){\textbullet}
	    	node at (11.5,-6){\textbullet}
	    	;
		% Boxing and labelling noise shapers
		\draw [color=gray,thick](-0.5,-3) rectangle (9,1);
		\node at (-0.5,1) [above=5mm, right=0mm] {\textsc{first-order noise shaper}};
		\draw [color=gray,thick](-0.5,-9) rectangle (12.5,-5);
		\node at (-0.5,-9) [below=5mm, right=0mm] {\textsc{second-order noise shaper}};
	\end{tikzpicture}
	\end{document}
snippet decorations oblique-incidence
	% Oblique Incidence with using basics instructions
	% Author: Edgar Fuentes (Club de LaTeX UC member)
	
	
	\documentclass{article}
	
	
	\usepackage{tikz}
	\usetikzlibrary{%
	    decorations.pathreplacing,%
	    decorations.pathmorphing%
	}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Oblique Incidence
	:Tags: Decorations, Physics & chemistry
	
	Reflection and refraction of electromagnetic waves incident obliquely at plane interface. 
	
	:Author: `Edgar Fuentes`_
	
	.. _Edgar Fuentes: http://groups.google.co.ve/group/LaTeXuC
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{tikzpicture}[
	    media/.style={font={\footnotesize\sffamily}},
	    wave/.style={
	        decorate,decoration={snake,post length=1.4mm,amplitude=2mm,
	        segment length=2mm},thick},
	    interface/.style={
	        % The border decoration is a path replacing decorator. 
	        % For the interface style we want to draw the original path.
	        % The postaction option is therefore used to ensure that the
	        % border decoration is drawn *after* the original path.
	        postaction={draw,decorate,decoration={border,angle=-45,
	                    amplitude=0.3cm,segment length=2mm}}},
	    ]
	    % Round rectangle
	    \fill[gray!10,rounded corners] (-4,-3) rectangle (4,0);
	    % Interface
	    \draw[blue,line width=.5pt,interface](-4,0)--(4,0);
	    % Vertical dashed line
	    \draw[dashed,gray](0,-3)--(0,3);
	    % Coordinates system
	    \draw(0,0.15)node[above]{$x$};
	    \draw[<->,line width=1pt] (1,0) node[above]{$y$}-|(0,-1) node[left]{$z$};
	    % Incidence
	    \draw[->,wave]
	         (135:3.2cm)--(135:2.5cm)node[right]{$f^0$};
	    \draw[gray](0:0cm)--(135:2cm);
	    \path (0,0)++(113:1cm)node{$\phi$};
	    \draw[->](0,0.75)arc(90:135:.75cm);
	    % Transmission
	    \draw[->,wave]
	         (-30:2.5cm)--(-30:3.2cm)node[right]{$f^+$};
	    \draw[gray](0:0cm)--(-30:2cm);
	    \path (0,0)++(-60:1cm)node{$\theta$};
	    \draw[->] (0,-0.75) arc (-90:-30:.75cm);
	    % Reflection
	    \draw[->,wave]
	         (45:2.5cm)--(45:3.2cm)node[right]{$f^-$};
	    \path (0,0)++(-22:1.75cm) node{$\psi$};
	    \draw[gray](0:0cm)--(45:2cm);
	    \draw[->] (0,-1.5)arc(-90:45:1.5cm);
	    % Media names
	    \path[media] (-3,.6)  node {media 1}
	                 (-3,-.6) node {media 2};
	
	    % $x$ axis
	    \filldraw[fill=white,line width=1pt](0,0)circle(.12cm);
	    \draw[line width=.6pt] (0,0)
	                          +(-135:.12cm) -- +(45:.12cm)
	                          +(-45:.12cm) -- +(135:.12cm);
	    % Interface pointer
	    \draw[-latex,thick](3.2,0.5)node[right]{$\mathsf{S_{1,2}}$}
	         to[out=180,in=90] (3,0);
	    % To-paths are really useful for drawing curved lines. The above
	    % to path is equal to:
	    %
	    % \draw[-latex,thick](3.2,0.5)node[right]{$\mathsf{S_{1,2}}$}
	    %      ..controls +(180:.2cm) and +(up:0.25cm) .. (3,0);
	    % Internally the to path is translated to a similar bezier curve,
	    % but the to path syntax hides the complexity from the user. 
	\end{tikzpicture}
	
	
	\end{document}
snippet observer observer-estimator
	% Observer/Estimator
	% Author: Dominik Haumann
	\documentclass[landscape,a5paper,11pt]{article}
	\usepackage[utf8x]{inputenc} % utf8 encoding
	\usepackage[T1]{fontenc} % use T1 fonts
	\usepackage{amsmath} % nice math symbols
	\usepackage{bm} % bold math
	\usepackage{color} % change text color        
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Observer/Estimator
	:Slug: observer-estimator
	:Author: Dominik Haumann
	
	An example of an observer with a feedback loop. By using the matrix
	tikzlibrary it is shown how to easily place and link the nodes appropriately
	in order to create very complex block diagrams. Additionally, this example
	shows how to use line decorations as well as how to use an offset for arrow
	placement.
	\end{comment}
	
	\usetikzlibrary{decorations.pathmorphing} % for snake lines
	\usetikzlibrary{matrix} % for block alignment
	\usetikzlibrary{arrows} % for arrow heads
	\usetikzlibrary{calc} % for manimulation of coordinates
	
	% TikZ styles for drawing
	\tikzstyle{block} = [draw,rectangle,thick,minimum height=2em,minimum width=2em]
	\tikzstyle{sum} = [draw,circle,inner sep=0mm,minimum size=2mm]
	\tikzstyle{connector} = [->,thick]
	\tikzstyle{line} = [thick]
	\tikzstyle{branch} = [circle,inner sep=0pt,minimum size=1mm,fill=black,draw=black]
	\tikzstyle{guide} = []
	\tikzstyle{snakeline} = [connector, decorate, decoration={pre length=0.2cm,
	                         post length=0.2cm, snake, amplitude=.4mm,
	                         segment length=2mm},thick, magenta, ->]
	
	\renewcommand{\vec}[1]{\ensuremath{\boldsymbol{#1}}} % bold vectors
	\def \myneq {\skew{-2}\not =} % \neq alone skews the dash
	
	\begin{document}
	
	  \begin{tikzpicture}[scale=1, auto, >=stealth']
	    \small
	    % node placement with matrix library: 5x4 array
	    \matrix[ampersand replacement=\&, row sep=0.2cm, column sep=0.4cm] {
	      %
	      \node[block] (F1) {$\vec{u}_i = F_i(\{\widetilde{\vec{x}}_j\}_{j=1}^N)$}; \&
	      \node[branch] (u1) {}; \&
	      \&
	      \node[block] (f1) {$\begin{matrix}
	            \dot{\vec{x}}_i =
	              f_i(\vec{x}_i,
	                  \textcolor{red}{\{\widetilde{\vec{x}}_j\}_{j \myneq i}},
	                  \vec{u}_i,
	                  t)\\
	            \vec{y}_i =
	              g_i(\vec{x}_i,
	                  \textcolor{blue}{\{\widetilde{\vec{x}}_j\}_{j \myneq i}},
	                  t)
	          \end{matrix}$}; \& \\
	
	      \&
	      \&
	      \&
	      \node[block] (L1) {$\vec{e}_i(\vec{y}_i - \widetilde{\vec{y}}_i)$};\&
	      \node [sum] (e1) {}; \\
	
	      \&
	      \&
	      \node[sum] (v1) {}; \&
	      \node[block] (o1) {$\begin{matrix}
	            \dot{\widetilde{\vec{x}}}_i =
	              \widetilde{f}_i(\widetilde{\vec{x}}_i,
	                              \textcolor{red}{\{\widetilde{\vec{x}}_j\}_{j \myneq i}},
	                              \vec{v}_i, t)\\
	              \widetilde{\vec{y}}_i =
	                g_i(\widetilde{\vec{x}}_i,
	                    \textcolor{blue}{\{\widetilde{\vec{x}}_j\}_{j \myneq i}},
	                    t)
	          \end{matrix}$};
	      \&
	      \\
	      \node[guide] (i1) {}; \& \& \& \& \\
	    };
	
	    % now link the nodes
	    \draw [line] (F1) -- (u1);
	    \draw [connector] (u1) -- node {$u_i$} (f1);
	    \draw [connector] (f1) -| node[near end] {$\vec{y}_i$} (e1);
	    \draw [connector] (e1) -- (L1);
	    \draw [connector] (L1) -| (v1);
	    \draw [connector] (v1) -- node {$\vec{v}_i$} (o1);
	    \draw [connector] (u1) |- (v1);
	    \draw [connector] (o1) -| node[pos=0.96] {$-$} node [near end, swap]
	                      {$\widetilde{\vec{y}}_i$} (e1);
	    \draw [connector] (o1.south) -- ++(0,-.5cm) -| node [near start]
	                      {$\widetilde{\vec{x}}_i$} ($(F1.south) + (0.4cm, 0em)$);
	    
	    % draw the snake lines with offset (using the calc library)
	    \draw [snakeline] ($(i1) - (0.4cm, -1cm)$) -- node
	      {$\{\widetilde{\vec{x}}_j\}_{j \myneq i}$} ($(F1.south) - (0.4cm, 0em)$);
	
	    \draw [snakeline, swap] ($(v1.east) - (1.0cm, 0.4cm)$) -- node
	      {$\{\widetilde{\vec{x}}_j\}_{j \myneq i}$} ($(o1.west) - (0cm, 0.4cm)$);
	    
	    \draw [snakeline, swap] ($(u1.east) + (0.1cm, -0.4cm)$) -- node
	      {$\{\widetilde{\vec{x}}_j\}_{j \myneq i}$} ($(f1.west) - (0cm, 0.4cm)$);
	
	  \end{tikzpicture}
	
	\end{document}
snippet circuits or-gate
	% Title: OR gate
	% Author: Ramón Jaramillo.
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: One of the Quad-2 inputs OR Gate in MC14071B
	:Tags: Circuitikz;Electrical engineering
	:Author: Ramón Jaramillo
	:Slug: or-gate
	
	This circuit diagram depicts a network of PMOS and NMOS transistors that 
	represents one of the Quad-2 inputs OR Gate in the MC14071B IC, based on 
	these transistors. This schema was taken from a handbook online of
	ON Semiconductors. Improvements and additions to this diagram are welcome.
	
	Source: http://www.onsemi.com/pub_link/Collateral/MC14001B-D.PDF
	\end{comment}
	\usepackage[siunitx]{circuitikz}
	\begin{document}
	\begin{tikzpicture}[scale=2] 
	  \draw[color=black, thick]
	  % Name of MOSFET transistors left to right
	  % Left to right in baseline: nmos1, nmos2, nmos3, nmo4 & nmos5.
	  % Drawing the transistor and nodes using relative coordinates
	    (0,0) node[nigfete] (nmos1) {}
	    (1,0) node[nigfete] (nmos2) {}
	    (nmos1.S) to (nmos2.S)
	    % Connections to V_DD
	    to [short,*-o] ++(0,-0.5) {} node[below=2mm] {$V_{DD}$}
	    (1,1) node[pfet,yscale=-1] (pmos1) {} % yscale=-1 is mandatory to drawing
	    % MOSFETs with the right sense.
	    (1,2) node[pigfete,yscale=-1] (pmos2) {}
	    (nmos2.G) to [short,-*] (pmos1.G)
	    (pmos1.D) to (nmos2.D)	
	    (nmos1.G) -- ++(0,1.5) -- ++(0,0.75)
	    (pmos2.G) to [short,-*] ++(-1,0){}
	    to [short,-o] ++(-0.5,0) {} node[above=3mm] {$A$}
	    (pmos1.G) to [short,-o] ++(-1.5,0) {} node[above=3mm] {$B$}
	    (pmos1.B) -- ++(0.2,0) -| ++(0,1.15) to [short,-*]++(-0.21,0)
	    (pmos1.S) -- (pmos2.D) {}
	    % Inverter
	    (2,0) node[nigfete](nmos3) {}
	    (2,1) node[pigfete, yscale=-1] (pmos3) {}
	    (nmos3.G) to (pmos3.G)
	    (nmos3.D) to (pmos3.D)
	    % Gate OR Output
	    (3,0) node[nigfete](nmos4){}
	    (3,1) node[pigfete, yscale=-1] (pmos4) {}
	    (nmos4.G) to (pmos4.G)
	    (nmos4.D) to (pmos4.D)
	    %%%
	    (4,0) node[nigfete] (nmos5) {}
	    (4,1) node[pigfete, yscale=-1] (pmos5) {}
	    (nmos5.G) to (pmos5.G)
	    (nmos5.D) to (pmos5.D)
	    % Connection to V_DD
	    (nmos3.S) to [short,-*] (nmos4.S) -- (nmos5.S)
	    to [short,*-o] ++(0,-0.5) {} node[below=2mm] {$V_{DD}$}
	    % Connection to V_DD
	    (pmos3.S) -- (pmos4.S) -- (pmos5.S)
	    to [short,*-o] ++(0,1.5) {} node[above=2mm] {$V_{SS}$}
	    (pmos2.S) to [short,-o] ++(0,0.5) {} node[above=2mm] {$V_{SS}$}
	    %(3,-0.4) node[circ] {}
	    % Connections between nodes
	    (nmos1.D) -| (0,0.5) to [short,-o] (1,0.5) {}
	    (1,0.5) to  [short,*-*] ++(0.5,0) {}
	    (2,0.5) to  [short,*-*] ++(0.5,0) {}
	    (3,0.5) to  [short,*-*] ++(0.5,0) {}
	    (4,0.5) to  [short,*-o] ++(0.5,0) {} node[right=3mm] {$C=A+B$}
	  ;
	\end{tikzpicture}
	\end{document}
snippet shadows overlapping-arrows
	% Overlapping arrows
	% Author: Elena Botoeva
	\documentclass{article}
	\usepackage[margin=0.3cm, paperwidth=3.3cm, paperheight=3.3cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Overlapping arrows
	:Tags: Shadows;Decorative Drawings
	:Author: Elena Botoeva
	:Slug: overlapping-arrows
	\end{comment}
	\usetikzlibrary{shadows}
	
	\definecolor{darkblue}{rgb}{0.2,0.2,0.6}
	\definecolor{darkred}{rgb}{0.6,0.1,0.1}
	\definecolor{darkgreen}{rgb}{0.2,0.6,0.2}
	
	\def\arrow{
	  (10.75:1.1) -- (6.5:1) arc (6.25:120:1) [rounded corners=0.5] --
	  (120:0.9) [rounded corners=1] -- (130:1.1) [rounded corners=0.5] --
	  (120:1.3) [sharp corners] -- (120:1.2) arc (120:5.25:1.2)
	  [rounded corners=1] -- (10.75:1.1) -- (6.5:1) -- cycle
	}
	
	\tikzset{
	  ashadow/.style={opacity=.25, shadow xshift=0.07, shadow yshift=-0.07},
	}
	
	\def\arrows[#1]{         
	  \begin{scope}[scale=#1]
	    \draw[color=darkred, %
	    drop shadow={ashadow, color=red!60!black}] \arrow;
	
	    \draw[color=darkgreen, bottom color=green!90!black, top color=green!60, %
	    drop shadow={ashadow, color=green!60!black}] [rotate=120] \arrow;
	
	    \draw[color=darkblue, right color=blue, left color=blue!60, %
	    drop shadow={ashadow, color=blue!60!black}] [rotate=240] \arrow;
	
	    % to hide the green shadow
	    \draw[color=darkred, left color=red, right color=red!60] \arrow;
	  \end{scope}
	}
	
	\begin{document}
	\thispagestyle{empty}
	\begin{center}
	  \begin{tikzpicture}
	    \arrows[1];
	  \end{tikzpicture}
	\end{center}
	\end{document}
snippet remember oxidation-and-reduction
	% Oxidation and reduction
	% Author: Arne Rhrs
	% Note that two compilations are necessary. 
	\documentclass{article}
	\usepackage{tikz}
	\usepackage[version=3,arrows=pgf]{mhchem}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Oxidation and reduction
	:Tags: Remember picture, Overlays
	
	Example of how to add TikZ arrows to chemical reactions made with the `mhchem package`_.
	TikZ coordinate nodes are put in the reaction equations and later used as reference points
	for drawing using TikZ's ``remember picture`` feature. 
	
	
	.. _mhchem package: http://www.ctan.org/tex-archive/help/Catalogue/entries/mhchem.html
	\end{comment}
	
	\begin{document}
	
	% Insert a named coordinate for later reference.
	% Usage:
	% \ncoord{name}
	% \ncoord[1em,2em]{name}
	\newcommand\ncoord[2][0,0]{%
	    \tikz[remember picture,overlay]{\path (#1) coordinate (#2);}%
	}
	
	% Define a handful of special cases of \ncoord
	\newcommand\ccoord[1]{\ncoord[0.5em,0.9em]{#1}}%
	\newcommand\bcoord[1]{\ncoord[0.4em,-0.3em]{#1}}%
	\newcommand\dcoord[1]{\ncoord[0.9em,1.5em]{#1}}%
	\newcommand\ecoord[1]{\ncoord[0.9em,-0.3em]{#1}}%
	
	\tikzset{
	    oxidation/.style={thick,red!80!black},
	    reduction/.style={thick,blue!80!black},
	}
	
	
	~
	
	% First reaction
	\[
	\ce{{\ccoord{a}} Na + {\bcoord{c}} Cl -> {\ccoord{b}} Na+  + {\bcoord{d}} Cl-}
	\]
	\tikz[overlay,remember picture] {
	    \draw[oxidation,->] (a) -- ++(0,0.7em) -| (b)
	        node[above, near start] {Oxidation};
	    \draw[reduction,->] (c) -- ++(0,-0.7em) -| (d)
	        node[below, near start] {Reduktion};
	}
	\\[0.5cm] % add some extra vertical spacing
	
	% Second reaction
	\[
	    \ce{%
	    {\dcoord{a}} $\overset{\text{0}}{\text{2\,Na}}$
	    +{\ecoord{c}}$\overset{\text{0}}{\text{Cl$_2$}}$ ->
	    {\dcoord{b}} $\overset{\text{+I}}{\text{2\,Na$^+$}}$  +
	    {\ecoord{d}} $\overset{\text{-I}}{\text{2\,Cl$^-$}}$}
	\]
	\tikz[overlay,remember picture] {
	    \draw[oxidation,->] (a) -- ++(0,0.7em) -| (b)
	        node[above, near start] {Oxidation};
	    \draw[reduction,->] (c) -- ++(0,-0.7em) -| (d)
	        node[below, near start] {Reduktion};
	}
	
	
	
	\end{document}
snippet networking p2p-topology
	% P2P system topology
	% Author Fiandrino Claudio 2011 - http://claudiofiandrino.altervista.org/
	% Description: physical and overlay topology characterization
	\documentclass{article}
	\usepackage{tikz}
	\usepackage[active,tightpage]{preview}
	\usetikzlibrary{shapes}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{7pt}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: P2P system topology
	:Tags: Networking; Foreach; Node Positioning; Styles; Graphs
	:Author: Claudio Fiandrino
	:Slug: p2p-topology
	
	Physical and overlay topology characterization of a P2P system topology
	\end{comment}
	\definecolor{pinegreen}{cmyk}{0.92,0,0.59,0.25}
	\definecolor{royalblue}{cmyk}{1,0.50,0,0}
	\definecolor{lavander}{cmyk}{0,0.48,0,0}
	\definecolor{violet}{cmyk}{0.79,0.88,0,0}
	\tikzstyle{cblue}=[circle, draw, thin,fill=cyan!20, scale=0.8]
	\tikzstyle{qgre}=[rectangle, draw, thin,fill=green!20, scale=0.8]
	\tikzstyle{rpath}=[ultra thick, red, opacity=0.4]
	\tikzstyle{legend_isps}=[rectangle, rounded corners, thin, 
	                       fill=gray!20, text=blue, draw]
	                        
	\tikzstyle{legend_overlay}=[rectangle, rounded corners, thin,
	                           top color= white,bottom color=green!25,
	                           minimum width=2.5cm, minimum height=0.8cm,
	                           pinegreen]
	\tikzstyle{legend_phytop}=[rectangle, rounded corners, thin,
	                          top color= white,bottom color=cyan!25,
	                          minimum width=2.5cm, minimum height=0.8cm,
	                          royalblue]
	\tikzstyle{legend_general}=[rectangle, rounded corners, thin,
	                          top color= white,bottom color=lavander!25,
	                          minimum width=2.5cm, minimum height=0.8cm,
	                          violet]
	\begin{document}
	\begin{tikzpicture}[auto, thick]
	 % Cloud creation
	  \node[cloud, fill=gray!20, cloud puffs=16, cloud puff arc= 100,
	        minimum width=7cm, minimum height=2.5cm, aspect=1] at (0,0) {};
	
	 % Physical layer nodes
	  \foreach \place/\x in {{(-2.5,0.3)/1}, {(-1.75,-0.55)/2},{(-1.2,0.55)/3},
	    {(-0.75,-0.7)/4}, {(-0.25,0)/5}, {(0.25,0.7)/6}, {(0.75,-0.3)/7}, 
	    {(1.5,0)/8},{(2.5,0.4)/9}}
	  \node[cblue] (a\x) at \place {};
	 
	 % Physical layer links
	  \path[thin] (a1) edge (a2);
	  \path[thin] (a1) edge (a3);
	  \path[thin] (a2) edge (a3);
	  \path[thin] (a3) edge (a6);
	  \path[thin] (a2) edge (a4);
	  \path[thin] (a5) edge (a6);
	  \path[thin] (a5) edge (a4);
	  \path[thin] (a5) edge (a2);
	  \path[thin] (a5) edge (a7);
	  \path[thin] (a6) edge (a7);
	  \path[thin] (a6) edge (a9);
	  \path[thin] (a6) edge (a8);
	  \path[thin] (a8) edge (a9);
	  \path[thin] (a7) edge (a8);
	 
	 % ISPs labelling
	  \draw[very thick, blue, dashed] 
	    (1.8,1.2).. controls +(left:2.2cm) and +(down:0.5cm) ..(0.7,-1.1);
	  \draw[very thick, blue, dashed] 
	    (-3,1).. controls +(right:2.2cm) and +(down:0.4cm) ..(-1,-1);
	  \node[legend_isps] (i1) at (-2.75,-2) {\textsc{Isp 1}};
	  \node[legend_isps] (i2) at (0,-2) {\textsc{Isp 2}};
	  \node[legend_isps] (i3) at (2,-2) {\textsc{Isp 3}};
	  \draw[-latex, thick, red] (i1) -- (-2.75,0);
	  \draw[-latex, thick, red] (i2) -- (0,-0.7);
	  \draw[-latex, thick, red] (i3) -- (2,0);
	
	 % Overlay layer nodes
	  \foreach \place/\i in {{(-2.5,2.3)/1},{(-1.75,1.45)/2},{(-1.2,2.55)/3},
	    {(-0.75,1.3)/4}, {(-0.25,2)/5}, {(0.25,2.7)/6}, {(0.75,1.7)/7},
	    {(1.5,2)/8},{(2.5,2.4)/9}}
	    \node[qgre] (b\i) at \place {};
	 
	 % Overlay layer links
	  \path[thin] (b1) edge (b2);
	  \path[thin] (b2) edge (b4);
	  \path[thin] (b4) edge (b5);
	  \path[thin] (b5) edge (b7);
	  \path[thin] (b4) edge (b3);
	  \path[thin] (b7) edge (b8);
	  \path[thin] (b8) edge (b9);
	  \path[thin] (b9) edge (b6);
	  \path[thin] (b6) edge (b3);
	  \path[thin] (b3) edge (b1);
	  \path[thin] (b5) edge (b8);
	  \path[thin] (b5) edge (b3);
	  \path[thin] (b5) edge (b6);
	 
	 % Links between overlay and physical topology
	  \foreach \i in {1,...,9}
	    \path[rpath] (a\i) edge (b\i);
	 
	 % Legends
	  \node[legend_general] at (0,4){\textsc{P2P System Topology}};
	  \node[legend_overlay] at (6,2){\textsc{Overlay Network}};
	  \node[legend_phytop] at (6,0){\textsc{Physical Network}};
	\end{tikzpicture}
	\end{document}
snippet networks pancake-network
	% Pancake networks
	% Author: Anthony Labarre <http://homepages.ulb.ac.be/~alabarre/home.html>
	\documentclass{minimal}
	
	% Tikz
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Pancake network
	
	The pancake network of order n has the set of all permutations of {1,2,...,n}
	as vertex set and has an edge between any two vertices such that the
	corresponding permutations can be obtained from one another by reversing the
	order of the first k elements of the permutation (e.g. (1 2 3 4) will be connected to
	(2 1 3 4), (3 2 1 4) and (4 3 2 1), but not to (1 4 3 2)). This drawing shows
	the pancake network of order 4.
	
	\end{comment}
	
	\newcommand{\LD}{\langle}
	\newcommand{\RD}{\rangle}
	
	\begin{document}
	
	\begin{center}
	 \begin{tikzpicture}
	    \tikzstyle{every node}=[draw,circle,fill=white,minimum size=4pt,
	                            inner sep=0pt]
	
	    % First, draw a ``bug'', which is a regular hexagon with ``legs'' attached
	    % to each vertex
	    % This is the hexagon:
	    \draw (0,0) node (1234) [label=left:$\LD 1\ 2\ 3\ 4\RD$] {}
	        -- ++(240:1.5cm) node (3214) [label=right:$\LD 3\ 2\ 1\ 4\RD$] {}
	        -- ++(300:1.5cm) node (2314) [label=left:$\LD 2\ 3\ 1\ 4\RD$] {}
	        -- ++(0:1.5cm) node (1324) [label=right:$\LD 1\ 3\ 2\ 4\RD$] {}
	        -- ++(60:1.5cm) node (3124) [label=left:$\LD 3\ 1\ 2\ 4\RD$] {}
	        -- ++(120:1.5cm) node (2134) [label=right:$\LD 2\ 1\ 3\ 4\RD$] {}
	        -- (1234);
	
	    % And these are the legs:
	    \draw (1234) -- ++(135:3.5cm) node (4321) [label=left:$\LD 4\ 3\ 2\ 1\RD$] {};
	    \draw (2134) -- ++( 45:3.5cm) node (4312) [label=right:$\LD 4\ 3\ 1\ 2\RD$] {};
	    \draw (1324) -- ++(-45:3.5cm) node (4231) [label=right:$\LD 4\ 2\ 3\ 1\RD$] {};
	    \draw (2314) -- ++(225:3.5cm) node (4132) [label=left:$\LD 4\ 1\ 3\ 2\RD$] {};
	    \draw (3124) -- ++(0:1.5cm) node (4213) [label=right:$\LD 4\ 2\ 1\ 3\RD$] {};
	    \draw (3214) -- ++(180:1.5cm) node (4123) [label=left:$\LD 4\ 1\ 2\ 3\RD$] {};
	
	    % Build outer regular hexagon
	    \draw (4213)
	        -- ++(120:3.0cm) node (1243) [label=above:$\LD 1\ 2\ 4\ 3\RD$] {}
	        -- ++(180:3.0cm) node (2143) [label=above:$\LD 2\ 1\ 4\ 3\RD$] {}
	        -- (4123)
	        -- ++(-60:3.0cm) node (1423) [label=below:$\LD 1\ 4\ 2\ 3\RD$] {}
	        -- ++(0:3.0cm) node (2413) [label=below:$\LD 2\ 4\ 1\ 3\RD$] {}
	        -- (4213);
	
	    % Now ``decorate'' the other legs a bit
	    \draw (4321) -- ++(45:2.5cm) node (3421) [label=left:$\LD 3\ 4\ 2\ 1\RD$] {};
	    \draw (4132) -- ++(-45:2.5cm) node (3142) [label=left:$\LD 3\ 1\ 4\ 2\RD$] {};
	    \draw (4231) -- ++(225:2.5cm) node (3241) [label=right:$\LD 3\ 2\ 4\ 1\RD$] {};
	    \draw (4312) -- ++(135:2.5cm) node (3412) [label=right:$\LD 3\ 4\ 1\ 2\RD$] {};
	
	    % Add missing nodes
	    \draw (4231) -- ++(45:2.5cm) node (2431) [label=right:$\LD 2\ 4\ 3\ 1\RD$] {};
	    \draw (4312) -- ++(-45:2.5cm) node (1342) [label=right:$\LD 1\ 3\ 4\ 2\RD$] {};
	    \draw (4321) -- ++(225:2.5cm) node (2341) [label=left:$\LD 2\ 3\ 4\ 1\RD$] {};
	    \draw (4132) -- ++(135:2.5cm) node (1432) [label=left:$\LD 1\ 4\ 3\ 2\RD$] {};
	
	    % Add missing ``straight'' edges
	    \draw (3421) -- (1243);
	    \draw (2143) -- (3412);
	    \draw (1423) -- (3241);
	    \draw (3142) -- (2413);
	    \draw (1432) -- (2341);
	    \draw (1342) -- (2431);
	
	    % Add missing ``curved'' edges
	    \draw (2341) to [out=-80,in=165] (3241);
	    \draw (3142) to [out=15,in=260] (1342);
	    \draw (1432) to [out=80,in=195] (3412);
	    \draw (2431) to [out=100,in=-15] (3421);
	
	\end{tikzpicture}
	\end{center}
	
	\end{document}
snippet manual parabola-plot
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Parabola plot
	:Tags: Manual, Plots, Axes
	
	This example is from the utilities page of the TikZ and PGF manual.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}[scale=2]
	  \shade[top color=blue,bottom color=gray!50] 
	      (0,0) parabola (1.5,2.25) |- (0,0);
	  \draw (1.05cm,2pt) node[above] 
	      {$\displaystyle\int_0^{3/2} \!\!x^2\mathrm{d}x$};
	
	  \draw[style=help lines] (0,0) grid (3.9,3.9)
	       [step=0.25cm]      (1,2) grid +(1,1);
	
	  \draw[->] (-0.2,0) -- (4,0) node[right] {$x$};
	  \draw[->] (0,-0.2) -- (0,4) node[above] {$f(x)$};
	
	  \foreach \x/\xtext in {1/1, 1.5/1\frac{1}{2}, 2/2, 3/3}
	    \draw[shift={(\x,0)}] (0pt,2pt) -- (0pt,-2pt) node[below] {$\xtext$};
	
	  \foreach \y/\ytext in {1/1, 2/2, 2.25/2\frac{1}{4}, 3/3}
	    \draw[shift={(0,\y)}] (2pt,0pt) -- (-2pt,0pt) node[left] {$\ytext$};
	
	  \draw (-.5,.25) parabola bend (0,0) (2,4) node[below right] {$x^2$};
	\end{tikzpicture}
	
	\end{document}
snippet manual parallel-lines
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Parallel lines and related angles
	:Slug: parallel-lines
	:Tags: Manual
	
	This example is from the Part III title page of the TikZ and PGF manual.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}
	  \draw[fill=yellow] (0,0) -- (60:.75cm) arc (60:180:.75cm);
	  \draw(120:0.4cm) node {$\alpha$};
	
	  \draw[fill=green!30] (0,0) -- (right:.75cm) arc (0:60:.75cm);
	  \draw(30:0.5cm) node {$\beta$};
	
	  \begin{scope}[shift={(60:2cm)}]
	    \draw[fill=green!30] (0,0) -- (180:.75cm) arc (180:240:.75cm);
	    \draw (30:-0.5cm) node {$\gamma$};
	
	    \draw[fill=yellow] (0,0) -- (240:.75cm) arc (240:360:.75cm);
	    \draw (-60:0.4cm) node {$\delta$};
	  \end{scope}
	
	  \begin{scope}[thick]
	    \draw (60:-1cm) node[fill=white] {$E$} -- (60:3cm) node[fill=white] {$F$};
	    \draw[red]                   (-2,0) node[left] {$A$} -- (3,0) 
	                                        node[right]{$B$};
	    \draw[blue,shift={(60:2cm)}] (-3,0) node[left] {$C$} -- (2,0) 
	                                        node[right]{$D$};
	  
	    \draw[shift={(60:1cm)},xshift=4cm]
	    node [right,text width=6cm,rounded corners,fill=red!20,inner sep=1ex]
	    {
	      When we assume that $\color{red}AB$ and $\color{blue}CD$ are
	      parallel, i.\,e., ${\color{red}AB} \mathbin{\|} \color{blue}CD$,
	      then $\alpha = \delta$ and $\beta = \gamma$.
	    };
	  \end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet fun parameterised-pig
	% Author M.R.C. van Dongen
	% Draw parameterised pig.
	% This code can/should be improved by using the pgfkey library.
	
	\documentclass{minimal}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Parameterised pig
	:Author: Marc van Dongen
	
	\end{comment}
	
	\usetikzlibrary{calc}
	\usepackage{keyval}
	
	\makeatletter
	
	% We're not using pgfkeys, and we've chosen to use keyval
	% for option parsing. The following define the keys for a
	% pig keyval family. The main purpose of the keys and
	% default values is that we want to be able to draw pigs
	% with predefined colours for certain parts and predefined
	% scaling factors for line thickness.
	
	\def\pig@draw@thick@width{0.85}
	\def\pig@draw@thin@width{0.20}
	\def\pig@label{pig label}
	\tikzset{draw thick/.style={draw=black,line width=0.85}}
	\tikzset{draw thin/.style={draw=black,line width=0.20}}
	\tikzset{fill colour/.style={fill=pink}}
	\tikzset{nose hole fill colour/.style={fill=purple!50!gray}}
	\tikzset{eye fill colour/.style={fill=white}}
	\tikzset{pupil fill colour/.style={fill=black}}
	
	\define@key{pig}{draw thick}{\def\draw@pig@thick@width{#1}}
	\define@key{pig}{draw thin}{\def\draw@pig@thin@width{#1}}
	\define@key{pig}{fill colour}{\tikzset{fill colour/.style={fill=#1}}}
	\define@key{pig}{nose hole fill colour}{\tikzset{nose hole fill colour/.style={fill=#1}}}
	\define@key{pig}{eye fill colour}{\tikzset{eye fill colour/.style={fill=#1}}}
	\define@key{pig}{pupil fill colour}{\tikzset{pupil fill colour/.style={fill=#1}}}
	\define@key{pig}{pig label}{\def\pig@label{#1}}
	\def\pig@scale{1}
	
	\def\pig{\@ifnextchar[\draw@pig{\draw@pig[]}}
	\def\draw@pig[#1]#2{%
	   % Set the relative line width for thick lines.
	   \def\draw@pig@thick@width{0.85}
	   % Set the relative line width for thin lines.
	   \def\draw@pig@thin@width{0.20}
	   % Set the relative scale of the pig.
	   \def\pig@scale{#2}
	   \setkeys{pig}{#1}
	   \begin{tikzpicture}[scale=#2,
	                       draw thick/.style={draw=black,line width=\draw@pig@thick@width*\pig@scale},
	                       draw thin/.style={draw=black,line width=\draw@pig@thin@width*\pig@scale}]
	   \path (0,0)            coordinate (\pig@label head)
	         + (-0.005,-0.20) coordinate (\pig@label nose)
	         + (-0.010,+0.05) coordinate (\pig@label body)
	         + (-0.010,+0.45) coordinate (\pig@label tail);
	   % Define points for tail.
	   \foreach \number/\point in {1/{+0.000,+0.055},%
	                               2/{-0.058,+0.075},%
	                               3/{+0.044,+0.094},%
	                               4/{-0.072,+0.137},%
	                               5/{+0.048,+0.170},%
	                               6/{-0.078,+0.206}} {
	       \path (\pig@label tail) +(\point) coordinate (tail \number);
	   }
	   % Define points for ears and legs.
	   \foreach \offset in {-1,1} {
	       \path (\pig@label head)
	                    ++ (+0.12*\offset,+0.00) coordinate (ear pt 1 \offset)
	                    +  (-0.04*\offset,+0.07) coordinate (ear pt 2 \offset)
	                    +  (-0.02*\offset,+0.25) coordinate (ear pt 3 \offset)
	                    +  (+0.11*\offset,+0.25) coordinate (ear pt 4 \offset)
	                    +  (+0.14*\offset,+0.13) coordinate (ear pt 5 \offset)
	                    +  (+0.09*\offset,-0.06) coordinate (ear pt 6 \offset)
	             (\pig@label head)
	                    ++ (+0.09*\offset,-0.30) coordinate (leg 1 \offset)
	                    ++ (+0.01*\offset,-0.24) coordinate (leg 2 \offset)
	                    ++ (+0.04*\offset,+0.08) coordinate (leg 3 \offset)
	                    ++ (+0.04*\offset,-0.08) coordinate (leg 4 \offset)
	                    ++ (+0.02*\offset,+0.30) coordinate (leg 5 \offset);
	   }
	   % draw legs.
	   \foreach \number in {-1,1} {
	      \filldraw[fill colour,draw thick]
	         (leg 1 \number) --
	         (leg 2 \number) --
	         (leg 3 \number) --
	         (leg 4 \number) --
	         (leg 5 \number) -- cycle;
	   }
	   % draw tail.
	   \draw[draw thick,line join=round,line cap=round]
	         (\pig@label tail) \foreach \num in {1,...,6} { -- (tail \num)};
	   % draw body.
	   \draw[fill colour,draw thick]
	         (\pig@label body) ellipse (4.50mm and 4.10mm);
	   % draw ears.
	   \foreach \number in {-1,1} {
	      % ears
	      \filldraw[fill colour,draw thick]
	         (ear pt 1 \number) .. controls
	         (ear pt 2 \number) and
	         (ear pt 3 \number) ..
	         (ear pt 4 \number) .. controls
	         (ear pt 5 \number) and
	         (ear pt 6 \number) .. (ear pt 1 \number);
	   }
	   % draw nose.
	   \filldraw[fill colour,draw thick]
	         (\pig@label head) ellipse (1.42mm and 1.40mm);
	   \foreach \offset in {-1,1} {
	       \filldraw[draw thin,eye fill colour]
	                (\pig@label head) ++ (-0.006,0.00) ++ (0.055*\offset,+0.03)
	                coordinate (eye \offset)
	                ellipse (0.04 and 0.060);
	       \fill[pupil fill colour]
	            (eye \offset) ellipse (0.020 and 0.035);
	   }
	   \filldraw[fill colour,draw thick]
	         (\pig@label nose) ellipse (2.60mm and 1.72mm);
	   % Draw nose holes
	   \foreach \offset in {-1,1} {
	       \filldraw[draw thick,nose hole fill colour]
	                (\pig@label nose) ++ (\offset*0.080,0)
	                 ellipse (0.50mm and 0.85mm);
	   }
	   \end{tikzpicture}
	}
	
	\makeatother
	
	\begin{document}
	\begin{tikzpicture}
	   \draw (0,0) node[anchor=south]{\pig{3}}
	         (4,0) node[anchor=south]{\pig[nose hole fill colour=purple!20,fill colour=blue!40]{5}};
	\end{tikzpicture}
	\end{document}
snippet parameterized parameterized-plots
	% under Creative Commons attribution license.
	% A work by Yves Delhaye
	% Requires GNUPLOT and shell-escape enabled
	\documentclass{minimal}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{0pt}%
	%%%>
	
	\begin{comment}
	:Title: Parameterized plots
	
	As a math teacher, I have to explain how parameters affect the graph of a function. By putting the "tikzpicture" inside a LaTeX macro, it is very easy and fast to create multiple graphs by modifying only the parameters and calling the macro.
	\end{comment}
	\usetikzlibrary{arrows,shapes}
	\usepackage{xifthen}
	
	\begin{document}
	
	% Macros for cst. They have to be redefined each time. See inside document
	\newcommand{\cA}{1}%	Cste . fct
	\newcommand{\cB}{0}%	Cste + fct
	\newcommand{\cC}{1}%	Cste . var
	\newcommand{\cD}{0}%	Cste + var
	
	%LaTeX Macro for drawing fct with pgf/tikz. Define once, use many!
	\newcommand{\FctAss}{
	\begin{tikzpicture}[domain=0:8]
	  \pgfmathparse{0.1+\cA*1.1 +\cB} \pgfmathresult \let\maxY\pgfmathresult% evaluate maxY 
	  \pgfmathparse{-0.1-\cA*1.1 +\cB} \pgfmathresult \let\minY\pgfmathresult% evaluate minY
	     \pgfmathparse{\maxY < 1} \pgfmathresult \let\BmaxY\pgfmathresult% What if maxY < 1? Then set Boolean to 1
	       \ifthenelse{\equal{\BmaxY}{1.0}}{%
	       \pgfmathparse{1.2} \pgfmathresult \let\maxY\pgfmathresult% Correct maxY to have correct graph
	       }{}
	     \pgfmathparse{\minY > 0} \pgfmathresult \let\BminY\pgfmathresult% What if minY > 0? Then set Boolean to 1
	       \ifthenelse{\equal{\BminY}{1.0}}{%
	       \pgfmathparse{0} \pgfmathresult \let\minY\pgfmathresult% Correct minY to have correct graph
	       }{}
	%        DRAW the graph of the function from here on
	   \draw[very thin,color=gray] (-0.1,\minY) grid (7.9,\maxY);% GRID use minY & maxY
	    \draw[->] (-0.2,0) -- (8.2,0) node[right] {$x$};
	    \draw[->] (0,\minY) -- (0,\maxY) node[above] {$f(x)$};% y axis use minY & maxY too
	    \draw[smooth,samples=200,color=blue] plot function{(\cA)* (cos((\cC)*x+(\cD))) + \cB} 
	        node[right] {$f(x) = \cA{} . cos(\cC{} . x + \cD{}) + \cB{}$};
	% units for cartesian reference frame
	    \foreach \x in {0,1}
	        \draw (\x cm,1pt) -- (\x cm,-3pt)
	            node[anchor=north,xshift=-0.15cm] {$\x$};
	    \foreach \y/\ytext in {1}
	        \draw (1pt,\y cm) -- (-3pt,\y cm) node[anchor=east] {$\ytext$};
	\end{tikzpicture}
	}
	% END of macro
	\begin{preview}
	% And now use it!
	    \FctAss{}
	    
	% Change the parameters
	    \renewcommand{\cA}{3}
	    \renewcommand{\cB}{0}
	    \renewcommand{\cC}{1}
	    \renewcommand{\cD}{0}
	% WITHOUT rewriting the code for the picture    
	    \FctAss{}
	% 
	% And do it again    
	    \renewcommand{\cA}{1}
	    \renewcommand{\cB}{0}
	    \renewcommand{\cC}{4}
	    \renewcommand{\cD}{0}
	    
	    \FctAss{}
	  
	% And again    
	    \renewcommand{\cA}{1}
	    \renewcommand{\cB}{0.5}
	    \renewcommand{\cC}{1}
	    \renewcommand{\cD}{0}
	    
	    \FctAss{}
	  
	% And again  
	    \renewcommand{\cA}{1}
	    \renewcommand{\cB}{0}
	    \renewcommand{\cC}{1}
	    \renewcommand{\cD}{2}
	    
	    \FctAss{}
	\end{preview}
	%   UNCOMMENT IF YOU WANT TO SEE MORE
	% % This is where the test on maxY is useful.
	%     \renewcommand{\cA}{3}
	%     \renewcommand{\cB}{-14}
	%     \renewcommand{\cC}{2}
	%     \renewcommand{\cD}{-2}
	%     
	%     \FctAss{}
	%     
	% % And here the test on minY is useful.
	%     \renewcommand{\cA}{3}
	%     \renewcommand{\cB}{14}
	%     \renewcommand{\cC}{2}
	%     \renewcommand{\cD}{-2}
	%     
	%     \FctAss{}
	%       
	\end{document}
snippet pascal pascals-triangle-and-sierpinski-triangle
	%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% Author : Paul Gaborit (2009)
	% under Creative Commons attribution license.
	% Title : Pascal's triangle and Sierpinski triangle
	% Note : 17 lines maximum
	\documentclass[landscape]{article}
	\usepackage[landscape,margin=1cm]{geometry}
	\pagestyle{empty}
	\usepackage[T1]{fontenc}
	\usepackage{lmodern}
	
	\usepackage{tikz}
	\usetikzlibrary{positioning,shadows,backgrounds}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Pascal's triangle and Sierpinski triangle
	
	\end{comment}
	
	\begin{document}
	\centering
	
	\begin{tikzpicture}[x=13mm,y=9mm]
	  % some colors
	  \colorlet{even}{cyan!60!black}
	  \colorlet{odd}{orange!100!black}
	  \colorlet{links}{red!70!black}
	  \colorlet{back}{yellow!20!white}
	  % some styles
	  \tikzset{
	    box/.style={
	      minimum height=5mm,
	      inner sep=.7mm,
	      outer sep=0mm,
	      text width=10mm,
	      text centered,
	      font=\small\bfseries\sffamily,
	      text=#1!50!black,
	      draw=#1,
	      line width=.25mm,
	      top color=#1!5,
	      bottom color=#1!40,
	      shading angle=0,
	      rounded corners=2.3mm,
	      drop shadow={fill=#1!40!gray,fill opacity=.8},
	      rotate=0,
	    },
	    link/.style={-latex,links,line width=.3mm},
	    plus/.style={text=links,font=\footnotesize\bfseries\sffamily},
	  }
	  % Pascal's triangle
	  % row #0 => value is 1
	  \node[box=odd] (p-0-0) at (0,0) {1};
	  \foreach \row in {1,...,16} {
	     % col #0 =&gt; value is 1
	    \node[box=odd] (p-\row-0) at (-\row/2,-\row) {1};
	    \pgfmathsetmacro{\value}{1};
	    \foreach \col in {1,...,\row} {
	      % iterative formula : val = precval * (row-col+1)/col
	      % (+ 0.5 to bypass rounding errors)
	      \pgfmathtruncatemacro{\value}{\value*((\row-\col+1)/\col)+0.5};
	      \global\let\value=\value
	      % position of each value
	      \coordinate (pos) at (-\row/2+\col,-\row);
	      % odd color for odd value and even color for even value
	      \pgfmathtruncatemacro{\rest}{mod(\value,2)}
	      \ifnum \rest=0
	        \node[box=even] (p-\row-\col) at (pos) {\value};
	      \else
	        \node[box=odd] (p-\row-\col) at (pos) {\value};
	      \fi
	      % for arrows and plus sign
	      \ifnum \col<\row
	        \node[plus,above=0mm of p-\row-\col]{+};
	        \pgfmathtruncatemacro{\prow}{\row-1}
	        \pgfmathtruncatemacro{\pcol}{\col-1}
	        \draw[link] (p-\prow-\pcol) -- (p-\row-\col);
	        \draw[link] ( p-\prow-\col) -- (p-\row-\col);
	      \fi
	    }
	  }
	  \begin{pgfonlayer}{background}
	    % filling and drawing with the same color to enlarge background
	    \path[draw=back,fill=back,line width=5mm,rounded corners=2.5mm]
	    (  p-0-0.north west) -- (  p-0-0.north east) --
	    (p-16-16.north east) -- (p-16-16.south east) --
	    ( p-16-0.south west) -- ( p-16-0.north west) --
	    cycle;
	  \end{pgfonlayer}
	\end{tikzpicture}
	
	\end{document}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
snippet recursion penrose-tiling
	% Penrose tiling (P0=Robinson triangle decomposition)
	% Author: Paul Gaborit
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Penrose tiling
	:Tags: Recursion;Fractals;Decorative drawings
	:Author: Paul Gaborit
	:Slug: penrose-tiling
	
	An example of a Penrose tiling (P0=Robinson triangle decomposition)
	\end{comment}
	\usetikzlibrary{calc}
	\usepackage{ifthen}
	\pgfmathsetmacro{\invphi}{2/(1+sqrt(5))}
	\newcommand\penroseA[4]{% n, a, b, c
	  \ifthenelse{0<#1}{
	    {
	      \pgfmathtruncatemacro{\n}{#1-1}
	      \coordinate(#2#4) at ($(#2)!\invphi!(#4)$);
	      \coordinate(#2#3) at ($(#2)!\invphi!(#3)$);
	      \penroseA{\n}{#2}{#2#3}{#2#4}
	      \penroseA{\n}{#4}{#2#3}{#3}
	      \penroseB{\n}{#2#3}{#4}{#2#4}
	    }
	  }{
	    \fill[colA,draw=white] (#2) -- (#3) -- (#4) -- cycle;
	  }
	}
	\newcommand\penroseB[4]{% n, a, b, c
	  \ifthenelse{0<#1}{
	    {
	      \pgfmathtruncatemacro{\n}{#1-1}
	      \coordinate(#2#3) at ($(#2)!\invphi!(#3)$);
	      \penroseA{\n}{#2}{#2#3}{#4}
	      \penroseB{\n}{#3}{#4}{#2#3}
	    }
	  }{
	    \fill[colB,draw=white] (#2) -- (#3) -- (#4) -- cycle;
	  }
	}
	\begin{document}
	\begin{tikzpicture}[line width=.1pt]
	  \colorlet{cyan}[rgb]{cyan}
	  \colorlet{colB}{red}
	  \colorlet{colA}{blue}
	  \coordinate (a) at (0,0);
	  \path (a) ++(0:15) coordinate (b);
	  \path (a) ++(36:15) coordinate (c);
	  \path (a) ++(72:15*\invphi) coordinate (d);
	  \path (a) ++(-36:15*\invphi) coordinate (e);
	  \penroseA{8}{a}{b}{c}  
	  \penroseB{8}{c}{a}{d}
	  \penroseB{8}{b}{a}{e}
	\end{tikzpicture}
	\end{document}
snippet chains pera-model
	% The Purdue Enterprise Reference Architecture (PERA) model.
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Purdue Enterprise Reference Architecture Model
	:Tags: Chains;Networking
	:Author: Erno Pentzin
	:Slug: pera-model
	
	Adapted from the figure in the book by Macaulay and Singer (2011).
	\end{comment}
	\usetikzlibrary{chains}
	\begin{document}
	
	\begin{tikzpicture}[
		scale=0.75,
		start chain=1 going below, 
		start chain=2 going right,
		node distance=1mm,
		desc/.style={
			scale=0.75,
			on chain=2,
			rectangle,
			rounded corners,
			draw=black, 
			very thick,
			text centered,
			text width=8cm,
			minimum height=12mm,
			fill=blue!30
			},
		it/.style={
			fill=blue!10
		},
		level/.style={
			scale=0.75,
			on chain=1,
			minimum height=12mm,
			text width=2cm,
			text centered
		},
		every node/.style={font=\sffamily}
	]
	
	% Levels
	\node [level] (Level 5) {Level 5};
	\node [level] (Level 4) {Level 4};
	\node [level] (Level 3) {Level 3};
	\node [level] (Level 2) {Level 2};
	\node [level] (Level 1.5) { };
	\node [level] (Level 1) {Level 1};
	\node [level] (Level 0) {Level 0};
	
	% Descriptions
	\chainin (Level 5); % Start right of Level 5
	% IT levels
	\node [desc, it] (Archives) {Archives/File Servers};
	\node [desc, it, continue chain=going below] (ERP) {ERP/Finance/Messaging};
	% ICS levels
	\node [desc] (Operations) {Operations Management/Historians};
	\node [desc] (Supervisory) {Supervisory Controls};
	\node [desc, text width=3.5cm, xshift=2.25cm] (PLC) {PLC/RTU IP Communication};
	\node [desc, text width=3.5cm, xshift=-4.5cm] (SIS) {Safety Instrumented Systems};
	\node [desc, xshift=2.25cm] (IO) {I/O from Sensors};
	
	\end{tikzpicture}
	
	\end{document}
snippet boundaries periodic-boundaries-conditions
	% Periodic boundaries conditions
	% Germain Salvato-Vallverdu - may 2009
	% http://germain.salvato-vallverdu.perso.sfr.fr
	\documentclass[11pt,a4paper]{article}
	
	\usepackage[utf8]{inputenc}
	\usepackage{graphicx}
	
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Periodic boundaries conditions
	:Zip: img/wat.png, img/wat3.png, img/wat2.png, img/wat4.png
	
	In condensed matter simulation periodic boundaries conditions are
	often used to simulate an infinite system.
	
	\end{comment}
	
	\title{Periodic boundaries conditions}
	\author{Germain Salvato-Vallverdu}
	
	\usepackage{hyperref}
	\hypersetup{%
	pdfauthor={Germain Salvato-Vallverdu},%
	pdftitle={Periodic boundaries conditions},% 
	pdfkeywords={Tikz,latex,Periodic boundaries conditions,simulation},%
	pdfcreator={PDFLaTeX},%
	pdfproducer={PDFLaTeX},%
	}
	
	\pagestyle{empty}
	
	\begin{document}
	\begin{center}
	
	\begin{tikzpicture}
	
	% water molecule in the initial simulation box
	\path (0.45,3.3) node {\includegraphics[width=0.75cm]{img/wat}}
	      (1.6,4.4)  node {\includegraphics[width=0.75cm]{img/wat3}}
	      (0.5,4.45) node {\includegraphics[width=0.75cm]{img/wat2}}
	      (1.1,3.7)  node {\includegraphics[width=0.75cm]{img/wat4}};
	
	% edge of the initial simulation box
	\path[draw,ultra thick] (0,3) rectangle (2,5);
	
	% periodic boundaries
	\foreach \x in {5,7,9} {
	    \foreach \y in {1,3,5} {
	        % water molecules in images
	        \node at (\x+0.45,\y+0.3) {\includegraphics[width=0.75cm]{img/wat}};
	        \node at (\x+1.6 ,\y+1.4) {\includegraphics[width=0.75cm]{img/wat3}};
	        \node at (\x+0.5 ,\y+1.45) {\includegraphics[width=0.75cm]{img/wat2}};
	        \node at (\x+1.1 ,\y+0.7) {\includegraphics[width=0.75cm]{img/wat4}};
	        
	        % edge of each box
	        \path[draw,thick] (\x,\y) rectangle (\x+2,\y+2);
	    }
	}
	
	% central box thicker than other
	\path[draw,ultra thick] (7,3) rectangle (9,5);
	
	% an arrow
	\path[draw,ultra thick,->] (2.5,4) -- (4.5,4);
	
	% dashed lines 
	\foreach \x in {5,7,9,11} {
	    % vertical
	    \path[draw,dashed,thick] (\x,0) -- (\x,1) (\x,7) -- (\x,8);
	    % horizontal
	    \path[draw,dashed,thick] (4,\x-4) -- (5,\x-4) (11,\x-4) -- (12,\x-4);
	}
	
	\end{tikzpicture}
	
	\end{center}
	
	\end{document}
snippet table periodic-table-of-chemical-elements
	%% Copyright 2009 Ivan Griffin
	%
	% This work may be distributed and/or modified under the
	% conditions of the LaTeX Project Public License, either version 1.3
	% of this license or (at your option) any later version.
	% The latest version of this license is in
	%   http://www.latex-project.org/lppl.txt
	% and version 1.3 or later is part of all distributions of LaTeX
	% version 2005/12/01 or later.
	%
	% This work has the LPPL maintenance status `maintained'.
	% 
	% The Current Maintainer of this work is Ivan Griffin
	%
	% This work consists of the files periodic_table.tex
	
	%Description
	%-----------
	%periodic_table.tex - an example file illustrating the Periodic
	%                     Table of Chemical Elements using TikZ
	
	%Created 2009-12-08 by Ivan Griffin.  Last updated: 2010-01-11
	%
	%Thanks to Jerome
	%-------------------------------------------------------------
	
	\documentclass[]{article}
	
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Periodic Table of Chemical Elements
	
	\end{comment}
	
	\usepackage{ifpdf}
	\usepackage{tikz}
	\usepackage[active,tightpage]{preview}
	\usetikzlibrary{shapes,calc}
	
	\ifpdf
	  %
	\else
	  % Implement Outline text using pstricks if regular LaTeX->dvi->ps->pdf route
	  \usepackage{pst-all}
	\fi
	
	\begin{document}
	
	\newcommand{\CommonElementTextFormat}[4]
	{
	  \begin{minipage}{2.2cm}
	    \centering
	      {\textbf{#1} \hfill #2}%
	      \linebreak \linebreak
	      {\textbf{#3}}%
	      \linebreak \linebreak
	      {{#4}}
	  \end{minipage}
	}
	
	\newcommand{\NaturalElementTextFormat}[4]
	{
	  \CommonElementTextFormat{#1}{#2}{\LARGE {#3}}{#4}
	}
	
	\newcommand{\OutlineText}[1]
	{
	\ifpdf
	  % Couldn't find a nicer way of doing an outline font with TikZ
	  % other than using pdfliteral 1 Tr
	  %
	  \pdfliteral direct {0.5 w 1 Tr}{#1}%
	  \pdfliteral direct {1 w 0 Tr}%
	\else
	  % pstricks can do this with \pscharpath from pstricks
	  %
	  \pscharpath[shadow=false,
	    fillstyle=solid,
	    fillcolor=white,
	    linestyle=solid,
	    linecolor=black,
	    linewidth=.2pt]{#1} 
	\fi
	}
	
	\newcommand{\SyntheticElementTextFormat}[4]
	{
	\ifpdf
	  \CommonElementTextFormat{#1}{#2}{\OutlineText{\LARGE #3}}{#4}
	\else
	  % pstricks approach results in slightly larger box
	  % that doesn't break, so fudge here
	  \CommonElementTextFormat{#1}{#2}{\OutlineText{\Large #3}}{#4}
	\fi
	}
	
	\begin{preview}
	\begin{tikzpicture}[font=\sffamily, scale=0.45, transform shape]
	
	%% Fill Color Styles
	  \tikzstyle{ElementFill} = [fill=yellow!15]
	  \tikzstyle{AlkaliMetalFill} = [fill=blue!55]
	  \tikzstyle{AlkalineEarthMetalFill} = [fill=blue!40]
	  \tikzstyle{MetalFill} = [fill=blue!25]
	  \tikzstyle{MetalloidFill} = [fill=orange!25]
	  \tikzstyle{NonmetalFill} = [fill=green!25]
	  \tikzstyle{HalogenFill} = [fill=green!40]
	  \tikzstyle{NobleGasFill} = [fill=green!55]
	  \tikzstyle{LanthanideActinideFill} = [fill=purple!25]
	
	%% Element Styles
	  \tikzstyle{Element} = [draw=black, ElementFill,
	    minimum width=2.75cm, minimum height=2.75cm, node distance=2.75cm]
	  \tikzstyle{AlkaliMetal} = [Element, AlkaliMetalFill]
	  \tikzstyle{AlkalineEarthMetal} = [Element, AlkalineEarthMetalFill]
	  \tikzstyle{Metal} = [Element, MetalFill]
	  \tikzstyle{Metalloid} = [Element, MetalloidFill]
	  \tikzstyle{Nonmetal} = [Element, NonmetalFill]
	  \tikzstyle{Halogen} = [Element, HalogenFill]
	  \tikzstyle{NobleGas} = [Element, NobleGasFill]
	  \tikzstyle{LanthanideActinide} = [Element, LanthanideActinideFill]
	  \tikzstyle{PeriodLabel} = [font={\sffamily\LARGE}, node distance=2.0cm]
	  \tikzstyle{GroupLabel} = [font={\sffamily\LARGE}, minimum width=2.75cm, node distance=2.0cm]
	  \tikzstyle{TitleLabel} = [font={\sffamily\Huge\bfseries}]
	
	%% Group 1 - IA
	  \node[name=H, Element] {\NaturalElementTextFormat{1}{1.0079}{H}{Hydrogen}};
	  \node[name=Li, below of=H, AlkaliMetal] {\NaturalElementTextFormat{3}{6.941}{Li}{Lithium}};
	  \node[name=Na, below of=Li, AlkaliMetal] {\NaturalElementTextFormat{11}{22.990}{Na}{Sodium}};
	  \node[name=K, below of=Na, AlkaliMetal] {\NaturalElementTextFormat{19}{39.098}{K}{Potassium}};
	  \node[name=Rb, below of=K, AlkaliMetal] {\NaturalElementTextFormat{37}{85.468}{Rb}{Rubidium}};
	  \node[name=Cs, below of=Rb, AlkaliMetal] {\NaturalElementTextFormat{55}{132.91}{Cs}{Caesium}};
	  \node[name=Fr, below of=Cs, AlkaliMetal] {\NaturalElementTextFormat{87}{223}{Fr}{Francium}};
	
	%% Group 2 - IIA
	  \node[name=Be, right of=Li, AlkalineEarthMetal] {\NaturalElementTextFormat{4}{9.0122}{Be}{Beryllium}};
	  \node[name=Mg, below of=Be, AlkalineEarthMetal] {\NaturalElementTextFormat{12}{24.305}{Mg}{Magnesium}};
	  \node[name=Ca, below of=Mg, AlkalineEarthMetal] {\NaturalElementTextFormat{20}{40.078}{Ca}{Calcium}};
	  \node[name=Sr, below of=Ca, AlkalineEarthMetal] {\NaturalElementTextFormat{38}{87.62}{Sr}{Strontium}};
	  \node[name=Ba, below of=Sr, AlkalineEarthMetal] {\NaturalElementTextFormat{56}{137.33}{Ba}{Barium}};
	  \node[name=Ra, below of=Ba, AlkalineEarthMetal] {\NaturalElementTextFormat{88}{226}{Ra}{Radium}};
	
	%% Group 3 - IIIB
	  \node[name=Sc, right of=Ca, Metal] {\NaturalElementTextFormat{21}{44.956}{Sc}{Scandium}};
	  \node[name=Y, below of=Sc, Metal] {\NaturalElementTextFormat{39}{88.906}{Y}{Yttrium}};
	  \node[name=LaLu, below of=Y, LanthanideActinide] {\NaturalElementTextFormat{57-71}{}{La-Lu}{Lanthanide}};
	  \node[name=AcLr, below of=LaLu, LanthanideActinide] {\NaturalElementTextFormat{89-103}{}{Ac-Lr}{Actinide}};
	
	%% Group 4 - IVB
	  \node[name=Ti, right of=Sc, Metal] {\NaturalElementTextFormat{22}{47.867}{Ti}{Titanium}};
	  \node[name=Zr, below of=Ti, Metal] {\NaturalElementTextFormat{40}{91.224}{Zr}{Zirconium}};
	  \node[name=Hf, below of=Zr, Metal] {\NaturalElementTextFormat{72}{178.49}{Hf}{Halfnium}};
	  \node[name=Rf, below of=Hf, Metal] {\SyntheticElementTextFormat{104}{261}{Rf}{Rutherfordium}};
	
	%% Group 5 - VB
	  \node[name=V, right of=Ti, Metal] {\NaturalElementTextFormat{23}{50.942}{V}{Vanadium}};
	  \node[name=Nb, below of=V, Metal] {\NaturalElementTextFormat{41}{92.906}{Nb}{Niobium}};
	  \node[name=Ta, below of=Nb, Metal] {\NaturalElementTextFormat{73}{180.95}{Ta}{Tantalum}};
	  \node[name=Db, below of=Ta, Metal] {\SyntheticElementTextFormat{105}{262}{Db}{Dubnium}};
	
	%% Group 6 - VIB
	  \node[name=Cr, right of=V, Metal] {\NaturalElementTextFormat{24}{51.996}{Cr}{Chromium}};
	  \node[name=Mo, below of=Cr, Metal] {\NaturalElementTextFormat{42}{95.94}{Mo}{Molybdenum}};
	  \node[name=W, below of=Mo, Metal] {\NaturalElementTextFormat{74}{183.84}{W}{Tungsten}};
	  \node[name=Sg, below of=W, Metal] {\SyntheticElementTextFormat{106}{266}{Sg}{Seaborgium}};
	
	%% Group 7 - VIIB
	  \node[name=Mn, right of=Cr, Metal] {\NaturalElementTextFormat{25}{54.938}{Mn}{Manganese}};
	  \node[name=Tc, below of=Mn, Metal] {\NaturalElementTextFormat{43}{96}{Tc}{Technetium}};
	  \node[name=Re, below of=Tc, Metal] {\NaturalElementTextFormat{75}{186.21}{Re}{Rhenium}};
	  \node[name=Bh, below of=Re, Metal] {\SyntheticElementTextFormat{107}{264}{Bh}{Bohrium}};
	
	%% Group 8 - VIIIB
	  \node[name=Fe, right of=Mn, Metal] {\NaturalElementTextFormat{26}{55.845}{Fe}{Iron}};
	  \node[name=Ru, below of=Fe, Metal] {\NaturalElementTextFormat{44}{101.07}{Ru}{Ruthenium}};
	  \node[name=Os, below of=Ru, Metal] {\NaturalElementTextFormat{76}{190.23}{Os}{Osmium}};
	  \node[name=Hs, below of=Os, Metal] {\SyntheticElementTextFormat{108}{277}{Hs}{Hassium}};
	
	%% Group 9 - VIIIB
	  \node[name=Co, right of=Fe, Metal] {\NaturalElementTextFormat{27}{58.933}{Co}{Cobalt}};
	  \node[name=Rh, below of=Co, Metal] {\NaturalElementTextFormat{45}{102.91}{Rh}{Rhodium}};
	  \node[name=Ir, below of=Rh, Metal] {\NaturalElementTextFormat{77}{192.22}{Ir}{Iridium}};
	  \node[name=Mt, below of=Ir, Metal] {\SyntheticElementTextFormat{109}{268}{Mt}{Meitnerium}};
	
	%% Group 10 - VIIIB
	  \node[name=Ni, right of=Co, Metal] {\NaturalElementTextFormat{28}{58.693}{Ni}{Nickel}};
	  \node[name=Pd, below of=Ni, Metal] {\NaturalElementTextFormat{46}{106.42}{Pd}{Palladium}};
	  \node[name=Pt, below of=Pd, Metal] {\NaturalElementTextFormat{78}{195.08}{Pt}{Platinum}};
	  \node[name=Ds, below of=Pt, Metal] {\SyntheticElementTextFormat{110}{281}{Ds}{Darmstadtium}};
	
	%% Group 11 - IB
	  \node[name=Cu, right of=Ni, Metal] {\NaturalElementTextFormat{29}{63.546}{Cu}{Copper}};
	  \node[name=Ag, below of=Cu, Metal] {\NaturalElementTextFormat{47}{107.87}{Ag}{Silver}};
	  \node[name=Au, below of=Ag, Metal] {\NaturalElementTextFormat{79}{196.97}{Au}{Gold}};
	  \node[name=Rg, below of=Au, Metal] {\SyntheticElementTextFormat{111}{280}{Rg}{Roentgenium}};
	
	%% Group 12 - IIB
	  \node[name=Zn, right of=Cu, Metal] {\NaturalElementTextFormat{30}{65.39}{Zn}{Zinc}};
	  \node[name=Cd, below of=Zn, Metal] {\NaturalElementTextFormat{48}{112.41}{Cd}{Cadmium}};
	  \node[name=Hg, below of=Cd, Metal] {\NaturalElementTextFormat{80}{200.59}{Hg}{Mercury}};
	  \node[name=Uub, below of=Hg, Metal] {\SyntheticElementTextFormat{112}{285}{Uub}{Ununbium}};
	
	%% Group 13 - IIIA
	  \node[name=Ga, right of=Zn, Metal] {\NaturalElementTextFormat{31}{69.723}{Ga}{Gallium}};
	  \node[name=Al, above of=Ga, Metal] {\NaturalElementTextFormat{13}{26.982}{Al}{Aluminium}};
	  \node[name=B, above of=Al, Metalloid] {\NaturalElementTextFormat{5}{10.811}{B}{Boron}};
	  \node[name=In, below of=Ga, Metal] {\NaturalElementTextFormat{49}{114.82}{In}{Indium}};
	  \node[name=Tl, below of=In, Metal] {\NaturalElementTextFormat{81}{204.38}{Tl}{Thallium}};
	  \node[name=Uut, below of=Tl, Metal] {\SyntheticElementTextFormat{113}{284}{Uut}{Ununtrium}};
	
	%% Group 14 - IVA
	  \node[name=C, right of=B, Nonmetal] {\NaturalElementTextFormat{6}{12.011}{C}{Carbon}};
	  \node[name=Si, below of=C, Metalloid] {\NaturalElementTextFormat{14}{28.086}{Si}{Silicon}};
	  \node[name=Ge, below of=Si, Metalloid] {\NaturalElementTextFormat{32}{72.64}{Ge}{Germanium}};
	  \node[name=Sn, below of=Ge, Metal] {\NaturalElementTextFormat{50}{118.71}{Sn}{Tin}};
	  \node[name=Pb, below of=Sn, Metal] {\NaturalElementTextFormat{82}{207.2}{Pb}{Lead}};
	  \node[name=Uuq, below of=Pb, Metal] {\SyntheticElementTextFormat{114}{289}{Uuq}{Ununquadium}};
	
	%% Group 15 - VA
	  \node[name=N, right of=C, Nonmetal] {\NaturalElementTextFormat{7}{14.007}{N}{Nitrogen}};
	  \node[name=P, below of=N, Nonmetal] {\NaturalElementTextFormat{15}{30.974}{P}{Phosphorus}};
	  \node[name=As, below of=P, Metalloid] {\NaturalElementTextFormat{33}{74.922}{As}{Arsenic}};
	  \node[name=Sb, below of=As, Metalloid] {\NaturalElementTextFormat{51}{121.76}{Sb}{Antimony}};
	  \node[name=Bi, below of=Sb, Metal] {\NaturalElementTextFormat{83}{208.98}{Bi}{Bismuth}};
	  \node[name=Uup, below of=Bi, Metal] {\SyntheticElementTextFormat{115}{288}{Uup}{Ununpentium}};
	
	%% Group 16 - VIA
	  \node[name=O, right of=N, Nonmetal] {\NaturalElementTextFormat{8}{15.999}{O}{Oxygen}};
	  \node[name=S, below of=O, Nonmetal] {\NaturalElementTextFormat{16}{32.065}{S}{Sulphur}};
	  \node[name=Se, below of=S, Nonmetal] {\NaturalElementTextFormat{34}{78.96}{Se}{Selenium}};
	  \node[name=Te, below of=Se, Metalloid] {\NaturalElementTextFormat{52}{127.6}{Te}{Tellurium}};
	  \node[name=Po, below of=Te, Metalloid] {\NaturalElementTextFormat{84}{209}{Po}{Polonium}};
	  \node[name=Uuh, below of=Po, Metal] {\SyntheticElementTextFormat{116}{293}{Uuh}{Ununhexium}};
	
	%% Group 17 - VIIA
	  \node[name=F, right of=O, Halogen] {\NaturalElementTextFormat{9}{18.998}{F}{Flourine}};
	  \node[name=Cl, below of=F, Halogen] {\NaturalElementTextFormat{17}{35.453}{Cl}{Chlorine}};
	  \node[name=Br, below of=Cl, Halogen] {\NaturalElementTextFormat{35}{79.904}{Br}{Bromine}};
	  \node[name=I, below of=Br, Halogen] {\NaturalElementTextFormat{53}{126.9}{I}{Iodine}};
	  \node[name=At, below of=I, Halogen] {\NaturalElementTextFormat{85}{210}{At}{Astatine}};
	  \node[name=Uus, below of=At, Element] {\SyntheticElementTextFormat{117}{292}{Uus}{Ununseptium}}; 
	
	%% Group 18 - VIIIA
	  \node[name=Ne, right of=F, NobleGas] {\NaturalElementTextFormat{10}{20.180}{Ne}{Neon}};
	  \node[name=He, above of=Ne, NobleGas] {\NaturalElementTextFormat{2}{4.0025}{He}{Helium}};
	  \node[name=Ar, below of=Ne, NobleGas] {\NaturalElementTextFormat{18}{39.948}{Ar}{Argon}};
	  \node[name=Kr, below of=Ar, NobleGas] {\NaturalElementTextFormat{36}{83.8}{Kr}{Krypton}};
	  \node[name=Xe, below of=Kr, NobleGas] {\NaturalElementTextFormat{54}{131.29}{Xe}{Xenon}};
	  \node[name=Rn, below of=Xe, NobleGas] {\NaturalElementTextFormat{86}{222}{Rn}{Radon}};
	  \node[name=Uuo, below of=Rn, Nonmetal] {\SyntheticElementTextFormat{118}{294}{Uuo}{Ununoctium}}; 
	
	%% Period
	  \node[name=Period1, left of=H, PeriodLabel] {1};
	  \node[name=Period2, left of=Li, PeriodLabel] {2};
	  \node[name=Period3, left of=Na, PeriodLabel] {3}; 
	  \node[name=Period4, left of=K, PeriodLabel] {4}; 
	  \node[name=Period5, left of=Rb, PeriodLabel] {5};
	  \node[name=Period6, left of=Cs, PeriodLabel] {6};
	  \node[name=Period7, left of=Fr, PeriodLabel] {7};
	
	%% Group
	  \node[name=Group1, above of=H, GroupLabel] {1 \hfill IA};
	  \node[name=Group2, above of=Be, GroupLabel] {2 \hfill IIA};
	  \node[name=Group3, above of=Sc, GroupLabel] {3 \hfill IIIA};
	  \node[name=Group4, above of=Ti, GroupLabel] {4 \hfill IVB};
	  \node[name=Group5, above of=V, GroupLabel] {5 \hfill VB};
	  \node[name=Group6, above of=Cr, GroupLabel] {6 \hfill VIB};
	  \node[name=Group7, above of=Mn, GroupLabel] {7 \hfill VIIB};
	  \node[name=Group8, above of=Fe, GroupLabel] {8 \hfill VIIIB};
	  \node[name=Group9, above of=Co, GroupLabel] {9 \hfill VIIIB};
	  \node[name=Group10, above of=Ni, GroupLabel] {10 \hfill VIIIB};
	  \node[name=Group11, above of=Cu, GroupLabel] {11 \hfill IB};
	  \node[name=Group12, above of=Zn, GroupLabel] {12 \hfill IIB};
	  \node[name=Group13, above of=B, GroupLabel] {13 \hfill IIIA};
	  \node[name=Group14, above of=C, GroupLabel] {14 \hfill IVA};
	  \node[name=Group15, above of=N, GroupLabel] {15 \hfill VA};
	  \node[name=Group16, above of=O, GroupLabel] {16 \hfill VIA};
	  \node[name=Group17, above of=F, GroupLabel] {17 \hfill VIIA};
	  \node[name=Group18, above of=He, GroupLabel] {18 \hfill VIIIA};
	
	%% Lanthanide
	  \node[name=La, below of=Rf, LanthanideActinide, yshift=-1cm] {\NaturalElementTextFormat{57}{138.91}{La}{Lanthanum}};
	  \node[name=Ce, right of=La, LanthanideActinide] {\NaturalElementTextFormat{58}{140.12}{Ce}{Cerium}};
	  \node[name=Pr, right of=Ce, LanthanideActinide] {\NaturalElementTextFormat{59}{140.91}{Pr}{Praseodymium}};
	  \node[name=Nd, right of=Pr, LanthanideActinide] {\NaturalElementTextFormat{60}{144.24}{Nd}{Neodymium}};
	  \node[name=Pm, right of=Nd, LanthanideActinide] {\NaturalElementTextFormat{61}{145}{Pm}{Promethium}};
	  \node[name=Sm, right of=Pm, LanthanideActinide] {\NaturalElementTextFormat{62}{150.36}{Sm}{Samarium}};
	  \node[name=Eu, right of=Sm, LanthanideActinide] {\NaturalElementTextFormat{63}{151.96}{Eu}{Europium}};
	  \node[name=Gd, right of=Eu, LanthanideActinide] {\NaturalElementTextFormat{64}{157.25}{Gd}{Gadolinium}};
	  \node[name=Tb, right of=Gd, LanthanideActinide] {\NaturalElementTextFormat{65}{158.93}{Tb}{Terbium}};
	  \node[name=Dy, right of=Tb, LanthanideActinide] {\NaturalElementTextFormat{66}{162.50}{Dy}{Dysprosium}};
	  \node[name=Ho, right of=Dy, LanthanideActinide] {\NaturalElementTextFormat{67}{164.93}{Ho}{Holmium}};
	  \node[name=Er, right of=Ho, LanthanideActinide] {\NaturalElementTextFormat{68}{167.26}{Er}{Erbium}};
	  \node[name=Tm, right of=Er, LanthanideActinide] {\NaturalElementTextFormat{69}{168.93}{Tm}{Thulium}};
	  \node[name=Yb, right of=Tm, LanthanideActinide] {\NaturalElementTextFormat{70}{173.04}{Yb}{Ytterbium}};
	  \node[name=Lu, right of=Yb, LanthanideActinide] {\NaturalElementTextFormat{71}{174.97}{Lu}{Lutetium}};
	
	%% Actinide
	  \node[name=Ac, below of=La, LanthanideActinide, yshift=-1cm] {\NaturalElementTextFormat{89}{227}{Ac}{Actinium}};
	  \node[name=Th, right of=Ac, LanthanideActinide] {\NaturalElementTextFormat{90}{232.04}{Th}{Thorium}};
	  \node[name=Pa, right of=Th, LanthanideActinide] {\NaturalElementTextFormat{91}{231.04}{Pa}{Protactinium}};
	  \node[name=U, right of=Pa, LanthanideActinide] {\NaturalElementTextFormat{92}{238.03}{U}{Uranium}};
	  \node[name=Np, right of=U, LanthanideActinide] {\SyntheticElementTextFormat{93}{237}{Np}{Neptunium}};
	  \node[name=Pu, right of=Np, LanthanideActinide] {\SyntheticElementTextFormat{94}{244}{Pu}{Plutonium}};
	  \node[name=Am, right of=Pu, LanthanideActinide] {\SyntheticElementTextFormat{95}{243}{Am}{Americium}};
	  \node[name=Cm, right of=Am, LanthanideActinide] {\SyntheticElementTextFormat{96}{247}{Cm}{Curium}};
	  \node[name=Bk, right of=Cm, LanthanideActinide] {\SyntheticElementTextFormat{97}{247}{Bk}{Berkelium}};
	  \node[name=Cf, right of=Bk, LanthanideActinide] {\SyntheticElementTextFormat{98}{251}{Cf}{Californium}};
	  \node[name=Es, right of=Cf, LanthanideActinide] {\SyntheticElementTextFormat{99}{252}{Es}{Einsteinium}};
	  \node[name=Fm, right of=Es, LanthanideActinide] {\SyntheticElementTextFormat{100}{257}{Fm}{Fermium}};
	  \node[name=Md, right of=Fm, LanthanideActinide] {\SyntheticElementTextFormat{101}{258}{Md}{Mendelevium}};
	  \node[name=No, right of=Md, LanthanideActinide] {\SyntheticElementTextFormat{102}{259}{No}{Nobelium}};
	  \node[name=Lr, right of=No, LanthanideActinide] {\SyntheticElementTextFormat{103}{262}{Lr}{Lawrencium}};
	
	%% Draw dotted lines connecting Lanthanide breakout to main table
	  \draw (LaLu.north west) edge[dotted] (La.north west)
	        (LaLu.north east) edge[dotted] (Lu.north east)
	        (LaLu.south west) edge[dotted] (La.south west)
	        (LaLu.south east) edge[dotted] (Lu.south east);
	%% Draw dotted lines connecting Actinide breakout to main table
	  \draw (AcLr.north west) edge[dotted] (Ac.north west)
	        (AcLr.north east) edge[dotted] (Lr.north east)
	        (AcLr.south west) edge[dotted] (Ac.south west)
	        (AcLr.south east) edge[dotted] (Lr.south east);
	
	%% Legend
	  \draw[black, AlkaliMetalFill] ($(La.north -| Fr.west) + (1em,-0.0em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Alkali Metal};
	  \draw[black, AlkalineEarthMetalFill] ($(La.north -| Fr.west) + (1em,-1.5em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Alkaline Earth Metal};
	  \draw[black, MetalFill] ($(La.north -| Fr.west) + (1em,-3.0em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Metal};
	  \draw[black, MetalloidFill] ($(La.north -| Fr.west) + (1em,-4.5em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Metalloid};
	  \draw[black, NonmetalFill] ($(La.north -| Fr.west) + (1em,-6.0em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Non-metal};
	  \draw[black, HalogenFill] ($(La.north -| Fr.west) + (1em,-7.5em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Halogen};
	  \draw[black, NobleGasFill] ($(La.north -| Fr.west) + (1em,-9.0em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Noble Gas};
	  \draw[black, LanthanideActinideFill] ($(La.north -| Fr.west) + (1em,-10.5em)$)
	    rectangle +(1em, 1em) node[right, yshift=-1ex]{Lanthanide/Actinide};
	
	  \node at ($(La.north -| Fr.west) + (5em,-15em)$) [name=elementLegend, Element, fill=white]
	    {\NaturalElementTextFormat{Z}{mass}{Symbol}{Name}};
	  \node[Element, fill=white, right of=elementLegend, xshift=1em]
	    {\SyntheticElementTextFormat{}{}{man-made}{}} ;
	
	%% Diagram Title
	  \node at (H.west -| Fe.north) [name=diagramTitle, TitleLabel]
	    {(Mendeleev's) Periodic Table of Chemical Elements via Ti\emph{k}Z};
	
	\end{tikzpicture}
	\end{preview}
	\end{document}
snippet bissector perpendicular-bissector
	% Perpendicular bissector
	% Author:  Hugues Vermeiren
	\documentclass{minimal}
	\usepackage{tikz,xifthen}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Perpendicular bissector
	
	The construction of points on the perpendicular bissector of [AB].
	It is achieved in an artisanal way, the purpose being to show how to achieve computations with pgf.
	A much simpler construction can certainly be done with other pgf commands but the idea here is to emphasize the analytical process.
	\end{comment}
	
	\begin{document}
	        
	\newcounter{index}
	\setcounter{index}{0}
	
	\begin{tikzpicture}[
	        scale=1.0,
	        MyPoints/.style={draw=blue,fill=white,thick},
	        Segments/.style={draw=blue!50!red!70,thick},
	        MyCircles/.style={green!50!blue!50,thin}
	        ]
	    % Warning : all this is an artisanal way of computing points
	    % on the perpendicular bissector of [AB]
	    % It could very well be achieved with more powerfull tools...
	    % (package tkz-2d, for example)
	    \clip (-2.5,-2.5) rectangle (7,7.5);
	    \draw[color=gray,step=1.0,dotted] (-2.1,-2.1) grid (6.1,7.1);
	    \draw[->] (-2,0)--(6.5,0) node[right]{$x$};
	    \draw[->] (0,-2)--(0,7) node[above]{$y$};
	
	    % Feel free to change here coordinates of points A and B
	    \pgfmathparse{-sqrt(2)}		\let\Xa\pgfmathresult
	    \pgfmathparse{2}		\let\Ya\pgfmathresult
	    \coordinate (A) at (\Xa,\Ya);
	    \pgfmathparse{5}		\let\Xb\pgfmathresult
	    \pgfmathparse{13/3}		\let\Yb\pgfmathresult
	    \coordinate (B) at (\Xb,\Yb);
	    
	    % Let I be the midpoint of [AB]
	    \pgfmathparse{(\Xb+\Xa)/2} \let\XI\pgfmathresult
	    \pgfmathparse{(\Yb+\Ya)/2} \let\YI\pgfmathresult
	    \coordinate (I) at (\XI,\YI);	
	            
	    \draw[red,thick] (A)--(B);
	    
	    % deltaX and deltaY are coordinates of vector AB
	    \pgfmathparse{\Yb-\Ya} \let\deltaY\pgfmathresult
	    \pgfmathparse{\Xb-\Xa} \let\deltaX\pgfmathresult
	    
	    % NormeddeltaX and NormeddeltaY are the normalized values of these coordinates
	    \pgfmathparse{sqrt(\deltaX*\deltaX+\deltaY*\deltaY)} \let\r\pgfmathresult
	    \pgfmathparse{\deltaX/\r} \let\NormeddeltaX\pgfmathresult
	    \pgfmathparse{\deltaY/\r} \let\NormeddeltaY\pgfmathresult
	
	    % R is a point on the perpendicular bissector of [AB],
	    % far away from the midpoint...
	    \pgfmathparse{\YI-10.0*\NormeddeltaX} \let\YR\pgfmathresult
	    \pgfmathparse{\XI+10.0*\NormeddeltaY} \let\XR\pgfmathresult
	    
	    % S is the image of R by the symmetry of axis AB
	    \pgfmathparse{2*\YI-\YR} \let\YS\pgfmathresult
	    \pgfmathparse{2*\XI-\XR} \let\XS\pgfmathresult
	    \coordinate (R) at (\XR,\YR);
	    \coordinate (S) at (\XS,\YS);
	    \draw (R)--(S);
	    
	    \foreach \i in {-3,-2,...,5}{
	        \ifthenelse{\equal{\i}{0}}% Do not redraw the segment [AB]
	            {}%
	            {%
	                \stepcounter{index}
	                % P(i) is a variable point on the perpendicular bissector.
	                % The distance between P(i) and P(i+1) is equal to 1
	                \pgfmathparse{\YI-\i*\NormeddeltaX} \let\YP\pgfmathresult
	                \pgfmathparse{\XI+\i*\NormeddeltaY} \let\XP\pgfmathresult
	                \coordinate (P) at (\XP,\YP);
	                \pgfmathparse{sqrt((\XP-\Xa)*(\XP-\Xa)+(\YP-\Ya)*(\YP-\Ya))}
	                \let\radius\pgfmathresult
	                            
	                \draw[MyCircles] (P) circle ({\radius});
	                \draw[Segments] (P)--(A);
	                \draw[Segments] (P)--(B);
	                \fill[MyPoints] (P) circle (0.8mm) node[right]{$P_{\theindex}$};
	            }%
	        };
	        
	    \fill[MyPoints] (A) circle (0.8mm) node[left]{$A$};
	    \fill[MyPoints] (B) circle (0.8mm) node[right]{$B$};
	    \fill[MyPoints] (I) circle (0.8mm) node[right]{$I$};
	\end{tikzpicture}
	
	\end{document}
snippet diagrams personality-test
	% In this document Tikz is used to produce the graphic output of
	% personality test by Sveistrup. More on the test (in Danish) here:
	% http://www.socsci.auc.dk/samfbasis/kurser/projektarb/2006_7_farvetest.doc
	% Author: Rasmus Pank Roulund
	
	\documentclass[DIV=14]{scrartcl}
	\pagestyle{empty}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Personality test
	:Tags: Diagrams, Transparency
	
	In this example TikZ is used to produce the graphic output of a personality test 
	developed by Prof. Poul Sveistrup. 
	
	:Author: Rasmus Pank Roulund
	
	\end{comment}
	
	\usepackage{fltpoint}
	\usepackage{subfig}
	%Adding new counters
	\newcounter{lenA}\newcounter{lenB}
	\newcounter{lenC}\newcounter{lenD}
	
	\newcommand{\svenstrup}[4]{
	    \setcounter{lenA}{#1}%
	    \setcounter{lenB}{#2}%
	    \setcounter{lenC}{#3}%
	    \setcounter{lenD}{#4}%
	    \fpMul{\fourAB}{\thelenA}{\thelenB}%
	    \fpDiv{\threeAB}{\fourAB}{2}%
	    %
	    \fpMul{\fourBC}{\thelenB}{\thelenC}%
	    \fpDiv{\threeBC}{\fourBC}{2}%
	    %
	    \fpMul{\fourAD}{\thelenA}{\thelenD}%
	    \fpDiv{\threeAD}{\fourAD}{2}%
	    %
	    \fpMul{\fourCD}{\thelenC}{\thelenD}%
	    \fpDiv{\threeCD}{\fourCD}{2}%
	    %
	    \sffamily
	    \begin{tikzpicture}[scale=.60]
	        %Styles are defined.
	        \tikzstyle{axes}=[]
	        \tikzstyle{important line}=[very thick]
	
	        %Let us lay the grounds.
	        %grid
	        \draw[style=help lines, step=0.5cm] (-5.1,-5.1) grid (5.1,5.1);
	
	
	        %AXES
	
	        %%We set the style for the follwing to be axes
	        \begin{scope}[style=axes]
	            \draw[->] (0,0) -- (-5.4,0) node[left]  {$A$} coordinate(x axis);
	            \draw[->] (0,0) -- (5.4,0) node[right]  {$C$} coordinate(x axis);
	
	            \draw[->] (0,0) -- (0,5.4)  node[above]  {$B$} coordinate(y axis);
	            \draw[->] (0,0) -- (0,-5.4) node[below]  {$D$} coordinate(y axis);
	        \end{scope}
	
	        %We will make the important lines.
	        %They will be filled, and they make out the basics of the figure
	        \begin{scope}[style=important line,very nearly opaque, text opacity=100]
	
	        %Add
	        %Green
	
	        \draw[fill=green!40!white, ] (-\thelenA mm, 0mm) --
	        (0 mm,-\thelenD mm)
	        --node[above left] {\threeAD} (0 mm, 0 mm) -- cycle ;
	
	        %CD
	        %Blue
	
	        \draw[fill=blue!40!white] (\thelenC mm, 0mm) -- (0 mm,-\thelenD mm) --
	            node[right] {\threeCD} (0 mm, 0 mm)  -- cycle;
	
	        %BC
	        %Yellow
	
	        \draw[fill=yellow!40!white] (\thelenC mm, 0mm) -- (0 mm,\thelenB mm)
	            --  (0 mm, 0 mm) node[above right] {\threeBC} -- cycle;
	
	        %AB
	        %Red
	
	        \draw[fill=red!50!white] (-\thelenA mm, 0mm) -- (0 mm,\thelenB mm)
	            -- (0 mm, 0 mm) node[above left] {\threeAB} -- cycle;
	
	        \end{scope}
	
	
	
	        \begin{scope}[style=axes, nearly opaque]
	            %tiks on x-axis
	            \foreach \x in {-5,-4,...,-.1}
	                \draw (\x,.1pt) -- (\x,-.1pt) node[below]
	                    {\fpAbs{\xpos}{\x}\scriptsize \xpos 0};
	
	            \foreach \x in {5,4,...,.1}
	                \draw[xshift=\x cm] (0,.1pt) -- (0,-.1pt) node[below]
	                    {\fpAbs{\xpos}{\x}\scriptsize \xpos 0};
	
	            %tiks p y-acis
	            \foreach \y in {5,4,3,...,.1}
	                \draw[yshift=\y cm] (-1.5pt,0pt) -- (1.5pt,0pt) node[right]
	                    {\fpAbs{\ypos}{\y} \scriptsize \ypos 0};
	
	            \foreach \y in {-5,-4,...,-.1}
	                \draw[yshift=\y cm] (-1.5pt,0pt) -- (1.5pt,0pt) node[right]
	                    {\fpAbs{\ypos}{\y} \scriptsize \ypos 0};
	
	        \end{scope}
	
	        \normalfont
	    \end{tikzpicture}
	}
	
	\begin{document}
	\begin{figure}
	    \centering
	    \subfloat[Adam]{\svenstrup{28}{38}{31}{30}}
	    \quad
	    \subfloat[Ben]{\svenstrup{31}{37}{39}{31}}\\
	    \subfloat[Connie]{\svenstrup{37}{37}{32}{26}}
	    \quad
	    \subfloat[Dennis]{\svenstrup{38}{25}{26}{32}}\\
	    \subfloat[Eric]{\svenstrup{35}{27}{30}{35}}
	    \quad
	    \subfloat[Fritz]{\svenstrup{25}{34}{30}{23}}
	\end{figure}
	\end{document}
	
	%%% Local Variables:
	%%% mode: latex
	%%% TeX-master: t
	%%% End:
snippet pgf pgf2-titlepage
	% isolated Frontpage of [Tantau 2008]
	% Mi 30. Apr 12:58:37 CEST 2008, lh
	%
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: PGF 2.0 title page
	:Slug: pgf2-titlepage
	:Tags: PGF 2.0, Manual, Decorations, Transparency
	
	
	The title page of the PGF 2.00 manual.
	
	:Source: The TikZ & PGF manual
	
	Thanks to `Ludger Humbert`_ for submitting a standalone version of the titlepage.
	
	.. _Ludger Humbert: https://haspe.homeip.net/cgi-bin/pyblosxom.cgi
	
	\end{comment}
	
	\usetikzlibrary{%
	   decorations.fractals%
	  ,decorations.pathmorphing%
	  ,shadows%
	}
	
	\begin{document}
	
	  \parindent0pt
	  \null
	  \colorlet{mintgreen}{green!50!black!50}
	
	  \thispagestyle{empty}
	  \vskip3cm
	  \vfill
	  \hfil
	  \begin{tikzpicture}[overlay]
	    \coordinate (front) at (0,0);
	    \coordinate (horizon) at (0,.31\paperheight);
	    \coordinate (bottom) at (0,-.6\paperheight);
	    \coordinate (sky) at (0,.57\paperheight);
	    \coordinate (left) at (-.51\paperwidth,0);
	    \coordinate (right) at (.51\paperwidth,0);
	
	    \shade [bottom color=blue!30!black!10,top color=blue!30!black!50]
	      ([yshift=-5mm]horizon -|  left) rectangle (sky -| right);
	    \shade [bottom color=black!70!green!25,top color=black!70!green!10]
	      (front -| left) -- (horizon -| left)
	      decorate [decoration=random steps] { -- (horizon -| right) }
	      -- (front -| right) -- cycle;
	    \shade [top color=black!70!green!25,bottom color=black!25]
	      (front -| left) -- (horizon -| left)
	      decorate [decoration=random steps] { -- (horizon -| right) }
	      -- (front -| right) -- cycle;
	    \shade [top color=black!70!green!25,bottom color=black!25]
	      ([yshift=-5mm-1pt]front -| left) rectangle ([yshift=1pt]front -| right);
	    \fill [black!25] (bottom -| left) rectangle ([yshift=-5mm]front -| right);
	
	    \def\nodeshadowed[#1]#2;{\node[scale=2,above,#1]{#2};\node[scale=2,
	        above,#1,yscale=-1,scope fading=south,opacity=0.4]{#2};}
	
	    \nodeshadowed [at={(-5,5  )},yslant=0.05]
	        {\Huge Ti\textcolor{orange}{\emph{k}}Z};
	    \nodeshadowed [at={( 0,5.3)}] {\huge \textcolor{mintgreen}{\&}};
	    \nodeshadowed [at={( 5,5  )},yslant=-0.05] {\Huge \textsc{PGF}};
	    \nodeshadowed [at={( 0,2  )}] {Manual for Version \pgftypesetversion};
	
	    \foreach \i in {0.5,0.6,...,2}
	      \fill [white,decoration=Koch snowflake,opacity=.9]
	            [shift=(horizon),shift={(rand*11,rnd*7)},scale=\i]
	            [double copy shadow={opacity=0.2,shadow xshift=0pt,shadow
	              yshift=3*\i pt,fill=white,draw=none}]
	        decorate {
	          decorate {
	            decorate {
	              (0,0) -- ++(60:1) -- ++(-60:1) -- cycle
	            }
	          }
	        };
	  \end{tikzpicture}
	  \vfill
	\end{document}
snippet plots pgfplots
	% Pgfplots demo
	% Author: Christian Feuersnger
	% Source: Pgfplots manual:
	% http://www.ctan.org/tex-archive/help/Catalogue/entries/pgfplots.html
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{pgfplots}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Pgfplots
	:Tags: Plots, Macro packages
	:Grid: 1x2
	
	Pgfplots_ provides a friendly and well documented_ interface for creating plots with normal or logarithmic scaling.
	Axes, legends and labels are added easily.
	
	Download pgfplots from CTAN_.
	
	:Author: Christian Feuersnger
	:Source: Pgfplots manual_
	
	.. _pgfplots: http://www.ctan.org/tex-archive/help/Catalogue/entries/pgfplots.html
	.. _CTAN: http://www.ctan.org/tex-archive/help/Catalogue/entries/pgfplots.html
	.. _manual: http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/pgfplots/pgfplots.pdf
	.. _documented: http://www.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/doc/latex/pgfplots/pgfplots.pdf
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	    \begin{axis}[
	        xlabel=$x$,
	        ylabel=$y$]
	    \addplot[smooth,mark=*,blue] plot coordinates {
	        (0,2)
	        (2,3)
	        (3,1)
	    };
	    \addlegendentry{Case 1}
	
	    \addplot[smooth,color=red,mark=x]
	        plot coordinates {
	            (0,0)
	            (1,1)
	            (2,1)
	            (3,2)
	        };
	    \addlegendentry{Case 2}
	    \end{axis}
	    \end{tikzpicture}
	
	
	\begin{tikzpicture}
	    \begin{loglogaxis}[
	        xlabel=\textsc{Dof},
	        ylabel=$L_2$ Error
	    ]
	    \axispath\draw
	            (7.49165,-10.02171)
	        |-  (8.31801,-11.32467)
	        node[near start,left] {$\frac{dy}{dx} = -1.58$};
	      \addplot plot coordinates {
	        (5,     8.312e-02)
	        (17,    2.547e-02)
	        (49,    7.407e-03)
	        (129,   2.102e-03)
	        (321,   5.874e-04)
	        (769,   1.623e-04)
	        (1793,  4.442e-05)
	        (4097,  1.207e-05)
	        (9217,  3.261e-06)
	    };
	
	    \addplot plot coordinates {
	        (7,     8.472e-02)
	        (31,    3.044e-02)
	        (111,   1.022e-02)
	        (351,   3.303e-03)
	        (1023,  1.039e-03)
	        (2815,  3.196e-04)
	        (7423,  9.658e-05)
	        (18943, 2.873e-05)
	        (47103, 8.437e-06)
	    };
	
	    \addplot plot coordinates {
	        (9, 7.881e-02)
	        (49,    3.243e-02)
	        (209,   1.232e-02)
	        (769,   4.454e-03)
	        (2561,  1.551e-03)
	        (7937,  5.236e-04)
	        (23297, 1.723e-04)
	        (65537, 5.545e-05)
	        (178177,    1.751e-05)
	    };
	
	    \addplot plot coordinates {
	        (11,    6.887e-02)
	        (71,    3.177e-02)
	        (351,   1.341e-02)
	        (1471,  5.334e-03)
	        (5503,  2.027e-03)
	        (18943, 7.415e-04)
	        (61183, 2.628e-04)
	        (187903,    9.063e-05)
	        (553983,    3.053e-05)
	    };
	
	    \addplot plot coordinates {
	        (13,    5.755e-02)
	        (97,    2.925e-02)
	        (545,   1.351e-02)
	        (2561,  5.842e-03)
	        (10625, 2.397e-03)
	        (40193, 9.414e-04)
	        (141569,    3.564e-04)
	        (471041,    1.308e-04)
	        (1496065,   4.670e-05)
	    };
	    \legend{$d=2$\\$d=3$\\$d=4$\\$d=5$\\$d=6$\\}
	
	    \end{loglogaxis}
	\end{tikzpicture}
	\end{document}
snippet graphs pgf-soroban
	% The pgf-soroban package
	% Author: Alain Delmotte
	
	\documentclass[]{article}
	\usepackage{tikz}
	\usepackage{pgf-soroban}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: The pgf-soroban package
	:Slug: pgf-soroban
	:Tags: Graphs, Macro packages
	
	The `pgf-soroban`_ package is a set of convenient macros for creating pictures
	of a a soroban_. The soroban_ is a Japanese version of the abacus_. For details on
	how to use the package, see the documentation_.
	
	:Author: Alain Delmotte
	
	.. _abacus: http://en.wikipedia.org/wiki/Abacus
	.. _pgf-soroban: http://texcatalogue.sarovar.org/entries/pgf-soroban.html
	.. _soroban: http://en.wikipedia.org/wiki/Soroban
	.. _documentation: http://theory.uwinnipeg.ca/scripts/CTAN/graphics/pgf/contrib/pgf-soroban/pgf-soroban-doc.pdf
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	   \tige{1}{0}{0}
	   \tige{2}{0}{1}       %<- here a dot: unit million
	   \tige{3}{0}{0}       %<- here no dot: hundreds of thousands
	   \tige{4}{0}{0}       %<- here no dot: tens of thousands
	   \tige{5}{4}{1}       %<- here a dot: units thousands
	   \tige{6}{4}{0}
	   \tige{7}{4}{0}
	   \tige{8}{4}{1}       %<- here a dot: units
	   \tige{9}{0}{0}
	   \tige{10}{5}{0}
	   \cadre{10}
	   \binoire{1}{1}{black}
	   \binoire{2}{2}{black}
	   \binoire{3}{3}{black}
	   \binoire{4}{4}{black}
	   \binoire{5}{5}{black}
	   \binoire{6}{6}{black}
	   \binoire{7}{7}{black}
	   \binoire{8}{8}{black}
	   \binoire{9}{9}{black}
	   \binoire{10}{10}{black}
	\end{tikzpicture}
	
	\end{document}
snippet macro pgf-umlsd
	% Demonstration of pgf-umlsd.sty, a set of convenient macros for drawing
	% UML sequence diagrams. Written by Xu Yuan <xuyuan.cn AT gmail.com> from
	% Southeast University, China.
	% The project is hosted at Google code: http://code.google.com/p/pgf-umlsd/ 
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{pgf-umlsd}
	\usepgflibrary{arrows} % for pgf-umlsd
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: UML sequence diagrams
	:Slug: pgf-umlsd
	:Tags: Macro packages
	:Use page: 2
	
	Demonstration of `pgf-umlsd.sty`_, a set of convenient macros for drawing UML sequence diagrams.
	
	To compile the example you will need the following style file:
	
	- `pgf-umlsd.sty`_
	
	The macros are documented in the style file.
	
	**Update**: pgf-umlsd is now `hosted at Google code`_. 
	
	.. _pgf-umlsd.sty: http://pgf-umlsd.googlecode.com/svn/trunk/pgf-umlsd.sty
	.. _hosted at Google code: http://code.google.com/p/pgf-umlsd/
	
	:Author: Xu Yuan, Southeast University, China
	
	\end{comment}
	
	\begin{document}
	
	\begin{figure}
	  \centering
	
	  \begin{sequencediagram}
	    \newthread{ss}{}{SimulationServer}
	    \newinst{ctr}{}{SimControlNode}
	    \newinst{ps}{}{PhysicsServer}
	    \newinst[1]{sense}{}{SenseServer}
	
	    \begin{call}{ss}{Initialize()}{sense}{}
	    \end{call}
	    \begin{sdloop}{Run Loop}
	      \begin{call}{ss}{StartCycle()}{ctr}{}
	        \begin{call}{ctr}{ActAgent()}{sense}{}
	        \end{call}
	      \end{call}
	      \begin{call}{ss}{Update()}{ps}{}
	        \begin{call}{ps}{PrePhysicsUpdate()}{sense}{state}
	        \end{call}
	        \begin{callself}{ps}{PhysicsUpdate()}{}
	        \end{callself}
	        \begin{call}{ps}{PostPhysicsUpdate()}{sense}{}
	        \end{call}
	      \end{call}
	      \begin{call}{ss}{EndCycle()}{ctr}{}
	        \begin{call}{ctr}{SenseAgent()}{sense}{}
	        \end{call}
	      \end{call}
	    \end{sdloop}
	  \end{sequencediagram}
	
	  \caption{UML sequence diagram demo.}
	\end{figure}
	
	\begin{figure}
	  \centering
	
	  \begin{sequencediagram}
	    \newthread{ss}{}{SimulationServer}
	    \newinst{ps}{}{PhysicsServer}
	    \newinst[1]{sense}{}{SenseServer}
	    \newthread[red]{ctr}{}{SimControlNode}
	
	    \begin{sdloop}[green!20]{Run Loop}
	      \mess{ctr}{StartCycle}{ss}
	      \begin{call}{ss}{Update()}{ps}{}
	        \prelevel
	        \begin{callself}{ctr}{SenseAgent()}{}
	          \begin{call}[3]{ctr}{Read}{sense}{}
	          \end{call}
	        \end{callself}
	        \prelevel\prelevel\prelevel\prelevel
	        \setthreadbias{west}
	        \begin{call}{ps}{PrePhysicsUpdate()}{sense}{}
	        \end{call}
	        \setthreadbias{center}
	        \begin{callself}{ps}{Update()}{}
	        \end{callself}
	        \begin{call}{ps}{PostPhysicsUpdate()}{sense}{}
	        \end{call}
	      \end{call}
	      \mess{ss}{EndCycle}{ctr}
	      \begin{callself}{ctr}{ActAgent()}{}
	        \begin{call}{ctr}{Write}{sense}{}
	        \end{call}
	      \end{callself}
	    \end{sdloop}
	
	  \end{sequencediagram}
	
	  \caption{Example of a sequence with parallel activities.}
	\end{figure}
	
	\end{document}
snippet pgf pgf-version-118
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes,snakes,calendar,matrix,backgrounds,folding}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: PGF version 1.18
	:Tags: PGF 1.18, Manual
	:Grid: 2x3
	
	A new version of PGF, version 1.18, was recently released. As always with a new release, there are
	many new and exciting features and improvements. Below I have summarized some of the new features.
	For a full list of changes see the changelog_.
	
	
	Math library
	------------
	
	Mark Wibrow has contributed an impressive and flexible math library. The new
	library allows you to use mathematical expression when specifying coordinates.
	Example:
	
	.. sourcecode:: latex
	
	    \node at (2*0.5,{2*sin(10)}) {$\gamma$};
	    \draw (0,0) -- (pi/4r:1);
	
	A consequence of the new library is that you now can use fractional values
	when specifying angular coordinates! You can also plot simple functions inline without
	using gnuplot.
	
	Matrices
	--------
	
	A TikZ matrix is a new and powerful way of arranging elements of your illustration
	in a grid like fashion. It is similar to LaTeX' ``array`` environment and PSTricks'
	``psmatrix`` environment. Example:
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}
	        \matrix (magic) [matrix of nodes]
	        {
	            8 & 1 & 6 \\
	            3 & 5 & 7 \\
	            4 & 9 & 2 \\
	        };
	        \draw[thick,red,->] (magic-1-1) |- (magic-2-3);
	    \end{tikzpicture}
	
	
	Graphic externalization commands
	--------------------------------
	
	A common problem when distributing TeX-documents with PGF and TikZ code,
	is that colleagues and editors does not PGF installed. New in this version
	are a set of commands for creating a version of your document which does not
	need PGF installed to compile. Your illustrations are instead created as external
	files and included in your document. This can also be useful for illustrations
	that are very time consuming to draw.
	
	New node shapes
	---------------
	
	Mark Wibrow has contributed two new and highly configurable node shapes:
	
	- ``regular polygon``. The number of sides can be set with the option ``regular polygon sides``.
	- ``star``. You can set the number of points with the ``star points`` option.
	
	See the `node shapes`_ example for more information. A few new shapes are also available in the CVS version.
	
	.. _node shapes: /pgftikzexamples/node-shapes/
	
	Calendar library
	----------------
	
	With the ``\calendar`` command from the calendar library you can typeset all kinds of calendars.
	The library also includes utilities for marking special days and to do various date calculations.
	
	Final words
	-----------
	
	I have now briefly described most the new features of PGF 1.18. You should read the manual
	carefully to get all the details. The final new feature I will
	mention is the paper folding library. Very useful when you want to fold a paper dodecahedron.
	
	PGF and TikZ is getting better and better for each version. Judging from the activity on
	various mailing lists and forums, it also seems that the number of users is steadily increasing.
	
	
	:Source: The PGF and TikZ manual
	
	.. _changelog: ftp://cam.ctan.org/tex-archive/graphics/pgf/doc/generic/pgf/ChangeLog
	
	
	\end{comment}
	
	
	
	\begin{document}
	
	\pagestyle{empty}
	
	
	
	% Math engine
	\pgfmathsetseed{1}
	\begin{tikzpicture}[x=5pt,y=5pt,thick,baseline,cap=round]
	    \coordinate (current point) at (0,0);
	    \coordinate (old velocity) at (0,0);
	    \coordinate (new velocity) at (rand,rand);
	    \foreach \i in {0,1,...,100}
	    {
	        \draw[black!\i] (current point)
	        .. controls ++([scale=-1]old velocity) and
	            ++(new velocity) .. ++(rand,rand)
	            coordinate (current point);
	        \coordinate (old velocity) at (new velocity);
	        \coordinate (new velocity) at (rand,rand);
	    };
	\end{tikzpicture}
	
	% Inline plotting
	\begin{tikzpicture}[domain=0:4,scale=0.5]
	    \draw[very thin,color=black!20] (-0.1,-1.1) grid (3.9,3.9);
	    \draw[->] (-0.2,0) -- (4.2,0) node[right] {$x$};
	    \draw[->] (0,-1.2) -- (0,4.2) node[above] {$f(x)$};
	    \draw[color=red] plot (\x,\x) node[right] {$f(x) =x$};
	    \draw[color=blue] plot (\x,{sin(\x r)}) node[right] {$f(x) = \sin x$};
	    \draw[color=orange] plot (\x,{0.05*exp(\x)})
	        node[right] {$f(x) = \frac{1}{20} \mathrm e^x$};
	\end{tikzpicture}
	
	% New node shapes
	\begin{tikzpicture}
	    \matrix[nodes={draw, thick, fill=blue!20,minimum size=1cm},
	        row sep=0.3cm,column sep=0.5cm] {
	    \node[regular polygon,regular polygon sides=5] {};&
	    \node[regular polygon,regular polygon sides=7] {};&
	    \node[regular polygon,regular polygon sides=9] {};\\
	    \node[star,star points=4] {};&
	    \node[star,star points=7,star point ratio=0.8] {};&
	    \node[star,star points=10] {};\\
	    };
	\end{tikzpicture}
	
	% Calendar library
	\begin{tikzpicture}
	    \calendar [ dates=2007-07-01 to 2007-07-last,
	               week list,inner sep=2pt,month label above centered,
	               month text=\%mt \%y0
	        ]
	    if (weekend) [red,nodes={draw=none}];
	\end{tikzpicture}
	
	
	% Matrices
	\begin{tikzpicture}[>=stealth,->,shorten >=2pt,looseness=.5,auto]
	    \matrix [matrix of math nodes,
	        column sep={2cm,between origins},
	        row sep={3cm,between origins},
	        nodes={circle, draw, minimum size=7.5mm}]
	        {
	            & |(A)| A & \\
	            |(B)| B & |(E)| E & |(C)| C \\
	            & |(D)| D \\
	        };
	    \tikzstyle{every node}=[font=\small\itshape]
	    \draw (A) to [bend left] (B) node [midway] {g};
	    \draw (B) to [bend left] (A) node [midway] {f};
	    \draw (D) -- (B) node [midway] {c};
	    \draw (E) -- (B) node [midway] {b};
	    \draw (E) -- (C) node [near end] {a};
	    \draw [-,line width=8pt,draw=white]
	        (D) to [bend right, looseness=1] (A);
	    \draw (D) to [bend right, looseness=1] (A)
	        node [near start] {b} node [near end] {e};
	\end{tikzpicture}
	
	% Paper folding library
	\begin{tikzpicture}[transform shape]
	\tikzfoldingdodecahedron
	    [folding line length=6mm,
	    face 1={ \node[red] {1};},
	    face 2={ \node {2};},
	    face 3={ \node {3};},
	    face 4={ \node {4};},
	    face 5={ \node {5};},
	    face 6={ \node {6};},
	    face 7={ \node {7};},
	    face 8={ \node {8};},
	    face 9={ \node {9};},
	    face 10={\node {10};},
	    face 11={\node {11};},
	    face 12={\node {12};}];
	\end{tikzpicture}
	
	\end{document}
snippet pgf pgf-version-2
	% TikZ and PGF 2.00
	% Source: TikZ and PGF manual
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes,decorations,shadows}
	\usetikzlibrary{decorations.pathmorphing}
	\usetikzlibrary{decorations.shapes}
	\usetikzlibrary{fadings}
	\usetikzlibrary{patterns}
	\usetikzlibrary{calc}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: TikZ and PGF version 2.00
	:Slug: pgf-version-2
	:Tags: PGF 2.0, Manual
	:Grid: 3x3
	
	
	PGF version 2.0 was released on 2008-02-20 after a few months of hectic activity in CVS and on the `pgf-users`_ mailing list. The new release is packed with new features
	and improvements. In this entry I will give a tour of some of the new features. For a full list of changes see the changelog_.
	
	**Note**: Almost all of the examples are from the TikZ and PGF manual. 
	
	.. _pgf-users: http://www.nabble.com/pgf-users-f3583.html
	.. _changelog: ftp://cam.ctan.org/tex-archive/graphics/pgf/base/doc/generic/pgf/ChangeLog
	
	Decorations
	-----------
	
	Decorations are a new and powerful way of decorating and morphing paths. They are similar to the "snakes" from previous versions of PGF, but much more powerful and general. Here are some of the highlights:
	
	- Arbitrary paths can be decorated, including curves and nodes
	- Shapes can be used as decorations
	- Decorations can be nested
	
	.. figure:: #pgf2001.png
	
	.. sourcecode:: latex
	
	    % Decorating a node shape
	    \usetikzlibrary{decorations.pathmorphing}
	    ...
	    \begin{tikzpicture}
	        \node [text width=2cm, decorate, decoration=saw, fill=blue!20,draw,circle]
	            {Node shapes can be decorated!};
	    \end{tikzpicture}
	
	.. sourcecode:: latex
	
	    % Text decorations
	    \usetikzlibrary{decorations.text}
	    ...
	    \begin{tikzpicture}
	        \path [decorate,decoration={text along path,
	            text={Decorations can draw text that follows an arbitrary curve}}]
	            (0,0) sin (1,1) cos (2,0) sin (3,-1) cos (4,0) sin (7,-1);
	    \end{tikzpicture}
	
	.. sourcecode:: latex
	
	        % Shape decorations
	        \usetikzlibrary{decorations.shapes}
	        ...
	        \tikzset{paint/.style={ draw=#1!50!black, fill=#1!50 },
	            decorate with/.style=
	            {decorate,decoration={shape backgrounds,shape=#1,shape size=2mm}}}
	
	        \begin{tikzpicture}
	            \draw [decorate with=dart, paint=red] (0,1.5) to[bend left] (3,1.5);
	            \draw [decorate with=diamond, paint=green] (0,1) -- (3,1);
	            \draw [decorate with=rectangle, paint=blue,
	                decoration={shape evenly spread=4}] (0,0.5) -- (3,0.5);
	            \draw [decorate with=star, paint=yellow] (0,0) to[bend right] (3,0);
	        \end{tikzpicture}
	
	.. sourcecode:: latex
	
	    % Fractal and footprint decorations
	    \usetikzlibrary{decorations.fractals}
	    \usetikzlibrary{decorations.footprints}
	    ...
	    \begin{tikzpicture}[decoration=Koch snowflake]
	        \draw decorate{ decorate{ decorate{ decorate{ (0,0) -- (3,0) }}}};
	    \end{tikzpicture}
	
	    \begin{tikzpicture}[decoration={footprints,foot length=10pt,stride length=20pt}]
	        \fill decorate{ (0,0) to[bend left] (3.5,0)};
	    \end{tikzpicture}
	
	
	Revamped system for handling options and styles
	-----------------------------------------------
	
	PGF has replaced ``xkeyval`` with the new ``pgfkeys`` package. The package provides a powerful key-value management mechanism. A useful new feature is that styles can be parameterized:
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}[outline/.style={draw=#1,thick,fill=#1!50},
	        outline/.default=black]
	        \node [outline] at (0,1) {default};
	        \node [outline=blue] at (0,0) {blue};
	    \end{tikzpicture}
	
	The new style and options system is probably the most notable change from previous version. I highly recommend reading Section 11.4.2 in the manual carefully to get an overview. You can find examples of ``pgfkeys`` usage sprinkled  throughout this entry.
	
	New node shapes
	---------------
	
	PGF now ships with an impressive variety of node shapes. Here are a few examples:
	
	.. figure:: #pgf2002.png
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}
	    \matrix[nodes={draw, fill=blue!20},
	        row sep=0.3cm,column sep=0.3cm,minimum width=.875cm, minimum height=1cm] {
	        \node[ellipse callout] {Callouts}; & \node [cylinder] {C}; &
	        %
	        \node [arrow box] {A};\\
	        %
	        \node[rectangle split, rectangle split parts=3, draw, text width=2.75cm]
	            {Student
	            \nodepart{second}
	            age:int \\
	            name:String
	            \nodepart{third}
	            getAge():int \\
	            getName():String}; &
	        %
	        \node[nor gate IEC, draw, logic gate inputs=in] (A) {};
	        \draw (A.input 1 -| -1,0) -- (A.input 1) (A.input 2 -| -1,0) -- (A.input 2)
	            (A.output) -- ([xshift=0.5cm]A.output); &
	        %
	        \node[or gate US, draw,logic gate inputs=inini] (A) {};
	        \foreach \a in {1,...,5}
	            \draw (A.input \a -| -1,0) -- (A.input \a);
	            \draw (A.output) -- ([xshift=0.5cm]A.output);\\
	    };
	    \end{tikzpicture}
	
	See Chapter 39 in the manual for a complete list of node shapes. Of special interest are the logic gate and multipart shapes.
	
	Fitting library
	---------------
	
	Defines a convenient ``fit`` option for creating a node that is sized to exactly fit a set of coordinates.
	
	.. figure:: #pgf2003.png
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{fit}
	    ...
	    \begin{tikzpicture}[inner sep=0pt,thick,
	        dot/.style={fill=blue,circle,minimum size=3pt}]
	        \draw[help lines] (0,0) grid (3,2);
	        \node[dot] (a) at (1,1) {};
	        \node[dot] (b) at (2,2) {};
	        \node[dot] (c) at (1,2) {};
	        \node[dot] (d) at (1.25,0.25) {};
	        \node[dot] (e) at (1.75,1.5) {};
	        \node[draw=red, fit=(a) (b) (c) (d) (e)] {box};
	        \node[draw,circle,fit=(a) (b) (c) (d) (e)] {};
	    \end{tikzpicture}
	
	
	
	
	Shadows
	-------
	
	The shadow library can apply shadows to paths and node shapes:
	
	.. figure:: extra/shadowlibrary.png
	
	.. sourcecode:: latex
	
	    \usetikzlibary{shadows}
	    ...
	    \begin{tikzpicture}
	        \node[starburst,drop shadow,fill=white,draw] {Drop shadow};
	        \node[copy shadow,fill=blue!20,draw=blue,thick] at (3.5,0) {Copy shadow};
	        \node[circle,circular drop shadow,fill=blue!20,draw] at (6,0) {Circular};
	    \end{tikzpicture}
	
	
	
	
	More options for node positioning
	---------------------------------
	
	New and more convenient placements options are now available if you load the ``positioning`` library. Here are a few examples:
	
	.. figure:: #pgf2007.png
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{positioning}
	    ...
	    \begin{tikzpicture}[every node/.style=draw]
	        \draw[help lines] (0,0) grid (2,2);
	        \node (some node) at (1,1) {some node};
	        \node (other node) [above=1cm of some node] {\tiny above=1cm of some node};
	        \draw [<->] (some node) -- (other node)
	        node [midway,right,draw=none] {1cm};
	
	        \node (X) at (0,0) {X};
	        \node (a) [base right=0.5cm of X ] {a};
	        \node (y) [base right=of a] {y};
	    \end{tikzpicture}
	
	See Chapter 15.5.3 for more details. Another useful addition is the ``chains`` library:
	
	.. figure:: #pgf2005.png
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{chains}
	    ...
	    \begin{tikzpicture}[every on chain/.style=join,every join/.style=->,
	        node distance=2mm and 1cm]
	        { [start chain=trunk]
	            \node [on chain] {A};
	            \node [on chain] {B};
	            { [start branch=numbers going below] } % just a declaration,
	            { [start branch=greek going above] } % we will come back later
	            \node [on chain] {C};
	            % Now come the branches...
	            { [continue branch=numbers]
	                \node [on chain] {1};
	                \node [on chain] {2};
	            }
	            { [continue branch=greek]
	                \node [on chain] {$\alpha$};
	                \node [on chain] {$\beta$};
	            }
	        }
	    \end{tikzpicture}
	
	Coordinate calculations
	-----------------------
	
	It is now possible to do some basic calculations on coordinates. The allowed operations are addition, subtraction, scaling, midpoint calculations and projection. To use coordinate calculations you need to load the ``calc library``. Here are a few examples:
	
	.. figure:: #pgf2008.png
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{calc}
	
	    ...
	    \begin{tikzpicture}
	        \begin{scope}
	            \draw [help lines] (0,0) grid (3,2);
	            \coordinate (a) at (1,0);
	            \coordinate (b) at ($(a)+1/2*(3,3)$);
	            \draw (a) -- (b);
	            \coordinate (c) at ($ (a)!.25!(b) $);
	            \coordinate (d) at ($ (c)!1cm!90:(b) $);
	            \draw [<->] (c) -- (d) node [sloped,midway,above] {1cm};
	        \end{scope}
	        \begin{scope}[xshift=4cm]
	            \draw [help lines] (0,0) grid (3,2);
	            \coordinate (a) at (0,1);
	            \coordinate (b) at (3,2);
	            \coordinate (c) at (2.5,0);
	            \draw (a) -- (b) -- (c) -- cycle;
	            \draw[red] (a) -- ($(b)!(a)!(c)$);
	            \draw[orange] (b) -- ($(a)!(b)!(c)$);
	            \draw[blue] (c) -- ($(a)!(c)!(b)$);
	        \end{scope}
	    \end{tikzpicture}
	
	Coordinate calculations are described in Chapter 12.4 in the manual.
	
	Preactions and postactions
	--------------------------
	
	Allows you to manipulate a path before and after it is drawn:
	
	.. figure:: #pgf2009.png
	
	.. sourcecode:: latex
	
	    \begin{tikzpicture}
	        { []
	            \draw[help lines] (0,0) grid (3,2);
	            \draw
	                [preaction={draw,line width=4mm,blue}]
	                [line width=2mm,red] (0,0) rectangle (2,2);
	        }
	        { [xshift=4cm]
	
	            \draw[help lines] (0,0) grid (3,2);
	            \draw
	                [postaction={draw,line width=2mm,blue}]
	                [line width=4mm,red,fill=white] (0,0) rectangle (2,2);
	        }
	    \end{tikzpicture}
	
	See Chapter 14.8 in the manual for more details.
	
	
	Other changes
	-------------
	
	The ``\foreach`` command now allows a macro name to be given as a list argument:
	
	.. sourcecode:: latex
	
	    \newcommand\mylist{1/a,2/b,3/c,4/d}
	    \begin{tikzpicture}
	        \foreach \x/\lbl in \mylist {
	            \node[draw] at (\x,0) {\lbl};
	        }
	    \end{tikzpicture}
	
	Coordinates like ``(2,3cm)`` are now allowed. Has the same effect as:
	
	.. sourcecode:: latex
	
	    ([shift={(2,0)}]0pt,3cm)
	
	*Improved support for transparency*. TikZ now support fadings and transparency groups:
	
	.. figure:: extra/trgroupfadings.png
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{patterns}
	    ...
	    \begin{tikzpicture}
	        % Checker board
	        \fill [black!20] (-1.5,-1.5) rectangle (3.5,1.5);
	        \pattern [pattern=checkerboard,pattern color=black!30]
	        (-1.5,-1.5) rectangle (3.5,1.5);
	        \node at (0,0) [opacity=0.5,forbidden sign,line width=2ex,
	            draw=red,fill=white] {Smoking};
	        \begin{scope}[opacity=.5,transparency group]
	            \node at (2,0) [forbidden sign,line width=2ex,draw=red,fill=white]
	            {Smoking};
	        \end{scope}
	    \end{tikzpicture}
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{patterns,fadings}
	    ...
	    \begin{tikzpicture}[path fading=south]
	        % Checker board
	        \fill [black!20] (0,0) rectangle (4,3);
	        \pattern [pattern=checkerboard,pattern color=black!30]
	            (0,0) rectangle (4,3);
	        \fill [color=blue] (0.5,1.5) rectangle +(1,1);
	        \fill [color=blue,path fading=north] (2.5,1.5) rectangle +(1,1);
	        \fill [color=red,path fading] (1,0.75) ellipse (.75 and .5);
	        \fill [color=red] (3,0.75) ellipse (.75 and .5);
	    \end{tikzpicture}
	
	*Shorthand for scope environments*. The ``scopes`` library defines a shorthand notation for starting and ending scope environments. It allows you to start and end a scope using braces provided the opening brace is followed by options in square brackets:
	
	.. sourcecode:: latex
	
	    \usetikzlibrary{scopes}
	    ...
	    \begin{tikzpicture}
	        { [ultra thick]
	            { [red]
	                \draw (0mm,10mm) -- (10mm,10mm);
	                \draw (0mm,8mm) -- (10mm,8mm);
	            }
	            \draw (0mm,6mm) -- (10mm,6mm);
	        }
	        { [green]
	            \draw (0mm,4mm) -- (10mm,4mm);
	            \draw (0mm,2mm) -- (10mm,2mm);
	            \draw[blue] (0mm,0mm) -- (10mm,0mm);
	        }
	    \end{tikzpicture}
	
	*New transformations*. The transformation options ``transform canvas`` and ``scale around`` have been added. Described in Chapter 21.4 and 21.3 respectively.
	
	
	
	:Source: The PGF and TikZ manual
	
	
	
	\end{comment}
	
	
	\usetikzlibrary{decorations.text}
	\usetikzlibrary{decorations.footprints}
	\usetikzlibrary{decorations.fractals}
	\usetikzlibrary{shapes.gates.logic.IEC}
	\usetikzlibrary{shapes.gates.logic.US}
	\usetikzlibrary{fit,chains}
	\usetikzlibrary{positioning}
	\usepgflibrary{shapes}
	\usetikzlibrary{scopes}
	
	
	\begin{document}
	
	
	\tikzset{paint/.style={ draw=#1!50!black, fill=#1!50 },
	    decorate with/.style=
	    {decorate,decoration={shape backgrounds,shape=#1,shape size=2mm}}}
	
	\begin{tikzpicture}
	\node [text width=2cm, decorate, decoration=saw, fill=blue!20,draw,circle]
	    {Node shapes can be decorated!};
	{ [xshift=2cm]
	    \path [decorate,decoration={text along path,
	            text={Decorations can draw text that follows an arbitrary curve}}]
	            (0,0) sin (1,1) cos (2,0) sin (3,-1) cos (4,0) sin (7,-1);
	}
	%
	{[xshift=-1.5cm,yshift=-4cm]
	    \draw [decorate with=dart, paint=red] (0,1.5) to[bend left] (3,1.5);
	    \draw [decorate with=diamond, paint=green] (0,1) -- (3,1);
	    \draw [decorate with=rectangle, paint=blue,
	        decoration={shape evenly spread=4}] (0,0.5) -- (3,0.5);
	    \draw [decorate with=star, paint=yellow] (0,0) to[bend right] (3,0);
	}
	%
	{ [xshift=2cm,yshift=-3cm,
	    decoration=Koch snowflake]
	    \draw decorate{ decorate{ decorate{ decorate{ (0,0) -- (3,0) }}}};
	}
	%
	{[xshift=5.5cm,yshift=-3cm,
	    decoration={footprints,foot length=10pt,stride length=20pt}]
	    \fill decorate{ (0,0) to[bend left] (3.5,0)};
	}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}
	\matrix[nodes={draw, fill=blue!20},
	    row sep=0.3cm,column sep=0.3cm,minimum width=.875cm, minimum height=1cm] {
	    \node[ellipse callout] {Callouts}; & \node [cylinder] {C}; &
	    %
	    \node [arrow box] {A};\\
	    %
	    \node[rectangle split, rectangle split parts=3, draw, text width=2.75cm]
	        {Student
	        \nodepart{second}
	        age:int \\
	        name:String
	        \nodepart{third}
	        getAge():int \\
	        getName():String}; &
	    %
	    \node[nor gate IEC, draw, logic gate inputs=in] (A) {};
	    \draw (A.input 1 -| -1,0) -- (A.input 1) (A.input 2 -| -1,0) -- (A.input 2)
	        (A.output) -- ([xshift=0.5cm]A.output); &
	    %
	    \node[or gate US, draw,logic gate inputs=inini] (A) {};
	    \foreach \a in {1,...,5}
	        \draw (A.input \a -| -1,0) -- (A.input \a);
	        \draw (A.output) -- ([xshift=0.5cm]A.output);\\
	};
	\end{tikzpicture}
	
	\begin{tikzpicture}[inner sep=0pt,thick,
	    dot/.style={fill=blue,circle,minimum size=3pt}]
	    \draw[help lines] (0,0) grid (3,2);
	    \node[dot] (a) at (1,1) {};
	    \node[dot] (b) at (2,2) {};
	    \node[dot] (c) at (1,2) {};
	    \node[dot] (d) at (1.25,0.25) {};
	    \node[dot] (e) at (1.75,1.5) {};
	    \node[draw=red, fit=(a) (b) (c) (d) (e)] {box};
	    \node[draw,circle,fit=(a) (b) (c) (d) (e)] {};
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    \node[starburst,drop shadow,fill=white,draw] {Drop shadow};
	    \node[copy shadow,fill=blue!20,draw=blue,thick] at (3.5,0) {Copy shadow};
	    \node[circle,circular drop shadow,fill=blue!20,draw] at (6,0) {Circular};
	\end{tikzpicture}
	
	\begin{tikzpicture}[every on chain/.style=join,every join/.style=->,
	    node distance=2mm and 1cm]
	    { [start chain=trunk]
	        \node [on chain] {A};
	        \node [on chain] {B};
	        { [start branch=numbers going below] } % just a declaration,
	        { [start branch=greek going above] } % we will come back later
	        \node [on chain] {C};
	        % Now come the branches...
	        { [continue branch=numbers]
	            \node [on chain] {1};
	            \node [on chain] {2};
	        }
	        { [continue branch=greek]
	            \node [on chain] {$\alpha$};
	            \node [on chain] {$\beta$};
	        }
	    }
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    % Checker board
	    \fill [black!20] (-1.5,-1.5) rectangle (3.5,1.5);
	    \pattern [pattern=checkerboard,pattern color=black!30]
	        (-1.5,-1.5) rectangle (3.5,1.5);
	    \node at (0,0) [opacity=0.5,forbidden sign,line width=2ex,
	        draw=red,fill=white]
	        {Smoking};
	    \begin{scope}[opacity=.5,transparency group]
	        \node at (2,0) [forbidden sign,line width=2ex,draw=red,fill=white]
	        {Smoking};
	    \end{scope}
	    \begin{scope}[xshift=4cm,yshift=-1.5cm,path fading=south]
	        % Checker board
	        \fill [black!20] (0,0) rectangle (4,3);
	        \pattern [pattern=checkerboard,pattern color=black!30]
	            (0,0) rectangle (4,3);
	        \fill [color=blue] (0.5,1.5) rectangle +(1,1);
	        \fill [color=blue,path fading=north] (2.5,1.5) rectangle +(1,1);
	        \fill [color=red,path fading] (1,0.75) ellipse (.75 and .5);
	        \fill [color=red] (3,0.75) ellipse (.75 and .5);
	    \end{scope}
	\end{tikzpicture}
	
	\begin{tikzpicture}[every node/.style=draw]
	    \draw[help lines] (0,0) grid (2,2);
	    \node (some node) at (1,1) {some node};
	    \node (other node) [above=1cm of some node] {\tiny above=1cm of some node};
	    \draw [<->] (some node) -- (other node)
	    node [midway,right,draw=none] {1cm};
	
	    \node (X) at (0,0) {X};
	    \node (a) [base right=0.5cm of X ] {a};
	    \node (y) [base right=of a] {y};
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    { []
	        \draw [help lines] (0,0) grid (3,2);
	        \coordinate (a) at (1,0);
	        \coordinate (b) at ($(a)+1/2*(3,3)$);
	        \draw (a) -- (b);
	        \coordinate (c) at ($ (a)!.25!(b) $);
	        \coordinate (d) at ($ (c)!1cm!90:(b) $);
	        \draw [<->] (c) -- (d) node [sloped,midway,above] {1cm};
	    }
	    { [xshift=4cm]
	        \draw [help lines] (0,0) grid (3,2);
	        \coordinate (a) at (0,1);
	        \coordinate (b) at (3,2);
	        \coordinate (c) at (2.5,0);
	        \draw (a) -- (b) -- (c) -- cycle;
	        \draw[red] (a) -- ($(b)!(a)!(c)$);
	        \draw[orange] (b) -- ($(a)!(b)!(c)$);
	        \draw[blue] (c) -- ($(a)!(c)!(b)$);
	    }
	\end{tikzpicture}
	
	
	\begin{tikzpicture}
	    { []
	        \draw[help lines] (0,0) grid (3,2);
	        \draw
	            [preaction={draw,line width=4mm,blue}]
	            [line width=2mm,red] (0,0) rectangle (2,2);
	    }
	    { [xshift=4cm]
	
	        \draw[help lines] (0,0) grid (3,2);
	        \draw
	            [postaction={draw,line width=2mm,blue}]
	            [line width=4mm,red,fill=white] (0,0) rectangle (2,2);
	    }
	\end{tikzpicture}
	
	
	\end{document}
snippet phasor phasor-diagram
	%& -shell-escape
	% Phasor diagram
	% Author: Urs Zellweger (urs@zellweger.li)
	% GNUPLOT required
	\documentclass[11pt]{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Phasor diagram
	
	\end{comment}
	\usepackage{ifthen}
	\usepackage{tikz}
	\usepackage{pgf}
	\usepackage{pgffor}
	\usepgfmodule{shapes}
	\usepgfmodule{plot}
	\usetikzlibrary{decorations}
	\usetikzlibrary{arrows}
	\usetikzlibrary{snakes}
	
	\newcommand{\Gitter}[4]{
	    \draw[very thin,color=gray] (#1,#3) grid (#2,#4);
	}
	\newcommand{\Koordinatenkreuz}[6]{
	    \draw[->, >=latex, color=green!50!black] (#1,0) -- (#2,0) node[right] {#5};
	    \draw[->, >=latex, color=green!50!black] (0,#3) -- (0,#4) node[left] {#6};
	}
	\newcommand{\KoordinatenkreuzOhneLabelsVerschobenKeinPfeil}[5]{
	    \draw[-] (#1,0) -- (#2,0);
	    \draw[-] (#5,#3) -- (#5,#4);
	
	}
	\newcommand{\ZeigerdiagrammText}[4]{
	\begin{tikzpicture}[scale=.72, samples=100, >=latex]
	
	    \def\Alpha{#1}
	    \def\Phase{#2}
	    \def\AmplitudeSpannung{#3}
	    \def\AmplitudeStrom{#4}
	    \def\SpannungsWert{{\AmplitudeSpannung*sin(\Alpha)}}
	    \def\StromWert{{\AmplitudeStrom*sin(\Alpha+\Phase)}}
	    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	    \def\FarbeSpannung{blue!90!white}
	    \def\FarbeStrom{red!90!white}
	    \def\FarbeWinkelZeichnung{green}
	    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	    \def\Beta{\Alpha+\Phase}
	    \def\AlphaRad{\Alpha*3.141592654/180}
	    \def\PhaseRad{\Phase*3.141592654/180}
	    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	    \Gitter{-.1}{7.1}{-3.1}{3.1}
	    \Koordinatenkreuz{-.2}{7.3}{-3.2}{3.3}{$\omega t$}{}
	    \draw (1.570795,0) node[below]{$\frac{\pi}{2}$};
	    \draw (3.14159,0) node[below]{${\pi}$};
	    \draw (4.71238898,0) node[below]{$\frac{3\pi}{2}$};
	    \draw (6.283185307,0) node[below]{${2\pi}$};
	    \draw (-4,0) circle (3cm);
	    \KoordinatenkreuzOhneLabelsVerschobenKeinPfeil{-7.2}{-.8}{-3.6}{3.6}{-4}
	    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
	    % voltage
	    \draw[color=\FarbeSpannung, very thick] plot[id=voltage, domain=0:7] function{\AmplitudeSpannung*sin(x)} node[right] {$U(t)$};
	    % voltage circle
	    \draw[color=\FarbeSpannung, loosely dashed] (-4,0) circle (\AmplitudeSpannung cm);
	    % angle
	    \draw[color=\FarbeWinkelZeichnung!50!black, thick] (\AlphaRad, \SpannungsWert)--(\AlphaRad,\StromWert) node[below=18pt] {$\alpha$};
	    % angle in the circle
	    \filldraw[fill=\FarbeWinkelZeichnung!20,draw=\FarbeWinkelZeichnung!50!black] (-4,0) -- (-3,0) arc (0:\Alpha:1) -- cycle node[right] {$\alpha$};
	    % voltage pointer
	    \draw[<-,color=\FarbeSpannung, very thick] (\Alpha:\AmplitudeSpannung)++(-4,0) --(-4,0);
	    \draw[color=\FarbeSpannung,  dashed] (\Alpha:\AmplitudeSpannung)++(-4,0) -- (\AlphaRad,\SpannungsWert);
	    % current
	    \draw[color=\FarbeStrom, very thick] plot[id=current, domain=0:7] function{\AmplitudeStrom*sin(x+\PhaseRad)} node[right] {$I(t)$};		
	    % current circle
	    \draw[color=\FarbeStrom, loosely dashed]    (-4,0) circle (\AmplitudeStrom cm);
	    % current pointer
	    \draw[<-,color=\FarbeStrom, very thick] (\Beta:\AmplitudeStrom)++(-4,0) --(-4,0);
	    \draw[color=\FarbeStrom,  dashed](\Beta:\AmplitudeStrom)++(-4,0) -- (\AlphaRad,\StromWert);
	    % phase difference
	    \ifthenelse{\Phase<0}{
	        \draw[snake=brace] (pi/2 ,3.3)--(pi/2-\PhaseRad ,3.3) node[above=7pt, left=10pt] {$\phi$};
	    }
	    {
	        \draw[snake=brace] (pi/2-\PhaseRad ,3.3)--(pi/2 ,3.3) node[above=7pt, left=10pt] {$\phi$};
	    }
	    % angular velocity \omega
	    \draw[->, xshift=-4cm]  (120:2.4cm) arc (120:170:2) node[below] {$\omega$};
	\end{tikzpicture}
	}
	% % % % % % % % % % % % % % % % % % % % % % % % % % %
	
	\begin{document}
	
	\begin{preview}
	% usage: {alpha}{phasedifferenceUI}{voltage}{current}{Ualpha}{Ialpha}
	% resistor
	\ZeigerdiagrammText{60}{0}{2.7}{1.8}
	
	% inductivity / coil
	\ZeigerdiagrammText{60}{-90}{2.7}{1.8}
	
	% capacity / conductor
	\ZeigerdiagrammText{60}{90}{2.7}{1.8}
	\end{preview}
	
	\end{document}
snippet diagrams philosophy
	\documentclass[tikz, border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Basic Philosophy concepts
	:Tags: Diagrams;Graphs;Philosophy
	:Author: Vilson Vieira
	:Slug: philosophy
	
	This graph diagram presents the basic Philosophy concepts of dialectics,
	opposition and innovation.
	\end{comment}
	\tikzset{
	    vertex/.style = {
	        circle,
	        fill            = black,
	        outer sep = 2pt,
	        inner sep = 1pt,
	    }
	}
	\begin{document}
	\begin{tikzpicture}
	  % Dialectics
	  \node[draw] (Thesis) at (0,0) {Thesis};
	  \node[draw,fill=black,text=white] (Antithesis) at (2.3,0) {Antithesis};
	  \node[draw,fill=gray,text=white] (Synthesis) at (1,2) {Synthesis};
	  
	  \draw node[vertex] (Joint) at (1,0) {};
	  
	  \draw[-,draw=blue] (Thesis) to (Joint);
	  \draw[-,draw=blue] (Antithesis) to (Joint);
	  \draw[->,draw=blue] (Joint) to (Synthesis);
	  \draw[->,draw=blue] (Synthesis) to[in=180,out=180] (Thesis);
	  
	  \node at (1.0, -1.0) {\textit{a) Dialectics}};
	  
	  % Opposition
	  \node[draw] (ArgumentA) at (5,0) {Argument};
	  \node[draw,fill=black,text=white] (ArgumentB) at (7.5,0) {Opposition};
	  
	  \draw[->,draw=blue] (ArgumentA) to (ArgumentB);
	  
	  \node at (6., -1.0) {\textit{b) Opposition}};
	  
	  % Innovation
	  \node[draw] (ArgumentA) at (10.1,0) {Argument};
	  \node[draw,fill=black,text=white] (ArgumentB) at (13,0) {Opposition};
	  \node[draw,fill=yellow] (ArgumentC) at (12,2) {Innovation};
	  
	  \draw node[vertex] (Joint) at (11.5,0) {};
	  
	  \draw[-] (ArgumentA) to (Joint);
	  \draw[-] (ArgumentB) to (Joint);
	  \draw[->,draw=blue] (Joint) to (ArgumentC);
	  
	  \node at (11.5, -1.0) {\textit{c) Innovation}};
	\end{tikzpicture}
	\end{document}
snippet coordinates phyllotaxy
	% Phyllotaxy
	% Author: David Convent
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Sunflower pattern (Phyllotaxy)
	:Tags: Coordinate calculations;Mathematical engine;Biology;Geometry;Mathematics;Decorative drawings
	:Author: David Convent
	:Slug: phyllotaxy
	
	This is an adaptation of a Processing.js example originally written
	by Jim Bumgardner.
	
	His tutorial entitled ``Circles, Spirals and Sunflowers'' can be found
	here: http://krazydad.com/tutorials/circles_js/
	
	Following code adapts Jim's example #10.
	
	Credit also goes to TonioElGringo on stackexchange, for the help he
	provided here: http://tex.stackexchange.com/questions/192028/
	\end{comment}
	\usetikzlibrary{calc}
	
	\def\nbrcircles {377}
	\def\outerradius {30mm}
	\def\deviation {.9}
	\def\fudge {.62}
	
	\newcounter{cumulArea}
	\setcounter{cumulArea}{0}
	
	\begin{document}
	\begin{tikzpicture}[scale=.32]
	
	\pgfmathsetmacro {\goldenRatio} {(1+sqrt(5))}
	\pgfmathsetmacro {\meanArea}
	      {pow(\outerradius * 10 / \nbrcircles, 2) * pi}
	\pgfmathsetmacro {\minArea} {\meanArea * (1 - \deviation)}
	\pgfmathsetmacro {\midArea} {\meanArea * (1 + \deviation) - \minArea}
	
	\foreach \b in {0,...,\nbrcircles}{
	    % mod() must be used in order to calculate the right angle.
	    % otherwise, when \b is greater than 28 the angle is greater
	    % than 16384 and an error is raised ('Dimension too large').
	    % -- thx Tonio for this one.
	    \pgfmathsetmacro{\angle}{mod(\goldenRatio * \b, 2) * 180}
	
	    \pgfmathsetmacro{\sratio}{\b / \nbrcircles}
	    \pgfmathsetmacro{\smArea}{\minArea + \sratio * \midArea}
	    \pgfmathsetmacro{\smRadius}{sqrt(\smArea / pi) / 2 * \fudge}
	    \addtocounter{cumulArea}{\smArea};
	
	    \pgfmathparse{sqrt(\value{cumulArea} / pi) / 2}
	    \fill[] (\angle:\pgfmathresult) circle [radius=\smRadius] ;
	}  
	\end{tikzpicture}
	\end{document}
snippet physical physical-pendulum
	% Author: Urs Zellweger (urs@zellweger.li)
	
	\documentclass[11pt]{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Physical pendulum
	
	\end{comment}
	
	\usepackage{pgf}
	\usepackage{pgffor}
	\usepgfmodule{shapes}
	\usepgfmodule{plot}
	\usetikzlibrary{decorations}
	\usetikzlibrary{arrows}
	\usetikzlibrary{snakes}
	
	\newcommand{\physicalpendulum}{
	    \pgfpathmoveto{\pgfpoint{0cm}{2cm}}
	    \pgfpathcurveto{\pgfpoint{.2cm}{2cm}}{\pgfpoint{.2cm}{2cm}}{\pgfpoint{1cm}{1cm}}
	    \pgfpathcurveto{\pgfpoint{1.75cm}{0cm}}{\pgfpoint{1.8cm}{0cm}}{\pgfpoint{2cm}{-2cm}}
	    \pgfpathcurveto{\pgfpoint{2.2cm}{-4cm}}{\pgfpoint{2.3cm}{-4.2cm}}{\pgfpoint{2.5cm}{-5cm}}
	    \pgfpathcurveto{\pgfpoint{2.7cm}{-5.8cm}}{\pgfpoint{3cm}{-6cm}}{\pgfpoint{3cm}{-7cm}}
	    \pgfpathcurveto{\pgfpoint{3cm}{-8cm}}{\pgfpoint{2.25cm}{-8.75cm}}{\pgfpoint{2cm}{-9cm}}
	    \pgfpathcurveto{\pgfpoint{1.75cm}{-9.25cm}}{\pgfpoint{1cm}{-10cm}}{\pgfpoint{0cm}{-10cm}}
	    \pgfpathcurveto{\pgfpoint{-2cm}{-10cm}}{\pgfpoint{-3cm}{-8cm}}{\pgfpoint{-3cm}{-7cm}}
	    \pgfpathcurveto{\pgfpoint{-3cm}{-3cm}}{\pgfpoint{-1cm}{-2cm}}{\pgfpoint{-1cm}{-1cm}}
	    \pgfpathcurveto{\pgfpoint{-1cm}{0cm}}{\pgfpoint{-.5cm}{2cm}}{\pgfpoint{0cm}{2cm}}
	    \pgfusepath{fill,stroke}
	}
	
	\begin{document}
	\begin{center}
	\begin{tikzpicture}[scale=.48]
	
	    \color{black!20!white}
	    \physicalpendulum
	
	    \draw[color=red, dashed] (0,3)--(0,-11);
	
	    \color{yellow!70!black}
	    \pgftransformrotate{-30}
	    \physicalpendulum
	
	    \draw[color=black, dashed] (0,3)--(0,-11);
	    \pgftransformrotate{30}
	    \filldraw[fill=green!20,draw=green!50!black] (0,0) -- (0,-3) arc (-90:-120:3) -- cycle;
	    \node[color=green!50!black] at (-.49,-2) {$\alpha$};
	    \pgftransformrotate{-30}
	    \draw[color=black, thick] (0,-5) circle (.2cm);
	    \pgftransformrotate{30}
	    \draw[->, color=green!30!black] (-2.5,-4.33)--(-2.5,-7.33)
	        node[below] {$F_{\mbox{\tiny G}}$};
	    \pgftransformrotate{-30}
	    \draw[->, color=blue, thick] (0,-5)--(1.5,-5) node[right] {$F$};
	    \draw[->, color=red] (0,-5)--(0,-7.6);
	    \draw[snake=brace, color=green!50!black] (-.1,-5)--(-.1,0);
	    \node[color=green!50!black] at (-.9,-2.5) {$r$};
	    \draw[color=red, thick] (0,0) circle (.1cm);
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet foreach pie-chart-color
	% Pie chart with colors
	% Author: Henri Menke
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Pie chart with colors
	:Tags: Foreach;Charts;Pie charts;Mathematical engine
	:Author: Henri Menke
	:Slug: pie-chart-color
	
	With this pie chart, we can define a list of colors which is used for the
	pieces. A counter cycles through the list for choosing the color, it restarts
	after the list ended.
	
	The annotation is done using the pin element.
	
	This example was written by Henri Menke answering a question of Sascha
	on TeXwelt.de: http://texwelt.de/wissen/fragen/4965/
	\end{comment}
	\begin{document}
	\def\angle{0}
	\def\radius{3}
	\def\cyclelist{{"orange","blue","red","green"}}
	\newcount\cyclecount \cyclecount=-1
	\newcount\ind \ind=-1
	\begin{tikzpicture}[nodes = {font=\sffamily}]
	  \foreach \percent/\name in {
	      46.6/Chrome,
	      24.6/Internet Explorer,
	      20.4/Firefox,
	      5.1/Safari,
	      1.3/Opera,
	      2.0/Other
	    } {
	      \ifx\percent\empty\else               % If \percent is empty, do nothing
	        \global\advance\cyclecount by 1     % Advance cyclecount
	        \global\advance\ind by 1            % Advance list index
	        \ifnum3<\cyclecount                 % If cyclecount is larger than list
	          \global\cyclecount=0              %   reset cyclecount and
	          \global\ind=0                     %   reset list index
	        \fi
	        \pgfmathparse{\cyclelist[\the\ind]} % Get color from cycle list
	        \edef\color{\pgfmathresult}         %   and store as \color
	        % Draw angle and set labels
	        \draw[fill={\color!50},draw={\color}] (0,0) -- (\angle:\radius)
	          arc (\angle:\angle+\percent*3.6:\radius) -- cycle;
	        \node at (\angle+0.5*\percent*3.6:0.7*\radius) {\percent\,\%};
	        \node[pin=\angle+0.5*\percent*3.6:\name]
	          at (\angle+0.5*\percent*3.6:\radius) {};
	        \pgfmathparse{\angle+\percent*3.6}  % Advance angle
	        \xdef\angle{\pgfmathresult}         %   and store in \angle
	      \fi
	    };
	\end{tikzpicture}
	\end{document}
snippet charts pie-chart
	% Pie chart
	% Author: Robert Vollmert
	\documentclass{article}
	
	\usepackage{calc}
	\usepackage{ifthen}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,floats,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{document}
	
	\begin{comment}
	:Title: Pie chart
	:Tags: Charts, Foreach
	
	This example shows how to draw a basic pie chart. Note that labels are automatically
	aligned and placed in a smart way. This makes the code more complicated. However,
	charts can now bee drawn without worrying about overlapping labels.
	
	:Author: Robert Vollmert
	
	\end{comment}
	
	\newcommand{\slice}[4]{
	  \pgfmathparse{0.5*#1+0.5*#2}
	  \let\midangle\pgfmathresult
	
	  % slice
	  \draw[thick,fill=black!10] (0,0) -- (#1:1) arc (#1:#2:1) -- cycle;
	
	  % outer label
	  \node[label=\midangle:#4] at (\midangle:1) {};
	
	  % inner label
	  \pgfmathparse{min((#2-#1-10)/110*(-0.3),0)}
	  \let\temp\pgfmathresult
	  \pgfmathparse{max(\temp,-0.5) + 0.8}
	  \let\innerpos\pgfmathresult
	  \node at (\midangle:\innerpos) {#3};
	}
	
	\begin{tikzpicture}[scale=3]
	
	\newcounter{a}
	\newcounter{b}
	\foreach \p/\t in {20/type A, 4/type B, 11/type C,
	                   49/type D, 16/other}
	  {
	    \setcounter{a}{\value{b}}
	    \addtocounter{b}{\p}
	    \slice{\thea/100*360}
	          {\theb/100*360}
	          {\p\%}{\t}
	  }
	
	\end{tikzpicture}
	
	\end{document}
snippet plane plane-partition
	% Plane partition
	% Author: Jang Soo Kim
	\documentclass{minimal}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Plane partition
	
	Illustration of a `plane partition`_.
	
	.. _plane partition: http://mathworld.wolfram.com/PlanePartition.html
	
	\end{comment}
	% Three counters
	\newcounter{x}
	\newcounter{y}
	\newcounter{z}
	
	% The angles of x,y,z-axes
	\newcommand\xaxis{210}
	\newcommand\yaxis{-30}
	\newcommand\zaxis{90}
	
	% The top side of a cube
	\newcommand\topside[3]{
	  \fill[fill=yellow, draw=black,shift={(\xaxis:#1)},shift={(\yaxis:#2)},
	  shift={(\zaxis:#3)}] (0,0) -- (30:1) -- (0,1) --(150:1)--(0,0);
	}
	
	% The left side of a cube
	\newcommand\leftside[3]{
	  \fill[fill=red, draw=black,shift={(\xaxis:#1)},shift={(\yaxis:#2)},
	  shift={(\zaxis:#3)}] (0,0) -- (0,-1) -- (210:1) --(150:1)--(0,0);
	}
	
	% The right side of a cube
	\newcommand\rightside[3]{
	  \fill[fill=blue, draw=black,shift={(\xaxis:#1)},shift={(\yaxis:#2)},
	  shift={(\zaxis:#3)}] (0,0) -- (30:1) -- (-30:1) --(0,-1)--(0,0);
	}
	
	% The cube 
	\newcommand\cube[3]{
	  \topside{#1}{#2}{#3} \leftside{#1}{#2}{#3} \rightside{#1}{#2}{#3}
	}
	
	% Definition of \planepartition
	% To draw the following plane partition, just write \planepartition{ {a, b, c}, {d,e} }.
	%  a b c
	%  d e
	\newcommand\planepartition[1]{
	 \setcounter{x}{-1}
	  \foreach \a in {#1} {
	    \addtocounter{x}{1}
	    \setcounter{y}{-1}
	    \foreach \b in \a {
	      \addtocounter{y}{1}
	      \setcounter{z}{-1}
	      \foreach \c in {1,...,\b} {
	        \addtocounter{z}{1}
	        \cube{\value{x}}{\value{y}}{\value{z}}
	      }
	    }
	  }
	}
	
	\begin{document} 
	
	\begin{tikzpicture}
	\planepartition{{5,3,2,2},{4,2,2,1},{2,1},{1}}
	\end{tikzpicture}
	
	\end{document}
snippet coordinates polar-coordinates-template
	%POLAR COORDINATES
	%The print template for A4 paper (portrait)
	%Author: Zoran Nikolic
	\documentclass[12pt]{article}
	\usepackage[margin=0.5in,paper=a4paper]{geometry} %Shrinking margins to 0.5in
	\usepackage[x11names]{xcolor}                     %Additional colors
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Polar coordinates template
	
	\end{comment}
	\usepackage{euler}                                %Nicer numbers
	
	%Note about the colors: 
	%  The color of the "ray" lines should not be
	%  black or gray as on some printers, significant
	%  aliasing distorsion becomes visible.
	
	\begin{document}
	\thispagestyle{empty} %Please, no page numbers or similar
	
	\begin{center}
	  \begin{tikzpicture}
	    %Circles 
	    \foreach \r in {1, 2,...,7}
	      \draw[SteelBlue3, thick] (0,0) circle (\r);    
	    \foreach \r in {0.5, 1.5,...,7}
	      \draw[Azure4, thin] (0,0) circle (\r);
	    %1° Rays
	    \foreach \a in {0, 1,...,359}
	      \draw[Azure4] (\a:7.7) -- (\a:8);
	    %5° Rays
	    \foreach \a in {0, 5,...,359}
	      \draw[Azure4] (\a:7.5) -- (\a:8);      
	    %15° Rays
	    \foreach \a in {0, 15,...,359}
	      \draw[thick,Azure4] (\a:1) -- (\a:8); 
	    %30° Rays
	    \foreach \a in {0, 30,...,359}
	      \draw[thick,Azure4] (0, 0) -- (\a:8);
	    %Radius labels (background filled white)
	    \foreach \r in {1, 2,...,7}
	      \draw (\r,0) node[inner sep=1pt,below=3pt,rectangle,fill=white] {$\r$};
	    %Main rays
	    \foreach \a in {0, 90,...,359}
	      \draw[very thick] (0, 0) -- (\a:8);
	    %Angle labels  
	    \foreach \a in {0, 15,...,359}
	      \draw (\a: 8.5) node {$\a^\circ$};
	    %Central point
	    \draw[fill=red] (0,0) circle(0.7mm);
	  \end{tikzpicture}
	\end{center}
	
	\end{document}
snippet foreach polarization-controller
	% Optical Fiber Polarization Controller
	% Author: Jimi Oke
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Optical Fiber Polarization Controller
	:Tags: Foreach; Scopes
	:Author: Jimi Oke
	:Slug: polarization-controller
	
	A polarization controller is an optical device for modifying the polarization state of light. This is a simplified 3-D diagram of an optical fiber polarization controller.
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[x={(0.866cm,-0.5cm)},
	  y={(0.866cm,0.5cm)}, z={(0cm,1cm)}]
	\tikzstyle{paddle}=[very thick, fill=white]
	\coordinate (O) at (0, 0, 0);
	
	% fiber in
	\draw[thick] (0,-1.5,0) to[out=30,in=220] (1,0,0);
	
	% first divider
	\draw[fill=white] (1,-.4,-.5) -- (2,-.4,-.5) -- (2,-.4,.25) --
	      (1,-.4,.25) -- (1,-.4,-.5)
	      (2,-.4,.25) -- (2,.4,.25) -- (1,.4,.25) -- (1,-.4,.25)
	      (2,.4,.25) -- (2,.4,-.5) -- (2,-.4,-.5);
	
	% first paddle
	\draw[paddle] 
	      (2,0,0) -- (4,0,0) -- (4,2,0) -- (2,2,0) -- (2,0,0) % first face
	      (2,0,0) -- (2,0,-.1)
	      (4,0,0) -- (4,0,-.1)
	      (2,0,-.1) -- (4,0,-.1) -- (4,2,-.1);
	\draw (3,1,0) circle (.94)
	      (3,1,0) circle (.9);
	
	% second divider
	\draw[fill=white] (4,-.4,-.5) -- (5,-.4,-.5) -- (5,-.4,.25) -- 
	      (4,-.4,.25) -- (4,-.4,-.5)
	      (5,-.4,.25) -- (5,.4,.25) -- (4,.4,.25) -- (4,-.4,.25)
	      (5,.4,.25) -- (5,.4,-.5) -- (5,-.4,-.5);
	
	% second paddle
	\filldraw[paddle]
	     (5,0,0) -- (7,0,0) -- (7,0,2) -- (5,0,2) -- (5,0,0) % first face
	     (7,0,0) -- (7,.1,0) -- (7,.1,2) -- (5,.1,2) -- (5,0,2)
	     (7,.1,2) -- (7,0,2);
	
	% third divider
	\draw[fill=white] (7,-.4,-.5) -- (8,-.4,-.5) -- (8,-.4,.25) --
	      (7,-.4,.25) -- (7,-.4,-.5)
	      (8,-.4,.25) -- (8,.4,.25) -- (7,.4,.25) -- (7,-.4,.25)
	      (8,.4,.25) -- (8,.4,-.5) -- (8,-.4,-.5);
	
	% third paddle
	\filldraw[paddle] 
	     (8,0,0) -- (10,0,0) -- (10, -1.732,1) -- (8,-1.732,1)
	     -- (8,0,0)
	(8,-1.732,1) -- (8,-1.732,.9) -- (10,-1.732,.9) -- (10,0,-.1)
	-- (10,0,0)
	(10,-1.732,.9) -- (10,-1.732,1);
	
	% fourth divider  
	\draw[fill=white] (10,-.4,-.5) -- (11,-.4,-.5) -- (11,-.4,.25) --
	      (10,-.4,.25) -- (10,-.4,-.5)
	      (11,-.4,.25) -- (11,.4,.25) -- (10,.4,.25) -- (10,-.4,.25)
	      (11,.4,.25) -- (11,.4,-.5) -- (11,-.4,-.5);
	
	\begin{scope}[x={(0.866cm,-0.5cm)},y={(0,1cm)}]
	\draw (6,0,1) circle (.94)
	      (6,0,1) circle (.9);
	\end{scope}
	
	\begin{scope}[x={(0.866cm,-0.5cm)},y={(-.73cm,.077cm)}]
	\draw[fill=white] (9,1) circle (.94)
	      (9,1) circle (.9);
	\end{scope}
	
	% fiber exit
	\draw (11,-.05,.05) -- (11,.05,.05) --
	     (11,.05,-.05) -- (11,-.05,-.05) -- (11,-.05,.05);
	\draw[thick] (10.95,0,0) to[out=-30,in=180] (12,1,-1);
	\end{tikzpicture}
	\end{document} 
snippet polarization polarization-state-of-light
	% Polarization state of light
	% Author: Jeff Hein
	\documentclass{article}
	
	%========
	%packages
	%========
	\usepackage{tikz}          %tikz graphics package for drawing with pgf
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Polarization state of light
	
	This demonstrates the use of the `fixed point calculation package
	fp.sty<http://www.ctan.org/tex-archive/help/Catalogue/entries/fp.html>`_ to process user-defined parameters while rendering a TikZ
	picture.  In this example, a ellipse is rendered, representing the
	polarization state of light for an arbitrary x-amplitude y-amplitude,
	and relative phase.  See `<http://en.wikipedia.org/wiki/Polarization>`_ for
	background information on polarization states of light.
	
	In this example, a relatively simple command is called from within a
	tikzpicture environment:
	
	.. sourcecode:: latex
	
		\begin{tikzpicture}
		    %usage:  \polellipse{ E_{0x} }{ E_{0y} }{ phase }
		    \polellipse{3}{2}{45}
		\end{tikzpicture}
	
	The contents of the ``\polellipse`` command is rather lengthy, but can be
	broken down into two main parts.  The first part performs the
	necessary math to convert the user-defined parameters ``E_{0x}``,
	``E_{0y}``, and ``phase`` into values which are useful to the drawing
	process.  The second part uses the calculated numbers to draw a
	coordinate axis, the ellipse, and appropriate annotation.
	
	This example can be helpful when preparing a document describing
	various polarization states of light.  The document can contain an
	arbitrary number of ``\polellipse`` commands, each with an arbitrary
	configuration of parameters.  Each rendered figure is based on the
	same code, so a desired change to the style can update all figures.
	
	This general technique can be applied to any TikZ figure, where the
	document calls any number of commands with some passed parameters, and
	some computation is be performed to render the diagrams.
	
	\end{comment}
	
	\usepackage{fp}            %for fixed point math
	\usepackage{ifthen}      %for \ifthenelse{}{}{} conditional statements
	
	%===================
	%Style configuration
	%===================
	\pagestyle{empty}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{2mm}
	
	\usetikzlibrary{calc}
	
	%line thickness styles:  ultra thin, very thin, (thin), semithick, thick, very thick, ultra thick
	%line dash styles: loosely dashed, densely dashed, loosely dotted, densely dotted
	\tikzset{bkgd_line/.style={very thin,color=gray}}
	\tikzset{dashed_bkgd_line/.style={thin, dashed,color=gray}}
	
	\tikzset{dimension_line/.style={very thin,color=gray}}
	\tikzset{axis_line/.style={thin}}
	\tikzset{object_line/.style={thick}}
	\tikzset{textlabel/.style={color=red}}
	
	
	%===================
	%Command Definitions
	%===================
	
	%Command: polellipse
	%
	%parameters:
	%
	%1: x-axis magnitude
	%2: y-axis magnitude
	%3: phase between x-y components:  \phase = \delta_y - \delta_x
	%
	\newcommand{\polellipse}[3]{%
	%
	%NOTE:see http://spie.org/x32373.xml for some background on the math behind this calculation.
	%
	    \coordinate(origin) at (0,0);
	
	%constants
	\FPset{\LABELOFFSET}{.1}
	
	%input parameters
	%================
	
	%\Eoy:  Electric field magnitude in the y-direction, (Eoy \geq 0)
	\FPset{\Eoy}{#2}
	
	%\Eox:  Electric field magnitude in the x-direction, (Eoy \geq 0)
	\FPset{\Eox}{#1}
	
	%\phase:  phase difference between E_y and E_x, in degrees   (\phase \leq 0 < 360)
	\FPset{\phase}{#3}
	
	\FPiflt{\phase}{0}
	    \FPadd{\phase}{\phase}{360}
	\else \fi
	
	
	%\convert phase to radians
	\FPmul{\phase}{\phase}{\FPpi}      %\phase = \phase * \PI
	\FPdiv{\phase}{\phase}{180}        %\phase = \phase / 180
	
	%Begin calculations, and reality check
	%=====================================
	\ifthenelse{\equal{\Eox}{0}}{%
	    %error case: \Eox = \Eoy = 0
	    \FPifzero{\Eoy}
	        \errmessage{ELLIPSE PLOT ERROR: Both Eox and Eoy cannot be zero!}
	    \else \fi
	    
	    %special case: \Eox = 0
	    \FPdiv{\alp}{\FPpi}{2}          %\alp = \pi/2
	}
	{%
	    %normal case, \Eox \neq 0
	    \FPdiv{\scratch}{\Eoy}{\Eox}    %\scratch = \Eoy/\Eox
	    \FParctan{\alp}{\scratch}       %\alp = \arctan{\scratch}
	}
	
	%normalize magnitudes, used for plotting
	%=======================================
	
	\FPpow{\scratchy}{\Eoy}{2}            %\scratchy = \Eoy^2
	\FPpow{\scratchx}{\Eox}{2}            %\scratchx = \Eox^2
	\FPadd{\scratch}{\scratchy}{\scratchx}%\scratch = \scratchy + \scratchx
	\FProot{\norm}{\scratch}{2}           %\norm = \sqrt{\scratch}
	
	\FPdiv{\Eoynorm}{\Eoy}{\norm}         %\Eoynorm = \Eoy / \norm
	\FPdiv{\Eoxnorm}{\Eox}{\norm}         %\Eoynorm = \Eox / \norm
	
	%determine major and minor axes
	%==============================
	
	\FPmul{\scratch}{\alp}{2}             %\scratch = \alp* 2
	\FPsin{\sintwoalp}{\scratch}          %\alp = \sin\scratch
	
	%\sin2\chi = \sin2\alp \sin\phase
	\FPsin{\scratch}{\phase}              %\scratch = \sin\phase
	\FPmul{\sintwochi}{\scratch}{\sintwoalp} %\sintwochi = \scratch * \sintwoalp
	
	%solve for \tan\chi
	\FParcsin{\scratch}{\sintwochi}      %\scratch = \arcsin{\sintwochi}
	\FPdiv{\scratch}{\scratch}{2}        %\scratch = \scratch / 2
	\FPtan{\tanchi}{\scratch}            %\tanchi = \tan{\scratch}
	
	%if \tanchi is less than zero, the proceeding power operation will fail.
	\FPabs{\tanchi}{\tanchi}
	
	%\b = -\frac{\tanchi}{\sqrt{ 1 + \tanchi^2}}
	\FPpow{\scratch}{\tanchi}{2}         %\scratch = \tanchi^2
	
	\FPadd{\scratch}{\scratch}{1}        %\scratch = \scratch + 1
	\FProot{\scratch}{\scratch}{2}       %\scratch = \sqrt{\scratch}
	\FPdiv{\b}{\tanchi}{\scratch}        %\b = \tanchi / \scratch
	
	%\a = \sqrt{1 - \b^2}
	\FPpow{\scratch}{\b}{2}            %\scratch = \b^2
	\FPsub{\scratch}{1}{\scratch}      %\scratch = 1 - \scratch
	\FProot{\a}{\scratch}{2}           %\a = \sqrt{\scratch}
	
	
	%determine orientation angle
	%===========================
	
	%\tantwoalp = \tan{2\alp}
	\FPmul{\twoalp}{\alp}{2}      %\scratch = \alp * 2
	
	%check for infinite tan!
	\FPmul{\scratch}{\twoalp}{180}
	\FPdiv{\scratch}{\scratch}{\FPpi}
	\FPround{\scratch}{\scratch}{3}
	\ifthenelse{\equal{\scratch}{90.000}}{%
	    %special case: if \twoalp is 90 degrees, \tantwoalp will be infinite
	
	    \FPset{\orang}{\alp}                %force \orang to \alp
	}
	{
	    %regular case
	    \FPtan{\tantwoalp}{\twoalp}      %\tantwoalp = \tan\scratch
	
	    %\tantwopsi = \tantwoalp \cos\phase
	    \FPcos{\scratch}{\phase}        %\scratch = \cos\phase
	    \FPmul{\tantwopsi}{\tantwoalp}{\scratch} %\tantwopsi = \tantwoalp * \scratch
	    \FParctan{\scratch}{\tantwopsi}        %\scratch = \arctan{\tantwopsi}
	    \FPdiv{\orang}{\scratch}{2}        %\orang = \scratch / 2
	
	    %assign proper quadrant:  if the orientation angle is less than zero, increase by 90 degrees
	    \FPiflt{\orang}{0}
	        \FPdiv{\scratch}{\FPpi}{2}
	        \FPadd{\orang}{\orang}{\scratch}
	    \else \fi
	}
	
	%convert \phase to degrees
	\FPmul{\phase}{\phase}{180}
	\FPdiv{\phase}{\phase}{\FPpi}
	\FPround{\phase}{\phase}{1}
	
	%convert \orang to degrees
	\FPmul{\orang}{\orang}{180}
	\FPdiv{\orang}{\orang}{\FPpi}
	
	%final check on proper quadrant:  if \phase is between 90 and 270, increase orientation by 90 degrees
	\FPset{\scratch}{0}
	\FPifgt{\phase}{90.0}
	    %if the first test passes, then prime the increment amount
	    \FPset{\scratch}{90}
	\else \fi
	\FPiflt{\phase}{270}
	    %if the second test passes, then increment by amount.  This will be zero if the first test didn't pass, and so we have a makeshift AND operation here!
	    \FPadd{\orang}{\orang}{\scratch}    %add \pi/2 to orientation angle
	\else \fi
	
	%if Eox was zero to start with, just set orientation to 90 degrees
	\FPifzero{\Eox}
	    %special case: \Eox = 0
	    \FPset{\orang}{90}          %\orang = 90 degrees
	\else \fi
	
	%determine perpendicular axis direction for rendering minor axis
	
	%print output for testing
	%\draw (0,-2in) node{\FPprint{\scratch}};
	%\draw (0,-2in) node{$a$:\FPprint{\a}\quad\quad $b$:\FPprint{\b}\quad\quad orientation angle:\FPprint{\orang}};
	
	    %define points for labels
	    \begin{scope}[rotate around={\orang:(origin)}]
	        \coordinate (a) at ($ (\a in, 0) + (\LABELOFFSET in,0) $);
	        \coordinate (b) at ($ (0, \b in) + (0,\LABELOFFSET in)$);
	
	        %determine arrow position and direction
	        \coordinate (arrow1front) at ($ (0, \b in) $);
	        \coordinate (arrow2front) at ($ (0, -\b in) $);
	        \FPifgt{\phase}{180}
	            \coordinate (arrow1back) at ($ (0, \b in) - .001*(\a in,0) $);
	            \coordinate (arrow2back) at ($ (0, -\b in) + .001*(\a in,0) $);
	        \else 
	            \coordinate (arrow1back) at ($ (0, \b in) + .001*(\a in,0) $);
	            \coordinate (arrow2back) at ($ (0, -\b in) - .001*(\a in,0) $);
	        \fi
	    \end{scope}
	
	    %points for labels Eox, Eoy, \delta
	    \coordinate (e) at ($ .5*(\Eoxnorm in,0) + (0,-\Eoynorm in) $);
	    \coordinate (f) at ($ .5*(0,-\Eoynorm in) + (\Eoxnorm in,0) $);
	    \coordinate (g) at ($ (-.2in,0) + (0,\Eoynorm in) $);
	
	    %draw the x-y plane
	    \draw[axis_line, ->] (-1.25in,0) -- (1.25in,0) node[textlabel,anchor=west]{$x$};
	    \draw[axis_line, ->] (0,-1.25in) -- (0,1.25in) node[textlabel,anchor=south]{$y$};
	    
	    %draw the major and minor axis lines
	    \draw[dimension_line,rotate=\orang] (-\a in,0) -- (\a in,0);
	    \draw[dimension_line,rotate=\orang] (0, -\b in) -- (0, \b in);
	
	    %draw the x-y amplitude bounding box
	    \draw[dimension_line] (-\Eoxnorm in,-\Eoynorm in) rectangle (\Eoxnorm in,\Eoynorm in);
	
	    %draw the ellipse and arrows showing the sense of rotation
	    \draw[object_line,rotate=\orang,->] (0,0) ellipse (\a in and \b in);
	    \draw[object_line,->] (arrow1back) -- (arrow1front);
	    \draw[object_line,->] (arrow2back) -- (arrow2front);
	
	    %label major-minor axes
	    \FPifgt{\b}{.1}    %threshold for displaying major-minor axis labels
	        \draw (a) node[textlabel]{$a$}; %=\a);  %uncomment and merge if you want to display the major axis size.  Maybe do a \FPround{\a}{\a}{1} beforehand!
	        \draw (b) node[textlabel]{$b$}; %=\b);  %uncomment and merge if you want to display the minor axis size.  Maybe do a \FPround{\b}{\b}{1} beforehand!
	    \else \fi
	
	    %label the x-y components and delta
	    \draw (e) node[textlabel,anchor=north]{$E_{0x} = \Eox$};
	    \draw (f) node[textlabel,anchor=north west]{$E_{0y} = \Eoy$};
	    \draw (g) node[textlabel,anchor=south east]{$\delta = \phase^\circ$};
	
	    %label orinetation angle
	    \FPifgt{\orang}{1}    %threshold for displaying orientation angle
	        \draw[dimension_line] (.3in, 0) arc (0:\orang:.3in);
	        \FPdiv{\scratch}{\orang}{2}    %scratch = ema/2
	        \draw[rotate=\scratch] (.5in,0) node[textlabel]{$\psi$};
	    \else \fi
	}
	%end ellipse command
	
	
	%=============
	%main document
	%=============
	
	\begin{document}
	
	%\section*{Background}  %to render this, remove the preview environment
	%
	%\subsubsection*{Electric Field Vectors}
	%
	%\begin{align}\begin{split}
	%  E_x(t) &= E_{0x}\cos(\omega t)\\
	%  E_y(t) &= E_{0y}\cos(\omega t + \delta)\\
	%  \vec{E}(t) &= E_x(t)\hat{x} + E_y(t)\hat{y}
	%\end{split}\end{align}
	
	%For further information about polarization states of light and calculating the polarization ellipse, see your favorite optics book!
	
	\begin{tikzpicture}
	    %usage:  \polellipse{ E0x }{ E0y }{ phase }
	    \polellipse{3}{2}{45}
	\end{tikzpicture}
	
	%alternative example:
	%uncomment the following block and remove the preview environment from the beginning of the document
	
	%polarization ellipse figures
	%  \foreach \i in {1,3,5,9}
	%  {
	%    \foreach \j in {-40,-20,0,30,60,140}
	%    {
	%      \begin{tikzpicture}[scale=.25]
	%        %\polellipse{ E_{0x} }{ E_{0y} }{ \delta }
	%        \polellipse{4}{\i}{\j}
	%      \end{tikzpicture} 
	%    }
	    %newline for proper formatting!
	%  \\
	%  }
	
	
	\end{document}
snippet 3d polarizing-microscope
	% Polarizing microscope
	% Author: Cyril Langlois
	% This TikZ code sketches the light behavior during its travel in a polarizing
	% petrographic microscope when a birefringent crystal thin section is inserted
	% between the polarizing devices.
	% 
	% The goal was to correctly show the vectorial relationships between light
	% electric fields during its travel through the first polaroid, the mineral
	% section and the second polaroid.
	\documentclass[11pt]{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Polarizing microscope
	:Tags: 3D; Earth Sciences; Petrography; Physics
	:Author: Cyril Langlois
	
	This TikZ code sketches the light behavior during its travel in a polarizing
	petrographic microscope when a birefringent crystal thin section is inserted
	between the polarizing devices.
	
	The goal was to correctly show the vectorial relationships between light
	electric fields during its travel through the first polaroid, the mineral
	section and the second polaroid.
	\end{comment}
	
	\begin{document}
	\begin{tikzpicture}[x={(0.866cm,-0.5cm)}, y={(0.866cm,0.5cm)}, z={(0cm,1cm)}, scale=1.0,
	    %Option for nice arrows
	    >=stealth, %
	    inner sep=0pt, outer sep=2pt,%
	    axis/.style={thick,->},
	    wave/.style={thick,color=#1,smooth},
	    polaroid/.style={fill=black!60!white, opacity=0.3},
	]
	    % Colors
	    \colorlet{darkgreen}{green!50!black}
	    \colorlet{lightgreen}{green!80!black}
	    \colorlet{darkred}{red!50!black}
	    \colorlet{lightred}{red!80!black}
	
	    % Frame
	    \coordinate (O) at (0, 0, 0);
	    \draw[axis] (O) -- +(14, 0,   0) node [right] {x};
	    \draw[axis] (O) -- +(0,  2.5, 0) node [right] {y};
	    \draw[axis] (O) -- +(0,  0,   2) node [above] {z};
	
	    \draw[thick,dashed] (-2,0,0) -- (O);
	
	    % monochromatic incident light with electric field
	    \draw[wave=blue, opacity=0.7, variable=\x, samples at={-2,-1.75,...,0}]
	        plot (\x, { cos(1.0*\x r)*sin(2.0*\x r)}, { sin(1.0*\x r)*sin(2.0*\x r)})
	        plot (\x, {-cos(1.0*\x r)*sin(2.0*\x r)}, {-sin(1.0*\x r)*sin(2.0*\x r)});
	
	    \foreach \x in{-2,-1.75,...,0}{
	        \draw[color=blue, opacity=0.7,->]
	            (\x,0,0) -- (\x, { cos(1.0*\x r)*sin(2.0*\x r)}, { sin(1.0*\x r)*sin(2.0*\x r)})
	            (\x,0,0) -- (\x, {-cos(1.0*\x r)*sin(2.0*\x r)}, {-sin(1.0*\x r)*sin(2.0*\x r)});
	    }
	
	    \filldraw[polaroid] (0,-2,-1.5) -- (0,-2,1.5) -- (0,2,1.5) -- (0,2,-1.5) -- (0,-2,-1.5)
	        node[below, sloped, near end]{Polaroid};%
	
	    %Direction of polarization
	    \draw[thick,<->] (0,-1.75,-1) -- (0,-0.75,-1);
	
	    % Electric field vectors
	    \draw[wave=blue, variable=\x,samples at={0,0.25,...,6}]
	        plot (\x,{sin(2*\x r)},0)node[anchor=north]{$\vec{E}$};
	
	    %Polarized light between polaroid and thin section
	    \foreach \x in{0, 0.25,...,6}
	        \draw[color=blue,->] (\x,0,0) -- (\x,{sin(2*\x r)},0);
	
	    \draw (3,1,1) node [text width=2.5cm, text centered]{Polarized light};
	
	    %Crystal thin section
	    \begin{scope}[thick]
	        \draw (6,-2,-1.5) -- (6,-2,1.5) node [above, sloped, midway]{Crystal section}
	                -- (6, 2, 1.5) -- (6, 2, -1.5) -- cycle % First face
	            (6,  -2, -1.5) -- (6.2, -2,-1.5)
	            (6,   2, -1.5) -- (6.2,  2,-1.5)
	            (6,  -2,  1.5) -- (6.2, -2, 1.5)
	            (6,   2,  1.5) -- (6.2,  2, 1.5)
	            (6.2,-2, -1.5) -- (6.2, -2, 1.5) -- (6.2, 2, 1.5) 
	                -- (6.2, 2, -1.5) -- cycle; % Second face
	
	        %Optical indices
	        \draw[darkred, ->]       (6.1, 0, 0) -- (6.1, 0.26,  0.966) node [right] {$n_{g}'$}; % index 1
	        \draw[darkred, dashed]   (6.1, 0, 0) -- (6.1,-0.26, -0.966); % index 1
	        \draw[darkgreen, ->]     (6.1, 0, 0) -- (6.1, 0.644,-0.173) node [right] {$n_{p}'$}; % index 2
	        \draw[darkgreen, dashed] (6.1, 0, 0) -- (6.1,-0.644, 0.173); % index 2
	    \end{scope}
	
	    %Rays leaving thin section
	    \draw[wave=darkred,   variable=\x, samples at={6.2,6.45,...,12}] 
	        plot (\x, {0.26*0.26*sin(2*(\x-0.5) r)},  {0.966*0.26*sin(2*(\x-0.5) r)});  %n'g-oriented ray
	    \draw[wave=darkgreen, variable=\x, samples at={6.2,6.45,...,12}]
	        plot (\x, {0.966*0.966*sin(2*(\x-0.1) r)},{-0.26*0.966*sin(2*(\x-0.1) r)}); %n'p-oriented ray
	    \draw (10,1,1) node [text width=2.5cm, text centered] {Polarized and dephased light};
	
	    \foreach \x in{6.2,6.45,...,12} {
	        \draw[color=darkgreen, ->] (\x, 0, 0) --
	            (\x, {0.966*0.966*sin(2*(\x-0.1) r)}, {-0.26*0.966*sin(2*(\x-0.1) r)});
	        \draw[color=darkred,   ->] (\x, 0, 0) --
	            (\x, {0.26*0.26*sin(2*(\x-0.5) r)}, {0.966*0.26*sin(2*(\x-0.5) r)});
	    }
	
	    %Second polarization
	    \draw[polaroid]   (12, -2,  -1.5) -- (12, -2,   1.5)  %Polarizing filter
	        node [above, sloped,midway] {Polaroid} -- (12, 2, 1.5) -- (12, 2, -1.5) -- cycle;
	    \draw[thick, <->] (12, -1.5,-0.5) -- (12, -1.5, 0.5); %Polarization direction
	
	    %Light leaving the second polaroid
	    \draw[wave=lightgreen,variable=\x, samples at={12, 12.25,..., 14}]
	        plot (\x,{0}, {0.966*0.966*0.26*sin(2*(\x-0.5) r)}); %n'g polarized ray
	    \draw[wave=lightred,  variable=\x, samples at={12, 12.25,..., 14}]
	        plot (\x,{0}, {-0.26*0.966*sin(2*(\x-0.1) r)});      %n'p polarized ray
	
	    \node[align=justify, text width=14cm, anchor=north west, yshift=-2mm] at (current bounding box.south west)
	        {Light behavior in a petrographic microscope with light polarizing
	        device. Only one incident wavelength is shown (monochromatic light).
	        The magnetic field, perpendicular to the electric one, is not drawn.};
	\end{tikzpicture}
	\end{document}
snippet polar polar-plot
	\documentclass[tikz]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Polar plot with grid
	:Tags: Polar;Plotting;Mathematics
	:Author: Alex Chan
	:Slug: polar-plot
	
	The grid is drawn by hand and with some basic loops,
	such as concentric circles and labels in a foreach loop.
	The shaded area got opacity so we can see through.
	
	This example was written by Alex Chan
	(http://tex.stackexchange.com/users/9668/alexwlchan) answering a
	question on TeX.SE (http://tex.stackexchange.com/q/169624/213).
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[>=latex]
	
	% Draw the lines at multiples of pi/12
	\foreach \ang in {0,...,31} {
	  \draw [lightgray] (0,0) -- (\ang * 180 / 16:4);
	}
	
	% Concentric circles and radius labels
	\foreach \s in {0, 1, 2, 3} {
	  \draw [lightgray] (0,0) circle (\s + 0.5);
	  \draw (0,0) circle (\s);
	  \node [fill=white] at (\s, 0) [below] {\scriptsize $\s$};
	}
	
	% Add the labels at multiples of pi/4
	\foreach \ang/\lab/\dir in {
	  0/0/right,
	  1/{\pi/4}/{above right},
	  2/{\pi/2}/above,
	  3/{3\pi/4}/{above left},
	  4/{\pi}/left,
	  5/{5\pi/4}/{below left},
	  7/{7\pi/4}/{below right},
	  6/{3\pi/2}/below} {
	  \draw (0,0) -- (\ang * 180 / 4:4.1);
	  \node [fill=white] at (\ang * 180 / 4:4.2) [\dir] {\scriptsize $\lab$};
	}
	
	% The double-lined circle around the whole diagram
	\draw [style=double] (0,0) circle (4);
	
	\fill [fill=red!50!black, opacity=0.5] plot [domain=-pi/2:pi/2]
	  (xy polar cs:angle=\x r, radius= {2-2*sin(\x r)});
	\draw [thick, color=red, domain=0:2*pi, samples=200, smooth]
	  plot (xy polar cs:angle=\x r, radius={2-2*sin(\x r)});
	\node [fill=white] at (2,1) {$r=2-2\sin\theta$};
	
	\end{tikzpicture} 
	\end{document}
snippet geometry polars-tangents-conic
	% Conics: The projective construction of polars and  tangents
	% Author: Hugues Vermeiren
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Conics - Polars and  Tangents
	:Tags: geometry,mathematics,intersections
	:Author: Hugues Vermeiren
	:Slug: polars-tangents-conic
	
	The projective construction of polars and  tangents to an ellipse  from an external point.
	See http://mathworld.wolfram.com/Polar.html
	and Projective Geometry, H.S.M. Coxeter, Springer-Verlag,1987, page 75.
	
	This example shows how to use the intersection library for such constructions.
	\end{comment}
	\usetikzlibrary{calc,intersections}
	\begin{document}
	    \begin{tikzpicture}[scale=1.2]
		\tikzset{mypoints/.style={fill=white,draw=black,thick}}
		\def\ptsize{2.0pt}
		\def\a{3} \def\b{1.75}
		% warning: construction fails if xp<0 or yp<=0
		\def\xp{4.0} \def\yp{3.5} 
		\def\i{0.85} \def\j{-0.25}%determines rays from P
		\coordinate[label=above:P] (P) at (\xp,\yp);
		\coordinate (M) at ({\a*\i},0);
		\coordinate (N) at ({\a*\j},0);
		\coordinate (AA) at (0,-\b);
		\coordinate (BB) at (1,-\b);
		\coordinate (CC) at (-\a,0);
		\coordinate (DD) at (-\a,1);
		\coordinate (Q) at (intersection of P--N and AA--BB);
		\coordinate (R) at (intersection of P--M and AA--BB);
		\draw[name path=ellipse,red,very thick]
			(0,0) circle[x radius = \a cm, y radius = \b cm];
		\path[name path=linePQ,blue] (P)--(Q);
		\path[name path=linePR,green] (P)--(R);
		\path [name intersections={of = ellipse and linePQ}];
		\coordinate[label=above:A] (A)  at (intersection-1);
		\coordinate[label=below left:B] (B) at (intersection-2);
		\path [name intersections={of = ellipse and linePR}];
		\coordinate[label=above right:C] (C)  at (intersection-1);
		\coordinate[label=above left:D] (D) at (intersection-2);
		\draw (B)--(P)--(D) (A)--(D) (C)--(B);
		\coordinate [label=below left:E] (E) at (intersection of A--D and B--C);
		\coordinate[label=above right:F] (F) at (intersection of A--C and B--D);
		\coordinate (G) at (intersection of E--F and CC--DD);
		\draw [name path=lineFG,blue,thick] (F)--(G);
		\draw (A)--(F)--(B);
		\path [name intersections={of = ellipse and lineFG}];
		\coordinate[label=above:X] (X) at (intersection-1);
		\coordinate[label=above right:Y] (Y) at (intersection-2);
		\coordinate (XX) at ($(P)!1.5!(X)$);
		\coordinate (YY) at ($(P)!1.5!(Y)$);
		\draw[very thick,green!50!black!50] (XX)--(P)--(YY);
		\foreach \p in {A,B,C,D,E,F,P,X,Y}
			\fill[mypoints] (\p) circle (\ptsize);
	  \end{tikzpicture}
	\end{document}
snippet polygons polygon-division
	% Polygon division
	% Author: Eric Dtrez
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Polygon division
	:Slug: polygon-division
	:Author: Eric Dtrez
	
	This example shows the solution of `Euler's polygon division problem`_ for a heptagon. 
	The problem is to find in how many ways a plane convex polygon of *n* sides can
	be divided into triangles. The solution is given by the `Catalan number`_. For
	a heptagon the number is 42. 
	
	.. _Euler's polygon division problem: http://mathworld.wolfram.com/EulersPolygonDivisionProblem.html
	.. _Catalan number: http://mathworld.wolfram.com/CatalanNumber.html
	\end{comment}
	
	\begin{document}
	% Macro for drawing a heptagon   
	\def\hepta{\draw(A) -- (B) -- (C) -- (D) -- (E) -- (F) -- (G) -- cycle;}
	
	% Macro for drawing polygon diagonals. 
	% Example \slice{A/C,C/E,E/G,C/G}
	\newcommand{\slice}[1]{%
	    \hepta
	    \draw \foreach \x/\y in {#1} {(\x)--(\y)};
	}
	
	
	\begin{tikzpicture}
	    % Define the heptagon coordinates
	    \coordinate (A) at (-0.76,1.54);
	    \coordinate (B) at (-0.76,0.69);
	    \coordinate (C) at (-0.10,0.16);
	    \coordinate (D) at (0.73,0.35);
	    \coordinate (E) at (1.1,1.11);
	    \coordinate (F) at (0.73,1.88);
	    \coordinate (G) at (-0.10,2.07);
	
	\matrix[column sep=0.8cm,row sep=0.5cm]
	{
	    \slice{A/C,C/E,E/G,C/G}&
	    \slice{A/C,C/E,E/G,A/E}&
	    \slice{A/C,C/E,A/E,A/F}&
	    \slice{A/C,C/E,C/F,A/F}&
	    \slice{A/C,C/E,C/F,C/G}&
	    \slice{A/C,C/F,D/F,A/F}\\
	    \slice{A/C,C/F,D/F,C/G}&
	    \slice{A/C,C/G,D/G,D/F}&
	    \slice{A/C,C/G,D/G,E/G}&
	    \slice{A/C,A/D,D/F,A/F}&
	    \slice{A/C,A/D,D/F,D/G}&
	    \slice{A/C,A/D,D/G,E/G}\\
	    \slice{A/C,A/D,A/E,E/G}&
	    \slice{A/C,A/D,A/E,A/F}&
	    \slice{A/D,B/D,D/F,A/F}&
	    \slice{A/D,B/D,D/F,D/G}&
	    \slice{A/D,B/D,D/G,E/G}&
	    \slice{A/D,B/D,A/E,E/G}\\
	    \slice{A/D,B/D,A/E,A/F}&
	    \slice{A/E,B/E,B/D,E/G}&
	    \slice{A/E,B/E,B/D,A/F}&
	    \slice{A/E,B/E,C/E,E/G}&
	    \slice{A/E,B/E,C/E,A/F}&
	    \slice{A/F,B/F,B/D,D/F}\\
	    \slice{A/F,B/F,B/D,B/E}&
	    \slice{A/F,B/F,B/E,C/E}&
	    \slice{A/F,B/F,C/F,C/E}&
	    \slice{A/F,B/F,C/F,D/F}&
	    \slice{B/G,B/D,D/F,B/F}&
	    \slice{B/G,B/D,D/F,D/G}\\
	    \slice{B/G,B/D,D/G,E/G}&
	    \slice{B/G,B/D,B/E,E/G}&
	    \slice{B/G,B/D,B/E,B/F}&
	    \slice{B/G,B/E,C/E,E/G}&
	    \slice{B/G,B/E,C/E,B/F}&
	    \slice{B/G,B/F,C/F,C/E}\\
	    \slice{B/G,B/F,C/F,D/F}&
	    \slice{B/G,C/G,C/E,E/G}&
	    \slice{B/G,C/G,C/E,C/F}&
	    \slice{B/G,C/G,C/F,D/F}&
	    \slice{B/G,C/G,D/G,D/F}&
	    \slice{B/G,C/G,D/G,E/G}\\
	};
	\end{tikzpicture}
	
	\end{document}
snippet fadings poppy
	% Poppy flower
	% Author: Elena Botoeva
	\documentclass{article}
	\usepackage[margin=0.3cm, paperwidth=9.5cm, paperheight=9.5cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Poppy flower
	:Tags: Fadings;Decorative Drawings
	:Author: Elena Botoeva
	:Slug: poppy
	\end{comment}
	\usetikzlibrary{fadings}
	
	\definecolor{darkgreen}{rgb}{0.2,0.6,0.2}
	\definecolor{poppyred}{rgb}{0.89,0.08,0.3}
	\definecolor{poppyredd}{rgb}{0.78,0.0,0.09}
	\definecolor{poppyreddd}{rgb}{0.63,0.0,0.0}
	
	\def\petala{
	  [rounded corners=3] (0,0) %
	  .. controls (-0.25,-0.5) and (-1.25,0.3) .. (-1.6,0) %
	  .. controls (-1.6,0.75) and (-1.25,0.65) .. (-1.1,1) %
	  .. controls (-1.05,0.65) and (-0.05,0.7) .. (0,0)}
	
	\def\petalb{
	  [rounded corners=3] (0,0)%
	  .. controls (-0.55,-0.2) and (-1.25,0.7) .. (-1.5,0.6)%
	  .. controls (-1.4,1.1) and (-1.15,0.9) .. (-0.75,1.4)%
	  .. controls (-0.5,1.5) and (-0.05,1.45) .. (0.05,1.3)%
	  .. controls (-0.15,1.1) and (0.25,0.05) .. (0,0)}
	
	\def\petalc{[rotate=-30] \petalb}
	
	\def\petald{[rotate=-90] \petala}
	
	\def\petiolea{         
	  [rounded corners=2] (0.25,-7) %
	  .. controls (0.7,-5.5) and (0.3,-3) .. (0.25,-2) %
	  .. controls (0.2,-1.5) and (0.33,-0.4) .. (0,0) %
	  .. controls (0.34,-0.4) and (0.21,-1.5) .. (0.27,-2) %
	  .. controls (0.4,-3) and (0.82,-5.5) .. (0.42,-7)
	}
	
	\def\petioleb{         
	  [rounded corners=2] (0.1,-7) %
	  .. controls (0.3,-3) and (-0.85,-1.05) .. (-2.3,-1) %
	  arc (270:230:0.2)%
	  .. controls (-2.7,-1) and (-3.05,-1.05) .. (-3.35,-1.3) %
	  .. controls (-3.35,-1.5) and (-3.45,-1.75) .. (-3.65,-1.75) %
	  .. controls (-3.7,-1.25) and (-3.4,-1.35) .. (-3.4,-1.25) %
	  .. controls (-3.05,-0.95) and (-2.7,-0.9) .. (-2.4,-0.85) %
	  .. controls (-1.1,-0.75) and (0.4,-2.45) .. (0.2,-7)
	}
	
	\def\petiolec{         
	  [rounded corners=2] (-0.3,-7) %
	  .. controls (-0.9,-3.5) and (-1.5,-2.7) .. (-2,-2.5) %
	  .. controls (-2.5,-2.3) and (-3.2,-2.35) .. (-3.47,-3.5) %
	  .. controls (-3.68,-3.85) and (-3.75,-4.2) .. (-3.9,-4.15) %
	  .. controls (-4.0,-3.9) and (-3.8,-3.8) .. (-3.7,-3.8) %
	  .. controls (-3.65,-3.75) and (-3.6,-3.7) .. (-3.5,-3.47) %
	  .. controls (-3.2,-2.3) and (-2.5,-2.25) .. (-2,-2.45) %
	  .. controls (-1.48,-2.65) and (-0.86,-3.5) .. (-0.26,-7)
	}
	
	\tikzfading[name=fade inside,
	inner color=transparent!100,
	outer color=transparent!30]
	
	\tikzfading[name=fade out,
	inner color=transparent!0,
	outer color=transparent!100]
	
	%%%------beautiful flower------%%%
	\def\flower{
	  % draw each petal independently
	  \foreach \a in {\petala,\petalb,\petalc,\petald} 
	  {
	    \filldraw[draw=none,color=poppyred,opacity=0.8] 
	     [postaction={path fading=south,fading angle=30,fill=poppyreddd,opacity=.2}]
	    \a;
	  }
	
	  % draw all petals together
	  \draw[draw=none,rounded corners=3] 
	  [postaction={path fading=north,fading angle=30,fill=poppyreddd,opacity=.7}]
	  \petala \petalb \petalc [rotate=30] \petald;
	
	  % emphasise overlapping areas between two petals
	  \begin{scope}
	    \foreach \a/\b in {\petala/\petalb,\petalb/\petalc,\petalc/\petald} 
	    {
	      \begin{scope}
	        \clip \a;
	        \draw [draw=none]
	        [postaction={path fading=fade inside,fill=poppyredd,opacity=.7}]
	        \b;
	      \end{scope}
	    }
	  \end{scope}
	
	  % emphasise overlapping areas between three petals
	  \begin{scope}
	    \foreach \a/\b/\c in {\petala/\petalb/\petalc,\petalb/\petalc/\petald} 
	    {
	      \begin{scope} 
	        \clip \a;
	        \clip \b;
	        \draw [draw=none]
	        [postaction={path fading=fade out,fill=poppyreddd,opacity=.4}]
	        \c;	
	      \end{scope}
	    }
	  \end{scope}
	}
	
	\def\petioles[#1]{
	    \foreach \a in {\petiolea,\petioleb,\petiolec} 
	    {
	      \draw[fill,color=#1] \a;
	    }
	}
	
	%%% -----------POPPIES---------------- %%%
	
	% beautiful poppy
	\def\poppy[#1,#2]{         
	  \begin{scope}[shift={#1},scale=#2]
	    % draw the flower
	    \flower;	
	    
	    % draw petioles
	    \petioles[darkgreen]
	  \end{scope}
	}
	
	% poppy with uniform color
	\def\poppyu[#1,#2]{         
	  \begin{scope}[shift={#1},scale=#2]
	    % draw the flower
	    \foreach \a in {\petala,\petalb,\petalc,\petald} 
	    {
	      \filldraw[draw=none,color=poppyred,opacity=0.8] 
	      \a;
	    }
	
	    % draw petioles
	    \petioles[darkgreen]
	  \end{scope}
	}
	
	% black and white poppy
	\def\poppybw[#1,#2]{         
	  \begin{scope}[shift={#1},scale=#2]
	    % draw the flower
	    \foreach \a in {\petala,\petalb,\petalc,\petald} 
	    {
	      \filldraw[draw=none,color=gray!80,opacity=1] 
	      \a;
	    }
	
	    % draw petioles
	    \petioles[gray!80]
	  \end{scope}
	}
	
	\begin{document}
	\thispagestyle{empty}
	\begin{center}
	  \tikz\poppy[{(0cm,0cm)},1];
	  \tikz\poppyu[{(4cm,0cm)},1];
	  \tikz\poppybw[{(7cm,0cm)},0.8];
	\end{center}
	\end{document}
snippet porter porter-model
	% Porter model
	% Author: Charles-Axel Dein
	\documentclass[10pt,a4paper]{article} 
	
	\usepackage[hmargin=2cm,vmargin=1cm]{geometry}
	\renewcommand{\rmdefault}{bch} % change default font
	
	\usepackage[english]{babel}
	\usepackage[utf8]{inputenc}
	\usepackage{tikz} 
	\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,fit,positioning,shapes.symbols,chains}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage,floats]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Porter model
	
	A Porter five (or six) forces model.
	
	
	\end{comment}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%%% BEGIN DOCUMENT
	\begin{document}
	
	\begin{figure}[h]
	
	\centering
	\begin{tikzpicture}
	[node distance = 1cm, auto,font=\footnotesize,
	% STYLES
	every node/.style={node distance=3cm},
	% The comment style is used to describe the characteristics of each force
	comment/.style={rectangle, inner sep= 5pt, text width=4cm, node distance=0.25cm, font=\scriptsize\sffamily},
	% The force style is used to draw the forces' name
	force/.style={rectangle, draw, fill=black!10, inner sep=5pt, text width=4cm, text badly centered, minimum height=1.2cm, font=\bfseries\footnotesize\sffamily}] 
	
	% Draw forces
	\node [force] (rivalry) {Rivalry among existing competitors};
	\node [force, above of=rivalry] (substitutes) {Threat of substitutes};
	\node [force, text width=3cm, dashed, left=1cm of substitutes] (state) {Public policies};
	\node [force, left=1cm of rivalry] (suppliers) {Bargaining power of suppliers};
	\node [force, right=1cm of rivalry] (users) {Bargaining power of users};
	\node [force, below of=rivalry] (entrants) {Threat of new entrants};
	
	%%%%%%%%%%%%%%%
	% Change data from here
	
	% RIVALRY
	\node [comment, below=0.25 of rivalry] (comment-rivalry) {(+) A war against Microsoft\\
	(+) Limiting sunk costs\\
	(+) Coopetition};
	
	% SUPPLIERS
	\node [comment, below=0.25cm of suppliers] {(+) Efficiency\\
	(+) Attracting other developers\\
	(+) Creating a Chrome community};
	
	% SUBSTITUTES
	\node [comment, right=0.25 of substitutes] {(+) Portability};
	
	% USERS
	\node [comment, below=0.25 of users] {(+) Increasing the user information\\
	(+) Reducing the switching costs};
	
	% NEW ENTRANTS
	\node [comment, right=0.25 of entrants] {(+) EC vs. Microsoft};
	
	% PUBLIC POLICIES
	\node [comment, text width=3cm, below=0.25 of state] {(+) Positively framed\\
	(+) Transparency\\
	(--) A new monopoly?};
	
	%%%%%%%%%%%%%%%%
	
	% Draw the links between forces
	\path[->,thick] 
	(substitutes) edge (rivalry)
	(suppliers) edge (rivalry)
	(users) edge (rivalry)
	(entrants) edge (comment-rivalry);
	
	\end{tikzpicture} 
	\caption{FOSS in Chrome influences industry structure by increasing competition}
	\label{fig:6forces}
	\end{figure}
	
	\end{document}
snippet coordinates power-electronics-converter-inverter
	% Power electronics---converters and inverter
	% Author: Ali Mehrizi-Sani
	\documentclass[landscape]{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\renewcommand{\PreviewBbAdjust}{0pt -10pt 100pt 0pt}
	%%%>
	\begin{comment}
	:Title: Power electronics - Converters and Inverter
	:Tags: coordinate calculations;circuitikz;physics;electrical engineering
	:Author: Ali Mehrizi-Sani
	:Slug: power-electronics-converter-inverter
	
	The following diagrams show diagrams related to Electrical Engineering
	and specifically to Power Electronics:
	
	 - A buck^2 dc-dc converter
	 - An isolated SEPIC dc-dc converter
	 - A full-bridge inverter connected to the grid through an RL filter
	\end{comment}
	\usepackage{siunitx}
	\usepackage[american,cuteinductors,smartlabels]{circuitikz}
	
	\usetikzlibrary{calc}
	\ctikzset{bipoles/thickness=1}
	\ctikzset{bipoles/length=0.8cm}
	\ctikzset{bipoles/diode/height=.375}
	\ctikzset{bipoles/diode/width=.3}
	\ctikzset{tripoles/thyristor/height=.8}
	\ctikzset{tripoles/thyristor/width=1}
	\ctikzset{bipoles/vsourceam/height/.initial=.7}
	\ctikzset{bipoles/vsourceam/width/.initial=.7}
	\tikzstyle{every node}=[font=\small]
	\tikzstyle{every path}=[line width=0.8pt,line cap=round,line join=round]
	
	\begin{document}
	\begin{center}
	\begin{circuitikz}
	    \draw
	    (0,0)
	        to[V, l=$V_s$] ++(0,2.5)
	        to[short] ++(1,0) coordinate (A)
	        to[short] ++(0.5,0)
	        to[L, l^=$L_1$, v=$v_{L_1}$] ++(1.5,0)
	        to[short] ++(1,0) coordinate (B)
	        to[short] ++(1,0) node[above] (C) {1}
	        to[open, o-o] ++(0.65,0) coordinate (D)
	        to[short] ++(0.5,0)
	        to[L, l^=$L_2$, v=$v_{L_2}$] ++(1.5,0)
	        to[short] ++(0.5,0) coordinate (E)
	        to[short] ++(1.5,0)
	        to[generic, v^=$~~V_o$] ++(0,-2.5)
	        --(0,0)
	    (A)                                         % Left of L1, top of switch A
	        to[short] ++(0,-1.5) node[left] {2}
	        to[open, o-o] ++(0,-0.5) node[left] {1}
	        |- (0,0)
	    (B)                                         % C1 connection starting from top
	        to[C, l=$C_1$] ++(0,-1.75) coordinate (Aaux)
	        -- ($(A |- Aaux) + (0.5,0)$)
	        to[short, o-] ++(-0.5,-0.15)
	    ($(C)!0.5!(D)$)                             % Switch B low connector
	        ++(0,-0.5) node[left] {2}
	        to[short, o-] ++(0,-0.1)
	        |- (0,0)
	    (D)                                         % Switch B blade
	        to[short] ++(-0.65, -0.1)
	    (E)                                         % C2 connection
	        to[C, l=$C_2$] ++(0,-2.5)
	    (B)                                         % Vc1
	        to[open, v=$V_{C_1}~~$] (Aaux)
	    ;
	\end{circuitikz}
	
	\bigskip
	
	\begin{circuitikz}
	    \draw
	    (0,0)
	        to[V, l=$V_s$] ++(0,2)
	        to[short] ++(0.5,0)
	        to[L, l^=$L_x$] ++(1.5,0)
	        to[short] ++(0.5,0) coordinate (Qpos)
	        to[C, l^=$C_1$] ++(2.5,0) coordinate (LMpos)
	        to[L, l_=$L_m$] ++(0,-2)
	    (LMpos)
	        to[short] ++(0.7,0) coordinate(N1)
	        to[L] ++(0,-2)
	        to[short] (0,0)
	    (Qpos)++(0,-2)
	        to[Tnigbt] ++(0,2)
	    % ------------------------ Secondary side
	    (N1)++(0.7,0) coordinate (N2)
	        to[D*] ++(2.5,0) coordinate (C2pos)
	        to[C, l_=$C_2$] ++(0,-2)
	    (C2pos)
	        to[short] ++(1.5,0)
	        to[R, l_=$R$] ++(0,-2)
	        to[short] ($(N2)+(0,-2)$)
	        to[L] (N2)
	    (C2pos)++(2,0)
	        to[open, v^<=$v_o(t)$] ++(0,-2)
	    % ------------------------ Transformer lines
	    ($(N1)!0.5!(N2)$)++(-0.05,-0.5)
	        -- ++(0,-1) ++(0.1,0) -- ++(0,1)
	    ($(N1)!0.5!(N2)$)++(0,0.3) node {$N_1:N_2$}
	    ($(N1)+(-0.15,-0.5)$) node[circ] {}
	    ($(N2)+(+0.15,-0.5)$) node[circ] {}
	    ;
	\end{circuitikz}
	
	\bigskip
	
	\begin{tikzpicture}
	    \draw
	    % DC sources
	    (0,0)
	        to[battery, l=\SI{60}{\volt}] ++(0,4) coordinate (Vcc)
	    ++(2,0) coordinate (NE)
	
	    % Switches and diodes for leg a
	    ++(0,-1) node [nigbt,scale=0.8,name=igbt1] {}
	    ++(0,-2) node [nigbt,scale=0.8,name=igbt4] {}
	    (igbt1.E)++(0,0.1) -- ++(0.3,0) to[D*] ($(igbt1.C)+(0.3,-0.1)$)
	      -- ++(-0.3,0)
	    (igbt4.E)++(0,0.1) -- ++(0.3,0) to[D*] ($(igbt4.C)+(0.3,-0.1)$)
	      -- ++(-0.3,0)
	    % --Switch connections for leg a
	    (Vcc) -| (igbt1.C)
	    (igbt1.E) -- (igbt4.C)
	    (igbt4.E) |- (0,0)
	
	    % Switches and diodes for leg b
	    (NE)++(3,0)
	    ++(0,-1) node [nigbt,scale=0.8,name=igbt3] {}
	    ++(0,-2) node [nigbt,scale=0.8,name=igbt2] {}
	    (igbt3.E)++(0,0.1) -- ++(0.3,0) to[D*] ($(igbt3.C)+(0.3,-0.1)$)
	      -- ++(-0.3,0)
	    (igbt2.E)++(0,0.1) -- ++(0.3,0) to[D*] ($(igbt2.C)+(0.3,-0.1)$)
	      -- ++(-0.3,0)
	    % --Switch connections for leg b
	    (Vcc) -| (igbt3.C)
	    (igbt3.E) -- (igbt2.C)
	    (igbt2.E) |- (0,0)
	
	    % Inductor, grid, and the return path
	    (2,2.2)
	        to[short, *-, i=$i_o(t)$, current/distance=0.9] ++(6,0)
	        to[L, l=\SI{100}{\milli\henry}] ++(1.2,0)
	        to[R] ++(1.2,0) coordinate (Lright)
	        to[short] ++(1,0)
	        ++(0,-2)
	        to[V, l=$\sqrt{2}\cdot 230 \cos(314t)$, mirror] ++(0,2)
	        ++(0,-2)
	        to[short] ++(-5,0)
	        |- (5,1.8) node[circ] {}
	
	    % P and arrow
	    (Lright)++(0.2,0) to[open, o-o] ++(0,-2)
	    (Lright)++(0.2,-1) node [text width=2pt] {$\Rightarrow P$}
	
	    % v_o(t)
	    (6.5,2.2) to[open, v^=$v_o(t)$] ++(0,-2)
	    ;
	\end{tikzpicture}
	
	\end{center}
	\end{document}
snippet coordinates power-electronics-rectifier
	% Power electronics---a controlled full-wave rectifier and
	% it's output voltage and current waveforms.
	% The delay angle \alpha is customizable. 
	% Author: Ali Mehrizi-Sani
	\documentclass[landscape]{article}
	\usepackage[usenames,dvipsnames]{color}
	\usepackage[american,cuteinductors,smartlabels]{circuitikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\renewcommand{\PreviewBbAdjust}{-10pt -10pt 78pt 0pt}
	%%%>
	\begin{comment}
	:Title: Power electronics - A controlled full-wave rectifier and it's output voltage and current waveforms
	:Tags: coordinate calculations;circuitikz;physics;electrical engineering
	:Author: Ali Mehrizi-Sani
	:Slug: power-electronics-rectifier
	\end{comment}
	\usetikzlibrary{calc}
	\ctikzset{bipoles/thickness=1}
	\ctikzset{bipoles/length=0.8cm}
	\ctikzset{bipoles/diode/height=.375}
	\ctikzset{bipoles/diode/width=.3}
	\ctikzset{tripoles/thyristor/height=.8}
	\ctikzset{tripoles/thyristor/width=1}
	\ctikzset{bipoles/vsourceam/height/.initial=.7}
	\ctikzset{bipoles/vsourceam/width/.initial=.7}
	\tikzstyle{every node}=[font=\small]
	\tikzstyle{every path}=[line width=0.8pt,line cap=round,line join=round]
	
	\definecolor{AleeRed}{rgb}{0.5,0,0}
	
	\begin{document}
	\begin{center}
	
	\begin{tikzpicture}
	    \draw
	    % Thyristors leg 2
	    (2,0)
	        to[Ty] ++(0,1.5)
	        -- ++(0,1)
	        to[Ty] ++(0,1.5) coordinate (leg2)
	    % Thyristors leg 1
	    (0,0)
	        to[Ty] ++(0,1.5)
	        -- ++(0,1)
	        to[Ty] ++(0,1.5) coordinate (leg1)
	    % Connections and load RL
	        -- ++(2,0)
	        to[short, i=$i_o$, current/distance=0.5] ++(2,0)
	        -- ++(0,-0.8)
	        to[R] ++(0,-1.2)
	        to[L] ++(0,-1.2)
	    % Back to (0,0)
	        |- (0,0)
	    % AC source
	    (-2,1.5) coordinate (Vnn)
	        to[sV] ++(0,1) coordinate (Vpp)
	        -- (leg1 |- Vpp) node [circ] {}
	    (Vnn)
	        -- (leg2 |- Vnn) node [circ] {}
	    % v_o(t)
	    (4.5,3.5)
	        to[open, v^=$v_o(t)$] ++(0,-3)
	    ;
	\end{tikzpicture}
	
	\bigskip
	
	% Example 4-7, p. 135 of Hart, discontinuous current in full-wave rect
	\begin{tikzpicture}
	\begin{scope}[xscale=1,yscale=1.5]
	    \newcommand{\alphaa}{60 * pi / 180}
	    \newcommand{\betaa}{216 * pi / 180}
	
	    \draw[thin, ->] (-0.2, 0) -- (14,0) node[right] {$\omega t$};
	
	    \foreach \x/\xtext in {0,{\alphaa}/\alpha,{pi}/\pi,
	      {\betaa}/~,{2*pi}/{2\pi},{3*pi}/{3\pi}}
	        \draw (\x,0.1) -- (\x,-0.1) node [below] {$\xtext$};
	    \draw (\betaa,-0.1) -- (\betaa,0.1) node [above] {$\beta$};
	
	
	    % Vs
	    \draw[domain=0:14, help lines, smooth]
	        plot (\x,{sin(\x r)});
	    % -Vs
	    \draw[domain=0:14, help lines, smooth]
	        plot (\x,{-sin(\x r)});
	    % Vo and Io
	    \foreach \qq [evaluate=\qq as \qqshft using \qq*pi] in {0,...,3}
	    {
	    \begin{scope}[xshift=\qqshft cm,
	        every path/.style={ultra thick, color=AleeRed}]
	        % Vo
	         \draw[domain=0:{\betaa-pi}]
	             plot (\x,{-sin(\x r)})
	             -- ({\betaa-pi},0)
	             -| (\alphaa,{sin(\alphaa r)})
	         [domain=\alphaa:pi]
	             plot (\x,{sin(\x r)});
	         % Io
	         \draw
	         [domain=\alphaa:\betaa,color=blue,thick]
	             plot (\x,{0.05 * (13.6*sin((\x - 0.646)*180/pi)
	               - 21.2*exp(-\x/0.754))});
	    \end{scope}
	    }
	    \node[right,color=AleeRed] at ({pi/2+pi/12},1.05) {$v_o$};
	    \node[right,color=blue] at ({pi/2+pi/3},0.8) {$i_o$};
	\end{scope}
	\end{tikzpicture}
	
	\end{center}
	\end{document}
snippet coordinates power-electronics-solar-system
	% Power electronics---the schematic diagram of a solar system connected to the grid.
	% Author: Ali Mehrizi-Sani
	\documentclass{standalone}
	
	\usepackage[usenames,dvipsnames]{color}
	\usepackage[american,cuteinductors,smartlabels]{circuitikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Power electronics - The schematic diagram of a solar system connected to the grid
	:Tags: coordinate calculations;circuitikz;physics;electrical engineering
	:Author: Ali Mehrizi-Sani
	:Slug: power-electronics-solar-system
	\end{comment}
	\usepackage{siunitx}
	\usepackage{amsmath,amssymb}
	
	\usetikzlibrary{calc}
	\usetikzlibrary{patterns}
	\ctikzset{bipoles/thickness=1}
	\ctikzset{bipoles/length=0.8cm}
	\ctikzset{bipoles/diode/height=.375}
	\ctikzset{bipoles/diode/width=.3}
	\ctikzset{tripoles/thyristor/height=.8}
	\ctikzset{tripoles/thyristor/width=1}
	\ctikzset{bipoles/vsourceam/height/.initial=.7}
	\ctikzset{bipoles/vsourceam/width/.initial=.7}
	\tikzstyle{every node}=[font=\small]
	\tikzstyle{every path}=[line width=0.8pt,line cap=round,line join=round]
	
	\definecolor{AleeRed}{rgb}{0.5,0,0}
	
	\begin{document}
	
	\begin{tikzpicture}
	    \coordinate (SolarCellP) at (0.5,0);
	    \coordinate (ChopperP) at (4,0);
	    \coordinate (InverterP) at (8,0);
	
	    % Place blocks
	    \begin{scope}[every node/.style={draw,ultra thick, fill=AleeRed!30, rectangle,text width=1.5cm, minimum height=2cm, text badly centered}]
	        \node[name=pv,pattern=grid,pattern color=AleeRed!30] at (SolarCellP) {\bfseries Solar Panel};
	        \node[name=chopper] at (ChopperP) {DC-DC};
	        \node[name=inverter] at (InverterP) {DC-AC};
	    \end{scope}
	
	    \draw
	    % PV to chopper
	        (pv.30) -- (chopper.150)
	        (pv.330) -- (chopper.210)
	    % DC link and cap
	        (chopper.30) -- (inverter.150)
	        (chopper.330) -- (inverter.210)
	        ($(chopper.330)!0.4!(inverter.210)$) to[battery, l=\SI{60}{\volt}, mirror] ($(chopper.30)!0.4!(inverter.150)$)
	    % AC side
	        (inverter.30)
	        to[short] ++(1,0)
	        to[L] ++(1.1,0)
	        to[R] ++(1.1,0)
	        to[short] ++(1,0) coordinate(N1)
	        to[L, bipoles/length=0.8cm] ++(0,-1)
	        |- (inverter.330)
	        % ------------------------ Secondary side
	        (N1)++(0.5,0) coordinate (N2)
	            to[open] ($(N2)+(0,-1)$)
	            to[L, bipoles/length=0.8cm] (N2)
	            to[short] ++(1,0)
	            to[sV, l=$230\measuredangle 0^\circ$] ++(0,-1)
	            to[short] ++(-1,0)
	    ;
	\end{tikzpicture}
	
	\end{document}
snippet diagrams prerequisite-chart
	% Prerequisite chart
	% Author: Bob Tennent
	\documentclass{article}
	\usepackage{geometry}
	%\geometry{noheadfoot,vmargin=1.0in, hmargin=0.5in}
	\usepackage{prerex}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Prerequisite chart
	:Tags: Diagrams, Macro packages
	
	Example of a prerequisite chart made with the PGF/TikZ-based prerex_ package.
	Real examples can be found at the Queen's University `School of Computing`_.
	
	The prerex package includes the source code for an interactive editor of prerex charts 
	and patches to kpdf/okular to enable grabbing coordinates directly from a chart display.
	
	:Author: Bob Tennent
	
	.. _prerex: http://www.ctan.org/tex-archive/help/Catalogue/entries/prerex.html
	.. _School of Computing: http://www.cs.queensu.ca/students/undergraduate/prerequisites
	
	\end{comment}
	
	\usepackage{helvet}
	\renewcommand{\rmdefault}{\sfdefault}
	%\renewcommand{\sfdefault}{uop}  % make URW Classico (Optima) the default font
	
	\begin{document}
	\thispagestyle{empty}
	
	\setcounter{diagheight}{50}
	\begin{chart}
	\reqfullcourse 50,45:{1083}{Comput.\,Sci.\\Concepts}{TTh 10:00}
	\reqhalfcourse 25,40:{1303}{Discrete\\Structures}{MWF 9:30}
	\reqhalfcourse 30,30:{2813}{Computer\\Organiz.\,I}{MWF 8:30}
	  \prereq 50,45,30,30:
	  \prereq 25,40,30,30:
	\reqhalfcourse 45,30:{2023}{Procedural\\Prog.\,Devel.}{MWF 2:30}
	  \prereq 50,45,45,30:
	\reqhalfcourse 65,30:{2513}{Informat.\\Systems}{TTh 1:00}
	  \coreq 50,45,65,30:
	\reqhalfcourse 10,20:{2333}{Computab.\,\&\\Formal\,Lang.}{TTh 11:30}
	  \prereqc 25,40,10,20;0:
	  \mini 10,26:{1083}
	  \prereq 10,26,10,20:
	\reqhalfcourse 45,20:{2013}{Software\\Engineer.\,I}{MWF 11:30}
	  \prereq 45,30,45,20:
	\halfcourse 55,20:{2685}{\texttt{C++}\\Program.}{no}
	  \prereq 45,30,55,20:
	\reqhalfcourse 15,10:{3323}{Data\\Structures}{MWF 10:30}
	  \prereq 25,40,15,10:
	  \mini 21,16:{2013}
	  \prereq 21,16,15,10:
	\reqhalfcourse 25,10:{3813}{Comput.\\Organiz.\,II}{TTh 8:30}
	  \prereq 30,30,25,10:
	\reqhalfcourse 35,10:{3413}{Operating\\Systems\,I}{MWF 9:30}
	  \prereq 30,30,35,10:
	  \recomm 45,20,35,10:
	\halfcourse 45,10:{3013}{Software\\Engineer.\,II}{MWF 11:30}
	  \prereq 45,20,45,10:
	\halfcourse 58,10:{3513}{Database\\Mngt.\,Sys.\,I}{MWF 8:30 pm}
	  \prereq 65,30,58,10:
	  \prereq 45,20,58,10:
	\reqhalfcourse 70,10:{3503}{Sys.\,Anal.\\\&\,Design}{TTh 10:00}
	  \prereq 65,30,70,10:
	\end{chart}
	\begin{center}
	\begin{minipage}{6.0in}
	\begin{itemize}
	\item
	A solid arrow \solidarrow\  indicates a required prerequisite,
	a dotted arrow \dottedarrow\
	indicates a corequisite (to be taken before or concurrently), and a
	dashed arrow \dashedarrow\ indicates a recommended prerequisite.
	Core courses are in \boldbox\ boxes;
	other courses (i.e.,~options or prerequisites)
	are in \lightbox\ boxes.
	\item Timetabling abbreviations: M, T, W, Th, F=Mon, Tue, Wed, Thur, Fri,
	resp.; eve=7:00--9:50 pm; no=not offered.
	\end{itemize}
	\end{minipage}
	\end{center}
	
	
	\end{document}
snippet diagrams pressurized-water-reactor
	% Pressurized Water Reactor
	% Author: Gloria Faccanoni <http://www.science.unitn.it/~gloria/home.htm>
	%
	\documentclass[a4paper,10pt,landscape]{article}
	\usepackage[latin1]{inputenc}
	\usepackage[Gray]{SIunits}
	\usepackage[dvipsnames,pdftex,fixpdftex]{xcolor}
	\usepackage{tikz}
	\usetikzlibrary{decorations.pathmorphing}
	\usepackage[hmargin=1cm,vmargin=1cm]{geometry}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Pressurized water reactor
	:Tags: Diagrams
	
	A diagram of a `pressurized water reactor`_. 
	
	:Author: `Gloria Faccanoni`_
	
	.. _Gloria Faccanoni: http://www.science.unitn.it/~gloria/home.htm
	.. _pressurized water reactor: http://en.wikipedia.org/wiki/Pressurized_water_reactor
	\end{comment}
	
	
	\begin{document}
	\centering
	\begin{tikzpicture}[
	        scale=0.7,
	        annotline/.style = {stealth-},
	        arrows1loop/.style={->,red},
	        arrows2loop/.style={->,white},
	        arrows3loop/.style={->,draw=Gray},
	    ]
	\draw[draw=Gray,double=Gray!10,double distance=4pt]
	    (12,12) to[out=135,in=45](0,12)--(0,0)--(22,0)--(22,12)--(12,12)--(12,0);
	\node[text width=4cm, text centered,font=\small] at (6,13)
	    {Containment\\structure};
	% legend
	\begin{scope}[yshift=-2cm]
	    \filldraw[draw=red,fill=red!10] (1,0) rectangle ++(2,1);
	    \node[text width=4cm, font=\small,right] at (3,0.5)
	        {Pressurized water\\(primary loop)};
	    \filldraw[draw=blue,bottom color=blue!40,top color=Gray!30]
	        (11,0) rectangle ++(2,1);
	    \node[text width=4cm, font=\small,right] at (13,0.5)
	        {Water and steam\\(secondary loop)};
	    \filldraw[draw=Blue,fill=Blue!10] (21,0) rectangle ++(2,1);
	    \node[text width=4cm, font=\small,right] at (23,0.5)
	        {Water\\(cooling loop)};
	\end{scope}
	% 2nd loop --------------------------------------------------------------------
	\begin{scope}[xshift=7.25cm,yshift=3cm]
	    % vessel left
	    \filldraw[draw=blue,bottom color=blue!40,top color=Gray!30]
	        (0,0) to[out=-20,in=200] (3.5,0) --
	        (3.5,4.5) to[out=120,in=60] (0,4.5) -- (0,0);
	    % vessel right
	    \filldraw[draw=blue,bottom color=blue!40,top color=Gray!30,xshift=7cm]
	        (0,0) to[out=-20,in=200] (3.5,0) --
	        (3.5,5) to[out=120,in=60] (0,5) -- (0,0);
	    % circuits
	    \draw[draw=blue,double=blue!40,double distance=4pt]
	      (1.75,-0.3) -- ++(0,-1) -- ++(7,0) -- ++(0,1);
	    \draw[draw=blue,double=Gray!30,double distance=4pt]
	        (1.75,5.38) -- ++(0,1) -- ++(4,0) -- ++(0,1) -- ++(3,0) -- ++(0,-1.5);
	    % arrows
	    \draw[arrows2loop] (3.5,-1.3) -- (3,-1.3);
	    \draw[arrows2loop] (1.75,-0.9) -- (1.75,-0.4);
	    \draw[arrows2loop] (4.5,6.38) -- (5,6.38);
	    \draw[arrows2loop] (7,7.38) -- (7.5,7.38);
	    \draw[arrows2loop] (8.75,6.4) -- (8.75,5.9);
	    \draw[arrows2loop] (8.75,-0.4) -- (8.75,-0.9);
	    %
	    \foreach \x in {0.5,1,...,3}
	        \draw[arrows2loop,xshift=7cm] (\x,3) -- (\x,2.5);
	    % labels
	    \draw[annotline] (2.5,-1.3) -- ++(3.5,1.3)
	        node[text width=1cm,font=\small,above] {Liquid};
	    \draw[annotline] (2.5,6.38) -- ++(3.5,-1.3)
	        node[text width=1cm,font=\small,below] {Vapor};
	    % pump
	    \begin{scope}[xshift=160,yshift=-40]
	        \filldraw[fill=Blue!20,draw=Blue] (0,0) circle (0.5cm);
	        \node[below,font=\small] at (0,-0.5) {Pump};
	        \filldraw[fill=Blue!40,draw=Blue,yshift=-0.5cm]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=Blue!40,draw=Blue,yshift=+0.5cm,rotate=180]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=Blue!40,draw=Blue,xshift=+0.5cm,rotate=90]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=Blue!40,draw=Blue,xshift=-0.5cm,rotate=-90]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	    \end{scope}
	    % generator ...
	    \draw[xshift=6.5cm,draw=Gray,double=Gray!10,double distance=4pt] 
	        (3,4) -- ++(2,0);
	    \filldraw[xshift=6.5cm,fill=orange!10,draw=orange] 
	        (1.8,4) -- (3.0,3.3) -- (3.0,4.7) -- cycle;
	    \filldraw[xshift=6.5cm,fill=orange!10,draw=orange] 
	        (1.5,4) -- (2.5,3.4) -- (2.5,4.6) -- cycle;
	    \filldraw[xshift=6.5cm,fill=orange!10,draw=orange] 
	        (1.2,4) -- (2  ,3.5) -- (2  ,4.5) -- cycle;
	    \filldraw[xshift=6.5cm,fill=orange!10,draw=orange] 
	        (4.5,3.3) rectangle (7.3,4.7);
	    %labels
	    \node[text width=3cm, text centered,font=\small] at (1.75,4) 
	        {Steam generator\\ (heat change)};
	    \node[text width=2cm, text centered,font=\small] at (8.8,5) {Turbine};
	    \node[text width=2cm, text centered,font=\small] at (12.4,4) {Alternator};
	    % transmission lines
	    \node (aa) at (11.1,4.6) {};
	    \node (bb) at (11.6,4.6) {};
	    \node (cc) at (12.1,4.6) {};
	    \node (dd) at (12.6,4.6) {};
	    \node (ee) at (13.1,4.6) {};
	    \node (ff) at (13.6,4.6) {};
	
	\end{scope}
	% 3 loop --------------------------------------------------------------------
	\begin{scope}[xshift=23cm,yshift=1cm]
	    % circuit
	    \draw[draw=Blue,double=Blue!10,double distance=4pt]
	      (1,2.5) -- ++(-8.5,0) -- ++(0,+1.5) -- ++(8.5,0);
	    % arrows
	    \draw[arrows3loop] (-5.5,2.5) -- (-6,2.5);
	    \draw[arrows3loop] (-1.5,2.5) -- (-2,2.5);
	    \draw[arrows3loop] (-6,4) -- (-5.5,4);
	    \draw[arrows3loop] (-2,4) -- (-1.5,4);
	    % tower
	    \filldraw[draw=Gray,fill=Gray!20] (1,7) to[out=270,in=80]
	                  (0,0) to[out=-20,in=200]
	                  (6,0) to[out=100,in=270]
	                  (5,7);
	    \filldraw[draw=Gray,fill=Gray!40] (1,7) to[out=30,in=150]
	                  (5,7) to[out=200,in=-20]
	                  (1,7);
	    % labels
	    \node[text width=3cm, text centered,font=\small] at (3,3.5)
	        {Cooling\\tower};
	    \node[text width=2cm, text centered,font=\small] at (-3.5,1.5)
	        {Cooling\\water};
	    \node[text width=2cm, text centered,font=\small] at (-6,3.25)
	        {Condenser};
	    % pump
	    \begin{scope}[xshift=-10,yshift=115]
	        \filldraw[fill=purple!20,draw=purple] (0,0) circle (0.5cm);
	        \node[below,font=\small] at (0,-0.5) {Pump};
	        \filldraw[fill=purple!40,draw=purple,yshift=-0.5cm]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=purple!40,draw=purple,yshift=+0.5cm,rotate=180]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=purple!40,draw=purple,xshift=+0.5cm,rotate=90]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	        \filldraw[fill=purple!40,draw=purple,xshift=-0.5cm,rotate=-90]
	            (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	    \end{scope}
	\end{scope}
	%1 loop --------------------------------------------------------------------
	\begin{scope}[xshift=2cm,yshift=4cm]
	% Reactor vessel
	\filldraw[draw=red,fill=red!10] (0,-0.5) to[out=-20,in=200]
	              (3.5,-0.5) --
	              (3.5,4.5) to[out=160,in=20]
	              (0,4.5) --
	              (0,-0.5);
	% circuit
	\draw[draw=red,double=red!10,double distance=4pt]
	  (0.1,1) --  ++(-1,0) -- ++(0,-3) -- ++(5,0) -- ++(0,1.5) --
	  ++(3,0) -- ++(0,2) -- ++(-3.7,0);
	% Pressurizer
	\draw[draw=red,double=red!10,double distance=4pt] (4.2,1.6) -- ++(0,0.8);
	\filldraw[draw=Green,bottom color=red!40,top color=Green!20]
	              (4,2.4) to[out=-20,in=200]
	              (4.5,2.4) --
	              (4.5,3.6) to[out=160,in=20]
	              (3.9,3.6) --
	              (3.9,2.4);
	% arrows
	\draw[arrows1loop] (-0.7,1) -- (-0.2,1);
	\draw[arrows1loop] (-0.9,-0.5) -- (-0.9,0);
	\draw[arrows1loop] (0.7,-2) -- (0.2,-2);
	\draw[arrows1loop] (4.5,1.5) -- (5,1.5);
	\draw[arrows1loop] (7.1,0.5) -- (7.1,0);
	\draw[arrows1loop] (5.5,-0.5) -- (5,-0.5);
	
	% pump
	\begin{scope}[xshift=75,yshift=-55,fill=red!20,draw=red]
	    \filldraw (0,0) circle (0.5cm);
	    \node[below,font=\small] at (0,-0.5) {Pump};
	    \filldraw[yshift=-0.5cm] (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	    \filldraw[yshift=+0.5cm,rotate=180]
	        (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	    \filldraw[xshift=+0.5cm,rotate=90]
	        (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	    \filldraw[xshift=-0.5cm,rotate=-90]
	        (0,0) arc (240:180:0.4cm)  arc (200:280:0.4cm) ;
	\end{scope}
	% reactor core
	\filldraw[fill=red!30,draw=red] (0.7,0) rectangle (2.8,2);
	
	% control rods
	\foreach \x in {1.0,1.5,2.0,2.5}
	  \draw[draw=Gray,double=Gray!50,double distance=0.5pt] (\x,0.3) -- (\x,3.7);
	
	%labels
	\draw[annotline] (0.6,0.5) -- ++(-3.3,-1.5)
	    node[text width=1cm,font=\small,left] {Reactor core};
	\node[text width=2cm, text centered,font=\small] at (1.75,5.4) {Reactor vessel};
	\draw[annotline] (0.9,2.8) -- ++(-3.3,1.5)
	    node[text width=2cm, text centered,font=\small,left=-8pt] {Control\\rods};
	\draw[annotline] (4.2,3.7) -- ++(0.5,1.5)
	    node[text width=2cm, text centered,font=\small,above] {Pressurizer};
	\draw[annotline] (3.9,1.5) -- ++(1.3,-0.6)
	    node[text width=2.4cm, text centered,below=-2pt,font=\small]
	        {Water coolant (\unit{330}{\degreecelsius})};
	\draw[annotline] (-0.1,-2) -- ++(-0.3,-0.6)
	    node[text width=2.4cm, text centered,below=-2pt,font=\small]
	        {Water coolant (\unit{280}{\degreecelsius})};
	\end{scope}
	% clouds ----------------------------------
	\begin{scope}[xshift=26cm,yshift=10cm, fill=blue!10, draw=Blue,
	    decoration={bumps,segment length=0.5cm}]
	    \filldraw[yshift=-1.5cm,rotate=-25,decorate]
	        (0,0) -- ++(-0.4,1.25)-- ++(-0.1,0.75)-- ++(0.2,0.5)-- ++(0.3,0.5)--
	        ++(0.3,-0.5)-- ++(0.2,-0.5)-- ++(-0.1,-0.75)-- ++(-0.4,-1.25);
	    \filldraw[xshift=0.5cm,yshift=-2cm,rotate=-30,decorate]
	        (0,0) -- ++(-0.4,1.25)-- ++(-0.1,0.75)-- ++(0.2,0.5)-- ++(0.3,0.5)--
	        ++(0.3,-0.5)-- ++(0.2,-0.5)-- ++(-0.1,-0.75)-- ++(-0.4,-1.25);
	    \filldraw[xshift=-1.05cm,yshift=-2.15cm,rotate=-20,decorate]
	        (0,0) -- ++(-0.4,1.25)-- ++(-0.1,0.75)-- ++(0.2,0.5)-- ++(0.3,0.5)--
	        ++(0.3,-0.5)-- ++(0.2,-0.5)-- ++(-0.1,-0.75)-- ++(-0.4,-1.25);
	    %labels
	    \node[text width=1cm, text centered,font=\small] at (0.2,1.5) {Water vapor};
	\end{scope}
	
	% palo della luce
	\begin{scope}[xscale=0.2,xshift=113cm,yshift=19cm,line width=1pt,Brown]
	    \draw (0,0) -- (-6,-6)
	          (0,0) -- ( 6,-6)
	          (-1,-1) -- ( 1,-1)
	          (-1,-1) -- ( 2,-2)
	          ( 1,-1) -- (-2,-2)
	          (-2,-2) -- ( 2,-2)
	          (-2,-2) -- ( 3,-3)
	          ( 2,-2) -- (-3,-3)
	          ( 3,-3) -- (-3,-3)
	          (-3,-3) -- ( 4,-4)
	          ( 3,-3) -- (-4,-4)
	          ( 4,-4) -- (-4,-4)
	          (-4,-4) -- ( 5,-5)
	          ( 4,-4) -- (-5,-5)
	          ( 5,-5) -- (-5,-5)
	          (-6,-6) -- ( 0,-5.2)
	          ( 6,-6) -- ( 0,-5.2);
	    \draw (-1.5,-1.5) -- (-4,-1.5) -- (-1,-1)
	          ( 1.5,-1.5) -- ( 4,-1.5) -- ( 1,-1);
	    \path (-4,-1.4) node (a) {}
	          ( 4,-1.4) node (b) {};
	    \draw[line width=1pt,Brown] (-3.5,-3.5) -- (-7.5,-3.5) -- (-3,-3)
	                                ( 3.5,-3.5) -- ( 7.5,-3.5) -- ( 3,-3);
	    \path (-7.5,-3.4) node (c) {}
	          ( 7.5,-3.4) node (d) {}
	          (-5.5,-3.4) node (e) {}
	          ( 5.5,-3.4) node (f) {};
	\end{scope}
	% transmission lines
	\draw[dashed,Gray] (c) -- (aa)
	                   (a) -- (bb)
	                   (e) -- (cc)
	                   (b) -- (dd)
	                   (f) -- (ee)
	                   (d) -- (ff);
	\end{tikzpicture}
	
	\end{document}
snippet beamer prims-algorithm
	\documentclass{beamer}
	
	\usepackage{tikz}
	
	\usepackage{verbatim}
	\usetikzlibrary{arrows,shapes}
	
	
	\begin{document}
	\begin{comment}
	:Title: Prim's algorithm
	:Tags: Beamer, Layers, Foreach, Graphs
	:Use page: 6
	
	
	A step by step example of the `Prim's algorithm`_ for finding the `minimum
	spanning tree`_. Animated using Beamer 
	overlays.
	
	.. _Prim's algorithm: http://en.wikipedia.org/wiki/Prim%27s_algorithm
	.. _Minimum spanning tree: http://en.wikipedia.org/wiki/Minimum_spanning_tree
	
	| Source: Adapted from an example on Wikipedia_
	
	.. _Wikipedia: http://en.wikipedia.org/wiki/Prim%27s_algorithm
	\end{comment}
	
	% Declare layers
	\pgfdeclarelayer{background}
	\pgfsetlayers{background,main}
	
	\begin{frame}
	\frametitle{Prim's algorithm}
	
	%% Adjacency matrix of graph
	%% \  a  b  c  d  e  f  g
	%% a  x  7     5
	%% b  7  x  8  9  7
	%% c     8  x     5
	%% d  5  9     x 15  6
	%% e     7  5 15  x  8  9
	%% f           6  8  x 11
	%% g              9  11 x
	
	\tikzstyle{vertex}=[circle,fill=black!25,minimum size=20pt,inner sep=0pt]
	\tikzstyle{selected vertex} = [vertex, fill=red!24]
	\tikzstyle{edge} = [draw,thick,-]
	\tikzstyle{weight} = [font=\small]
	\tikzstyle{selected edge} = [draw,line width=5pt,-,red!50]
	\tikzstyle{ignored edge} = [draw,line width=5pt,-,black!20]
	
	\begin{figure}
	\begin{tikzpicture}[scale=1.8, auto,swap]
	    % Draw a 7,11 network
	    % First we draw the vertices
	    \foreach \pos/\name in {{(0,2)/a}, {(2,1)/b}, {(4,1)/c},
	                            {(0,0)/d}, {(3,0)/e}, {(2,-1)/f}, {(4,-1)/g}}
	        \node[vertex] (\name) at \pos {$\name$};
	    % Connect vertices with edges and draw weights
	    \foreach \source/ \dest /\weight in {b/a/7, c/b/8,d/a/5,d/b/9,
	                                         e/b/7, e/c/5,e/d/15,
	                                         f/d/6,f/e/8,
	                                         g/e/9,g/f/11}
	        \path[edge] (\source) -- node[weight] {$\weight$} (\dest);
	    % Start animating the vertex and edge selection. 
	    \foreach \vertex / \fr in {d/1,a/2,f/3,b/4,e/5,c/6,g/7}
	        \path<\fr-> node[selected vertex] at (\vertex) {$\vertex$};
	    % For convenience we use a background layer to highlight edges
	    % This way we don't have to worry about the highlighting covering
	    % weight labels. 
	    \begin{pgfonlayer}{background}
	        \pause
	        \foreach \source / \dest in {d/a,d/f,a/b,b/e,e/c,e/g}
	            \path<+->[selected edge] (\source.center) -- (\dest.center);
	        \foreach \source / \dest / \fr in {d/b/4,d/e/5,e/f/5,b/c/6,f/g/7}
	            \path<\fr->[ignored edge] (\source.center) -- (\dest.center);
	    \end{pgfonlayer}
	\end{tikzpicture}
	\end{figure}
	
	\end{frame}
	
	\end{document}
snippet spectroscopy principle-of-x-ray-photoelectron-spectroscopy-xps
	% Principle of X-ray photoelectron spectroscopy (XPS)
	% Author: Mathias Laurin
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Principle of X-ray photoelectron spectroscopy (XPS)
	
	A scheme showing the principles of x-ray photoelectron spectroscopy (XPS) sometimes called photoelectron spectroscopy (PES) as well. This is a technique often used in physical chemistry.
	
	\end{comment}
	
	\usetikzlibrary{decorations.pathmorphing}
	
	
	\begin{document}
	    \begin{tikzpicture}[scale=0.25]
	    \begin{scope} % Energy levels
	        \draw (1,0) node[left] {$1s$} -- 
	            ++(14,0) node[right] {$K$};
	        \draw (1,4) node[left] {$2s$} -- 
	            ++(14,0) node[right] {$L_1$};
	        \draw (1,6) node[left] {$2p$} -- 
	            ++(14,0) node[right] {$L_2,L_3$};
	        \draw (0,12) -- 
	            ++(16,0) node[right] {Fermi};
	        \draw (0,18) -- 
	            ++(16,0) node[right] {vacuum};
	    \end{scope}
	    \begin{scope} % Valence and conduction bands
	        \draw (2,7) rectangle node {valence band} 
	            ++(12,4);
	        \draw (2,13) rectangle node {conduction band} 
	            ++(12,4);
	    \end{scope}
	    \begin{scope} % Electrons
	        \foreach \x in {3,5,...,13}
	            \filldraw (\x, 6) circle (.75);
	        \foreach \x in {7, 9}
	            \filldraw (\x, 4) circle (.75);
	        \filldraw (7,0) circle (.75);
	        
	        %\filldraw(9, 0) circle (.75);
	        
	        \draw (9, 0) circle (.75);
	    \end{scope} 
	    \begin{scope}[color=red] % X-rays in, electron out
	        \draw[decorate, decoration=snake] (17,20) 
	            node[above] {$h\nu$}
	            -- (9,0.75);
	        \draw[->] (9,0.75) -- (1,20);
	        \filldraw (0.4,22) circle (0.75) node[right=5] {photoelectron};
	    \end{scope}
	        
	    \end{tikzpicture}
	\end{document}
snippet trees probability-tree
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{trees}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Probability tree
	:Tags: Trees
	
	A simple example of a probability tree diagram. 
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	
	% Set the overall layout of the tree
	\tikzstyle{level 1}=[level distance=3.5cm, sibling distance=3.5cm]
	\tikzstyle{level 2}=[level distance=3.5cm, sibling distance=2cm]
	
	% Define styles for bags and leafs
	\tikzstyle{bag} = [text width=4em, text centered]
	\tikzstyle{end} = [circle, minimum width=3pt,fill, inner sep=0pt]
	
	% The sloped option gives rotated edge labels. Personally
	% I find sloped labels a bit difficult to read. Remove the sloped options
	% to get horizontal labels. 
	\begin{tikzpicture}[grow=right, sloped]
	\node[bag] {Bag 1 $4W, 3B$}
	    child {
	        node[bag] {Bag 2 $4W, 5B$}        
	            child {
	                node[end, label=right:
	                    {$P(W_1\cap W_2)=\frac{4}{7}\cdot\frac{4}{9}$}] {}
	                edge from parent
	                node[above] {$W$}
	                node[below]  {$\frac{4}{9}$}
	            }
	            child {
	                node[end, label=right:
	                    {$P(W_1\cap B_2)=\frac{4}{7}\cdot\frac{5}{9}$}] {}
	                edge from parent
	                node[above] {$B$}
	                node[below]  {$\frac{5}{9}$}
	            }
	            edge from parent 
	            node[above] {$W$}
	            node[below]  {$\frac{4}{7}$}
	    }
	    child {
	        node[bag] {Bag 2 $3W, 6B$}        
	        child {
	                node[end, label=right:
	                    {$P(B_1\cap W_2)=\frac{3}{7}\cdot\frac{3}{9}$}] {}
	                edge from parent
	                node[above] {$B$}
	                node[below]  {$\frac{3}{9}$}
	            }
	            child {
	                node[end, label=right:
	                    {$P(B_1\cap B_2)=\frac{3}{7}\cdot\frac{6}{9}$}] {}
	                edge from parent
	                node[above] {$W$}
	                node[below]  {$\frac{6}{9}$}
	            }
	        edge from parent         
	            node[above] {$B$}
	            node[below]  {$\frac{3}{7}$}
	    };
	\end{tikzpicture}
	
	\end{document}
snippet projectile projectile
	% Projectile
	% Author: Jon Engel
	\documentclass{beamer}
	
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Projectile
	
	I made it for an introductory physics class to explain a common demonstration:   if you aim a gun at a target held in the air, and fire the instant the target is dropped, you always hit the target, no matter how fast your bullet goes.  There are a lot of numbers hard coded in, but it's not hard to alter the second example so that the initial velocity of the bullet is different.  You just change v0 and the number of frames (and the arrow representing v0).  I'm sure it can be made much more elegant.
	\end{comment}
	
	\usepackage{tikz}
	\usetikzlibrary{decorations.pathreplacing}
	\usepackage{animate}
	\usepackage{ifthen}
	\setbeamertemplate{navigation symbols}{}
	
	\begin{document}
	
	\begin{frame}
	\begin{columns}\begin{column}{6cm}
	\begin{animateinline}[poster=first,controls]{8}%
	   \multiframe{21}{rt=0+.1,icount=1+1,rvo=3+0}{%
	%rt is the time and rvo the initial velocity, in units in which g=2.
	   \begin{tikzpicture}[scale=.75]
	      \clip (-.3,-.3) rectangle (9,7);
	      \draw[ultra thick,-latex] (0,.5) -- node[above left]{$\vec{v}_0$} (1.5,2);
	      \node[draw=gray,name=tar0,text=gray,dashed,outer sep=6pt] at (6,6)  
	                                                                      {target};
	      \node[draw=red,fill=white,name=tar,text=red,outer sep=6pt] at 
	                                                        (6,6-\rt*\rt) {target}; 
	      \draw[blue] (0,0) circle (3pt);
	      \ifthenelse{\icount > 1}% 
	         {\draw[ultra thick,blue,->] (0,0) -- (\rvo*\rt,\rvo*\rt);
	          \foreach \x in {.0,.1,...,\rt} \draw[blue] 
	                                    (\rvo*\x,\rvo*\x-\x*\x) circle (3pt);}{}
	      \ifthenelse{\icount > 5}%
	         {\draw[ultra thick,blue,->,shorten < =5pt] 
	                      (\rvo*\rt,\rvo*\rt) -- (\rvo*\rt,\rvo*\rt-\rt*\rt);}{}
	      \ifthenelse{\icount > 7}
	         {\draw[decorate,decoration={brace,amplitude=2mm},red] 
	                                       (tar0.east) -- (tar.east);}{}
	      \ifthenelse{\icount > 14}
	         {\node[text=blue] at (4,4.8) {$\vec{v}_0 t$};
	          \node[text=blue] at (\rvo*\rt-.8,1.5+\rt) {$-\frac{gt^2}{2}\hat{j}$};
	          \node[text=red] at (7.9,6-.5*\rt*\rt) {$\frac{gt^2}{2}$};
	          \node[fill=yellow!20] at (2,6.5) 
	                          {$\vec{r}=\vec{v}_0 t-\frac{gt^2}{2}\hat{j}$};}{}
	   \end{tikzpicture}%
	   }
	\end{animateinline}
	%
	\end{column}\begin{column}{6cm}
	\begin{animateinline}[poster=first,controls]{8}%
	   \multiframe{16}{rt=0+.1,icount=1+1,rvo=4+0}{%
	   \begin{tikzpicture}[scale=.75]
	      \clip (-.3,-.3) rectangle (9,7);
	      \draw[ultra thick,-latex] (0,.5) -- node[above left]{$\vec{v}_0$} (2,2.5);
	      \node[draw=gray,text=gray,dashed,outer sep=6pt] at (6,6) {target};
	          \node[draw=red,fill=white,text=red,outer sep=6pt] at 
	                                                        (6,6-\rt*\rt) {target}; 
	      \draw[blue] (0,0) circle (3pt);
	      \ifthenelse{\icount > 1}%
	         {\draw[ultra thick,blue,->] (0,0) -- (\rvo*\rt,\rvo*\rt);
	          \foreach \x in {.0,.1,...,\rt} \draw[blue] 
	                                   (\rvo*\x,\rvo*\x-\x*\x) circle (3pt);}{}
	      \ifthenelse{\icount > 5}%
	         {\draw[ultra thick,blue,->,shorten < =5pt] 
	                      (\rvo*\rt,\rvo*\rt) -- (\rvo*\rt,\rvo*\rt-\rt*\rt);}{}
	   \end{tikzpicture}%
	   }%
	\end{animateinline}
	\end{column}\end{columns}
	\end{frame} 
	
	\end{document}
snippet clipping puzzle
	%Author: Marc van Dongen
	\documentclass[12pt]{article}       
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	
	\begin{comment}
	:Title: Puzzle
	:Tags: Clipping, Paths
	:Author: Marc van Dongen
	
	This tikz example display a puzzle with a text inside.
	
	\end{comment}
	
	\usepackage{tikz}
	\usetikzlibrary{calc}
	\usetikzlibrary{scopes}
	
	\makeatletter
	
	\newif\ifpuzzle@hole
	\newif\ifpuzzle@hole@A
	\newif\ifpuzzle@hole@B
	\newif\ifpuzzle@hole@C
	\newif\ifpuzzle@hole@D
	\def\puzzle@width{0.25cm}
	\def\puzzle@height{0.20cm}
	\def\puzzle@holes{true,true,false,false}
	\def\puzzle@set@hole@A#1,#2,#3,#4,{\csname puzzle@hole@A#1\endcsname}
	\def\puzzle@set@hole@B#1,#2,#3,#4,{\csname puzzle@hole@B#2\endcsname}
	\def\puzzle@set@hole@C#1,#2,#3,#4,{\csname puzzle@hole@C#3\endcsname}
	\def\puzzle@set@hole@D#1,#2,#3,#4,{\csname puzzle@hole@D#4\endcsname}
	\pgfkeys{/puzzle/width/.store in=\puzzle@width}                      
	\pgfkeys{/puzzle/height/.store in=\puzzle@height}                    
	\pgfkeys{/puzzle/holes/.store in=\puzzle@holes}                      
	
	\def\tikzIsFun{
	    \foreach \x in {0,1,2} {
	        \foreach \y in {1,2} {
	            \draw[puzzle piece,thick] (1.5*\x,\y) to +(1.5,1.0);
	        }                                                                    
	    }                                                                        
	    \foreach \xy in {1,2} {                                                  
	       \draw[puzzle piece,thick] (0,\xy) to +(1.5,1.0);                      
	       \draw[puzzle piece,thick] (1.5*\xy,0) to +(1.5,1.0);                  
	    }                                                                        
	    \draw (2.25,1.5) node[rotate=30] {\Huge\texttt{tikz} is fun};            
	}                                                                            
	
	\def\drawPuzzleSide#1#2#3{%
	    let \p{mid}=($(#1)!0.5!(#2)$),
	        \p{diff}=($(#2)-(#1)$),   
	        \p{diff 90}=($(0,0)!1.0!\csname ifpuzzle@hole@#3\endcsname90\else270\fi:(\p{diff})$),                                                                   
	        \n{len}={veclen(\x{diff},\y{diff})},                                    
	        \n{height}={\puzzle@height},                                            
	        \n{width}={\puzzle@width},                                              
	        \p{dy}=($(\n{height}*\x{diff 90}/\n{len},\n{height}*\y{diff 90}/\n{len})$),                                                                             
	        \p{dx}=($(\n{width}*\x{diff}/\n{len},\n{width}*\y{diff}/\n{len})$),     
	        \p{xx}=($(\p{diff})-(\p{dx})$),                                         
	        \p{11}=($(#1)+0.20*(\p{xx})-0.020*(\p{diff 90})$),                      
	        \p{12}=($(#1)+0.35*(\p{xx})-0.030*(\p{diff 90})$),                      
	        \p{13}=($(\p{mid})-0.5*(\p{dx})-0.030*(\p{diff 90})$),                  
	        \p{21}=($(#2)-0.20*(\p{xx})-0.020*(\p{diff 90})$),                      
	        \p{22}=($(#2)-0.35*(\p{xx})-0.030*(\p{diff 90})$),                      
	        \p{23}=($(\p{mid})+0.5*(\p{dx})-0.030*(\p{diff 90})$),                  
	        \p{14}=($(\p{13})+0.60*(\p{dx})+0.80*(\p{dy})$),                        
	        \p{24}=($(\p{23})-0.60*(\p{dx})+0.80*(\p{dy})$),                        
	        \p{00}=($(\p{mid})+(\p{dy})$),                                          
	        \p{15}=($(\p{00})-1.6*(\p{dx})-0.04*(\p{dy})$),                         
	        \p{25}=($(\p{15})!2.0!(\p{00})$)                                        
	    in .. controls (\p{11}) and (\p{12}) .. (\p{13})                            
	       .. controls (\p{14}) and (\p{15}) .. (\p{00})                            
	       .. controls (\p{25}) and (\p{24}) .. (\p{23})                            
	       .. controls (\p{22}) and (\p{21}) .. (#2)                                
	}                                                                               
	
	\def\puzzle@set@holes{%
	    \expandafter\puzzle@set@hole@A\puzzle@holes,
	    \expandafter\puzzle@set@hole@B\puzzle@holes,
	    \expandafter\puzzle@set@hole@C\puzzle@holes,
	    \expandafter\puzzle@set@hole@D\puzzle@holes,
	}
	\def\drawPuzzlePiece{%
	   let \p1=(\tikztostart),
	       \p2=(\tikztotarget) in
	    (\p1) \drawPuzzleSide{\p1}{\p1-|\p2}{A}
	          \drawPuzzleSide{\p1-|\p2}{\p2}{B}
	          \drawPuzzleSide{\p2}{\p1|-\p2}{C}
	          \drawPuzzleSide{\p1|-\p2}{\p1}{D}
	}
	
	\tikzset{test/.style={to path={\drawPuzzlePiece}}}
	\tikzset{puzzle piece/.style={to path={\drawPuzzlePiece},
	                              execute at begin to=\puzzle@set@holes}}
	
	\makeatother
	\begin{document}
	\thispagestyle{empty}
	\begin{preview}
	\begin{tikzpicture}
	   \begin{scope}[even odd rule]
	      \clip (-1,-1) rectangle (5,4)
	            {[puzzle piece] (0,0) to (1.5,1.0)};
	      \tikzIsFun
	   \end{scope}
	   \draw (0.1,0.1)
	         node{\begin{tikzpicture}
	                 \clip {[puzzle piece] (0,0) to (1.5,1.0)};
	                 \draw[puzzle piece] (0,0) to (1.5,1.0);
	                 \tikzIsFun
	              \end{tikzpicture}};
	\end{tikzpicture}
	\end{preview}
	\end{document}
snippet coordinates pythagoras-triangle
	\documentclass[tikz,border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Pythagorean triangle with the squares of its sides and labels
	:Tags: Coordinat calculations;Mathematics
	:Author: Alex Chan
	:Slug: pythagoras-triangle
	
	We would like to to draw the squares of the sides of a Pythagorean triangle.
	
	The width and height of the triangle are put into constants, so we can change
	them later if we need to. Loading them once and computing everything else on
	the fly, it makes it easier to change things around later
	
	We label our coordinates so that the name matches the label which gets printed,
	otherwise we might get horribly confused.
	
	Two of the rectangles (the ones matching the horizontal and vertical edges)
	are easy to draw. The square corresponding to the hypotenuse is a bit
	more difficult, but we can use a little plane geometry. We can find another
	edge of the square by rotating the original triangle through 90 degrees,
	and then translating appropriately. We can use the same method to find the
	two extra coordinates of the hypotenuse square in TikZ.
	
	This example was written by Alex Chan
	(http://tex.stackexchange.com/users/9668/alexwlchan) answering a
	question on TeX.SE (http://tex.stackexchange.com/q/166958/213).
	\end{comment}
	\begin{document}
	\newcommand{\pythagwidth}{3cm}
	\newcommand{\pythagheight}{2cm}
	\begin{tikzpicture}
	  \coordinate [label={below right:$A$}] (A) at (0, 0);
	  \coordinate [label={above right:$B$}] (B) at (0, \pythagheight);
	  \coordinate [label={below left:$C$}] (C) at (-\pythagwidth, 0);
	
	  \coordinate (D1) at (-\pythagheight, \pythagheight + \pythagwidth);
	  \coordinate (D2) at (-\pythagheight - \pythagwidth, \pythagwidth);
	
	  \draw [very thick] (A) -- (C) -- (B) -- (A);
	
	  \newcommand{\ranglesize}{0.3cm}
	  \draw (A) -- ++ (0, \ranglesize) -- ++ (-\ranglesize, 0) -- ++ (0, -\ranglesize);
	
	  \draw [dashed] (A) -- node [below] {$b$} ++ (-\pythagwidth, 0)
	            -- node [right] {$b$} ++ (0, -\pythagwidth)
	            -- node [above] {$b$} ++ (\pythagwidth, 0)
	            -- node [left]  {$b$} ++ (0, \pythagwidth);
	
	  \draw [dashed] (A) -- node [right] {$c$} ++ (0, \pythagheight)
	            -- node [below] {$c$} ++ (\pythagheight, 0)
	            -- node [left]  {$c$} ++ (0, -\pythagheight)
	            -- node [above] {$c$} ++ (-\pythagheight, 0);
	
	  \draw [dashed] (C) -- node [above left]  {$a$} (B)
	                     -- node [below left]  {$a$} (D1)
	                     -- node [below right] {$a$} (D2)
	                     -- node [above right] {$a$} (C);
	\end{tikzpicture}
	\end{document}
snippet syntax python-if-then-else-syntax-diagram
	% Mobile ad-hoc network
	% Author: Dr. Ludger Humbert
	% Source: https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2                                                                             
	% https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2/Python_if-then-elif-else.tex $:
	%
	
	\documentclass{article}
	\usepackage[ngerman]{babel}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Python if-then-else syntax diagram
	
	A `syntax diagram`_ (or railroad diagram) for a if-then-elif-else expression in Python. 
	
	.. _syntax diagram: http://en.wikipedia.org/wiki/Syntax_diagram
	
	:Author: Dr. `Ludger Humbert`_
	:Source: `https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2`__
	
	.. __: https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2
	.. _Ludger Humbert: https://haspe.homeip.net/cgi-bin/pyblosxom.cgi
	
	\end{comment}
	\usepackage{xxcolor}
	
	
	\usetikzlibrary{chains,matrix,scopes,decorations.shapes,arrows,shapes}
	
	% fuer Railroad-Diagramme
	\tikzset{
	  nonterminal/.style={
	    % The shape:
	    rectangle,
	    % The size:
	    minimum size=6mm,
	    % The border:
	    very thick,
	    draw=red!50!black!50,         % 50% red and 50% black,
	                                  % and that mixed with 50% white
	    % The filling:
	    top color=white,              % a shading that is white at the top...
	    bottom color=red!50!black!20, % and something else at the bottom
	    % Font
	    font=\itshape
	  },
	  terminal/.style={
	    % The shape:
	    rounded rectangle,
	    minimum size=6mm,
	    % The rest
	    very thick,draw=black!50,
	    top color=white,bottom color=black!20,
	    font=\ttfamily},
	  skip loop/.style={to path={-- ++(0,#1) -| (\tikztotarget)}}
	}
	{
	  \tikzset{terminal/.append style={text height=1.5ex,text depth=.25ex}}
	  \tikzset{nonterminal/.append style={text height=1.5ex,text depth=.25ex}}
	}
	
	
	\renewcommand\familydefault{\sfdefault}
	
	\listfiles
	
	\begin{document}
	
	
	%% if_stmt ::= "if" expression ":" suite
	%%                ( "elif" expression ":" suite )*
	%%                ["else" ":" suite]
	%%
	\hspace{-35ex}
	\begin{tikzpicture}[point/.style={coordinate},>=stealth',thick,draw=black!50,
	                    tip/.style={->,shorten >=0.007pt},every join/.style={rounded corners},
	                    hv path/.style={to path={-| (\tikztotarget)}},
	                    vh path/.style={to path={|- (\tikztotarget)}},
	                    text height=1.5ex,text depth=.25ex]     % um die Hoehe des Punktes festzuzurren
	  \matrix[ampersand replacement=\&,column sep=4mm] {
	    \node (p1)  [point]  {}; \&    \node (ifs)    [terminal]     {if};             \&
	    \node (p2)  [point]  {}; \&    \node (expr1)  [nonterminal]  {expr};           \&
	    \node (p3)  [point]  {}; \&    \node (colon1) [terminal]     {:};              \&
	    \node (p4)  [point]  {}; \&    \node (suite1) [nonterminal]  {suite};          \&
	    \node (p5)  [point]  {}; \&    \node (p6)     [point]  {};                     \&
	    \node (p6a) [point]  {}; \&    \node (p6b)    [point]  {};                     \&
	    \node (p7)  [point]  {}; \&    \node (elif)   [terminal]     {elif};           \&
	    \node (p8)  [point]  {}; \&    \node (expr2)  [nonterminal]  {expr};           \&
	    \node (p9)  [point]  {}; \&    \node (colon2) [terminal]     {:};              \&
	    \node (p10) [point]  {}; \&    \node (suite2) [nonterminal]  {suite};          \&
	    \node (p11) [point]  {}; \&    \node (p12)    [point]  {};                     \&
	    \node (p12a)[point]  {}; \&    \node (p12b)   [point]  {};                     \&
	    \node (p13) [point]  {}; \&    \node (else)   [terminal]     {else};           \&
	    \node (p14) [point]  {}; \&    \node (colon3) [terminal]     {:};              \&
	    \node (p15) [point]  {}; \&    \node (suite3) [nonterminal]  {suite};          \&
	    \node (p16) [point]  {}; \&    \node (p17)    [point]       {};\\
	  };
	
	  { [start chain]
	    \chainin (p1);
	    \chainin (ifs)    [join=by tip];
	    \chainin (p2)     [join];
	    \chainin (expr1)  [join=by tip];
	    \chainin (p3)     [join];
	    \chainin (colon1) [join=by tip];
	    \chainin (p4)     [join];
	    \chainin (suite1) [join=by tip];
	    \chainin (p7)     [join];
	    \chainin (elif)   [join=by tip];
	    \chainin (p8)     [join];
	    \chainin (expr2)  [join=by tip];
	    \chainin (p9)     [join];
	    \chainin (colon2) [join=by tip];
	    \chainin (p10)    [join];
	    \chainin (suite2) [join=by tip];
	    \chainin (p12a)   [join,join=with p6 by {skip loop=-11mm,tip}];
	    \chainin (p13)    [join];
	    \chainin (else)   [join=by tip];
	    \chainin (p14)    [join];
	    \chainin (colon3) [join=by tip];
	    \chainin (p15)    [join];
	    \chainin (suite3) [join=by tip];
	    \chainin (p16)    [join];
	    \chainin (p17)    [join=by tip];
	    \chainin (p16)    [join,join=with p12b by {skip loop=-11mm,tip}];
	    \chainin (p6b)    [join=with p11 by {skip loop=11mm,tip}];
	  }
	\end{tikzpicture}
	
	
	
	\end{document}
snippet circuits quantum-circuit
	set table "gnuplot/bode-plot/1.table"; set format "%.5f"
	set samples 50; set parametric; plot [t=-1:1.35] log10(10**t),(t<log10(1/(2.0))?20*log10(4):+20*log10(4/(2.0))-20*log10(10**t))+20*log10(abs(1/(10**t)))
	% Quantum circuit
	% Author: 
	
	%%%<
	% This code produces an image of a `quantum circuit' that produces
	% a Greenberger-Horne-Zeilinger (GHZ) state, which is important
	% for tests of nonlocality. This is an example of how simple it is
	% to draw quantum circuits using TikZ.
	%%%>
	
	\documentclass[10pt]{article}
	
	\usepackage[hang,small,bf]{caption}    % fancy captions
	\usepackage{tikz}
		
	\usetikzlibrary{backgrounds,fit,decorations.pathreplacing}                  % TikZ libraries
	\newcommand{\ket}[1]{\ensuremath{\left|#1\right\rangle}} % Dirac Kets
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Quantum circuit
	
	This code produces an image of a "quantum circuit"  that produces
	a Greenberger-Horne-Zeilinger (GHZ) state, which is important
	for tests of nonlocality. This is an example of how simple it is
	to draw quantum circuits using TikZ.
	
	\end{comment}
	
	\begin{document}
	\begin{figure}
	  \centerline{
	    \begin{tikzpicture}[thick]
	    %
	    % `operator' will only be used by Hadamard (H) gates here.
	    % `phase' is used for controlled phase gates (dots).
	    % `surround' is used for the background box.
	    \tikzstyle{operator} = [draw,fill=white,minimum size=1.5em] 
	    \tikzstyle{phase} = [fill,shape=circle,minimum size=5pt,inner sep=0pt]
	    \tikzstyle{surround} = [fill=blue!10,thick,draw=black,rounded corners=2mm]
	    %
	    % Qubits
	    \node at (0,0) (q1) {\ket{0}};
	    \node at (0,-1) (q2) {\ket{0}};
	    \node at (0,-2) (q3) {\ket{0}};
	    %
	    % Column 1
	    \node[operator] (op11) at (1,0) {H} edge [-] (q1);
	    \node[operator] (op21) at (1,-1) {H} edge [-] (q2);
	    \node[operator] (op31) at (1,-2) {H} edge [-] (q3);
	    %
	    % Column 3
	    \node[phase] (phase11) at (2,0) {} edge [-] (op11);
	    \node[phase] (phase12) at (2,-1) {} edge [-] (op21);
	    \draw[-] (phase11) -- (phase12);
	    %
	    % Column 4
	    \node[phase] (phase21) at (3,0) {} edge [-] (phase11);
	    \node[phase] (phase23) at (3,-2) {} edge [-] (op31);
	    \draw[-] (phase21) -- (phase23);
	    %
	    % Column 5
	    \node[operator] (op24) at (4,-1) {H} edge [-] (phase12);
	    \node[operator] (op34) at (4,-2) {H} edge [-] (phase23);
	    %
	    % Column 6
	    \node (end1) at (5,0) {} edge [-] (phase21);
	    \node (end2) at (5,-1) {} edge [-] (op24);
	    \node (end3) at (5,-2) {} edge [-] (op34);
	    %
	    % Bracket
	    \draw[decorate,decoration={brace},thick] (5,0.2) to
		node[midway,right] (bracket) {$\frac{\ket{000}+\ket{111}}{\sqrt{2}}$}
		(5,-2.2);
	    %
	    % Background Box
	    \begin{pgfonlayer}{background} 
	    \node[surround] (background) [fit = (q1) (op31) (bracket)] {};
	    \end{pgfonlayer}
	    %
	    \end{tikzpicture}
	  }
	  \caption{
	    A quantum circuit for producing a GHZ state using
	    Hadamard gates and controlled phase gates.
	  }
	\end{figure}
	\end{document}}
snippet foreach radix2fft
	\documentclass{article}
	
	\usepackage{tikz}
	
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Radix-2 FFT signal flow
	:Slug: radix2fft
	:Tags: Foreach
	
	Radix-2 signal flow graph for a 16 point fast Fourier transform (FFT).
	This diagram is quite complex. However, the most difficult part is keeping
	track of all the indexes. The ``foreach`` command is used extensively to
	get compact code.
	
	| Source: The diagram was inspired by content on `this web page`__.
	
	.. __: http://www.ece.uvic.ca/499/2004a/group05/html/background.html
	
	\end{comment}
	
	\begin{document}
	\pagestyle{empty}
	
	\tikzstyle{n}= [circle, fill, minimum size=4pt,inner sep=0pt, outer sep=0pt]
	\tikzstyle{mul} = [circle,draw,inner sep=-1pt]
	
	% Define two helper counters
	\newcounter{x}\newcounter{y}
	\begin{tikzpicture}[yscale=0.5, xscale=1.2, node distance=0.3cm, auto]
	    % The strategy is to create nodes with names: N-column-row
	    % Input nodes are named N-0-0 ... N-0-15
	    % Output nodes are named N-10-0 ... N-10-15
	
	    % Draw inputs
	    \foreach \y in {0,...,15}
	        \node[n, pin={[pin edge={latex'-,black}]left:$x(\y)$}]
	              (N-0-\y) at (0,-\y) {};
	    % Draw outputs
	    \foreach \y / \idx in {0/0,1/8,2/4,3/12,4/2,5/10,6,7/14,
	                           8/1,9,10/5,11/13,12/3,13/11,14/7,15}
	        \node[n, pin={[pin edge={-latex',black}]right:$X(\idx)$}]
	              (N-10-\y) at (7,-\y) {};
	   % draw connector nodes
	    \foreach \y in {0,...,15}
	        \foreach \x / \c in {1/1,2/3,3/4,4/6,5/7,6/9}
	            \node[n, name=N-\c-\y] at (\x,-\y) {};
	    % draw x nodes
	    \foreach \y in {0,...,15}
	        \foreach \x / \c  in {1/2,4/5,7/8}
	            \node[mul, right of=N-\x-\y] (N-\c-\y) {${\times}$};
	
	    % horizontal connections
	    % Note the use of simple counter arithmetics to get correct
	    % indexes.
	    \foreach \y in {0,...,15}
	        \foreach \x in {0,1,3,4,6,7,9}
	        {
	            \setcounter{x}{\x}\stepcounter{x}
	            \path (N-\x-\y) edge[-] (N-\arabic{x}-\y);
	       }
	    % Draw the W_16 coefficients
	    \setcounter{y}{0}
	    \foreach \i / \j in {0/0,1/0,2/0,3/0,4/0,5/0,6/0,7/0,
	                            0/1,1/1,2/1,3/1,4/1,5/1,6/1,7/1}
	    {
	        \path (N-2-\arabic{y}) edge[-] node {\tiny $W^{\i\cdot\j}_{16}$}
	                (N-3-\arabic{y});
	        \stepcounter{y}
	    }
	    % Draw the W_8 coefficients
	    \setcounter{y}{0}
	    \foreach \i / \j in {0/0,1/0,2/0,3/0,0/1,1/1,2/1,3/1,
	                         0/0,1/0,2/0,3/0,0/1,1/1,2/1,3/1}
	    {
	        \path (N-5-\arabic{y}) edge[-] node {\tiny $W^{\i\cdot\j}_{8}$}
	              (N-6-\arabic{y});
	        \addtocounter{y}{1}
	    }
	
	    % Draw the W_4 coefficients
	    \setcounter{y}{0}
	    \foreach \i / \j in {0/0,1/0,0/1,1/1,0/0,1/0,0/1,1/1,
	                            0/0,1/0,0/1,1/1,0/0,1/0,0/1,1/1}
	    {
	        \path (N-8-\arabic{y}) edge[-] node {\tiny $W^{\i\cdot\j}_{4}$}
	              (N-9-\arabic{y});
	        \stepcounter{y}
	    }
	    % Connect nodes
	    \foreach \sourcey / \desty in {0/8,1/9,2/10,3/11,
	                                   4/12,5/13,6/14,7/15,
	                                   8/0,9/1,10/2,11/3,
	                                   12/4,13/5,14/6,15/7}
	       \path (N-0-\sourcey.east) edge[-] (N-1-\desty.west);
	    \foreach \sourcey / \desty in {0/4,1/5,2/6,3/7,
	                                   4/0,5/1,6/2,7/3,
	                                   8/12,9/13,10/14,11/15,
	                                   12/8,13/9,14/10,15/11}
	        \path (N-3-\sourcey.east) edge[-] (N-4-\desty.west);
	    \foreach \sourcey / \desty in {0/2,1/3,2/0,3/1,
	                                   4/6,5/7,6/4,7/5,
	                                   8/10,9/11,10/8,11/9,
	                                   12/14,13/15,14/12,15/13}
	        \path (N-6-\sourcey.east) edge[-] (N-7-\desty.west);
	    \foreach \sourcey / \desty in {0/1,1/0,2/3,3/2,
	                                   4/5,5/4,6/7,7/6,
	                                   8/9,9/8,10/11,11/10,
	                                   12/13,13/12,14/15,15/14}
	        \path (N-9-\sourcey.east) edge[-] (N-10-\desty.west);
	
	\end{tikzpicture}
	
	\end{document}
snippet mathematical raindrop
	% Rainbows - Sun ray entering a rain drop
	% Author: David Fokkema
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Rainbows - Sun ray entering a rain drop
	:Tags: Mathematical engine;decorations;Coordinate calculations;Physics;Optics
	:Author: David Fokkema
	:Slug: raindrop
	
	Rainbows form because light of different colors refracts differently in a
	drop of water. To understand a rainbow in detail, you need to consider
	all possible rays entering the drop, many raindrops at once, and the
	reflectivity for various angles at the back of the drop. The current
	figure shows only one ray entering the raindrop and visualizes the path of
	the red and blue rays. The index of refraction of the red ray is slightly
	exaggerated (less than one percent) for clarity. Observe that the angle
	of incidence is identical to the angle with which the rays finally exit
	the drop. Furthermore, the *red* internal angles are all identical,
	similar for the *blue* angles.
	
	This figure was drawn for high school students because a physics textbook
	figure contained several errors and ultimately claimed the red and blue
	light exiting the raindrop as parallel rays.
	\end{comment}
	\usetikzlibrary{calc,decorations.markings}
	
	% Draw an arc denoting an angle using start and delta angles
	\newcommand{\drawarcdelta}[4]{
	  \draw ($#1+(#2:#4)$) arc[start angle=#2, delta angle=#3, radius=#4];
	}
	
	% Draw an arc with label denoting an angle using start and delta angles
	\newcommand{\drawlabeledarcdelta}[6]{
	  \drawarcdelta{#1}{#2}{#3}{#4}
	  \node at ($#1+(#2+#3/2:#6)$) {#5};
	}
	
	\begin{document}
	\begin{tikzpicture}[xscale=-1,
	    ray/.style={decoration={markings,mark=at position .5 with {
	      \arrow[>=latex]{>}}},postaction=decorate}
	  ]
	
	  % Radius of raindrop
	  \pgfmathsetlengthmacro{\r}{3cm}
	  % Position where the incoming ray enters the raindrop, as a fraction of
	  % the height of the drop.  If 0., the ray will enter in the middle of the
	  % drop, if 1., the ray will enter at the top of the drop.
	  \pgfmathsetmacro{\f}{.7}
	
	  % Various radii for drawing angle arcs and labels
	  \pgfmathsetlengthmacro{\arcradius}{.8cm}
	  \pgfmathsetlengthmacro{\dotradius}{.6cm}
	  \pgfmathsetlengthmacro{\arclabelradius}{1cm}
	
	  % Calculation of the angle of incidence
	  \pgfmathsetmacro{\incidentangle}{asin(\f)}
	
	  % Coordinates of origin and point of entry
	  \coordinate (O) at (0, 0);
	  \coordinate (A) at (\incidentangle:\r);
	
	  % Draw the drop and the incoming ray, as well as the angle of incidence
	  \draw (O) circle (\r);
	  \draw[ray] (A  -| \r*3, 0) -- (A);
	  \draw[gray] (O) -- ($(O)!1.5!(A)$) node[pos=1.05] {$n$};
	  \drawarcdelta{(A)}{0}{\incidentangle}{\arcradius-1pt}
	  \drawlabeledarcdelta{(A)}{0}{\incidentangle}{\arcradius+1pt}
	    {$i$}{\arclabelradius}
	
	  % For each red and blue ray.  The index of refraction for red light is
	  % slightly exaggerated, it should be 1.33.
	  \foreach \index/\color in {1.32/red, 1.34/blue} {
	    % Calculate angle of refraction
	    \pgfmathsetmacro{\refractedangle}{asin(sin(\incidentangle) / \index)}
	    % Calculate top angle (at O) in the triangle formed by O, the point of
	    % entry, and the point of internal reflection
	    \pgfmathsetmacro{\angleindrop}{180 - 2*\refractedangle}
	
	    % Coordinate of point of reflection
	    \coordinate (A') at (\incidentangle+\angleindrop:\r);
	    % Coordinate of point of exit
	    \coordinate (A'') at (\incidentangle+2*\angleindrop:\r);
	
	    \begin{scope}[opacity=.5, color=\color]
	      % Draw the light rays
	      \draw[ray] (A) -- (A');
	      \draw[ray] (A') -- (A'');
	      \draw[ray] (A'') -- ($(A'')+(2*\incidentangle+2*\angleindrop:2*\r)$);
	
	      % Draw the normal lines
	      \draw (O) -- ($(O)!1.5!(A')$) node[pos=1.05] {$n$};
	      \draw (O) -- ($(O)!1.5!(A'')$) node[pos=1.05] {$n$};
	
	      % Draw the arcs and labels
	      \drawlabeledarcdelta{(A)}{\incidentangle+180}{-\refractedangle}
	        {\arcradius}{$r$}{\arclabelradius}
	      \drawarcdelta{(A')}{\incidentangle+\angleindrop+180}{\refractedangle}
	        {\arcradius}
	      \drawarcdelta{(A')}{\incidentangle+\angleindrop+180}{-\refractedangle}
	        {\arcradius}
	      \drawarcdelta{(A'')}{\incidentangle+2*\angleindrop+180}{\refractedangle}
	        {\arcradius}
	    \end{scope}
	
	    % Draw the arcs of the angles of the rays leaving the raindrop.  Note
	    % that the angles are identical to the original angle of incidence.
	    \drawarcdelta{(A'')}{\incidentangle+2*\angleindrop}{\incidentangle}
	      {\arcradius-1pt}
	    \drawarcdelta{(A'')}{\incidentangle+2*\angleindrop}{\incidentangle}
	      {\arcradius+1pt}
	  }
	
	  % Mark the center of the raindrop
	  \draw[fill] (O) circle (1.5pt);
	\end{tikzpicture}
	\end{document}
snippet nodes rectangle-node-with-diagonal-fill
	% Rectangle node with diagonal fill
	% Author: Mark Wibrow
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Rectangle node with diagonal fill
	:Tags: Nodes and shapes, Customization
	
	An example on how to customize node shapes. Creating new shapes is not trivial, and
	requires careful reading of the PGF and TikZ manual. It is also very helpful to look at
	the PGF source code to see how existing shapes are implemented. You can usually "borrow" 
	most of the boiler plate code from the library. 
	
	:Author: Mark Wibrow
	:Source: The PGF and TikZ `SF help forum`_
	
	.. _SF help forum: http://sourceforge.net/forum/forum.php?thread_id=1652136&forum_id=477363
	\end{comment}
	
	\begin{document}
	
	\makeatletter
	
	% Shape 'rectangle with diagonal fill'
	%
	% Inherits everything from rectangle except the behind background path.
	%
	\pgfdeclareshape{rectangle with diagonal fill}
	{
	    % This bit from \pgflibarayshapes.code.tex
	    \inheritsavedanchors[from=rectangle]
	    \inheritanchorborder[from=rectangle]
	    \inheritanchor[from=rectangle]{north}
	    \inheritanchor[from=rectangle]{north west}
	    \inheritanchor[from=rectangle]{north east}
	    \inheritanchor[from=rectangle]{center}
	    \inheritanchor[from=rectangle]{west}
	    \inheritanchor[from=rectangle]{east}
	    \inheritanchor[from=rectangle]{mid}
	    \inheritanchor[from=rectangle]{mid west}
	    \inheritanchor[from=rectangle]{mid east}
	    \inheritanchor[from=rectangle]{base}
	    \inheritanchor[from=rectangle]{base west}
	    \inheritanchor[from=rectangle]{base east}
	    \inheritanchor[from=rectangle]{south}
	    \inheritanchor[from=rectangle]{south west}
	    \inheritanchor[from=rectangle]{south east}
	
	    \inheritbackgroundpath[from=rectangle]
	    \inheritbeforebackgroundpath[from=rectangle]
	    \inheritbehindforegroundpath[from=rectangle]
	    \inheritforegroundpath[from=rectangle]
	    \inheritbeforeforegroundpath[from=rectangle]
	
	   % Now do the background filling.
	    \behindbackgroundpath{%
	        % \southwest and \northeast defined by rectangle, but
	        % (somewhat annoyingly) not \southeast and \northwest
	        % so use this workaround.
	        \pgfextractx{\pgf@xa}{\southwest}%
	        \pgfextracty{\pgf@ya}{\southwest}%
	        \pgfextractx{\pgf@xb}{\northeast}%
	        \pgfextracty{\pgf@yb}{\northeast}%
	        \ifpgf@diagonal@lefttoright
	            \def\pgf@diagonal@point@a{\pgfpoint{\pgf@xa}{\pgf@yb}}%
	            \def\pgf@diagonal@point@b{\pgfpoint{\pgf@xb}{\pgf@ya}}%
	        \else
	            \def\pgf@diagonal@point@a{\southwest}%
	            \def\pgf@diagonal@point@b{\northeast}%
	        \fi
	        \pgfpathmoveto{\pgf@diagonal@point@a}%
	        \pgfpathlineto{\northeast}%
	        \pgfpathlineto{\pgfpoint{\pgf@xb}{\pgf@ya}}%
	        \pgfpathclose
	        \ifpgf@diagonal@lefttoright
	            \color{\pgf@diagonal@top@color}%
	        \else
	            \color{\pgf@diagonal@bottom@color}%
	        \fi
	        \pgfusepath{fill}%
	        \pgfpathmoveto{\pgfpoint{\pgf@xa}{\pgf@yb}}%
	        \pgfpathlineto{\southwest}%
	        \pgfpathlineto{\pgf@diagonal@point@b}%
	        \pgfpathclose
	        \ifpgf@diagonal@lefttoright
	            \color{\pgf@diagonal@bottom@color}%
	        \else
	            \color{\pgf@diagonal@top@color}%
	        \fi
	        \pgfusepath{fill}%
	    }
	}
	
	\newif\ifpgf@diagonal@lefttoright
	\def\pgf@diagonal@top@color{white}
	\def\pgf@diagonal@bottom@color{gray!30}
	
	% Use these with PGF
	\def\pgfsetdiagonaltopcolor#1{\def\pgf@diagonal@top@color{#1}}%
	\def\pgfsetdiagonalbottomcolor#1{\def\pgf@diagonal@bottom@color{#1}}%
	\def\pgfsetdiagonallefttoright{\pgf@diagonal@lefttorighttrue}%
	\def\pgfsetdiagonalrighttoleft{\pgf@diagonal@lefttorightfalse}%
	
	% Use these with TikZ
	\tikzoption{diagonal top color}{\pgfsetdiagonaltopcolor{#1}}
	\tikzoption{diagonal bottom color}{\pgfsetdiagonalbottomcolor{#1}}
	\tikzoption{diagonal from left to right}[]{\pgfsetdiagonallefttoright}
	\tikzoption{diagonal from right to left}[]{\pgfsetdiagonalrighttoleft}
	\makeatother
	
	\begin{tikzpicture}[inner sep=6pt,scale=2]
	    \node[shape=rectangle with diagonal fill, diagonal from right to left, 
	          draw] at (1,1) {\Large 1};
	    \node[rectangle with diagonal fill,
	        diagonal top color=red!50,
	        diagonal bottom color=blue!30,
	        diagonal from left to right,
	        draw] 
	        {\Large\bf 2};
	    \node[rectangle with diagonal fill,
	        diagonal top color=yellow!50,
	        draw] 
	        at (0,1) {\Large\bf 3};
	    \node[rectangle with diagonal fill,
	        diagonal top color=green!50,
	        diagonal bottom color=black!30,
	        diagonal from left to right,
	        draw] at (1,0)
	        {\Large\bf 4};    
	        
	\end{tikzpicture}
	
	
	\end{document}
snippet trees red-black-tree
	% Red-black tree
	% Author: Madit
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Red-black tree
	:Tags: Trees;Graphs
	:Author: Madit
	:Slug: red-black-tree
	
	A red-black tree is a special type of binary tree, used in computer science
	to organize pieces of comparable data, such as text fragments or numbers.
	(Wikipedia)
	\end{comment}
	\usetikzlibrary{arrows}
	
	\tikzset{
	  treenode/.style = {align=center, inner sep=0pt, text centered,
	    font=\sffamily},
	  arn_n/.style = {treenode, circle, white, font=\sffamily\bfseries, draw=black,
	    fill=black, text width=1.5em},% arbre rouge noir, noeud noir
	  arn_r/.style = {treenode, circle, red, draw=red, 
	    text width=1.5em, very thick},% arbre rouge noir, noeud rouge
	  arn_x/.style = {treenode, rectangle, draw=black,
	    minimum width=0.5em, minimum height=0.5em}% arbre rouge noir, nil
	}
	
	\begin{document}
	\begin{tikzpicture}[->,>=stealth',level/.style={sibling distance = 5cm/#1,
	  level distance = 1.5cm}] 
	\node [arn_n] {33}
	    child{ node [arn_r] {15} 
	            child{ node [arn_n] {10} 
	            	child{ node [arn_r] {5} edge from parent node[above left]
	                         {$x$}} %for a named pointer
								child{ node [arn_x] {}}
	            }
	            child{ node [arn_n] {20}
								child{ node [arn_r] {18}}
								child{ node [arn_x] {}}
	            }                            
	    }
	    child{ node [arn_r] {47}
	            child{ node [arn_n] {38} 
								child{ node [arn_r] {36}}
								child{ node [arn_r] {39}}
	            }
	            child{ node [arn_n] {51}
								child{ node [arn_r] {49}}
								child{ node [arn_x] {}}
	            }
			}
	; 
	\end{tikzpicture}
	\end{document}
snippet arrows refraction
	% Refraction
	% Author: Jimi Oke
	\documentclass[11pt]{article}
	 \usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Refraction - Snell's Law
	:Tags: Arrows;Decorations;Postactions;Markings;Angles;Optics;Physics;Geometry;Mathematics
	:Author: Jimi Oke
	:Slug: refraction
	When light travels from one medium to another (for instance, from light to water), its speed changes, causes the rays to bend. This phenomenon, called refraction, is governed by Snell's Law, which states that the ratio of the sine of the angle of incidence to that of the angle of refraction is a constant (known as the index of refraction).
	\end{comment}
	\usetikzlibrary{arrows,shapes,positioning}
	\usetikzlibrary{decorations.markings}
	\tikzstyle arrowstyle=[scale=1]
	\tikzstyle directed=[postaction={decorate,decoration={markings,
	    mark=at position .65 with {\arrow[arrowstyle]{stealth}}}}]
	\tikzstyle reverse directed=[postaction={decorate,decoration={markings,
	    mark=at position .65 with {\arrowreversed[arrowstyle]{stealth};}}}]
	\begin{document}
	\begin{tikzpicture}
	
	    % define coordinates
	    \coordinate (O) at (0,0) ;
	    \coordinate (A) at (0,4) ;
	    \coordinate (B) at (0,-4) ;
	    
	    % media
	    \fill[blue!25!,opacity=.3] (-4,0) rectangle (4,4);
	    \fill[blue!60!,opacity=.3] (-4,0) rectangle (4,-4);
	    \node[right] at (2,2) {Air};
	    \node[left] at (-2,-2) {Water};
	
	    % axis
	    \draw[dash pattern=on5pt off3pt] (A) -- (B) ;
	
	    % rays
	    \draw[red,ultra thick,reverse directed] (O) -- (130:5.2);
	    \draw[blue,directed,ultra thick] (O) -- (-70:4.24);
	
	    % angles
	    \draw (0,1) arc (90:130:1);
	    \draw (0,-1.4) arc (270:290:1.4) ;
	    \node[] at (280:1.8)  {$\theta_{2}$};
	    \node[] at (110:1.4)  {$\theta_{1}$};
	\end{tikzpicture}
	\end{document}
snippet paths regular-polygons
	% Regular polygons
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Regular polygons
	:Tags: Paths, Foreach, PGF 1.18
	
	Example of how to draw `regular polygons`_ using a ``\foreach`` loop inside a path.
	The angles have been calculated manually. 
	
	.. admonition:: Update. PGF 1.18
	
	   - Fractional angular values are now supported 
	   - Regular polygons are now available as node shapes! See the `node shapes example`_ 
	     or the manual for more details.
	
	
	:Source: The `pgf-help forum`_
	
	.. _regular polygons: http://mathworld.wolfram.com/RegularPolygon.html
	.. _pgf-help forum: http://sourceforge.net/forum/message.php?msg_id=4284541
	.. _node shapes example: /pgftikzexamples/node-shapes/
	
	\end{comment}
	
	\begin{document}
	
	% Radius of regular polygons
	\newdimen\R
	\R=0.8cm
	
	\begin{tikzpicture}
	    % Indicate the boundary of the regular polygons
	    \draw [thin,black!20] circle (\R) ;
	    \fill[black!20] circle (2pt);
	    \draw (0:\R) \foreach \x in {120,240} {
	            -- (\x:\R)
	        } -- cycle (90:\R) node[above] {$n=3$} ;
	    \draw[xshift=2.5\R] (0:\R) \foreach \x in {90,180,...,359} {
	            -- (\x:\R)
	        } -- cycle (90:\R) node[above] {$n=4$} ;
	    \draw[xshift=5.0\R] (0:\R) \foreach \x in {72,144,...,359} {
	            -- (\x:\R)
	        } -- cycle (90:\R) node[above] {$n=5$} ;
	    \begin{scope}[yshift=-3\R]
	        \draw (0:\R) \foreach \x in {60,120,...,359} {
	                -- (\x:\R)
	            }-- cycle (90:\R) node[above] {$n=6$} ;
	            
	        % 360/7 = 51.4286 For PGF v < 1.18 we have to round to the nearest
	        % integer. Newer version support fractional angle values.
	        % For a more accurate result use the sequence
	        % {51, 103, 154, 206, 257, 309}
	        %
	        \draw[xshift=2.5\R] (0:\R) \foreach \x in {51.4286,102.8571,...,359} {
	                -- (\x:\R)
	            }-- cycle (90:\R) node[above] {$n=7$} ;
	        \draw[xshift=5.0\R] (0:\R) \foreach \x in {45,90,...,359} {
	                -- (\x:\R)
	            } -- cycle (90:\R) node[above] {$n=8$} ;
	    \end{scope}
	    \draw[yshift=-6.0\R] (0:\R) \foreach \x in {10,20,...,359} {
	            -- (\x:\R)
	        } -- cycle (90:\R) node[above] {$n=36$} ;
	\end{tikzpicture}
	
	\end{document}
snippet rgb rgb-color-mixing
	% RGB color mixing
	% Author: Henrik Skov Midtiby <http://midtiby.blogspot.com/>
	\documentclass{article}
	% Set target color model to RGB
	\usepackage[rgb]{xcolor}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: RGB color mixing
	
	The `hue (H), saturation (S), value (V) color model`__ is an intuitive way of specifying colors.
	Internally PGF only supports the RGB, CMY, CMYK and Gray color models, but xcolor_ can
	automatically convert from HSV to your target color model.
	
	.. __: http://en.wikipedia.org/wiki/HSL_color_space
	.. _xcolor: http://www.ctan.org/tex-archive/help/Catalogue/entries/xcolor.html
	
	This illustration shows samples of the HSV color space and how they relate to the RGB color model. The saturation and value parameters are set to S=V=1.
	
	:Source: `PGF-users mailing list`__
	
	.. __: http://www.nabble.com/The-hsb-color-model-td20118168.html
	 
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	% Create the background in the circle, by drawing several slices
	% each with a constant color given by the angle (which is converted
	% to a color usin the hue, saturation and brightness color space).
	\foreach \x in {0,0.0111,...,1} {
		\definecolor{currentcolor}{hsb}{\x, 1, 1}
		\draw[draw=none, fill=currentcolor]
			(-360*\x+88:2) -- (-360*\x+88:3.8)
			-- (-360*\x+92:3.8) -- (-360*\x+92:2) -- cycle;
	}
	
	% On top of the background draw three spotlights of the primary colors
	% red, green and blue (they are primary in an additive colorspace where
	% light are mixed)
	\draw [draw=none, fill=red] (90:1.5) circle (2cm);
	\draw [draw=none, fill=green] (-30:1.5) circle (2cm);
	\draw [draw=none, fill=blue] (210:1.5) circle (2cm);
	
	% Draw areas where two of the three primary colors are overlapping.
	% These areas are the secondary colors yellow, cyan and magenta.
	\begin{scope} % red + green = yellow
		\clip (90:1.5) circle(2cm);
		\draw [draw=none, fill=yellow] (-30:1.5) circle (2cm);
	\end{scope} % blue + red = magenta
	\begin{scope}
		\clip (210:1.5) circle(2cm);
		\draw [draw=none, fill=magenta] (90:1.5) circle (2cm);
	\end{scope}
	\begin{scope} % green + blue = cyan
		\clip (-30:1.5) circle(2cm);
		\draw [draw=none, fill=cyan] (210:1.5) circle (2cm);
	\end{scope}
	
	% Draw the center area which consists of all the primary colors.
	\begin{scope} % red + green + blue = white
		\clip (90:1.5) circle(2cm);
		\clip (210:1.5) circle(2cm);
		\draw [draw=none, fill=white] (-30:1.5) circle (2cm);	
	\end{scope}
	
	% Draw a circle with markings along the perimeter, indicating which angles
	% the hue function connects to certain colors.
	\draw (0, 0) circle (3.9cm);
	\foreach \x  in {0, 30, ..., 330}
		\draw (-\x+90:3.8) -- (-\x+90:4.0) (-\x+90:4.4) node {$\x^\circ$};
	
	% Add labels with names of the primary and secondary colors.
	\foreach \x/\text in {0/red, 60/yellow, 120/green, 180/cyan, 240/blue, 300/magenta}
		\draw (-\x+90:5.5) node {\text};
	\end{tikzpicture}
	
	
	\end{document}
snippet fadings rgb-triangle
	% Author: Andrew Stacey
	% http://tex.stackexchange.com/questions/14613
	% A triangle with red, blue and green corners and weighted color within
	% Based on fadings
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\usepackage{subfig}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: RGB triangle
	:Tags: Fadings; Color manipulation
	:Author: Andrew Stacey
	:Slug: rgb-triangle
	\end{comment}
	\usetikzlibrary{fadings}
	\pagestyle{empty}
	\begin{document}
	\begin{tikzpicture}
	  \fill[green] (90:4) -- (210:4) -- (-30:4) -- cycle;
	  \fill[blue,path fading=west] (90:4) -- (210:4) -- (-30:4) -- cycle;
	  \fill[red,path fading=south] (90:4) -- (210:4) -- (-30:4) -- cycle;
	\end{tikzpicture}
	\end{document}
snippet rna rna-codons-table
	% RNA codons
	% Author: Florian Hollandt
	\documentclass{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: RNA codons table
	
	A table of the `RNA codons`_ together with the amino acids they encode.
	
	.. _RNA codons: http://en.wikipedia.org/wiki/Codons
	
	\end{comment}
	
	\setlength\oddsidemargin{0in}
	
	
	\begin{document}
	
	\ttfamily
	\footnotesize
	
	\pagestyle{empty}
	
	\begin{center}
	\begin{tikzpicture}
	\tikzstyle{every node}=[inner sep=1.7pt,anchor=center]
	%	to_x and from_x styles denote bonds terminating or starting in labeled nodes. x denotes the number of letters in the node label.
	\tikzstyle{to_1}=[shorten >=5pt]
	\tikzstyle{to_1i}=[shorten >=6pt]
	\tikzstyle{to_2}=[shorten >=7pt]
	\tikzstyle{to_3}=[shorten >=8pt]
	\tikzstyle{from_1}=[shorten <=5pt]
	\tikzstyle{from_1i}=[shorten <=6pt]
	\tikzstyle{from_2}=[shorten <=8pt]
	\begin{scope}
	\draw [ultra thick] circle(1cm);
	\draw [ultra thick] (0:4)--(180:4) (90:4)--(270:4);
	\foreach \a/\l in {45/A,135/G,225/C,315/U}{
		\node at (90-\a:0.5cm) {\l};
	}
	\draw [very thick] circle(2cm);
	\foreach \A in {90,0,270,180}{
		\foreach \a/\l in {22.5/A,45/G,67.5/C,90/U}{
			\draw [very thick] (\A+\a:1) -- (\A+\a:4);
			\node at (\A-\a+11.25:1.5) {\l};
		}
	}
	\draw circle(4cm) (0:4)--(180:4) (90:4)--(270:4);
	\foreach \A in {90,180,270,0}{
		\foreach \a in {0,22.5,45,67.5}{
			\foreach \i/\l in {5.625/A,11.25/G,16.875/C,22.5/U}{
				\draw (\A+\a+\i:2) -- (\A+\a+\i:4);
				\node at (\A-\a-\i+2.8125:3) {\l};
			}
		}
	}
	\end{scope}
	\begin{scope}[scale=0.5]	% Lysine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (90:8.2)
					arc(90:90-2*5.625:8.2);
	\path (90-0.8*5.625:14.3) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}  
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center) 	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_3]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- ++(270:1) node (Cd) {}
					-- ++(210:1) node (Ce) {}
					-- ++(150:1) node (Cf) {NH$_{\mbox{2}}$};
	\end{scope}
	\begin{scope}[scale=0.5]	% Asparagine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (90-2*5.625:8.2)
					arc(90-2*5.625:90-4*5.625:8.2);
	\path (90-3.5*3.625-3:13.3) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {} 
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- +(30:1) node (Cd) {NH$_{\mbox{2}}$};
	\draw[to_1i] (Cc.center)	-- +(270:1) node (O) {};
	\draw[to_1]  (Cc.210)		-- (O.150);
	\path (O.center) node {O};
	\end{scope}
	\begin{scope}[scale=0.5]	% Arginine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (90-22.5:8.2)
					arc(90-22.5:90-33.75:8.2);
	\path (90-3.7*5.625:16) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- ++(270:1) node (Cd) {}
					-- ++(330:1) node (NH1) {NH};
	\draw[from_2,to_3]  (NH1.center)	-- ++(30:1) node (Ce) {}
					-- ++(330:1) node {NH$_{\mbox{2}}$};
	\draw[to_1i] (Ce.center)	-- ++(90:1) node (N2) {};
	\draw[to_1]  (Ce.150)		-- (N2.210);
	\path (N2) node {N};
	\end{scope}
	\begin{scope}[scale=0.5]	% Serine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (90-22.5-2*5.625:8.2)
					arc(90-33.75:90-33.75-11.25:8.2);
	\path (90-7*5.625:12.5) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){} -- ++(210:1) node (Cc) {OH};
	\end{scope}
	\begin{scope}[scale=0.5]	% Threonine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (90-45:8.2)
					arc(90-45:90-67.5:8.2);
	\path (90-45-0.8*11.25:12.5) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {} (Cb.center)
					-- +(210:1) node {OH};
	\end{scope}
	\begin{scope}[scale=0.5]	% Methionine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (90-67.5:8.2)
					arc(90-67.5:90-67.5-5.625:8.2);
	\path (90-67.5-0.5*5.625:14) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_1]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- ++(30:1) node (Cd) {S};
	\draw[from_1] (Cd.center)	-- +(330:1);
	\end{scope}
	\begin{scope}[scale=0.5]	% Isoleucine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (0:8.2)
					arc(0:11.25:8.2);
	\path (1.0*5.625:12.4) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw	     (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- +(30:1) node (Cd) {} (Cb.center)
					-- +(210:1) node (Ce) {};
	\end{scope}
	\begin{scope}[scale=0.5]	% Glutamic acid
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (0:8.2)
					arc(0:-11.25:8.2);
	\path (-1.3*5.625:15) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)  	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)  		-- +(90:1);
	\draw[to_3]  (zero.center) 	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_1i] (zero.center) 	-- ++(270:1) node(Cb){} 
					-- ++(330:1) node (Cc) {} 
					-- ++(270:1) node (Cd) {}
					-- ++(330:1) node (NH) {OH};
	\draw[to_1]  (Cd.center) 	-- +(210:1) node (O) {};
	\draw[to_1i] (Cd.270) 		-- (O.300);
	\path (O.center) node {O};
	\end{scope}
	\begin{scope}[scale=0.5]	% Aspartic acid
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-11.25:8.2)
					arc(-11.25:-22.5:8.2);
	\path (-11.25-5.625:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center) 	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- +(30:1) node (Cd) {OH};
	\draw[to_1i] (Cc.center)	-- +(270:1) node (O) {};
	\draw[to_1]  (Cc.210)		-- (O.150);
	\path (O.center) node {O};
	\end{scope}
	\begin{scope}[scale=0.5]	% Glycine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-22.5:8.2)
					arc(-22.5:-45:8.2);
	\path (-33.75-1*5.625:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\end{scope}
	\begin{scope}[scale=0.5]	% Alanine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-45:8.2)
					arc(-45:-68.25:8.2);
	\path (-45-11.25:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw	     (zero.center)	-- ++(270:1) node(Cb){};
	\end{scope}
	\begin{scope}[scale=0.5]	% Valine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-68.25:8.2)
					arc(-68.25:-90:8.2);
	\path (-68.25-0.8*11.25:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw (zero.center)		-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {};
	\end{scope}
	\begin{scope}[scale=0.5]	% Glutamine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-90:8.2)
					arc(-90:-101.25:8.2);
	\path (-90.25-5.625:12.5) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_2]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_3]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- ++(270:1) node (Cd) {}
					-- ++(330:1) node (NH) {NH$_{\mbox{2}}$};
	\draw[to_1]  (Cd.center)	-- +(210:1) node (O) {};
	\draw[to_1i] (Cd.270)		-- (O.300);
	\path (O.center) node {O};
	\end{scope}
	\begin{scope}[scale=0.5]	% Histidine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (-101.25:8.2)
					arc(-101.25:-101.25-11.25:8.2);
	\path (-101.25-1.2*5.625:15.5) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw        (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node(Cc){};
	\draw[to_2]  (Cc.center)	-- ++(108-1*72:1) node (Cd) {}
					-- ++(108-2*72:1) node (Ce) {NH};
	\draw[from_1,to_1] (Ce.center)	-- ++(108-3*72:1) node (Cf) {}
					-- ++(108-4*72:1) node (Cg) {};
	\draw[from_1] (Cg.center)	-- (Cc.center);
	\draw         (Cc.198+2*72)	-- (Cd.198+1*72);
	\draw[from_1] (Cg.72)		-- (Cf.198+4*72);
	\draw (Cg.center) node {N};
	\end{scope}
	\begin{scope}[scale=0.5]	% Arginine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (-90-22.5:8.2)
					arc(-90-22.5:-90-45:8.2);
	\path (-90-7.7*5.625:12.3) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- ++(270:1) node (Cd) {}
					-- ++(330:1) node (NH1) {NH};
	\draw[from_1i,to_3] (NH1.center)-- ++(30:1) node (Ce) {}
					-- ++(330:1) node {NH$_{\mbox{2}}$};
	\draw[to_1]  (Ce.center)	-- ++(90:1) node (N2) {};
	\draw[shorten >=4pt] (Ce.150)	-- (N2.210);
	\path (N2) node {N};
	\end{scope}
	\begin{scope}[scale=0.5]	% Proline
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (-90-45:8.2)
					arc(-90-45:-90-45-22.25:8.2);
	\path (-90-10.5*5.625:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_2]  (zero.center)	-- ++(150:1) node (nh) {NH$_{\mbox{2}}^+$};
	\draw        (zero.center)	-- ++(270:1) node(Cb){};
	\path        (Cb.center)	-- +(150:1) node (x) {};
	\path        (x.center)  	+(170:1) node (Cd) {};
	\path        (x.center)  	+(250:1) node (Cc) {};
	\draw[to_3]  (Cb.center)	-- (Cc.center)
					-- (Cd.center)
					-- (nh.center);
	\end{scope}
	\begin{scope}[scale=0.5]	% Leucine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (180:8.2)
					arc(180:180+22.25:8.2);
	\path (-90-14.5*5.625:13) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw (zero.center)		-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {}
					-- +(30:1) node (Cd) {} (Cc.center)
					-- +(270:1) node (Ce) {};
	\end{scope}
	\begin{scope}[scale=0.5]	% Tyrosine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (180-11.25:8.2)
					arc(180-11.25:180-22.5:8.2);
	\path (180-3*5.625:16) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw 	     (zero.center)	-- ++(270:1) node(Cb){};
	\draw	     (Cb.center)	-- ++(330:1) node (Cc) {}
					-- ++(30:1) node (Cd) {}
					-- ++(330:1) node (Ce) {}
					-- ++(270:1) node (Cf) {}
					-- ++(210:1) node (Cg) {}
					-- ++(150:1) node (Ch) {}
					-- ++(90:1);
	\draw        (Cc.330)		-- (Cd.270);
	\draw        (Ce.210)		-- (Cf.150);
	\draw        (Cg.90)		-- (Ch.30);
	\draw[to_1i] (Cf.center)	-- +(330:1) node (OH) {OH};
	\end{scope}
	\begin{scope}[scale=0.5]	% Tryptophane
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (180-22.5-5.625:8.2)
					arc(180-22.5-5.625:180-22.5-11.25:8.2);
	\path (180-22.5-1.8*5.625:16) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw 	     (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node(Cc){};
	\draw[to_2]  (Cc.center)	-- ++(108-1*72:1) node (Cd) {}
					-- ++(108-2*72:1) node (Ce) {NH};
	\draw[from_1](Ce.center)	-- ++(108-3*72:1) node (Cf) {}
					-- ++(108-4*72:1) node (Cg) {};
	\draw 	     (Cg.center)	-- (Cc.center);
	\draw        (Cc.198+2*72)	-- (Cd.198+1*72);
	\draw 	     (Cg.72)		-- (Cf.198+4*72);
	\draw	     (Cg.center)	-- ++(240:1) node (Ch) {}
					-- ++(300:1) node (Ci) {}
					-- ++(0:1) node (Cj) {}
					-- ++(60:1) node (Ck) {}
					-- ++(120:1) node (Cl) {};
	\draw	     (Ch.0)		-- (Ci.60);
	\draw	     (Cj.120)		-- (Ck.180);
	\end{scope}
	\begin{scope}[scale=0.5]	% Cysteine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (180-45+11.25:8.2)
					arc(180-45+11.25:180-45:8.2);
	\path (180-45+11.25-1*7.625:12) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(210:1) node (Cc) {SH};
	\end{scope}
	\begin{scope}[scale=0.5]	% Serine
	\draw[ultra thick,shorten >=1pt,shorten <=2pt] (90+45:8.2)
					arc(90+45:90+45-22.5:8.2);
	\path (90+45-11.25+0*5.625:14) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw[to_2]  (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(330:1) node (Cc) {OH};
	\end{scope}
	\begin{scope}[scale=0.5]	% Leucine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (90+22.5:8.2)
					arc(90+22.5:90+11.25:8.2);
	\path (90+22.5-1.2*5.625:16) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw 	     (zero.center)	-- ++(270:1) node(Cb){}
					-- ++(210:1) node (Cc) {}
					-- +(150:1) node (Cd) {} (Cc.center)
					-- +(270:1) node (Ce) {};
	\end{scope}
	\begin{scope}[scale=0.5]	% Phenylalanine
	\draw[ultra thick,shorten >=2pt,shorten <=2pt] (90+11.25:8.2)
					arc(90+11.25:90:8.2);
	\path (90+1.5*5.625:13) node (zero) {};
	\draw[to_2]  (zero.center)	-- ++(30:1) node (CO) {}
					-- +(330:1) node [anchor=base] {O$^{\mbox{-}}$};
	\draw[to_1]  (CO.center)	-- +(90:1) node (Od) {O};
	\draw[to_1i] (CO.30)		-- +(90:1);
	\draw[to_3]  (zero.center)	-- ++(150:1) node {NH$_{\mbox{3}}^{\mbox{+}}$};
	\draw	     (zero.center)	-- ++(270:1) node(Cb){};
	\draw	     (Cb.center)	-- ++(210:1) node (Cc) {}
					-- ++(150:1) node (Cd) {}
					-- ++(210:1) node (Ce) {}
					-- ++(270:1) node (Cf) {}
					-- ++(330:1) node (Cg) {}
					-- ++(30:1) node (Ch) {}
					-- ++(90:1);
	\draw	     (Cc.210)		-- (Cd.270);
	\draw	     (Ce.330)		-- (Cf.30);
	\draw	     (Cg.90)		-- (Ch.150);
	\end{scope}
	\node at (90-1*5.625:4.5) {K};
	\node at (90-3*5.625:4.5) {N};
	\node at (90-5*5.625:4.5) {R};
	\node at (90-7*5.625:4.5) {S};
	\node at (90-10*5.625:4.5) {T};
	\node at (90-12.5*5.625:4.5) {I};
	\node at (90-13.7*5.625:4.7) {M / $\star$};
	\node at (90-15*5.625:4.5) {I};
	\node at (90-17*5.625:4.5) {E};
	\node at (90-19*5.625:4.5) {D};
	\node at (90-22*5.625:4.5) {G};
	\node at (90-26*5.625:4.5) {A};
	\node at (90-30*5.625:4.5) {V};
	\node at (90-33*5.625:4.5) {Q};
	\node at (90-35*5.625:4.5) {H};
	\node at (90-38*5.625:4.5) {R};
	\node at (90-42*5.625:4.5) {P};
	\node at (90-46*5.625:4.5) {L};
	\node at (90-49*5.625:4.5) {$\dagger$};
	\node at (90-51*5.625:4.5) {Y};
	\node at (90-52.3*5.625:4.5) {$\dagger$};
	\node at (90-53.3*5.625:4.5) {W};
	\node at (90-55*5.625:4.5) {C};
	\node at (90-58*5.625:4.5) {S};
	\node at (90-61*5.625:4.5) {L};
	\node at (90-63*5.625:4.5) {F};
	\end{tikzpicture}
	\end{center}
	
	\end{document}
snippet helix rooty-helix
	% Rooty helix
	% Author: Felix Lindemann
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usetikzlibrary{calc}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Rooty helix
	
	The idea of the rooty-helix is very simple. One starts e.g. with the length of 1, adds a right angle with the length of 1 and the hypotenuse equals \sqrt{2}. If one continues with \sqrt{2} repeating the procedure (adding a right angle with the length of 1) the hypotenuse is \sqrt{3}. And so on and so on. At some point due to the iterations some triangles are overpainted. Because of this, one repaints the overpainted triangles
	\end{comment}
	
	\begin{document}
	
	\pagestyle{empty}
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	\xdefinecolor{darkgreen}{RGB}{175, 193, 36}
	\newcounter{cntShader}
	\newcounter{cntRoot}
	\setcounter{cntShader}{20}
	\def\couleur{darkgreen}
	
	\begin{tikzpicture}
	    \foreach \y in {86,38,15}{
	        \setcounter{cntShader}{1}
	        \coordinate (a) at (0,0);
	        \coordinate (b) at (0:1);
	        \foreach \x in {1,...,\y}{%
	            \coordinate (c) at ($ (b)!1cm!270:(a) $);
	            \begin{pgfonlayer}{background}
	                \draw[fill=\couleur!\thecntShader] (a)--(b)--(c)--cycle;
	            \end{pgfonlayer}
	            \setcounter{cntRoot}{\x}
	            \addtocounter{cntRoot}{1}
	            \node[fill=white,draw,circle,inner sep=1pt] at (c)
	                {$\sqrt{\thecntRoot}$};
	            \coordinate (b) at (c);
	            \pgfmathsetcounter{cntShader}{\thecntShader+4}
	            \setcounter{cntShader}{\thecntShader}
	       }
	    }
	    \node[fill=white,draw,circle,inner sep=1pt] at (0:1) {$\sqrt{1}$};
	\end{tikzpicture}
	
	\end{document}
snippet rose rose-rhodonea-curve
	% Rose rhodonea curve
	% Author: Manuel Kirsch
	\documentclass [12pt]{scrartcl}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Rose rhodonea curve
	
	An example for creating plots with ``foreach`` and ``pgfpointxy``.
	It solves an equation for the parameters d from 1 to 6 an n from 1 to 9.
	There is still a bug in the formula which only strikes when ``\d > 5``.
	Increasing the number ``\n`` from 9 to 10 runs MiKTeX out of memory.
	
	\end{comment}
	
	\usetikzlibrary{shapes}
	
	\title{Rose-rhodonea-curve}
	\author{Manuel Kirsch}
	\begin{document}
	\thispagestyle{empty}
	\begin{tikzpicture}
	    \draw (-1, 1) node{$_n\backslash^d$};
	    \foreach \d in {1, 2, ..., 6} {
	        \draw (2.5 * \d - 2, 1) node{\d};
	    }
	    \foreach \n in {1, 2, ..., 9} {
	    \draw (-1, -2.5 * \n + 2) node{\n};
	        \foreach \d in {1, 2, ..., 6} { 
	            \fill[black!10!white] (2.5 * \d - 2, -2.5 * \n + 2) circle (1cm);
	    \ifnum\n=\d
	        \draw (2.5 * \d - 2, -2.5 * \n + 2) circle (0.5cm);
	    \else
	        \pgfplothandlerlineto
	        \pgfplotfunction{\x}{0, \d, ..., 180\d}{
	            \pgfpointxy     
	            {2.5 * \d + cos(\x) * sin(\n / \d * \x) - 2}
	            {-2.5 * \n + sin(\x) * sin(\n / \d * \x) + 2}
	        }
	    \pgfusepath{stroke}
	    \fi
	        }
	    }
	    \draw (7,-25.5) node [rounded rectangle, draw]
	        {$r = \sin\left(\frac{\Theta \cdot n}{d}\right)$};
	\end{tikzpicture}
	\end{document}
snippet foreach rotated-polygons
	% Rotated polygons
	% Author: Dr. rer. nat. Ismael Gutierrez Garcia
	\documentclass{article}
	\usepackage[usenames,dvipsnames,pdftex]{xcolor}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Rotated polygons
	:Tags: Foreach;Geometry;Decorative drawings
	:Author: Dr. rer. nat. Ismael Gutierrez Garcia
	:Slug: rotated-polygons
	
	Extending the rotated triangle example
	http://www.texample.net/tikz/examples/rotated-triangle/
	by Alain Matthes, here are rotated hexagon, pentagon and squares.
	\end{comment}
	\usepackage{ifthen}
	\begin{document}
	\newcounter{density}
	\setcounter{density}{20}
	\begin{tikzpicture}
	    \def\couleur{BlueGreen}
	    \path[coordinate] (0,0)  coordinate(A)
	                ++( 120:6cm) coordinate(B)
	                ++(60:6cm) coordinate(C)
	                ++(0:6cm) coordinate(D)
	                ++(-60:6cm) coordinate(E)
	                ++(240:6cm) coordinate(F)
	                ;
	    \draw[fill=\couleur!\thedensity] (A) -- (B) -- (C) --(D) -- (E) -- (F)-- cycle;
	    \foreach \x in {1,...,40}{%
	        \pgfmathsetcounter{density}{\thedensity+10}
	        \setcounter{density}{\thedensity}
	        \path[coordinate] coordinate(X) at (A){};
	        \path[coordinate] (A) -- (B) coordinate[pos=.10](A)
	                            -- (C) coordinate[pos=.10](B)
	                            -- (D) coordinate[pos=.10](C)
	                            -- (E) coordinate[pos=.10](D)
	                             -- (F) coordinate[pos=.10](E)
	                            -- (X) coordinate[pos=.10](F);
	        \draw[fill=\couleur!\thedensity] (A)--(B)--(C)-- (D) --(E) -- (F) -- cycle;
	    }
	\end{tikzpicture}
	
	\setcounter{density}{20}
	\begin{tikzpicture}
	    \def\couleur{LimeGreen}
	    \path[coordinate] (0,0)  coordinate(A)
	                ++( 144:10cm) coordinate(B)
	                ++(72:10cm) coordinate(C)
	                ++(0:10cm) coordinate(D)
	                ++(-72:10cm) coordinate(E)
	                                ;
	    \draw[fill=\couleur!\thedensity] (A) -- (B) -- (C) --(D) -- (E) --  cycle;
	    \foreach \x in {1,...,40}{%
	        \pgfmathsetcounter{density}{\thedensity+10}
	        \setcounter{density}{\thedensity}
	        \path[coordinate] coordinate(X) at (A){};
	        \path[coordinate] (A) -- (B) coordinate[pos=.10](A)
	                            -- (C) coordinate[pos=.10](B)
	                            -- (D) coordinate[pos=.10](C)
	                            -- (E) coordinate[pos=.10](D)
	                             -- (X) coordinate[pos=.10](E);
	        \draw[fill=\couleur!\thedensity] (A)--(B)--(C)-- (D) --(E)  -- cycle;
	    }
	\end{tikzpicture}
	
	\setcounter{density}{20}
	\begin{tikzpicture}
	    \def\couleur{OrangeRed}
	    \path[coordinate] (0,0)  coordinate(A)
	                ++( 90:12cm) coordinate(B)
	                ++(0:12cm) coordinate(C)
	                ++(-90:12cm) coordinate(D);
	    \draw[fill=\couleur!\thedensity] (A) -- (B) -- (C) --(D) -- cycle;
	    \foreach \x in {1,...,40}{%
	        \pgfmathsetcounter{density}{\thedensity+20}
	        \setcounter{density}{\thedensity}
	        \path[coordinate] coordinate(X) at (A){};
	        \path[coordinate] (A) -- (B) coordinate[pos=.10](A)
	                            -- (C) coordinate[pos=.10](B)
	                            -- (D) coordinate[pos=.10](C)
	                            -- (X) coordinate[pos=.10](D);
	        \draw[fill=\couleur!\thedensity] (A)--(B)--(C)-- (D) -- cycle;
	    }
	\end{tikzpicture}
	\end{document}
snippet foreach rotated-squares
	\documentclass{article}
	\usepackage{tikz,ifthen}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Rotated squares
	:Tags: Foreach, Paths
	
	A beautiful, but slightly psychedelic pattern. Note how commands from the 
	`ifthen`_ package have been used to alternate between black and red squares. 
	
	:Author: `Alain Matthes`_
	
	.. _ifthen: http://texcatalogue.sarovar.org/entries/ifthen.html
	.. _Alain Matthes: http://altermundus.fr/index.html
	
	\end{comment}
	
	\begin{document}
	\thispagestyle{empty}
	
	
	\begin{tikzpicture}
	    % Specify the initial square
	    \path (0,0) coordinate (A) (12,0) coordinate (B)
	          (12,12) coordinate (C) (0,12) coordinate (D);
	    \foreach \i in {1,...,14}{
	        \ifthenelse{\isodd{\i}}{\def\couleur{black}}{\def\couleur{red}}
	        \draw[fill=\couleur] (A)--(B)--(C)--(D)--cycle; 
	        \path (A) coordinate (TMP);
	        \path (A)--(B) coordinate[near end] (A)
	                 --(C) coordinate[near end] (B)
	                 --(D) coordinate[near end] (C)
	                 --(TMP) coordinate[near end] (D);
	    }
	\end{tikzpicture}
	
	
	\end{document}
snippet paths rotated-triangle
	\documentclass{article}
	\usepackage[usenames,dvipsnames,pdftex]{xcolor}
	\usepackage{tikz,ifthen}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Rotated triangle
	:Tags: Paths, Foreach
	
	A beautiful pattern created by rotating and scaling a triangle multiple times.
	Note the use of color fading to emphasis the illusion of depth. 
	
	.. _j-curve: http://en.wikipedia.org/wiki/J_curve
	
	:Author: `Alain Matthes`_
	:Source: `Altermundus.com`_
	
	.. _Altermundus.com: http://altermundus.com/pages/examples.html
	.. _Alain Matthes: http://altermundus.com/index.html
	
	\end{comment}
	
	\begin{document}
	\newcounter{density}
	\setcounter{density}{20}
	\begin{tikzpicture}
	    \def\couleur{MidnightBlue}
	    \path[coordinate] (0,0)  coordinate(A)
	                ++( 60:12cm) coordinate(B)
	                ++(-60:12cm) coordinate(C);
	    \draw[fill=\couleur!\thedensity] (A) -- (B) -- (C) -- cycle;
	    \foreach \x in {1,...,15}{%
	        \pgfmathsetcounter{density}{\thedensity+10}
	        \setcounter{density}{\thedensity}
	        \path[coordinate] coordinate(X) at (A){};
	        \path[coordinate] (A) -- (B) coordinate[pos=.15](A)
	                            -- (C) coordinate[pos=.15](B)
	                            -- (X) coordinate[pos=.15](C);
	        \draw[fill=\couleur!\thedensity] (A)--(B)--(C)--cycle;
	    }
	\end{tikzpicture}
	\end{document}
	% Name : RotateTriangle
	% Encoding : utf8
	% Engine : pdflatex
	% Author: Alain Matthes
snippet foreach rpm-disc
	% Routine to draw segmented circles for use as timing strobes
	% Author: Simon Martin
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: RPM disc
	:Tags: Foreach; Matrices;Engineering
	:Author: Simon Martin
	:Slug: rpm-disc
	
	This routine draws circles of specified radii that are divided into
	a definable number of alternating black and white segments. These discs
	can used to measure the speed of rotation of motors etc. When viewed
	under a light that is powered by mains electricity the patterns will
	appear stationary at certain rotation speeds. In Europe these speeds
	are given by 6000/N rpm - where N is the number of black segments.
	In the US and other areas that use a 60Hz mains frequency the formula
	becomes: 7200/N rpm.
	
	You can read about one application of discs of this type at:
	http://www.jeffree.co.uk/pages/speedmeasurement.html
	\end{comment}
	
	\newcommand{\segments}[3] {% draw circle divided into segments
	  % #1 = outer radius
	  % #2 = inner radius
	  % #3 = no of segments
	  % note number of segments is total number of black and white segments
	  % need to pass units with radius.
	  \def\radius{#1}
	  \def\nsegs{#3}
	  \def\segangle{360/\nsegs}
	  %draw dotted circle as guide for cutting out
	  \draw [dashed](0,0) circle (\radius);
	  \foreach \x in {1,3,...,\nsegs} %draw alternate segments
	      \filldraw[fill=black,draw=black] (0:0mm) -- ({(\x-1)*\segangle}:\radius )
	      arc ({(\x-1)*\segangle}:\x*\segangle:\radius ) -- cycle;
	  % draw an inner circle 
	  \draw[fill=white] circle(#2);}
	
	\begin{document}
	\begin{tikzpicture}
	  \matrix [column sep=-5mm, row sep=-5mm] {
	    \segments{7mm}{1mm}{12} & & \segments{7mm}{1mm}{18} \\
	          & \segments{21mm}{2mm}{6} & \\
	    \segments{7mm}{1mm}{24} & & \segments{7mm}{1mm}{30} \\};
	\end{tikzpicture}
	\end{document} 
snippet rule rule-based-diagram
	% Rule based diagram
	% Author: Remus Mihail Prunescu
	\documentclass{minimal}
	\usepackage[a4paper,margin=1cm,landscape]{geometry}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title:  Rule based diagram
	
	\end{comment}
	
	\usetikzlibrary{positioning,shadows,arrows}
	
	\begin{document}
	\begin{center}
	\begin{tikzpicture}[
	    fact/.style={rectangle, draw=none, rounded corners=1mm, fill=blue, drop shadow,
	        text centered, anchor=north, text=white},
	    state/.style={circle, draw=none, fill=orange, circular drop shadow,
	        text centered, anchor=north, text=white},
	    leaf/.style={circle, draw=none, fill=red, circular drop shadow,
	        text centered, anchor=north, text=white},
	    level distance=0.5cm, growth parent anchor=south
	]
	\node (State00) [state] {$S_{00}$} [->]
	    child{
	        node (Fact01) [fact] {$T_{01}$}
	        child{ [sibling distance=9cm]
	            node (State01) [state] {$S_{01}$}
	            child{
	                node (Fact02) [fact] {$T_{02}$}
	                child{ [sibling distance=4cm]
	                    node (State02) [state] {$S_{02}$}
	                    child{
	                        node (Fact03) [fact] {$T_{03}$}
	                        child{
	                            node (State03) [leaf] {$S_{03}$}
	                        }
	                    }
	                    child{
	                        node (Fact04) [fact] {$T_{04}$}
	                        child{ [sibling distance=1.2cm]
	                            node (State04) [state] {$S_{04}$}
	                            child{
	                                node (Fact05) [fact] {$T_{05}$}
	                                child{
	                                    node (State05) [leaf] {$S_{05}$}
	                                }
	                            }
	                            child{
	                                node (Fact06) [fact] {$T_{06}$}
	                                child{
	                                    node (State06) [leaf] {$S_{06}$}
	                                }
	                            }
	                            child{
	                                node (Fact07) [fact] {$T_{07}$}
	                                child{
	                                    node (State07) [leaf] {$S_{07}$}
	                                }
	                            }
	                            child{
	                                node (Fact08) [fact] {$T_{08}$}
	                                child{
	                                    node (State08) [leaf] {$S_{08}$}
	                                }
	                            }
	                            child{
	                                node (Fact09) [fact] {$T_{09.0}$}
	                                child{
	                                    node (Fact09-1) [fact] {$T_{09.1}$}
	                                    child{
	                                        node (State09) [leaf] {$S_{09}$}
	                                    }
	                                }
	                            }
	                        }
	                    }
	                }
	            }
	            child{ [sibling distance=4cm]
	                node (Fact10) [fact] {$T_{10}$}
	                child{
	                    node (State10) [state] {$S_{10}$}
	                    child{
	                        node (Fact11) [fact] {$T_{11}$}
	                        child{
	                            node (State11) [leaf] {$S_{11}$}
	                        }
	                    }
	                    child{
	                        node (Fact12) [fact] {$T_{12}$}
	                        child{
	                            node (State12) [state] {$S_{12}$}
	                            child{
	                                node (Fact13) [fact] {$T_{13}$}
	                                child{
	                                    node (State13) [leaf] {$S_{13}$}
	                                }
	                            }
	                            child{
	                                node (Fact14) [fact] {$T_{14}$}
	                                child{ [sibling distance=3cm]
	                                    node (State14) [state] {$S_{14}$}
	                                    child{
	                                        node (Fact15) [fact] {$T_{15}$}
	                                        child{
	                                            node (State15) [leaf] {$S_{15}$}
	                                        }
	                                    }
	                                    child{
	                                        node (Fact16) [fact] {$T_{16}$}
	                                        child{
	                                            node (State16) [leaf] {$S_{16}$}
	                                        }
	                                    }
	                                    child{
	                                        node (Fact17) [fact] {$T_{17}$}
	                                        child{ [sibling distance=1.2cm]
	                                            node (State17) [state] {$S_{17}$}
	                                            child{
	                                                node (Fact18) [fact] {$T_{18}$}
	                                                child{
	                                                    node (State18) [leaf] {$S_{18}$}
	                                                }
	                                            }
	                                            child{
	                                                node (Fact19) [fact] {$T_{19}$}
	                                                child{
	                                                    node (State19) [leaf] {$S_{19}$}
	                                                }
	                                            }
	                                            child{
	                                                node (Fact20) [fact] {$T_{20}$}
	                                                child{
	                                                    node (State20) [leaf] {$S_{20}$}
	                                                }
	                                            }
	                                            child{
	                                                node (Fact21) [fact] {$T_{21}$}
	                                                child{
	                                                    node (State21) [leaf] {$S_{21}$}
	                                                }
	                                            }
	                                            child{
	                                                node (Fact22) [fact] {$T_{22.0}$}
	                                                child{
	                                                    node (Fact22-1) [fact] {$T_{22.1}$}
	                                                    child{
	                                                        node (State22) [leaf] {$S_{22}$}
	                                                    }
	                                                }
	                                            }
	                                        }
	                                    }
	                                }
	                            }
	                        }
	                    }
	                }
	            }
	        }
	    }   
	;
	        
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet rule rules
	% Rules
	% Author: Remus Mihail Prunescu
	\documentclass{minimal}
	\usepackage[a4paper,margin=1cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title:  Rules
	:Page: 1
	
	\end{comment}
	
	\usepackage{multicol}
	\usetikzlibrary{positioning,shapes,shadows,arrows}
	
	\begin{document}
	
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	\tikzstyle{fact}=[rectangle, draw=none, rounded corners=1mm, fill=blue, drop shadow,
	        text centered, anchor=north, text=white]
	\tikzstyle{state}=[circle, draw=none, fill=orange, circular drop shadow,
	        text centered, anchor=north, text=white]
	\tikzstyle{leaf}=[circle, draw=none, fill=red, circular drop shadow,
	        text centered, anchor=north, text=white]
	\tikzstyle{comment}=[rectangle, draw=black, fill=black!60, rounded corners, drop shadow,
	        anchor=west, text=white, text width=6.5cm]
	
	\begin{multicols}{2}
	\begin{center}
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{00}$};
	    \node (Fact01) [fact,below=of State00] {$T_{01}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{01}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-01}
	        \nodepart{second}IF ($S_{00}$) Engine overheats
	        \nodepart{third}AND ($T_{01}$) Engine itself is not the cause
	        \nodepart{fourth}THEN ($S_{01}$) Cooling system is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{01}$};
	    \node (Fact01) [fact,below=of State00] {$T_{02}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{02}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-02}
	        \nodepart{second}IF ($S_{01}$) Cooling system is responsible for overheat
	        \nodepart{third}AND ($T_{02}$) Pressure gauge reading of FW is low
	        \nodepart{fourth}THEN ($S_{02}$) Loss of coolant occurs in FW loop
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{02}$};
	    \node (Fact01) [fact,below=of State00] {$T_{03}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{03}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-03}
	        \nodepart{second}IF ($S_{02}$) Loss of coolant occurs in FW loop
	        \nodepart{third}AND ($T_{03}$) FW coolant pump is not operating
	        \nodepart{fourth}THEN ($S_{03}$) Stopped FW coolant pump is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{02}$};
	    \node (Fact01) [fact,below=of State00] {$T_{04}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{04}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-04}
	        \nodepart{second}IF ($S_{02}$) Loss of coolant occurs in FW loop
	        \nodepart{third}AND ($T_{04}$) FW coolant pump is operating
	        \nodepart{fourth}THEN ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{04}$};
	    \node (Fact01) [fact,below=of State00] {$T_{05}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{05}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-05}
	        \nodepart{second}IF ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	        \nodepart{third}AND ($T_{05}$) Pressure gauge reading at suction valve of FW coolant pump is
	low
	        \nodepart{fourth}THEN ($S_{05}$) Closed suction valve of FW coolant pump is responsible for
	overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{04}$};
	    \node (Fact01) [fact,below=of State00] {$T_{06}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{06}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-06}
	        \nodepart{second}IF ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	        \nodepart{third}AND ($T_{06}$) Pressure gauge reading at delivery valve of FW coolant pump is
	high
	        \nodepart{fourth}THEN ($S_{06}$) Closed delivery valve of FW coolant pump is responsible for
	overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{04}$};
	    \node (Fact01) [fact,below=of State00] {$T_{07}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{07}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-07}
	        \nodepart{second}IF ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	        \nodepart{third}AND ($T_{07}$) Ammeter reading at motor of FW coolant pump is abnormal
	        \nodepart{fourth}THEN ($S_{07}$) Power decrease in motor of FW coolant pump is responsible for
	overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{04}$};
	    \node (Fact01) [fact,below=of State00] {$T_{08}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{08}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-08}
	        \nodepart{second}IF ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	        \nodepart{third}AND ($T_{08}$) Level gauge reading of expansion tank is low
	        \nodepart{fourth}THEN ($S_{08}$) There is a low water level in the expansion tank and bubbles in
	FW loop are responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{04}$};
	    \node (Fact01) [fact,below=of State00] {$T_{09.1}$} edge [<-] (State00);
	    \node (Fact02) [fact,below=of Fact01] {$T_{09.2}$} edge [<-] (Fact01);
	    \node (State01) [leaf,below=of Fact02] {$S_{09}$} edge [<-] (Fact02);
	    \node (Rule01) [comment,right=of Fact01, yshift=-0.45cm, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-09}
	        \nodepart{second}IF ($S_{04}$) Loss of coolant occurs in FW loop with pump operating
	        \nodepart{third}AND ($T_{09.1}$) Pressure gauge reading at delivery valve of FW coolant is low\newline AND ($T_{09.2}$) Pressure gauge reading at suction valve of FW coolant pump is normal
	        \nodepart{fourth}THEN ($S_{09}$) Impeller damage in FW coolant pump is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{01}$};
	    \node (Fact01) [fact,below=of State00] {$T_{10}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{10}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-10}
	        \nodepart{second}IF ($S_{01}$) Cooling system is responsible for overheat
	        \nodepart{third}AND ($T_{10}$) Pressure gauge reading of FW is normal
	        \nodepart{fourth}THEN ($S_{10}$) Enough coolant circulates in FW loop
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{10}$};
	    \node (Fact01) [fact,below=of State00] {$T_{11}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{11}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-11}
	        \nodepart{second}IF ($S_{10}$) Enough coolant circulates in FW loop
	        \nodepart{third}AND ($T_{11}$) Warm-up steam valve is open
	        \nodepart{fourth}THEN ($S_{11}$) Failure to close warm-up valve after startup of engine is
	responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{10}$};
	    \node (Fact01) [fact,below=of State00] {$T_{12}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{12}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-12}
	        \nodepart{second}IF ($S_{10}$) Enough coolant circulatcs in FW loop
	        \nodepart{third}AND ($T_{12}$) Temperature reading of FW at exit of heat exchanger is high
	        \nodepart{fourth}THEN ($S_{12}$) Heat exchanger is ineffective
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{12}$};
	    \node (Fact01) [fact,below=of State00] {$T_{13}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{13}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-13}
	        \nodepart{second}IF ($S_{12}$) Heat exchanger is ineffective
	        \nodepart{third}AND ($T_{13}$) Temperature reading of SW at exit of heat exchanger is low
	        \nodepart{fourth}THEN ($S_{13}$) Fouled heat exchanger and hence poor heat transfer is responsible
	for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{12}$};
	    \node (Fact01) [fact,below=of State00] {$T_{14}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{14}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-14}
	        \nodepart{second}IF ($S_{12}$) Heat exchanger is ineffective
	        \nodepart{third}AND ($T_{14}$) Temperature reading of SW at exit of heat exchanger is high
	        \nodepart{fourth}THEN ($S_{14}$) Loss of coolant occurs in SW loop
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{14}$};
	    \node (Fact01) [fact,below=of State00] {$T_{15}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{15}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-15}
	        \nodepart{second}IF ($S_{14}$) Loss of coolant occurs in SW loop
	        \nodepart{third}AND ($T_{15}$) SW control valve is closed
	        \nodepart{fourth}THEN ($S_{15}$) Closed SW control valve is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{14}$};
	    \node (Fact01) [fact,below=of State00] {$T_{16}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{16}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-16}
	        \nodepart{second}IF ($S_{14}$) Loss of coolant occurs in SW loop
	        \nodepart{third}AND ($T_{16}$) SW coolant pump is not operating
	        \nodepart{fourth}THEN ($S_{16}$) Stoppage in SW coolant pump is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{14}$};
	    \node (Fact01) [fact,below=of State00] {$T_{17}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{17}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-17}
	        \nodepart{second}IF ($S_{14}$) Loss of coolant occurs in SW loop
	        \nodepart{third}AND ($T_{17}$) SW coolant pump is operating
	        \nodepart{fourth}THEN ($S_{17}$) Loss of coolant occurs in SW loop with pump operating
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{17}$};
	    \node (Fact01) [fact,below=of State00] {$T_{18}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{18}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-18}
	        \nodepart{second}IF ($S_{17}$) Loss of coolant occurs in SW loop with pump operating
	        \nodepart{third}AND ($T_{18}$) Pressure gauge reading of SW is high
	        \nodepart{fourth}THEN ($S_{18}$) SW discharge valve is closed
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{17}$};
	    \node (Fact01) [fact,below=of State00] {$T_{19}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{19}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-19}
	        \nodepart{second}IF ($S_{17}$) Loss of coolant occurs in SW loop with pump operating
	        \nodepart{third}AND ($T_{19}$) Pressure gauge reading at suction valve of SW coolant pump is
	low
	        \nodepart{fourth}THEN ($S_{19}$) Blocked strainer or closed suction valve of SW coolant pump is
	responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{17}$};
	    \node (Fact01) [fact,below=of State00] {$T_{20}$} edge [<-] (State00);
	    \node (State01) [state,below=of Fact01] {$S_{20}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-20}
	        \nodepart{second}IF ($S_{17}$) Loss of coolant occurs in SW loop with pump operating
	        \nodepart{third}AND ($T_{20}$) Pressure gauge reading at delivery valve of SW coolant pump is
	high
	        \nodepart{fourth}THEN ($S_{20}$) Closed delivery valve of SW coolant pump is responsible for
	overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=yellow!40,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{17}$};
	    \node (Fact01) [fact,below=of State00] {$T_{21}$} edge [<-] (State00);
	    \node (State01) [leaf,below=of Fact01] {$S_{21}$} edge [<-] (Fact01);
	    \node (Rule01) [comment,right=of Fact01, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-21}
	        \nodepart{second}IF ($S_{17}$) Loss of Coolant occurs in SW loop with pump operating
	        \nodepart{third}AND ($T_{21}$) Ampere meter reading of motor of SW coolant pump is abnormal
	        \nodepart{fourth}THEN ($S_{21}$) Power decrease of motor of SW coolant pump is responsible for
	overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\begin{tikzpicture}[node distance=0.5cm]
	    \node (State00) [state] {$S_{17}$};
	    \node (Fact01) [fact,below=of State00] {$T_{22.1}$} edge [<-] (State00);
	    \node (Fact02) [fact,below=of Fact01] {$T_{22.2}$} edge [<-] (Fact01);
	    \node (State01) [leaf,below=of Fact02] {$S_{22}$} edge [<-] (Fact02);
	    \node (Rule01) [comment,right=of Fact01, yshift=-0.45cm, rectangle split, rectangle split parts=4] {
	        \textbf{RULE-22}
	        \nodepart{second}IF ($S_{17}$) Loss of coolant occurs in SW loop with pump operating
	        \nodepart{third}AND ($T_{22.1}$) Pressure gauge reading at delivery valve of SW coolant pump is
	low\newline AND ($T_{22.2}$) Pressure gauge reading at suction valve of SW coolant pump is
	normal
	        \nodepart{fourth}THEN ($S_{22}$) Impeller damage in SW coolant pump is responsible for overheat
	    };
	    
	    \begin{pgfonlayer}{background}
	        \path (State00.west |- State00.north)+(-0.4,0.4) node (a) {};
	        \path (Rule01.east |- State01.south)+(0.4,-0.4) node (b) {};
	        \path [fill=red!20,rounded corners, draw=black!50, dashed] (a) rectangle (b); 
	    \end{pgfonlayer}
	\end{tikzpicture}
	
	\end{center}
	\end{multicols}
	\end{document}
snippet chemistry rusting-iron
	% Rusting Iron
	% Author: Jason Waskiewicz
	% A "jazzy" picture of the stages of rust (presented for a high school level).
	% Iron is red, oxygen is blue and electrons are black. At the left you see
	% iron atoms with two oxygen molecules, then the electrons go to the oxygen molecules
	% leaving oxygen ions and iron ions which then disolve.
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Rusting Iron
	:Author: Jason Waskiewicz
	:Tags: Chemistry; Shadings; Transparency; Foreach;
	
	A "jazzy" picture of the stages of rust (presented for a high school level).
	Iron is red, oxygen is blue and electrons are black. At the left you see
	iron atoms with two oxygen molecules, then the electrons go to the oxygen molecules
	leaving oxygen ions and iron ions which then disolve.
	\end{comment}
	
	\begin{document}
	    \begin{tikzpicture}[
	        >=stealth,
	        iron/.style={shade, ball color=red},
	        electron/.style={shade, ball color=black},
	        oxygen/.style={shade, ball color=blue},
	        droplet/.style={ball color=blue!20, opacity=0.4},
	    ]
	
	    %Draw the iron atoms
	    \foreach \x in {1,1.5,2,2.5,3,3.5,4,4.5,5,8}
	            \draw [iron] (\x,1,-0.5) circle (0.25cm);
	    \foreach \x in {1.25,1.75,2.25,2.75,3.25,3.75,4.25,4.75,5.25,5.75,6.25,6.75,7.25,7.75}
	            \draw [iron] (\x,0.55,-0.5) circle (0.25cm);
	
	    %Draw the iron electrons; this isn't totally realistic for illustrating Fe+3 ions
	    \foreach \x in {1.25,1.75,2.25,2.75}
	            \draw [electron] (\x,1.25,-0.5) circle (0.1cm);
	    \foreach \x in {1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8}
	            \draw [electron] (\x,0.75,-0.5) circle (0.1cm);
	
	    %Draw the O2 molecules
	    \draw [oxygen] (1.5,1.8,-0.5) circle (0.15cm);
	    \draw [oxygen] (1.6,2.0,-0.5) circle (0.15cm);
	
	    \draw [oxygen] (1.8,1.6,-0.5) circle (0.15cm);
	    \draw [oxygen] (2.05,1.6,-0.5) circle (0.15cm);
	
	    %Draw the arrows showing the electrons going to the O2 molecules
	    \draw (3.45,1.35) -- (3.75,2.25) [->,thick];
	    \draw (3.95,1.35) -- (3.95,2.25) [->,thick];
	    \draw (4.45,1.35) -- (4.35,1.85) [->,thick];
	    \draw (4.95,1.35) -- (4.5,1.85) [->,thick];
	
	    %Draw O-2 ions with (-) labels
	    \shadedraw [oxygen] (3.75,2.4,-0.5) circle (0.15cm) node [above=3pt,right=2pt] {\small{2-}};
	    \shadedraw [oxygen] (4.15,2.0,-0.5) circle (0.15cm) node [above=3pt,right=2pt] {\small{2-}};
	
	    %Draw the dissolved Fe+3 ions and O-2 ions
	    \shadedraw [iron] (6.25,2.5,-0.5) circle (0.25cm) node [above=3pt,right=4pt] {\small{3+}};
	    \shadedraw [iron] (6.85,2.0,-0.5) circle (0.25cm) node [above=3pt,right=4pt] {\small{3+}};
	
	    \shadedraw [oxygen] (6.95,1.5,-0.5) circle (0.15cm) node [above=3pt,right=2pt] {\small{2-}};
	    \shadedraw [oxygen] (6.15,2.0,-0.5) circle (0.15cm) node [above=3pt,right=2pt] {\small{2-}};
	    \shadedraw [oxygen] (7.05,2.5,-0.5) circle (0.15cm) node [above=3pt,right=2pt] {\small{2-}};
	
	    %Draw the time arrows
	    \draw (2.2,2.5) -- (3.35,2.5) [->,very thick];
	    \draw (4.8,2.5) -- (6.15,2.5) [->,very thick];
	
	    %Draw the water droplet
	    \begin{scope}
	            \clip (1,1) rectangle (8.5,5);
	            \draw[droplet] (4.5,1,-0.5) circle (3.5cm);
	    \end{scope}
	    \end{tikzpicture}
	\end{document}
snippet transformation safe-fusion
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Safe fusion
	:Tags: Transformations, Clipping
	
	Graphical interpretation of an algorithm for fusing two estimates in a safe way. 
	The ellipses are the covariances of the estimates. 
	
	Note how the  red ellipse is transformed to a unit circle using the ``xscale`` 
	and ``yscale`` options. As a result the blue ellipse is squeezed.
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	\def\Pi{(0,0) ellipse (1.5 and 0.5)} % Covariance of xhat_1
	\def\Pii{(0,0) ellipse (.5 and 1.5)} % Covariance of xhat_2
	\tikzstyle{P_1} = [draw,red,thick]
	\tikzstyle{P_2} = [draw,blue,thick]
	
	\begin{tikzpicture}[scale=0.6,>=latex']
	    \begin{scope}[rotate=-45]
	        \path[P_1] \Pi;
	        \path[P_2] \Pii;
	        \path (-1.5,0) node[left] {$\hat{x}_1$}
	            (0,1.5) node [right] {$\hat{x}_2$};
	    \end{scope}
	    % Note that the order of the transformation options is important.
	    % The last transformation is applied first.
	    \begin{scope}[xshift=5cm,rotate=-45, xscale=0.66, yscale=2]
	        \path[P_1] \Pi;
	        \path[P_2] \Pii;
	        \path (-1.5,0) node[left] {$\hat{x}_1$}
	            (0,1.5) node [right] {$\hat{x}_2$};
	    \end{scope}
	    \begin{scope}[xshift=10cm,rotate=0,xscale=0.66, yscale=2]
	        \path[P_1] \Pi;
	        \path[P_2] \Pii;
	        \path (-1.5,0) node[above left] {$\hat{x}_1$}
	              (0,1.5) node [right] {$\hat{x}_2$};
	        % Fill intersection between P_1 and P_2. Use P_1 as clipping path
	        \clip \Pi;
	        \fill[fill=black!20] \Pii;
	    \end{scope}
	    \begin{scope}[xshift=10cm]
	        \draw[thin,->,black!50] (-1.5,0) -- (1.5,0);
	        \draw[thin,->,black!50] (0,-3.5) -- (0,3.5);
	        \draw[very thick] (0,0) ellipse (0.5 and 1.25);
	    \end{scope}
	    \draw[-to] (1.5,0) to[bend left] (3.0,0);
	    \draw[-to] (6.5,0) to[bend left] (8.0,0);
	\end{tikzpicture}
	
	
	\end{document}
snippet diagrams sankey-diagram
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Sankey diagram
	:Tags: Diagrams;Mathematical engine
	:Author: Paul Gaborit
	:Slug: sankey-diagram
	
	This document contains a new environment called sankeydiagram.
	
	Its optional argument is useful to fix some global parameters:
	
	 - sankey tot quantity is a number and represents the total quantity of the global flow (default value: 100 for 100%).
	 - sankey tot length is the width of the global flow (default value: 100pt).
	 - sankey min radius is the minimum radius of each turn (default value: 30pt).
	 - sankey fill is the style used to fill the flows.
	 - sankey draw is the style used to draw the flows.
	 - sankey debug (a flag) is useful to debug a diagram during its construction (default value: false).
	
	The sankeydiagram environment defines some useful commands to construct a sankey diagram:
	
	 - \sankeynode{prop}{angle}{name}{pos} makes a sankey node (a flow) of prop capacity (in quantity units), named name. Its orientation and position are given by angle and pos.
	 - \sankeynodestart and \sankeynodeend are similar to \sankeynode (same arguments) but make respectively and flow starting and a flow ending.
	 - \sankeyadvance{name}{distance} moves forward the sankey node named name.
	 - \sankeyturn{name}{angle} turns the sankey node named name.
	 - \sankeyfork{name}{list of forks} forks the sankey node named name. The list of forks is a list of pairs: quantity/name (the sum of quantities must be equal to the quantity of sankey node to fork).
	
	Uncomment the option `sankey` debug to get labels for drafting and debugging,
	as you can see in the second picture.
	
	This code was written by Paul Gaborit and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{calc}
	\usepackage{etoolbox}
	
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfdeclarelayer{sankeydebug}
	\pgfsetlayers{background,main,foreground,sankeydebug}
	
	\newif\ifsankeydebug
	
	\newenvironment{sankeydiagram}[1][]{
	
	  \def\sankeyflow##1##2{% sn, en
	    \path[sankey fill]
	    let
	    \p1=(##1.north east),\p2=(##1.south east),
	    \n1={atan2(\x1-\x2,\y1-\y2)-90},
	    \p3=(##2.north west),\p4=(##2.south west),
	    \n2={atan2(\x3-\x4,\y3-\y4)+90}
	    in
	    (\p1) to[out=\n1,in=\n2] (\p3) --
	    (\p4) to[in=\n1,out=\n2] (\p2) -- cycle;
	    \draw[sankey draw]
	    let
	    \p1=(##1.north east),\p2=(##1.south east),
	    \n1={atan2(\x1-\x2,\y1-\y2)-90},
	    \p3=(##2.north west),\p4=(##2.south west),
	    \n2={atan2(\x3-\x4,\y3-\y4)+90}
	    in
	    (\p1) to[out=\n1,in=\n2] (\p3)
	    (\p4) to[in=\n1,out=\n2] (\p2);
	  }
	
	
	  \tikzset{
	    sankey tot length/.store in=\sankeytotallen,
	    sankey tot quantity/.store in=\sankeytotalqty,
	    sankey min radius/.store in=\sankeyminradius,
	    sankey arrow length/.store in=\sankeyarrowlen,
	    sankey debug/.is if=sankeydebug,
	    sankey debug=false,
	    sankey flow/.style={
	      to path={
	        \pgfextra{
	          \pgfinterruptpath
	          \edef\sankeystart{\tikztostart}
	          \edef\sankeytarget{\tikztotarget}
	          \sankeyflow{\sankeystart}{\sankeytarget}
	          \endpgfinterruptpath
	        }
	      },
	    },
	    sankey node/.style={
	      inner sep=0,minimum height={sankeyqtytolen(##1)},
	      minimum width=0,draw=none,line width=0pt,
	    },
	    % sankey angle
	    sankey angle/.store in=\sankeyangle,
	    % sankey default styles
	    sankey fill/.style={line width=0pt,fill,white},
	    sankey draw/.style={draw=black,line width=.4pt},
	  }
	
	  \newcommand\sankeynode[4]{%prop,orientation,name,pos
	    \node[sankey node=##1,rotate=##2] (##3) at (##4) {};
	    \ifsankeydebug
	    \begin{pgfonlayer}{sankeydebug}
	      \draw[red,|-|] (##3.north west) -- (##3.south west);
	      \pgfmathsetmacro{\len}{sankeyqtytolen(##1)/3}
	      \draw[red] (##3.west)
	      -- ($(##3.west)!\len pt!90:(##3.south west)$)
	      node[font=\tiny,text=black] {##3};
	    \end{pgfonlayer}
	    \fi
	  }
	
	  \newcommand\sankeynodestart[4]{%prop,orientation,name,pos
	    \sankeynode{##1}{##2}{##3}{##4}
	    \begin{scope}[shift={(##3)},rotate=##2]
	      \path[sankey fill]
	      (##3.north west) -- ++(-\sankeyarrowlen,0)
	      -- ([xshift=-\sankeyarrowlen/6]##3.west)
	      -- ([xshift=-\sankeyarrowlen]##3.south west)
	      -- (##3.south west) -- cycle;
	      \path[sankey draw]
	      (##3.north west) -- ++(-\sankeyarrowlen,0)
	      -- ([xshift=-\sankeyarrowlen/6]##3.west)
	      -- ([xshift=-\sankeyarrowlen]##3.south west)
	      -- (##3.south west);
	    \end{scope}
	  }
	
	  \newcommand\sankeynodeend[4]{%prop,orientation,name,pos
	    \sankeynode{##1}{##2}{##3}{##4}
	    \begin{scope}[shift={(##3)},rotate=##2]
	      \path[sankey fill]
	      (##3.north east)
	      -- ([xshift=\sankeyarrowlen]##3.east)
	      -- (##3.south west) -- cycle;
	      \path[sankey draw]
	      (##3.north east)
	      -- ([xshift=\sankeyarrowlen]##3.east)
	      -- (##3.south west);
	    \end{scope}
	  }
	
	  \newcommand\sankeyadvance[3][]{%newname,name,distance
	    \edef\name{##2}
	    \ifstrempty{##1}{
	      \def\newname{##2}
	      \edef\name{##2-old}
	      \path [late options={name=##2,alias=\name}];
	    }{
	      \def\newname{##1}
	    }
	    \path
	    let
	    % sankey node angle
	    \p1=(##2.north east),
	    \p2=(##2.south east),
	    \n1={atan2(\x1-\x2,\y1-\y2)-90},
	    % sankey prop
	    \p3=($(\p1)-(\p2)$),
	    \n2={sankeylentoqty(veclen(\x3,\y3))},
	    % next position
	    \p4=($(##2.east)!##3!-90:(##2.north east)$)
	    in
	    \pgfextra{
	      \pgfmathsetmacro{\prop}{\n2}
	      \pgfinterruptpath
	      \sankeynode{\prop}{\n1}{\newname}{\p4}
	      \path (\name) to[sankey flow] (\newname);
	      \endpgfinterruptpath
	    };
	  }
	
	  \newcommand\sankeyturn[3][]{%newname,name,angle
	    \edef\name{##2}
	    \ifstrempty{##1}{
	      \def\newname{##2}
	      \edef\name{##2-old}
	      \path [late options={name=##2,alias=\name}];
	    }{
	      \def\newname{##1}
	    }
	    \ifnumgreater{##3}{0}{
	      \typeout{turn acw: ##3}
	      \path
	      let
	      % sankey node angle
	      \p1=(##2.north east),
	      \p2=(##2.south east),
	      \p3=($(\p1)!-\sankeyminradius!(\p2)$),
	      \n1={atan2(\x1-\x2,\y1-\y2)-90},
	      % sankey prop
	      \p4=($(\p1)-(\p2)$),
	      \n2={sankeylentoqty(veclen(\x4,\y4))},
	      \p5=(##2.east),
	      \p6=($(\p3)!1!##3:(\p5)$)
	      in
	      \pgfextra{
	        \pgfmathsetmacro{\prop}{\n2}
	        \pgfinterruptpath
	        % \fill[red] (\p3) circle (2pt);
	        % \fill[blue](\p6) circle (2pt);
	        \sankeynode{\prop}{\n1+##3}{\newname}{\p6}
	        \path (\name) to[sankey flow] (\newname);
	        \endpgfinterruptpath
	      };
	    }{
	      \typeout{turn acw: ##3}
	      \path
	      let
	      % sankey node angle
	      \p1=(##2.south east),
	      \p2=(##2.north east),
	      \p3=($(\p1)!-\sankeyminradius!(\p2)$),
	      \n1={atan2(\x1-\x2,\y1-\y2)+90},
	      % sankey prop
	      \p4=($(\p1)-(\p2)$),
	      \n2={sankeylentoqty(veclen(\x4,\y4))},
	      \p5=(##2.east),
	      \p6=($(\p3)!1!##3:(\p5)$)
	      in
	      \pgfextra{
	        \pgfmathsetmacro{\prop}{\n2}
	        \pgfinterruptpath
	        % \fill[red] (\p3) circle (2pt);
	        % \fill[blue](\p6) circle (2pt);
	        \sankeynode{\prop}{\n1+##3}{\newname}{\p6}
	        \path (\name) to[sankey flow] (\newname);
	        \endpgfinterruptpath
	      };
	    }
	  }
	
	  \newcommand\sankeyfork[2]{%name,list of forks
	    \def\name{##1}
	    \def\listofforks{##2}
	    \xdef\sankeytot{0}
	    \path 
	    let
	    % sankey node angle
	    \p1=(\name.north east),
	    \p2=(\name.south east),
	    \n1={atan2(\x1-\x2,\y1-\y2)-90},
	    % sankey prop
	    \p4=($(\p1)-(\p2)$),
	    \n2={sankeylentoqty(veclen(\x4,\y4))}
	    in
	    \pgfextra{
	      \pgfmathsetmacro{\iprop}{\n2}
	    }
	    \foreach \prop/\name[count=\c] in \listofforks {
	      let
	      \p{start \name}=($(\p1)!\sankeytot/\iprop!(\p2)$),
	      \n{nexttot}={\sankeytot+\prop},
	      \p{end \name}=($(\p1)!\n{nexttot}/\iprop!(\p2)$),
	      \p{mid \name}=($(\p{start \name})!.5!(\p{end \name})$)
	      in
	      \pgfextra{
	        \xdef\sankeytot{\n{nexttot}}
	        \pgfinterruptpath
	        \sankeynode{\prop}{\n1}{\name}{\p{mid \name}}
	        \endpgfinterruptpath
	      }
	    }
	    \pgfextra{
	      \pgfmathsetmacro{\diff}{abs(\iprop-\sankeytot)}
	      \pgfmathtruncatemacro{\finish}{\diff<0.01?1:0}
	      \ifnumequal{\finish}{1}{}{
	        \message{*** Warning: bad sankey fork (maybe)...}
	        \message{\iprop-\sankeytot}
	      }
	    };
	  }
	
	  \tikzset{
	    % default values,
	    declare function={
	      sankeyqtytolen(\qty)=\qty/\sankeytotalqty*\sankeytotallen;
	      sankeylentoqty(\len)=\len/\sankeytotallen*\sankeytotalqty;
	    },
	    sankey tot length=100pt,
	    sankey tot quantity=100,
	    sankey min radius=30pt,%
	    sankey arrow length=10pt,%
	    % user values
	    #1}
	}{
	}
	
	
	
	\begin{document}
	\begin{tikzpicture}[x=1pt,y=1pt]
	
	  \begin{sankeydiagram}[
	    sankey tot length=90pt,%
	    sankey tot quantity=6,%
	    sankey min radius=15pt,%
	    sankey fill/.style={
	      draw,line width=0pt,
	      fill,
	      lime!50,
	    },
	    sankey draw/.style={
	      draw=black,
	      line width=1pt,
	      line cap=round,
	      line join=round,
	    },
	    %sankey debug,
	    ]
	    \sankeynodestart{6}{-90}{p0}{0,100};
	    \sankeyadvance{p0}{50pt}
	
	    \sankeyfork{p0}{3/p1,3/p2}
	
	    \sankeyturn{p1}{90}
	    \sankeyadvance{p1}{20pt}
	
	    \sankeyadvance{p2}{60pt}
	
	    \sankeyfork{p2}{2/p3,1/p4}
	
	    \sankeyturn{p3}{90}
	    \sankeyadvance{p3}{50pt}
	
	    \sankeyfork{p3}{1/p5,1/p6}
	
	    \sankeyadvance{p5}{70pt}
	
	    \sankeyfork{p1}{1/p7,1/p8,1/p9}
	    \sankeyadvance{p7}{50pt}
	    \sankeyadvance{p9}{50pt}
	
	    \sankeyadvance{p4}{40pt}
	    \sankeyturn{p4}{90}
	    \sankeyadvance{p4}{65pt}
	
	    \sankeyadvance{p7}{40pt}
	
	    \sankeynode{3}{0}{p11}{[shift={(50pt,-15pt)}]p7}
	    \sankeyfork{p11}{1/p7a,1/p9a,1/p5a}
	    \path (p7) to[sankey flow] (p7a);
	    \path (p9) to[sankey flow] (p9a);
	    \path (p5) to[sankey flow] (p5a);
	    \sankeyadvance{p11}{30pt}
	    \sankeynodeend{3}{0}{p11}{p11}
	
	    {
	      \tikzset{
	        sankey fill/.append style={
	          line width=0pt,
	          lime!50!green!50,
	        }
	      }
	      \sankeyturn{p8}{-90}
	      \sankeyadvance{p8}{40pt}
	
	      \sankeyturn{p6}{-90}
	      \sankeyturn{p4}{-90}
	
	      \sankeynode{3}{-90}{p10}{[shift={(-15pt,-60pt)}]p8}
	      \sankeyfork{p10}{1/p8a,1/p6a,1/p4a}
	      \path (p4) to[sankey flow] (p4a);
	      \path (p6) to[sankey flow] (p6a);
	      \path (p8) to[sankey flow] (p8a);
	      \sankeyadvance{p10}{30pt}
	      \sankeynodeend{3}{-90}{p10}{p10}
	    }
	
	
	
	  \end{sankeydiagram}
	\end{tikzpicture}
	\end{document}
snippet shadings scanning-electron-microscopy
	% Scanning electron microscopy
	% Author: Eric Jensen
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Mechanism of Scanning electron microscopy
	:Tags: Shadings;Decorations;Physics
	:Author: Eric Jensen
	:Slug: scanning-electron-microscopy
	
	Mechanism of SEM. The SEM focuses an electron beam at a point on
	the surface of the sample and then measures the resulting electrons
	with a detector. By doing this in a raster pattern across the surface
	an image is formed, pixel by pixel. At the top of the image is the
	column where the electron beam is generated and focused.
	From the column comes the electron beam, also called the primary electrons,
	shown here in blue.
	When the primary electrons impact the surface they generate
	secondary electrons, backscattered electrons, Auger electrons,
	X-ray photons and cathodeluminescence.
	\end{comment}
	\usetikzlibrary{%
		calc,%
		decorations.pathmorphing,%
		fadings,%
		shadings%
	}
	\renewcommand*{\familydefault}{\sfdefault}
	
	\begin{document}
	\begin{tikzpicture}
	  \draw[gray,fill=gray,path fading=south] (0,0) rectangle +(5,-2);% sample
	    \begin{scope}[decoration={snake,amplitude=.4mm,
	        segment length=2mm,post length=1mm}]
	      \draw[decorate,blue,->] (2.5,0) -- ++(112:3);% x-ray
	      \draw[decorate,red,->] (2.5,0) -- ++(5:2);% auger
	      \draw[decorate,orange,->] (2.5,0) -- ++(45:3);% cathodlimuescence
	    \end{scope}
	  \fill[color=red, path fading=north,fading transform={rotate=-15}]
	    (2.5,0) ++(60:3) ++(150:0.1) -- ++(-30:0.2) -- (2.5,0) -- cycle;%backscatter
	  \fill[color=green, path fading=north,fading transform={rotate=45}]
	    (2.5,0) ++(135:2) ++(225:0.3) -- ++(45:0.6) -- (2.5,0) -- cycle;%secondary
	  \shade[inner color=blue, top color=blue] (2.2,1.8)
	    -- ++(0.6,0) -- ++(-0.3,-1.8) -- cycle;%primary electrons
	
	  \shade[left color=gray!50!white,right color=gray] (1.7,3)
	    -- ++(1.6,0) -- ++(-0.3,-1) -- ++(-1,0) -- cycle;% column
	  \shade[left color=gray!50!white,right color=gray] (2.1,2)
	    -- ++(0.8,0) -- ++(0,-0.2) -- ++(-0.8,0) -- cycle;% column bottom
	  \draw[gray!80!black] (1.7,3) -- ++(1.6,0) -- ++(-0.3,-1)
	    -- ++(-1,0) -- cycle;%column
	  \draw[gray!80!black] (2.1,2) -- ++(0,-0.2) -- ++(0.8,0)
	    -- ++(0,0.2);%column bottom
			
	  \shade[left color=gray!50!white,right color=gray] (2.5,0) ++(135:2) --
	    ++(225:0.3) -- ++(135:0.8) -- ++(45:0.6) -- ++(315:0.8) -- cycle;% detector
			
	  %labels
	  \draw (0,-2) node[above right] {\footnotesize Sample};
	  \draw (2.5,0) ++(5:2) node[right] {\footnotesize Auger};
	  \draw (2.5,0) ++(45:3) node[right] {\footnotesize Cathodeluminescence};
	  \draw (2.5,0) ++(60:3) node[right] {\footnotesize Backscattered};
	  \draw (2.5,0) ++(112:3) node[left] {\footnotesize X-ray};
	  \draw (2.5,0) ++(135:1.2) node[left=0.4cm] {\footnotesize Secondary};
	  \draw (2.5,0) ++(135:2) ++(225:0.3) ++(135:0.8) node[left]
	    {\footnotesize Detector};
	\end{tikzpicture}
	\end{document}
snippet plots scatterplot
	% Author:  Ista Zahn
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Scatterplot
	:Tags: Plots, Axes, Foreach
	
	A scatterplot of the relationship between education and income. The plotted
	data is from the `car R package`_ by John Fox. Note that the data is released
	under the GPL 2 licence.
	
	:Author: Ista Zahn
	
	.. _car R package: http://cran.r-project.org/src/contrib/Descriptions/car.html
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}[only marks, y=.5cm]
	    \draw plot[mark=*,xshift=-6cm] file {data/ScatterPlotExampleData.data};
	    \draw[->,xshift=-6cm] (6,0) -- coordinate (x axis mid) (17,0);
	    \draw[->,xshift=-6cm] (6,0) -- coordinate (y axis mid)(6,27);
	    \foreach \x in {6,8,10,12,14,16}
	        \draw [xshift=-6cm](\x cm,1pt) -- (\x cm,-3pt)
	            node[anchor=north] {$\x$};
	    \foreach \y/\ytext in {0/0,2.5/5000,5/10000,7.5/15000,10/20000,12.5/25000}
	        \draw (1pt,\y cm) -- (-3pt,\y cm) node[anchor=east] {$\ytext$};
	    \node[below=1cm] at (x axis mid) {Education};
	    \node[left=2cm,rotate=90] at (y axis mid) {Income};
	\end{tikzpicture}
	
	\end{document}
snippet trees scenario-tree
	% Scenario tree
	% Author: Rasmus Pank Roulund
	\documentclass{minimal}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Scenario tree
	:Tags: Trees
	
	A scenario tree from the field of economics. The figure is a replication of a figure 4 from
	Barry Eichengreen's NBER paper on "Hegemonic Stability Theories of the International Monetary System" 
	from 1987 (PDF_). 
	
	.. _PDF: http://papers.nber.org/papers/W2193.pdf
	
	:Author: Rasmus Pank Roulund
	
	\end{comment}
	
	\usetikzlibrary{shapes}
	\usepackage{amsmath}
	\usepackage{xspace}
	\newcommand{\A}{\ensuremath{\mathcal{A}}\xspace}
	\newcommand{\B}{\ensuremath{\mathcal{B}}\xspace}
	\newcommand\pa[1]{\ensuremath{\left(#1\right)}}
	\begin{document}
	\begin{tikzpicture}[
	    grow=right,
	    level 1/.style={sibling distance=3.5cm,level distance=5.2cm},
	    level 2/.style={sibling distance=3.5cm, level distance=6.7cm},
	    edge from parent/.style={very thick,draw=blue!40!black!60,
	        shorten >=5pt, shorten <=5pt},
	    edge from parent path={(\tikzparentnode.east) -- (\tikzchildnode.west)},
	    kant/.style={text width=2cm, text centered, sloped},
	    every node/.style={text ragged, inner sep=2mm},
	    punkt/.style={rectangle, rounded corners, shade, top color=white,
	    bottom color=blue!50!black!20, draw=blue!40!black!60, very
	    thick }
	    ]
	
	\node[punkt, text width=5.5em] {Country~\B}
	    %Lower part lv1
	    child {
	        node[punkt] [rectangle split, rectangle split, rectangle split parts=3,
	         text ragged] {
	            \textbf{Scenario  1}
	                  \nodepart{second}
	            $\text{Country \B}\colon    s\bar{Q}$
	                  \nodepart{third}
	            $\text{Country \A}\colon\pa{1-s}\bar{Q}$
	        }
	        edge from parent
	            node[kant, below, pos=.6] {Unchanged parity}
	    }
	    %Upper part, lv1
	    child {
	        node[punkt, text width=6em] {Country~\A}
	        %child 1
	        child {
	            node [punkt,rectangle split, rectangle split,
	            rectangle split parts=3] {
	                \textbf{Scenario  2}
	                \nodepart{second}
	                $\text{Country \B}\colon s\bar{Q}+2\alpha\Delta E -sc$
	                \nodepart{third}
	                $\text{Country \A}\colon\pa{1-s}\bar{Q}-\alpha\Delta E -
	                \pa{1-s}c$
	            }
	            edge from parent
	                node[below, kant,  pos=.6] {Unchanged parity}
	        }
	        %child 2
	        child {
	            node [punkt, rectangle split, rectangle split parts=3]{
	                \textbf{Scenario 3}
	                \nodepart{second}
	                $\text{Country \B}\colon s\bar{Q}-2sc$
	                \nodepart{third}
	                $\text{Country \A}\colon\pa{1-s}\bar{Q}-2\pa{1-s}c$
	            }
	            edge from parent
	                node[kant, above] {Devalues}}
	            edge from parent{
	                node[kant, above] {Devalues}}
	    };
	\end{tikzpicture}
	\end{document}
snippet block schemabloc
	% Author: Robert Papanicola
	% Source: http://www.sciences-indus-cpge.apinc.org/Schema-blocs-avec-PGF-TIKZ-sous
	\documentclass{article}
	
	\usepackage{schemabloc}
	
	\usetikzlibrary{circuits}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Schemabloc
	:Tags: Block diagrams, Macro packages
	
	Demonstration of schemabloc_, a set of convenient macros for drawing block diagrams.
	Documentation_ is only available in French, but the code examples are easy to follow.
	
	`Download schemabloc`_
	
	.. _download schemabloc: http://www.sciences-indus-cpge.apinc.org/IMG/zip/schema-bloc.zip
	.. _documentation: http://www.sciences-indus-cpge.apinc.org/IMG/pdf/schema-bloc.pdf
	.. _schemabloc: http://www.sciences-indus-cpge.apinc.org/Schema-blocs-avec-PGF-TIKZ-sous
	
	:Author: `Robert Papanicola <http://www.sciences-indus-cpge.apinc.org/_Papanicola-Robert_>`_
	:Source: `Schma-blocs avec PGF/TIKZ sous LaTeX <http://www.sciences-indus-cpge.apinc.org/Schema-blocs-avec-PGF-TIKZ-sous>`_
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	    \sbEntree{E}
	    \sbComp{a}{E}
	    \sbBloc{b}{$H_1$}{a}
	            \sbRelier[$E_1$]{E}{a}
	    \sbBlocL{c}{$H_2$}{b}
	            \sbRelier[$\epsilon$]{a}{b}
	    \sbComph{d}{c}
	            \sbRelier[u]{c}{d}
	    \sbBlocL{e}{$H_3$}{d}
	    \sbBlocL{f}{$H_4$}{e}
	    \sbSortie[5]{S1}{f}
	            \sbRelier{f}{S1}
	            \sbNomLien[0.8]{S1}{$S_1$}
	    \sbDecaleNoeudy[-4]{f}{u}
	    \sbDecaleNoeudy{e}{v}
	    \sbBlocr{r1}{$R_1$}{u}
	    \sbBlocr{r2}{$R_2$}{v}
	    \sbBlocrL{r3}{$R_3$}{r2}
	    \sbRelieryx{f-S1}{r1}
	    \sbRelierxy[n1]{r1}{d}
	    \sbRelieryx{e-f}{r2}
	    \sbRelierxy[n2]{r3}{a}
	\end{tikzpicture}
	
	\end{document}
snippet scientific scientific-interactions
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% Author  : Andrei Sobolevski (April 2009)
	% License : Creative Commons attribution license
	% Title   : Map of scientific interactions of researchers 
	%           affiliated in 2008 to the J.-V. Poncelet laboratory 
	%           (UMI 2615 CNRS, http://www.poncelet.ru)
	% Notes   : Produced for the 2008 annual report of the lab;
	%           layout of subnodes is a result of manual optimization
	% Tags    : mindmap, layers
	% Submitted to TeXample.net on 16 January 2010
	
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Scientific interactions
	
	Map of scientific interactions of researchers 
	affiliated in 2008 to the J.-V. Poncelet laboratory 
	(UMI 2615 CNRS, `<http://www.poncelet.ru>`_) 
	 
	\end{comment}
	\usepackage{tikz,times}
	\usepackage[paperwidth=25cm,paperheight=22cm,left=1cm,top=1cm]{geometry}
	
	\usetikzlibrary{mindmap,backgrounds}
	
	\pagestyle{empty}
	
	\begin{document}
	\centering\begin{tikzpicture}[mindmap,
	  level 1 concept/.append style={level distance=130,sibling angle=30},
	  extra concept/.append style={color=blue!50,text=black}]
	
	  % Applied area: computer science and its subfields
	
	  \begin{scope}[mindmap, concept color=orange, text=white]
	    \node [concept] {Informatique}[clockwise from=-5] 
	      child {node [concept] (log) {M{\'e}thodes cat{\'e}goriques}}
	      child {node [concept] (alg) {Algorithmique}}
	      child {node [concept] (cod) {Compression \& transmission}}
	      child {node [concept] (img) {Tra{\^i}tement des images}}
	      child {node [concept] (opt) {Optimisation}}
	      child {node [concept] (res) {R{\'e}seaux}};
	  \end{scope}
	
	  % Applied area: theoretical physics and its subfields
	
	  \begin{scope}[mindmap, concept color=red,text=white]
	    \node [concept] at (-5,-15) {Physique}
	      child [grow=-10, level distance=160]
	        {node [concept] (qin) {Calcul quantique}}
	      child [grow=20] 
	        {node [concept] (csm) {Astronomie \& cosmologie}}
	      child [grow=110] 
	        {node [concept] (mat) {Mati{\`e}re condens{\'e}e}};
	  \end{scope}
	
	  % Applied area: biology and its subfields
	
	  \begin{scope}[mindmap, concept color=green!50!black,text=white]
	    \node [concept] at (6.5,-15) {Biologie} 
	      child [grow=165, level distance=120] 
	        {node [concept] (med) {M{\'e}decine}}
	      child [grow=60] 
	        {node [concept] (gen) {G{\'e}nomique}};
	  \end{scope}
	
	  % Applied area: economics (one subfield)
	
	  \begin{scope}[mindmap, concept color=violet, text=white]
	    \node [concept] at (11,-14) {{\'E}conomie}
	      child [grow=70, level distance=120] 
	        {node [concept] (dec) {Choix \& prise de d{\'e}cision}};
	  \end{scope}
	
	  % Researchers listed by their main specialization in mathematics
	
	  \begin{scope}[mindmap, concept color=blue]
	
	    % Combinatorics and discrete mathematics 
	    \node [concept, text=white] at (5.2,-10.8) 
	      {Combinatoire \& math{\'e}matiques discr{\`e}tes} 
	      [clockwise from=150]
	      child [concept color=blue!50] {node [concept] (ver) {Vereschagin}}
	      child [concept color=blue!50, level distance=125] 
	        {node [concept] (kab) {Kabatyanski, Tsfasman, Rybakov, Zykin}}
	      child [concept color=blue!50] 
	        {node [concept] (kch) {Kucherov, Roytberg}}
	      child [concept color=blue!50] {node [concept] (raf) {Raffinot}}
	      child [concept color=blue!50, level distance=135]
	        {node [concept] (ksh) {Koshevoy}};
	
	    % Partial differential equations
	    \node [concept, text=white] at (-3,-11) 
	      {Equations aux d{\'e}riv{\'e}es partielles 
	        \& m{\'e}thodes num{\'e}riques}
	      child [concept color=blue!50, grow=0, level distance=140] 
	        {node [concept] (lhc) {Loh{\'e}ac}}
	      child [concept color=blue!50, grow=60, level distance=115] 
	        {node [concept] (otr) {OTARIE (Sobolevski)}}
	      child [concept color=blue!50, grow=95] {node [concept] (ndr) 
	        {Nadirashvili}};
	
	    % Probability
	    \node [concept, text=white] at (-7.2,-3.2) {Probabilit{\'e}s}
	      child [concept color=blue!50, grow=-70, level distance=120] 
	        {node [concept] (rbk) {Rybko}};
	
	    % Logic
	    \node [concept, text=white] at (11.5,-5) {Logique}
	      child [concept color=blue!50, grow=165, level distance=120] 
	        {node [concept] (sht) {Shehtman}};
	  \end{scope}
	
	  % Connections of researchers to applied subfields
	
	  \begin{pgfonlayer}{background}
	    \draw [circle connection bar]
	      (kab) edge (cod)
	      (kch) edge (alg) edge (gen)
	      (lhc) edge (med)
	      (ksh) edge (dec)
	      (ndr) edge (mat)
	      (otr) edge (opt) edge (csm) edge (img)
	      (raf) edge (alg) edge (gen)
	      (rbk) edge (res) edge (mat)
	      (sht) edge (log) edge (dec)
	      (ver) edge (qin) edge (cod);
	  \end{pgfonlayer}
	\end{tikzpicture}
	
	\end{document}
snippet 3d seismic-focal-mechanism-in-3d-view
	% Title: Seismic focal mechanism in 3D view.
	% Author: Cyril Langlois
	% Source:  Jacques Duma
	% Site: http://math.et.info.free.fr/TikZ/index.html
	%
	% Adaptation for LaTeX of a figure proposed in P. Shearer's book 'Introduction
	% to Seismology'.
	%
	% It shows the focal sphere with the fault plane and auxiliary plane (which can
	% not be discriminate), limiting compression and dilatation quadrants, the first
	% movement of the rock through the sphere, and the Pression and Tension axis.
	%
	% The figure is based on the sphere drawing's code proposed by J. Dumas in is
	% book 'Tikz pour l'impatient', available online.
	
	\documentclass[11pt]{article}
	\usepackage{tikz}
	\usepackage{tikz-3dplot}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Seismic focal mechanism in 3D view.
	:Tags: 3D; Earth Sciences ; Geophysics; Seismology
	:Author: Cyril Langlois
	:Source: http://math.et.info.free.fr/TikZ/index.html
	
	Adaptation for LaTeX of a figure proposed in P. Shearer's book 'Introduction to Seismology'. 
	
	It shows the focal sphere with the fault plane and auxiliary plane (which can
	not be discriminate), limiting compression and dilatation quadrants, the first
	movement of the rock through the sphere, and the Pression and Tension axis.
	
	The figure is based on the sphere drawing's code proposed by J. Dumas in is
	book `Tikz pour l'impatient <http://math.et.info.free.fr/TikZ/>`_, available online.
	
	\end{comment}
	
	%%%%%%%%%%%
	%% helper macros
	%: Styles for XYZ-Coordinate Systems
	%: isometric  South West : X , South East : Y , North : Z
	\tikzset{isometricXYZ/.style={x={(-0.866cm,-0.5cm)}, y={(0.866cm,-0.5cm)}, z={(0cm,1cm)}}}
	
	%: isometric South West : Z , South East : X , North : Y
	\tikzset{isometricZXY/.style={x={(0.866cm,-0.5cm)}, y={(0cm,1cm)}, z={(-0.866cm,-0.5cm)}}}
	
	%: isometric South West : Y , South East : Z , North : X
	\tikzset{isometricYZX/.style={x={(0cm,1cm)}, y={(-0.866cm,-0.5cm)}, z={(0.866cm,-0.5cm)}}}
	
	%% document-wide tikz options and styles
	\begin{document}
	\begin{tikzpicture} [scale=4, isometricZXY, line join=round,
	        opacity=.75, text opacity=1.0,%
	        >=latex,
	        inner sep=0pt,%
	        outer sep=2pt,%
	    ]
	    \def\h{5}
	
	    \newcommand{\quadrant}[2]{
	        \foreach \t in {#1} \foreach \f in {175,165,...,5}
	            \draw [fill=#2]
	                  ({sin(\f - \h)*cos(\t - \h)}, {sin(\f - \h)*sin(\t - \h)}, {cos(\f - \h)})
	               -- ({sin(\f - \h)*cos(\t + \h)}, {sin(\f - \h)*sin(\t + \h)}, {cos(\f - \h)})
	               -- ({sin(\f + \h)*cos(\t + \h)}, {sin(\f + \h)*sin(\t + \h)}, {cos(\f + \h)})
	               -- ({sin(\f + \h)*cos(\t - \h)}, {sin(\f + \h)*sin(\t - \h)}, {cos(\f + \h)})
	               -- cycle;
	    }
	
	    %Quadrants
	    \quadrant{220,230,...,300}{black}
	    \quadrant{-60,-50,...,20}{white}
	    \quadrant{30,40,...,120}{black}
	    \quadrant{130,140,...,210}{none}
	
	    %Movement arrows
	    \foreach \t in {225,235,...,295}
	        \foreach \f in {50,40,...,0}
	            \draw [red, opacity=1.0, ->, thick]
	                ({sin(\f - \h)*cos(\t - \h)}, {sin(\f - \h)*sin(\t - \h)}, {cos(\f - \h)})
	                -- ({(1 + 0.2*cos(90 - \f))*sin(\f - \h)*cos(\t - \h)},
	                    {(1 + 0.2*cos(90 - \f))*sin(\f - \h)*sin(\t - \h)},
	                    {(1 + 0.2*cos(90 - \f))*cos(\f - \h)});
	
	    \foreach \t in {125,135,...,205}
	        \foreach \f in {110,100,...,0}
	            \draw [black, ->, thick]
	                ({(1 + 0.2*cos(90 - \f))*sin(\f - \h)*cos(\t - \h)},
	                 {(1 + 0.2*cos(90 - \f))*sin(\f - \h)*sin(\t - \h)},
	                 {(1 + 0.2*cos(90 - \f))*cos(\f - \h)})
	                -- ({sin(\f - \h)*cos(\t - \h)},{sin(\f - \h)*sin(\t - \h)},{cos(\f - \h)});
	    \foreach \t in {35,45,...,115}
	        \foreach \f in {130,120,...,0}
	            \draw [red, opacity=1.0 ,->, thick]
	                ({sin(\f - \h)*cos(\t - \h)}, {sin(\f - \h)*sin(\t - \h)}, {cos(\f - \h)})
	                -- ({(1 + 0.2*cos(90 - \f))*sin(\f - \h)*cos(\t - \h)},
	                    {(1 + 0.2*cos(90 - \f))*sin(\f - \h)*sin(\t - \h)},
	                    {(1 + 0.2*cos(90 - \f))*cos(\f - \h)});
	
	    \foreach \t in {-55,-45,...,25}
	        \foreach \f in {130,120,...,0}
	            \draw [black, ->, thick]
	                ({(1 + 0.2*cos(90 - \f))*sin(\f - \h)*cos(\t - \h)},
	                 {(1 + 0.2*cos(90 - \f))*sin(\f - \h)*sin(\t - \h)},
	                 {(1 + 0.2*cos(90 - \f))*cos(\f - \h)})
	              -- ({sin(\f - \h)*cos(\t - \h)},{sin(\f - \h)*sin(\t - \h)},{cos(\f - \h)});
	
	    %Annotations
	    \path ({1.5*sin(100)*cos(75)}, {1.5*sin(100)*sin(75)}, {1.5*cos(100)}) node [right] {Compression};
	    \path ({1.5*sin(70)*cos(-15)}, {1.5*sin(70)*sin(-15)}, {1.5*cos(70)})  node [right] {Dilatation};
	    \path ({1.25*sin(50)*cos(165)},{1.25*sin(50)*sin(165)},{1.25*cos(50)}) node [left]  {Dilatation};
	    \path ({1.25*sin(30)*cos(255)},{1.25*sin(30)*sin(255)},{1.25*cos(30)}) node [left]  {Compression};
	
	    %P and T axis
	    \begin{scope}[ultra thick]
	        \draw[->] ({1.75*sin(90)*cos(75)}, {1.75*sin(90)*sin(75)}, {1.75*cos(90)})
	            -- ({2*sin(90)*cos(75)},{2*sin(90)*sin(75)},{2*cos(90)}) node [above] {T-axis};
	        \draw[->] ({1.75*sin(90)*cos(255)},{1.75*sin(90)*sin(255)},{1.75*cos(90)})
	            -- ({2*sin(90)*cos(255)},{2*sin(90)*sin(255)},{2*cos(90)}) node [below] {T-axis};
	        \draw[<-] ({1.5*sin(90)*cos(-15)}, {1.5*sin(90)*sin(-15)}, {1.5*cos(90)})
	            -- ({1.75*sin(90)*cos(-15)},{1.75*sin(90)*sin(-15)},{1.75*cos(90)}) node [right] {P-axis};
	        \draw[<-] ({1.5*sin(90)*cos(165)}, {1.5*sin(90)*sin(165)}, {1.5*cos(90)})
	            -- ({1.75*sin(90)*cos(165)},{1.75*sin(90)*sin(165)},{1.75*cos(90)}) node [left] {P-axis};
	    \end{scope}
	
	    % Label
	    \node [anchor=north, yshift=-2mm] at (current bounding box.south)
	        {Seismic focal mechanism and Pression-Tension axis.};
	\end{tikzpicture}
	\end{document}
snippet matrices sequence-diagram
	% Sequence diagram
	% Author: Pascal Seppecher
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Sequence diagram
	:Tags: Matrices;Node positioning;Diagrams;Block diagrams;Computer Science;Economics;
	:Author: Pascal Seppecher
	:Slug: sequence-diagram
	
	Money flows in an agent-based 
	macroeconomic model with endogenous money
	\end{comment}
	\usetikzlibrary{shapes.geometric}
	\begin{document}
	\pagestyle{empty}
	
	% Agents
	\def\Households{Households}
	\def\Firms{Firms}
	\def\Banks{Banks}
	
	% Money Flows
	\def\DF{D_{F,t}} \def \DB {D_{B,t}} \def\Dividends{Dividends}
	\def\NL{\mathit{NL}_{t}} \def\NewLoans{New loans}
	\def\WB{\mathit{WB}_{t}} \def\Wages{Wages}
	\def\SA{C_{t}} \def\Consumption{Consumption}
	\def\INT{\mathit{INT}_t} \def\Interests{Interests}
	\def\RL{\mathit {RL}_{t}} \def\PaidBackLoans{Paid back loans}
	
	% Diagram
	\begin{tikzpicture}[every node/.style={font=\normalsize,
	  minimum height=0.5cm,minimum width=0.5cm},]
	
	% Matrix
	\node [matrix, very thin,column sep=1.3cm,row sep=0.5cm] (matrix) at (0,0) {
	  & \node(0,0) (\Households) {}; & & \node(0,0) (\Firms) {}; &
	    & \node(0,0) (\Banks) {}; & \\
	  & \node(0,0) (\Households 0) {}; & & \node(0,0) (\Firms 0) {}; & & & \\
	  \node(0,0) (t0 left) {}; & & & & & & \node(0,0) (t0 right) {};\\
	  & \node(0,0) (\Households 1) {}; & \node(0,0) (\Dividends 1) {};
	    & \node(0,0) (\Firms 1) {}; & & & \\
	  \node(0,0) (t1 left) {}; & & & & & & \node(0,0) (t1 right) {};\\
	  & \node(0,0) (\Households 2) {}; & \node(0,0) (\Dividends 2) {};
	    & \node(0,0) (\Firms 2) {}; & & \node(0,0) (\Banks 2) {}; & \\
	  \node(0,0) (t2 left) {}; & & & & & & \node(0,0) (t2 right) {};\\
	  & & & \node(0,0) (\Firms 3) {}; & \node(0,0) (\NewLoans) {};
	    & \node(0,0) (\Banks 3) {}; & \\
	  \node(0,0) (t3 left) {}; & & & & & & \node(0,0) (t3 right) {};\\
	  & \node(0,0) (\Households 4) {}; & \node(0,0) (\Wages) {};
	    & \node(0,0) (\Firms 4) {}; & & & \\
	  \node(0,0) (t4 left) {}; & & & & & & \node(0,0) (t4 right) {};\\
	  & \node(0,0) (\Households 5) {}; & \node(0,0) (\Consumption) {};
	    & \node(0,0) (\Firms 5) {}; & & & \\
	  \node(0,0) (t5 left) {}; & & & & & & \node(0,0) (t5 right) {};\\
	  & & & \node(0,0) (\Firms 6) {}; & \node(0,0) (\Interests) {};
	    & \node(0,0) (\Banks 6) {}; & \\
	  \node(0,0) (t6 left) {}; & & & & & & \node(0,0) (t6 right) {};\\
	  & & & \node(0,0) (\Firms 7) {}; & \node(0,0) (\PaidBackLoans) {};
	    & \node(0,0) (\Banks 7) {}; & \\
	  \node(0,0) (t7 left) {}; & & & & & & \node(0,0) (t7 right) {};\\
	  & \node(0,0) (\Households 8) {}; & & \node(0,0) (\Firms 8) {}; & & & \\
	  & \node(0,0) (\Households 9) {}; & & \node(0,0) (\Firms 9) {}; &
	    & \node(0,0) (\Banks 9) {}; & \\
	};
	
	% Agents labels
	\fill 
		(\Households) node[draw,fill=white] {\Households}
		(\Firms) node[draw,fill=white] {\Firms}
		(\Banks) node[draw,fill=white] {\Banks};
	
	% Horizontal time lines
	\draw [dotted] 
	  (t0 left) -- (t0 right) node[right] {$t+\frac{0}{7}$}
	  (t1 left) -- (t1 right) node[right] {$t+\frac{1}{7}$}
	  (t2 left) -- (t2 right) node[right] {$t+\frac{2}{7}$}
	  (t3 left) -- (t3 right) node[right] {$t+\frac{3}{7}$}
	  (t4 left) -- (t4 right) node[right] {$t+\frac{4}{7}$}
	  (t5 left) -- (t5 right) node[right] {$t+\frac{5}{7}$}
	  (t6 left) -- (t6 right) node[right] {$t+\frac{6}{7}$}
	  (t7 left) -- (t7 right) node[right] {$t+\frac{7}{7}$};
	
	% Available balances at the beginning of the period
	\draw 
	  (\Households 0)
	    node[draw,isosceles triangle,fill=yellow!20, rotate=-90]
	      (\Households Balance In) {}
	    node[below right] {$M_{H,t}$}
	  (\Firms 0)
	    node[draw,isosceles triangle,fill=yellow!20, rotate=-90]
	      (\Firms Balance In) {}
	    node[below right] {$M_{F,t}$};
	
	% Available balances at the end of the period	
	\draw 
	  (\Households 8) 
	    node[draw,isosceles triangle,fill=yellow!20, rotate=-90]
	      (\Households Balance Out) {}
	    node[below right] {$M_{H,t+1}$}
	  (\Firms 8) 
	    node[draw,isosceles triangle,fill=yellow!20, rotate=-90]
	      (\Firms Balance Out) {}
	    node[below right] {$M_{F,t+1}$};
	
	% Vertical lifelines
	\draw [dashed] 
	  (\Households) -- (\Households Balance In.west)
	  (\Households Balance Out.east) -- (\Households 9)
	  (\Firms) -- (\Firms Balance In.west) (\Firms Balance Out.east) -- (\Firms 9)
	  (\Banks) -- (\Banks 9);
	
	% Vertical flows (Intertemporal transfers)
	\draw [-latex] (\Households Balance In.east) -- (\Households 1);
	\draw [-latex] (\Firms Balance In.east) -- (\Firms 1);
	\draw [-latex] (\Firms 1) -- (\Firms 3);
	\draw [-latex] (\Firms 4) -- (\Firms 5);
	\draw [-latex] (\Households 5) -- (\Households Balance Out.west);
	\draw [-latex] (\Firms 7) -- (\Firms Balance Out.west);
	
	% Blocks (Budget constraints)
	\filldraw[fill=blue!20]
	  (\Firms 1.north west) rectangle (\Firms 1.south east)
	  (\Households 1.north west) rectangle (\Households 5.south east)
	  (\Firms 3.north west) rectangle (\Firms 4.south east)
	  (\Firms 5.north west) rectangle (\Firms 7.south east);
	
	% Horizontal flows (Monetary interactions)
	\draw [-latex] (\Firms 1) -- (\Households 1);
	\draw [-latex] (\Banks 2) -- (\Firms 2.east) arc(0:180:0.25cm)
	  -- (\Households 2);
	\draw [-latex] (\Banks 3) -- (\Firms 3);
	\draw [-latex] (\Firms 4) -- (\Households 4);
	\draw [-latex] (\Households 5) -- (\Firms 5);
	\draw [-latex] (\Firms 6) -- (\Banks 6);
	\draw [-latex] (\Firms 7) -- (\Banks 7);
	
	% Flows Labels 
	\fill
	  (\Dividends 1) 
	    node[above] {$\DF$}
	    node[font=\footnotesize, below] {\Dividends}
	 (\Dividends 2) 
	    node[above] {$\DB$}
	    node[font=\footnotesize, below] {\Dividends}
	  (\NewLoans) 
	    node[above] {$\NL$}
	    node[font=\footnotesize, below] {\NewLoans}
	  (\Wages) 
	    node[above] {$\WB$}
	    node[font=\footnotesize, below] {\Wages}
	  (\Consumption) 
	    node[above] {$\SA$}
	    node[font=\footnotesize, below] {\Consumption}
	  (\Interests) 
	    node[above] {$\INT$}
	    node[font=\footnotesize, below] {\Interests}
	  (\PaidBackLoans) 
	    node[above] {$\RL$}
	    node[font=\footnotesize, below] {\PaidBackLoans}; 
	
	% Money creation
	\draw
	  (\Banks 2) node[draw,circle,fill=green!20] {} node {+}
	  (\Banks 3) node[draw,circle,fill=green!20] {} node {+};
		
	% Money destruction
	\draw 
	  (\Banks 6) node[draw,circle,fill=red!20] {-}
	  (\Banks 7) node[draw,circle,fill=red!20] {-};
	
	\end{tikzpicture}
	\end{document}
snippet series series-and-parallel-graph-diagrams
	%Author: Paul Thompson    06-08-2009
	%   Series and Parallel graph diagrams using nesting of tikz-environments.
	
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{positioning,fit}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage, floats]{preview}
	%\PreviewEnvironment{figure}
	\setlength\PreviewBorder{5pt}%
	
	%%%>
	\begin{comment}
	:Title: Series and parallel graph diagrams
	:Page: 9
	
	This example shows latex macros which nest Tikz environments together to generate series and parallel graph diagrams.
	This shows an example of latex-macros and nesting of Tikz environments being used to draw large recursively-defined (nested) diagrams.
	
	Download the PDF to see more examples. 
	
	:Source: `pgf-users mailing list`__
	
	.. __: http://www.nabble.com/Algorithmically-generating-acyclic-source-terminal-network-graphs-to24804699.html
	
	\end{comment}
	
	
	
	
	\begin{document}
	
	\newcounter{parlevel}
	\newcounter{serlevel}
	
	%define a parallel block:  a tikz-pic with two nodes drawn on top of each other and some connecting lines
	%the node contents comes from  #1 and #2
	%the two nodes are named &#39;nTsp&#39;  and &#39;nBsp&#39;     where s and p are serial and parallel levels which increment
	\newcommand{\parblock}[2]
	{
	   \tikz[baseline,remember picture,inner sep=0pt,outer sep=0pt,node distance=0.25cm]
	   {
	       \addtocounter{parlevel}{1}
	       %special names for the two nodes:
	       \def\nTsp{nT-\arabic{serlevel}-\arabic{parlevel}}
	       \def\nBsp{nB-\arabic{serlevel}-\arabic{parlevel}}
	       %
	       %define the two nodes:
	       \node(\nTsp){#1};
	       \node[below=of \nTsp](\nBsp){#2};
	       %
	       %use bounding box so that the lines are based on the widest one
	       \path (current bounding box.west) -- +(-0.125,0) coordinate (source);
	       \path (current bounding box.east) -- +( 0.125,0) coordinate (dest);
	       %
	       %draw up/down and across from source (left)
	       \draw (source) |- (\nTsp.west);
	       \draw (source) |- (\nBsp.west);
	       %
	       %draw across and up/down to dest (right)
	       \draw (\nTsp.east) -| (dest);
	       \draw (\nBsp.east) -| (dest);
	       %
	       %add extra horizontal lines at source and dest
	       \draw (source) -- +(-0.125,0);
	       \draw (dest) -- +( 0.125,0);
	       \addtocounter{parlevel}{-1}
	   }
	}
	
	
	\newcommand{\block}[1]
	{
	   \tikz[baseline,remember picture,inner sep=2pt]
	   {
	       \node[draw,shape=rectangle](#1){#1};
	   }
	}
	
	%define a series block:  a tikz-pic with two nodes drawn next to each other and some connecting lines
	%the node contents comes from  #1 and #2
	%the two nodes are named &#39;nAsp&#39;  and &#39;nBsp&#39;     where x,y are serial and parallel levels which increment
	\newcommand{\serblock}[2]
	{
	   \tikz[baseline,remember picture,inner sep=0pt,outer sep=0pt,node distance=0.25cm]
	   {
	       \addtocounter{serlevel}{1}
	       %special names for the two nodes:
	       \def\nLsp{nL-\arabic{serlevel}-\arabic{parlevel}}
	       \def\nRsp{nR-\arabic{serlevel}-\arabic{parlevel}}
	       %
	       %define the two nodes:
	       \node(\nLsp){#1};
	       \node[right=of \nLsp](\nRsp){#2};
	       %
	       %define source and dest just past the nAsp and nBsp nodes
	       \path (\nLsp.west) -- +(-0.125,0) coordinate (source);
	       \path (\nRsp.east) -- +( 0.125,0) coordinate (dest);
	       %
	       %add lines at extreme ends
	       \draw (source) -- (\nLsp.west);
	       \draw (\nLsp.east) -- (\nRsp.west);
	       \draw (\nRsp.east) -- (dest);
	       \addtocounter{serlevel}{-1}
	   }
	}
	
	
	
	\begin{figure}
	\centering
	\parblock{\block{top}}{\block{bottom}}
	\caption{Parallel block}
	\end{figure}
	
	
	\begin{figure}
	\centering
	\serblock{\block{left}}{\block{right}}
	\caption{Series block}
	\end{figure}
	
	
	\begin{figure}
	\centering
	\parblock
	{\serblock{\block{top-left}}{\block{top-right}}}
	{\serblock{\block{bottom-left}}{\block{bottom-right}}}
	\caption{Series blocks in parallel}
	\end{figure}
	
	\begin{figure}
	\centering
	\serblock
	{\parblock{\block{left-top}}{\block{left-bottom}}}
	{\parblock{\block{right-top}}{\block{right-bottom}}}
	\caption{Parallel blocks in series}
	\end{figure}
	
	\begin{figure}
	\centering
	\serblock
	{\serblock{\block{left-left}}{\block{left-right}}}
	{\serblock{\block{right-left}}{\block{right-right}}}
	\caption{Series blocks in series}
	\end{figure}
	
	
	\begin{figure}
	\centering
	\parblock
	{\parblock{\block{top-top}}{\block{top-bottom}}}
	{\parblock{\block{bottom-top}}{\block{bottom-bottom}}}
	\caption{Parallel blocks in Parallel}
	\end{figure}
	
	\begin{figure}
	\centering
	\parblock
	{\parblock{\parblock{\block{t-t-t}}{\block{t-t-b}}}{\parblock{\block{t-b-t}}{\block{t-b-b}}}}
	{\parblock{\parblock{\block{b-t-t}}{\block{b-t-b}}}{\parblock{\block{b-b-t}}{\block{b-b-b}}}}
	\caption{Parallel blocks in parallel, in parallel}
	\end{figure}
	
	\begin{figure}
	\centering
	\serblock
	{\parblock{\parblock{\block{l-t-t}}{\block{l-t-b}}}{\parblock{\block{l-b-t}}{\block{l-b-b}}}}
	{\parblock{\parblock{\block{r-t-t}}{\block{r-t-b}}}{\parblock{\block{r-b-t}}{\block{r-b-b}}}}
	\caption{Parallel blocks in parallel, in series}
	\end{figure}
	
	
	\begin{figure}
	\centering
	\serblock
	{\parblock{\serblock{\parblock{\serblock{\block{}}{\serblock{\parblock{\block{}}{\block{}}}{\block{}}}}
	{\serblock{\parblock{\serblock{\parblock{\block{}}{\block{}}}{\block{}}}{\block{}}}{\block{}}}}
	{\parblock{\serblock{\parblock{\block{}}{\block{}}}
	{\block{}}}{\serblock{\parblock{\serblock{\block{}}{\block{}}}{\parblock{\block{}}{\block{}}}}
	{\serblock{\block{}}{\block{}}}}}}
	{\serblock{\parblock{\parblock{\serblock{\parblock{\serblock{\block{}}{\block{}}}{\serblock{\parblock{\block{}}{\block{}}}
	{\block{}}}}{\parblock{\block{}}{\serblock{\parblock{\serblock{\block{}}{\block{}}}
	{\parblock{\block{}}{\block{}}}}{\serblock{\block{}}{\block{}}}}}}
	{\serblock{\parblock{\block{}}{\serblock{\parblock{\serblock{\block{}}{\block{}}}
	{\parblock{\block{}}{\block{}}}}{\serblock{\block{}}{\block{}}}}}{\parblock{\serblock{\block{}}
	{\block{}}}{\serblock{\parblock{\block{}}{\block{}}}{\block{}}}}}}{\serblock{\parblock{\serblock{\block{}}
	{\block{}}}{\parblock{\block{}}{\block{}}}}{\serblock{\block{}}{\block{}}}}}
	{\parblock{\serblock{\parblock{\serblock{\block{}}{\block{}}}{\serblock{\parblock{\block{}}
	{\block{}}}{\block{}}}}{\serblock{\parblock{\block{}}{\block{}}}{\block{}}}}{\serblock{\parblock{\block{}}
	{\block{}}}{\block{}}}}}}
	{\parblock{\block{}}{\block{}}}
	
	\caption[Series and Parallel graph diagram]{This example shows latex macros which nest tikz environments together to generate series and parallel graph diagrams.
	This shows an example of latex-macros and nesting of tikz environments being used to draw large recursively-defined (nested) diagrams.}
	\end{figure}
	
	\end{document}
snippet mindmaps servers
	% A mindmap showing TeX online projects supported
	% by DANTE e.V. which sponsors their server costs.
	% Author: Stefan Kottwitz
	\documentclass[border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A mindmap showing TeX projects supported by DANTE e.V
	:Tags: Mindmaps
	:Author: Stefan Kottwitz
	:Slug: servers
	
	A mindmap showing TeX projects supported by DANTE e.V.,
	the german language TeX user group with home page
	at www.dante.de
	
	DANTE sponsors their server costs for the web sites
	shown in the mindmap.
	
	- TeX forums
	- TeX galleries
	- TeX blogs
	- Tools, documentation and FAQ
	
	Less for explanation, as the code has been done quick
	and far from perfect, but is shown here to share.
	\end{comment}
	\usepackage[utf8]{inputenc}
	\usepackage{dtklogos}
	\usepackage{tikz}
	\usetikzlibrary{mindmap,shadows}
	\usepackage[hidelinks,pdfencoding=auto]{hyperref}
	% Information boxes
	\newcommand*{\info}[4][16.3]{%
	  \node [ annotation, #3, scale=0.65, text width = #1em,
	          inner sep = 2mm ] at (#2) {%
	  \list{$\bullet$}{\topsep=0pt\itemsep=0pt\parsep=0pt
	    \parskip=0pt\labelwidth=8pt\leftmargin=8pt
	    \itemindent=0pt\labelsep=2pt}%
	    #4
	  \endlist
	  };
	}
	\begin{document}
	\begin{tikzpicture}[ every annotation/.style = {draw,
	                     fill = white, font = \Large}]
	  \path[mindmap,concept color=black!40,text=white,
	    every node/.style={concept,circular drop shadow},
	    root/.style    = {concept color=black!40,
	      font=\large\bfseries,text width=10em},
	    level 1 concept/.append style={font=\Large\bfseries,
	      sibling angle=50,text width=7.7em,
	    level distance=15em,inner sep=0pt},
	    level 2 concept/.append style={font=\bfseries,level distance=9em},
	  ]
	  node[root] {Apache, MySQL, PostgreSQL, Django, Joomla,
	    Dwoo, OSQA, phpBB, Wordpress, Mediawiki} [clockwise from=0]
	    child[concept color=blue!60] {
	      node {\href{http://golatex.de}{go\LaTeX\\.de}} [clockwise from=90]
	        child { node (goForum) {\href{http://golatex.de/index.html}{Forum}} }
	        child { node (goWiki) {\href{http://golatex.de/wiki/Hauptseite}{Wiki}} }
	    }
	    child[concept color=blue] {
	      node[concept] {\href{http://texwelt.de}{\TeX welt\\.de}}
	        [clockwise from=30]
	      child { node[concept] (TeXnique)
	        {\href{http://texnique.fr}{\TeX nique\\.fr}} }
	      child { node[concept] (TeXweltQA)
	        {\href{http://texwelt.de/wissen/}{Fragen~\& Antworten}} }
	      child { node[concept] (TeXweltBlog)
	        {\href{http://texwelt.de/blog/}{User blog} }}
	    }
	    child[concept color=green!40!black] {
	      node[concept] {\href{http://texample.net/}{\TeX ample\\.net}}
	        [clockwise from=310]
	      child { node[concept] (TikZGalerie) 
	        {\href{http://texample.net/tikz/examples/}{TikZ-Galerie}} }
	      child { node[concept] (TeXampleBlog)
	        {\href{http://texample.net/weblog/}{Blog}} }
	      child { node[concept] (Planet)
	        {\href{http://texample.net/community/}{Planet}} }
	    }
	    child[concept color=red] {
	      node[concept] (PGFPlots) {\href{http://pgfplots.net}{PGFPlots\\.net}}
	      [clockwise from=270]
	    }
	    child[concept color=red!60!black] {
	      node[concept] {\href{http://latex-community.org/}{\LaTeX-Community\\.org}}
	        [counterclockwise from=100]
	      child { node[concept] (LaTeXForum)
	        {\href{http://latex-community.org/forum/}{Forum}}}
	      child { node[concept] (LaTeXArtikel)
	        {\href{http://latex-community.org/know-how}{Artikel-Archiv}} }
	      child { node[concept] (LaTeXNews)
	        {\href{http://latex-community.org/home/news}{News}} }
	    }
	    child[concept color=orange] {
	      node[concept] (TeXdoc)
	        {\href{http://texdoc.net/}{\TeX doc\\.net}}
	        [clockwise from=100]
	        child { node[concept] {\href{http://www.tex.ac.uk}{UK \TeX \\FAQ}}
	        }}
	    child[concept color=yellow!60!black] {
	      node[concept] (Blogs) {Blogs} [clockwise from=139]
	      child { node[concept] {\href{http://texblog.net/}{\TeX blog\\.net}}}
	      child { node[concept] {\href{http://tikz.de/}{TikZ.de}} }
	      child { node[concept] (Cookbook)
	        {\href{http://latex-cookbook.net/}{\LaTeX-\\Cookbook\\.net}} }
	    };
	    \info{goForum.north east}{above,anchor=west,xshift=1em}{%
	      \item[] Seit 2008
	      \item 68\,444 Beiträge
	      \item 13\,715 Themen
	      \item 5\,532 registrierte Nutzer
	    }
	    \info{LaTeXForum.north west}{above,anchor=south}{%
	      \item[] Seit 2008
	      \item 81\,991 Beiträge
	      \item 21\,026 Themen
	      \item 13\,354 registrierte Nutzer
	    }
	    \info[8]{LaTeXArtikel.west}{below,anchor=north east,xshift=3em,yshift=-2em}{%
	      \item 115 Artikel
	    }
	    \info[11]{LaTeXNews.south west}{below,anchor=north}{%
	      \item 240 Meldungen
	    }
	    \info[9]{TikZGalerie.south}{below,anchor=north}{%
	      \item[] Seit 2006
	      \item 172 Autoren
	      \item 384 Beispiele
	    }
	    \info[15]{goWiki.south}{below,anchor=north,xshift=3em}{%
	      \item 152 erklärte Konzepte, Befehle und Pakete
	    }
	    \info{TeXweltQA.south east}{above,anchor=north west}{%
	      \item[] Seit 2013
	      \item 1\,710 Fragen
	      \item 2\,151 Antworten
	      \item 479 registrierte Nutzer
	    }
	    \info[8]{TeXweltBlog.south}{below,anchor=north,xshift=2em}{%
	      \item[] Seit 2013
	      \item 14 Autoren
	    }
	    \info[9]{PGFPlots.south west}{anchor=north east,xshift=1em}{%
	      \item 14 Autoren
	      \item 59 Beispiele
	    }
	    \info[6]{Planet.west}{anchor=east}{%
	      \item 46 Blogs
	    }
	    \info[14]{TeXnique.east}{anchor=west,xshift = 0.5em}{%
	      \item[] 2015, aufgrund Idee mit französischen
	              \TeX-Freunden nach der TUG Damstadt, experimentell
	    }
	    \info[16]{Cookbook.east}{anchor=south west}{%
	      \item[] Ab 10/2015, soll ca. 100 Beispiele aus
	              dem \LaTeX\ Cookbook zeigen, sowie
	              Community-Rezepte
	    }
	\end{tikzpicture}
	\end{document}
snippet mathematics set-operations-illustrated-with-venn-diagrams
	\documentclass{article}
	% Set operations illustrated with Venn diagrams
	% Author: Uwe Ziegenhagen
	% This is an expanded version of an example provided by T. Tantau
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Set operations illustrated with Venn diagrams
	:Tags: Mathematics; Clipping
	:Author: Uwe Ziegenhagen
	:Grid: 2x2
	
	This is an expanded version of an `example provided by T. Tantau <http://www.texample.net/tikz/examples/venn-diagram/>`_
	\end{comment}
	
	\begin{document}
	
	% Definition of circles
	\def\firstcircle{(0,0) circle (1.5cm)}
	\def\secondcircle{(0:2cm) circle (1.5cm)}
	
	\colorlet{circle edge}{blue!50}
	\colorlet{circle area}{blue!20}
	
	\tikzset{filled/.style={fill=circle area, draw=circle edge, thick},
	    outline/.style={draw=circle edge, thick}}
	
	\setlength{\parskip}{5mm}
	% Set A and B
	\begin{tikzpicture}
	    \begin{scope}
	        \clip \firstcircle;
	        \fill[filled] \secondcircle;
	    \end{scope}
	    \draw[outline] \firstcircle node {$A$};
	    \draw[outline] \secondcircle node {$B$};
	    \node[anchor=south] at (current bounding box.north) {$A \cap B$};
	\end{tikzpicture}
	
	%Set A or B but not (A and B) also known a A xor B
	\begin{tikzpicture}
	    \draw[filled, even odd rule] \firstcircle node {$A$}
	                                 \secondcircle node{$B$};
	    \node[anchor=south] at (current bounding box.north) {$\overline{A \cap B}$};
	\end{tikzpicture}
	
	% Set A or B
	\begin{tikzpicture}
	    \draw[filled] \firstcircle node {$A$}
	                  \secondcircle node {$B$};
	    \node[anchor=south] at (current bounding box.north) {$A \cup B$};
	\end{tikzpicture}
	
	% Set A but not B
	\begin{tikzpicture}
	    \begin{scope}
	        \clip \firstcircle;
	        \draw[filled, even odd rule] \firstcircle node {$A$}
	                                     \secondcircle;
	    \end{scope}
	    \draw[outline] \firstcircle
	                   \secondcircle node {$B$};
	    \node[anchor=south] at (current bounding box.north) {$A - B$};
	\end{tikzpicture}
	
	% Set B but not A
	\begin{tikzpicture}
	    \begin{scope}
	        \clip \secondcircle;
	        \draw[filled, even odd rule] \firstcircle
	                                     \secondcircle node {$B$};
	    \end{scope}
	    \draw[outline] \firstcircle node {$A$}
	                   \secondcircle;
	    \node[anchor=south] at (current bounding box.north) {$B - A$};
	\end{tikzpicture}
	
	\end{document}
snippet electronics seven-segment-display
	% Seven-segment display
	% Author:  Germain Gondor
	% Source: http://www.sciences-indus-cpge.apinc.org/Afficheur-7-Segments-avec-PGF-TIKZ
	\documentclass{minimal}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Seven-segment display
	
	Two examples from the documentation of Germain Gondor's  `seven-segment display package <http://www.sciences-indus-cpge.apinc.org/Afficheur-7-Segments-avec-PGF-TIKZ>`_. 
	
	:Source: `<http://www.sciences-indus-cpge.apinc.org/Afficheur-7-Segments-avec-PGF-TIKZ>`_
	
	\end{comment}
	
	% SevenSeg.sty can be downloaded from
	% http://www.sciences-indus-cpge.apinc.org/Afficheur-7-Segments-avec-PGF-TIKZ
	\usepackage{SevenSeg} 
	
	\begin{document}
	
	\begin{preview}
	\begin{tikzpicture}[scale=0.8]
	    \coordinate(A)at(-6em,0);
	    \SSGLeg{A}
	    \begin{scope}[xslant=0.1]
	    \SSGNb{}{3}
	    \SSGDCB{}
	    \end{scope}
	    \foreach \x in{0,...,1} {
	        \fill[purple](-7em,-7em-\x*1em)circle(3pt)coordinate(B\x);
	        \draw[purple,very thick](B\x)node[left]{$B_\x$}--++(14em,0)-|(Bit\x);
	        \fill[purple](Bit\x|-B\x)circle(3pt);
	    }
	    \foreach \x in{2,...,3} {
	        \fill(-7em,-7em-\x*1em)circle(3pt)coordinate(B\x);
	        \draw[very thick](B\x)node[left]{$B_\x$}--++(14em,0)-|(Bit\x);
	        \fill(Bit\x|-B\x)circle(3pt);
	    }
	\end{tikzpicture}
	%
	\begin{tikzpicture}[scale=0.75]
	    \foreach \x in{0,...,3} {
	        \coordinate (L\x) at({(\x-0)*2.5} ,-3*1);
	        \SSGNb{L\x}{\x}
	    }
	    \foreach \x in{4,...,7} {
	        \coordinate (L\x) at({(\x-4)*2.5} ,-3*2);
	        \SSGNb{L\x}{\x}
	    }
	\end{tikzpicture}
	\end{preview}
	
	\end{document}
snippet intersections shake-rattle-pendulum
	% Shake and Rattle on a planar pendulum example
	% Author: Olivier Verdier
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Shake and Rattle on a planar pendulum example
	:Tags: Intersections;Coordinate calculations;Styles
	:Author: Olivier Verdier
	:Slug: shake-rattle-pendulum
	
	This is an illustration of how the numerical integrator Shake and Rattle work on a simple planar pendulum example. The way it works is by kicking the mass upwards, releasing the constraint, let the mass fly and land back on the constrained set. The drawing is geometrically correct.
	\end{comment}
	\usetikzlibrary{calc,decorations.markings,intersections,fpu}
	 
	\tikzset{
	  >=stealth,
	  fiber/.style  = {draw, thick, blue!70!black},
	  flight/.style = {draw, black, thick, densely dotted,
	  decoration    = {markings, mark=at position 0.6 with {\arrow{>}}},
	  postaction    = {decorate}},
	  rattle/.style = {color=green!50!black},
	}
	 
	\begin{document}
	
	\begin{tikzpicture}[
	    >=stealth,
	    scale                   = 2.5,
	    hinge/.style            = {fill=white, draw=black},
	    fiber_projection/.style = {opacity=.3, ->},
	  ]
	
	  \coordinate (origin) at (0,0);
	
	  \newcommand*\pathfreefall[1]{
	    \path[name path=freefall, #1] (2,-3.5) parabola[parabola height=2cm] +(-3,0);
	  }
	  \newcommand*\pathconstraint[1]{
	    \path[name path=constraint, #1] (0,0) circle[radius=2cm];
	  }
	
	  % Compute the free fall trajectory by clipping a circle and a parabola
	  \begin{scope}
	    \pathconstraint{clip}
	    \pathfreefall{draw, flight}
	  \end{scope}
	
	  % Just "path" the circle and parabola, to compute intersections
	  \pathconstraint{}
	  \pathfreefall{}
	
	
	  % Find intersections of the circle and the parabola
	  \path [name intersections={of=freefall and constraint, by={q0,q1}}];
	
	  % The clipping circles are too big: reset the bounding box
	  \pgfresetboundingbox
	
	  % Draw just a bit of the circle which is clipped at a circle centered at the midpoint between q0 and q1
	  \begin{scope}
	    \path[clip] ($(q0)!.5!(q1)$) circle[radius=1cm];
	    \pathconstraint{draw}
	  \end{scope}
	
	
	  % Detla x to compute the tangents
	  \newcommand*\deltax{.005}
	  % Vector length
	  \newcommand*\veclength{.5}
	
	  % Compute multiplication factor to obtain a tangent vector of right size
	  \pgfkeys{/pgf/fpu, /pgf/fpu/output format=fixed}
	  \pgfmathsetmacro\multfactor{\veclength/\deltax}
	  \pgfkeys{/pgf/fpu=false}
	
	  % Common command for q0 and q1
	  \newcommand*\drawz[1]{
	    % draw imaginary line slight off by deltax
	    \path[name path=vert#1] ($(q#1) + (-\deltax,-1)$) -- ($(q#1) + (-\deltax,1)$);
	    % compute intersection wiht parabola: this is a base for the derivative
	    \fill [name intersections={of=freefall and vert#1, by={q#1p}}] ;
	
	    % prolong that vector \multfactor times, this gives us the launching/crashing velocity
	    \coordinate (z#1p) at ($(q#1)!\multfactor!(q#1p)$);
	    % draw it
	    \draw[->] (q#1) -- (z#1p);
	
	    % orthogonal projection of velocity: this is the reaction force
	    \coordinate (q#1v) at ($(origin)!(z#1p)!(q#1)$);
	    % velocity tangent to the circle:
	    \draw[rattle,thick,->] (q#1) -- +($(z#1p) - (q#1v)$) node[shape=coordinate] (z#1) {};
	  }
	
	  \drawz{0};
	
	  % label z_0^+
	  \node[left] at (z0p) {$z_0^+$};
	
	 \drawz{1};
	
	  % draw two past and future versions of the rod
	  \draw (origin) -- (q0);
	  \draw[gray] (origin) -- (q1);
	
	  % label z_1^-
	  \node[right] at (z1p) {$z_1^-$};
	  % label z_1
	  \node[below right] at (z1) {$z_1$};
	
	  % create point z which is on \Man but not on \Mp
	  \coordinate (z) at ($(z0p)!1.3!(z0)$);
	  % draw z
	  \draw[->] (q0) -- (z);
	  % label z
	  \node[below] at (z) {$z$};
	
	  % draw projection from launching/crashing velocity to tangent velocity
	  \draw[fiber, fiber_projection] (z) -- (z0p);
	  \draw[fiber, fiber_projection] (z1p) -- (z1);
	
	  % draw initial "kick" reaction force sending z to z_0^+
	  \path[fiber,thick,draw,->] (q0) -- +($(z0p) - (z)$);
	
	  % draw final Rattle "kick"
	  \path[fiber,thick,draw,->] (q1) -- +($(z1) - (z1p)$);
	
	
	  % draw nice hinge
	  \draw[hinge] (origin) circle(1pt);
	  \draw[fill=black] (origin) circle(.5pt);
	
	\end{tikzpicture}
	\end{document}
snippet 3d shear-torsion
	% Shear torsion
	% Author: Marco Castelli
	\documentclass[border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Shear torsion
	:Tags: 3D;Mechanics;Physics
	:Author: Marco Castelli
	:Slug: shear-torsion
	Structural analysis of three different torsional problem,
	created with TikZ using the 3Dstructuralanalysis package.
	\end{comment}
	\usepackage{3Dstructuralanalysis}
	\begin{document}
	\begin{tikzpicture}[coords]
		% Points
		\dpoint{a}{0}{0}{0};
		\dpoint{b}{0}{3.8}{0};
		\dpoint{c}{0}{0}{0.3};
		\dpoint{d}{0}{0.6}{0.3};
		\dpoint{e}{0}{-0.8}{0.3};
		% Torsiona supports and beam
		\dsupport{3}{a}[0][0][1];
		\dhinge{3}{a}[0];
		\dsupport{3}{b}[0][0][1];
		\dhinge{3}{b}[0];
		\dbeam{1}{a}{b};
		% Loads acting on the edge
		\dload{4}{c}[90][90][1][0.1];
		\dload{4}{c}[90][90][-1][-0.3];
		% Notations
		\dnotation{1}{d}{$M_t$}[above left];
		\dnotation{1}{e}{$M_t$}[above left];
		\dnotation{2}{a}{}[below right];
	\end{tikzpicture}
	%
	\begin{tikzpicture}[coords]
		% Points
		\dpoint{a}{0}{0}{0};
		\dpoint{b}{0}{3.8}{0};
		\dpoint{c}{0}{0.5}{0};
		\dpoint{d}{0}{0}{0.3};
		\dpoint{e}{0}{0.5}{0.3};
		\dpoint{f}{0}{-0.8}{0.3};
		\dpoint{g}{0}{1.4}{0.3};
		% Torsiona supports and beam
		\dsupport{3}{a}[0][0][1];
		\dhinge{3}{a}[0];
		\dsupport{3}{b}[0][0][1];
		\dhinge{3}{b}[0];
		\dbeam{1}{a}{b};
		% Load applied on the support and one load
		% at a 't' distance from the edge
		\dload{4}{e}[90][90][1][0];
		\dload{4}{d}[90][90][-1][-0.3];
		% Notations and dimensioning
		\dnotation{1}{f}{$M_t$}[above left];
		\dnotation{1}{g}{$M_t$}[above left];
		\dnotation{2}{c}{}[below right];
		\ddimensioning{yz}{a}{c}{0.8}[$t$];
	\end{tikzpicture}
	%
	\begin{tikzpicture}[coords]
		% Points
		\dpoint{a}{0}{0}{0};
		\dpoint{b}{0}{3.8}{0};
		\dpoint{c}{0}{0}{0.3};
		\dpoint{d}{0}{-0.8}{0.3};
		\dpoint{e}{0}{0}{0.3};
		\dpoint{f}{0}{0.8}{0.3};
		\dpoint{g}{0}{1.6}{0.3};
		\dpoint{h}{0}{2.4}{0.3};
		\dpoint{i}{0}{3.2}{0.3};
		% Torsiona supports and beam
		\dsupport{3}{a}[0][0][1];
		\dhinge{3}{a}[0];
		\dsupport{3}{b}[0][0][1];
		\dhinge{3}{b}[0];
		\dbeam{1}{a}{b};
		% Load applied on the support and one
		% distibuited load along the whole beam
		\dload{4}{c}[90][90][-1][-0.3];
		\dload{4}{e}[90][90][0.7][0];
		\dload{4}{f}[90][90][0.7][0];
		\dload{4}{g}[90][90][0.7][0];
		\dload{4}{h}[90][90][0.7][0];
		\dload{4}{i}[90][90][0.7][0];
		% Notations	
		\dnotation{1}{h}{$m_t$}[above left];
		\dnotation{1}{d}{$M_t$}[above left];
	\end{tikzpicture}
	\end{document}
snippet block signal-flow-building-blocks
	% Some basic examples for signal flow diagrams.
	%
	% Author: Dr. Karlheinz Ochs, Ruhr-University of Bochum, Germany
	% Version: 0.1
	% Date: 2007/01/05
	\documentclass{article}
	\usepackage{signalflowdiagram}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Signal flow building blocks
	:Tags: Block diagrams, Macro packages
	
	The signalflow library by Karlheinz Ochs defines a variety of building blocks
	that can be used to draw signal flow diagrams. Examples are ``input`` and
	``output`` nodes, ``multiplier`` and ``adder`` nodes, and ``filter`` and ``delay``
	blocks. The library also extends the node placement syntax by adding the constructs
	``right from=``, ``above from=`` etc., that places nodes relative to node boundaries instead of
	node centers.
	
	Files:
	
	- Download the version of the ``signalflow`` library used in this example: `signalflow.zip`_
	
	.. _signalflow.zip: http://media.texample.net/tikz/examples/signalflowlibrary/signalflowlibrary.zip
	
	| Author: `Dr. Karlheinz Ochs`__, Ruhr-University of Bochum, Germany
	
	.. __: http://www.nt.ruhr-uni-bochum.de/Extern/en/Group/Who/Engineer/Ochs/person.htm
	\end{comment}
	\begin{document}
	
	%
	% Basic definitions of the symbols used in a signal flow diagram
	%
	\begin{preview}
	% - input and output terminal
	\begin{signalflow}{Terminals and branches}
	    % - input terminal
	    \begin{scope}
	        \node[input]      (in)                 {$x(t)$};
	        \node[coordinate] (c)  [right from=in] {};
	        % signal path
	        \path[r>] (in) -- (c);
	    \end{scope}
	    % - output terminal
	    \begin{scope}[xshift=3cm]
	        \node[output]     (out)                {$y(t)$};
	        \node[coordinate] (c)  [left from=out] {};
	        % signal path
	        \path[r>] (c) -- (out);
	    \end{scope}
	    % - branching node
	    \begin{scope}[yshift=-2cm]
	        \node[input]  (in)                          {$x(t)$};
	        \node[node]   (nd)    [right from=in]       {};
	        \node[output] (out1)  [above right from=nd] {$x(t)$};
	        \node[output] (out2)  [below right from=nd] {$x(t)$};
	        % signal paths
	        \path[r>] (in) -- (nd);
	        \path[r>] (nd) |- (out1);
	        \path[r>] (nd) |- (out2);
	    \end{scope}
	\end{signalflow}
	
	\begin{signalflow}{Multiplier and adder}
	    % - multiplier
	    \begin{scope}
	        \node[input]      (in)                     {$x(t)$};
	        \node[multiplier] (mul) [right from=in]  {\nodepart{above}{$\alpha$}};
	        \node[output]     (out) [right from=mul] {$\alpha x(t)$};
	        % signal paths
	        \path[r>] (in)  -- (mul);
	        \path[r>] (mul) -- (out);
	    \end{scope}
	    % - adder
	    \begin{scope}[xshift=5cm]
	        \node[adder]  (add)                       {};
	        \node[input]  (in1) [above left from=add] {$x_1(t)$};
	        \node[input]  (in2) [below left from=add] {$x_2(t)$};
	        \node[output] (out) [right from=add]      {$x_1(t)+x_2(t)$};
	        % signal paths
	        \path[r>] (in1) -| (add);
	        \path[r>] (in2) -| (add);
	        \path[r>] (add) -- (out);
	   \end{scope}
	\end{signalflow}
	
	
	% - modulator
	\begin{signalflow}{Modulator}
	   \node[modulator] (mul)                       {};
	   \node[input]     (in1) [above left from=mul] {$x_1(t)$};
	   \node[input]     (in2) [below left from=mul] {$x_2(t)$};
	   \node[output]    (out) [right from=mul]      {$x_1(t)x_2(t)$};
	   % signal paths
	   \path[r>] (in1) -| (mul);
	   \path[r>] (in2) -| (mul);
	   \path[r>] (mul) -- (out);
	\end{signalflow}
	
	\begin{signalflow}{Delay element and filter}
	    % - delay element
	    \begin{scope}
	        \node[input]  (in)                   {$x(t)$};
	        \node[delay]  (del) [right from=in]  {$T$};
	        \node[output] (out) [right from=del] {$x(t-T)$};
	        % signal paths
	        \path[r>] (in)  -- (del);
	        \path[r>] (del) -- (out);
	    \end{scope}
	    % - filter
	    \begin{scope}[xshift=5cm]
	        \node[input]  (in)                   {$x(t)$};
	        \node[filter] (fil) [right from=in]  {$q(t)$};
	        \node[output] (out) [right from=fil] {$x(t)\ast q(t)$};
	        % signal paths
	        \path[r>] (in)  -- (fil);
	        \path[r>] (fil) -- (out);
	   \end{scope}
	\end{signalflow}
	\end{preview}
	
	
	\end{document}
snippet diagrams sign-diagram
	% Sign diagram
	% Author: Alain Matthes
	\documentclass{article}
	\usepackage[usenames,dvipsnames,pdftex]{xcolor}
	\usepackage{tikz,tkz-tab}
	\usetikzlibrary{arrows}%
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Sign diagram
	:Tags: Diagrams
	
	A sign diagram created with the TikZ-based `tkz-tab`_ package. Documentation_ only available
	in French. However, the code and the numerous examples speak for themselves.
	
	:Author: Alain Matthes
	:Source: `Altermundus.fr`_
	:Download: Archives_
	
	.. _documentation: http://www.altermundus.fr/pages/downloads/tab-sign.pdf
	.. _tkz-tab: http://www.altermundus.fr/pages/pdflatex/tab.html
	.. _Altermundus.fr: http://www.altermundus.fr/index.html
	.. _Archives: http://www.altermundus.fr/pages/download.html
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	
	  \sgnvar[couleur,%
	          couleurC=Orange!80,%
	          couleurL=Orange!60,%
	          couleurT=Orange!40,%
	          couleurV=Orange,%
	          espcl=4]
	     { $x$          /1,%
	       $f''(x)$     /1,%
	       $f'(x)$      /2,%
	       $f(x)$       /3}%
	     { $0$ , $1$ ,$\alpha$,$+\infty$ }%
	  \signe {d,$+$,0,$-$,,$-$ }%
	  \variation
	      {-/ $1$       /,%
	       +/           /,%
	       R/           /,%
	       -/ $-\infty$ /}
	
	  \valeur[draw,]{2}{4}{1}{}{0}
	  \tangente[pos]{1}{2}{2}{$2$}
	  \variation
	     {-/ $-\infty$ /,%
	      R/           /,%
	      +/           /,%
	      -/ $0$       /}
	  \valeur[last,draw]{3}{4}{0}{}{}
	  \tangente[last,pos=below]{2}{3}{1}{$1$}
	  \end{tikzpicture}
	
	
	
	
	\end{document}
snippet mechanics signpost
	% Signpost with loads applied
	% Author: Paul Gessler
	\documentclass{article}
	\usepackage{tikz}             % TikZ and PGF
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Signpost with loads applied
	:Tags: Mechanics;3D
	:Author: Paul Gessler
	:Slug: signpost
	\end{comment}
	% Vector Styles
	\tikzstyle{load}   = [ultra thick,-latex]
	\tikzstyle{stress} = [-latex]
	\tikzstyle{dim}    = [latex-latex]
	\tikzstyle{axis}   = [-latex,black!55]
	
	% Drawing Views
	\tikzstyle{isometric}=[x={(0.710cm,-0.410cm)},y={(0cm,0.820cm)},z={(-0.710cm,-0.410cm)}]
	\tikzstyle{dimetric} =[x={(0.935cm,-0.118cm)},y={(0cm,0.943cm)},z={(-0.354cm,-0.312cm)}]
	\tikzstyle{dimetric2}=[x={(0.935cm,-0.118cm)},z={(0cm,0.943cm)},y={(+0.354cm,+0.312cm)}]
	\tikzstyle{trimetric}=[x={(0.926cm,-0.207cm)},y={(0cm,0.837cm)},z={(-0.378cm,-0.507cm)}]
	
	\begin{document}
	\begin{center}
	  \begin{tikzpicture}
	    \node (origin) at (0,0) {}; % shift relative baseline
	    \coordinate (O) at (2,3);
	    \draw[fill=gray!10] (O) circle (1);
	    \draw[fill=white] (O) circle (0.75) node[below,yshift=-1.125cm] {Signpost Cross Section};
	    \draw[dim] (O) ++(-0.75,0) -- ++(1.5,0) node[midway,above] {$d_i$};
	    \draw[dim] (O) ++(-1,1.25) -- ++(2,0) node[midway,above] {$d_o$}; 
	    \foreach \x in {-1,1} {
	      \draw (O) ++(\x,0.25) -- ++(0,1.25);
	    }
	  \end{tikzpicture}%
	  \begin{tikzpicture}[dimetric2]
	        \coordinate (O) at (0,0,0);
	        \draw[axis] (O) -- ++(6,0,0) node[right] {$x$};
	        \draw[axis] (O) -- ++(0,6,0) node[above right] {$y$};
	        \draw[axis] (O) -- ++(0,0,6) node[above] {$z$};
	        \draw[fill=gray!50] (0,0,-0.5) circle (0.5); 
	        \fill[fill=gray!50] (-0.46,-0.2,-0.5) -- (0.46,0.2,-0.5) -- (0.46,0.2,0) -- (-0.46,-0.2,0) -- cycle;
	        \draw[fill=gray!20] (O) circle (0.5);
	    \draw (0.46,0.2,-0.5) -- ++(0,0,0.5) node[below right,pos=0.0] {Fixed Support};
	    \draw (-0.46,-0.2,-0.5) -- ++(0,0,0.5);
	    \draw[fill=gray!10] (O) circle (0.2);
	    \fill[fill=gray!10] (-0.175,-0.1,0) -- (0.175,0.1,0) -- ++(0,0,4) -- (-0.175,-0.1,4) -- cycle;
	    \draw (-0.175,-0.1,0) -- ++(0,0,4);
	    \draw (0.175,0.1,0) -- ++(0,0,4) node[right,midway] {Steel Post};
	    \draw (4,0,3.95) -- ++(0,0,-1);
	    \foreach \z in {0.5,0.75,...,5} {
	      \draw[-latex] (-2*\z/5-0.2,0,\z) -- (-0.2,0,\z);
	    }
	    \draw[load] (0,0,4) -- ++(0,0,-1.25) node[right,xshift=0.1cm] {$F_{z1}$};
	    \draw[fill=gray!20] (-0.25,-0.25,5) -- (4,-0.25,5) -- (4,+0.25,5) -- (-0.25,+0.25,5) -- cycle; 
	    \draw[fill=gray!50] (+4.00,-0.25,4) -- (4,+0.25,4) -- (4,+0.25,5) -- (+4.00,-0.25,5) -- cycle; 
	    \draw[fill=gray!10] (-0.25,-0.25,4) -- (4,-0.25,4) -- (4,-0.25,5) -- (-0.25,-0.25,5) -- cycle; 
	    \draw (4.05,0,4) -- ++(1,0,0);
	    \draw (4.05,0,5) -- ++(1,0,0);
	    \draw[dim] (4.5,0,0) -- ++(0,0,4) node[midway,right] {$h_1$};
	    \draw[dim] (4.5,0,4) -- ++(0,0,1) node[midway,right] {$h_2$};
	    \draw[dim] (0,0,3.4) -- ++(4,0,0) node[midway,below] {$b_2$};
	    \coordinate (P) at (2,-0.25,4.5);
	    \draw (P) -- ++(0,0,0.25);
	    \draw (P) -- ++(0.25,0,0);
	    \draw[dim] (2.125,-0.25,4.5) -- ++(0,0,-0.5) node[midway,right] {$z_1$};
	    \draw[dim] (2,-0.25,4.625) -- ++(-2,0,0) node[midway,below] {$x_1$};
	    \draw[load] (2,-2.45,4.5) -- ++(0,2.2,0) node[pos=0.0,right,xshift=0.08cm] {$F_{y1}$};
	    \draw[axis,dashed,-] (O) -- (0,0,5);
	    \draw (0,0,5.5) -- ++(4,0,0) node[midway,above] {$w_{z}$};
	    \foreach \x in {0,0.25,...,4} {
	      \draw[-latex] (\x,0,5.5) -- ++(0,0,-0.5);
	    }
	    \draw (-0.2,0,0) -- ++(-2,0,5) node[above,xshift=0.5cm] {$w_{x}=\frac{z}{h_1+h_2} w_0$};
	  \end{tikzpicture} %
	\end{center}
	\end{document}
snippet block simple-circuit-schematics-symbols
	% Simple circuit schematics symbols
	% Author: Shengshan Cui
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{subfig}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Simple circuit schematics symbols
	:Tags: Block diagrams, Paths
	
	An example of how to create simple schematic symbols using paths and macros. The example also shows
	how the symbols can be combined with the signalflow_ library by Karlheinz Ochs. For a general circuit 
	library this should be done by creating `custom node shapes`_. However, that would require a lot more
	work. 
	
	
	| Author: `Shengshan Cui`_
	
	.. _Shengshan Cui: http://web.njit.edu/~sc229/
	.. _signalflow: http://www.fauskes.net/pgftikzexamples/signal-flow-building-blocks/
	.. _custom node shapes: http://www.fauskes.net/pgftikzexamples/rectangle-node-with-diagonal-fill/
	
	\end{comment}
	
	\usepackage{signalflowdiagram}
	
	% Define two simple circuit schematics symbols
	\def\antenna{%
	    -- +(0mm,4.0mm) -- +(2.625mm,7.5mm) -- +(-2.625mm,7.5mm) -- +(0mm,4.0mm)
	}
	
	\def\ground{%
	    -- +(0mm,-4.0mm) {
	        [yshift=-4mm]
	        +(-2mm,0mm) -- +(2mm,0mm)
	                +(-1mm,-1mm) -- +(1mm,-1mm)
	                +(-0.3mm,-2mm) -- +(0.3mm,-2mm)
	        }
	}
	
	\begin{document}
	
	\begin{figure}
	    \centering
	    \subfloat[Stand alone symbols]{
	        \begin{tikzpicture}
	            \draw[step=.5cm,black!25,very thin] (-1.4,-1.4) grid (1.4,1.4);
	            \draw[color=red,thick] (0,0) \antenna;
	            \draw[color=blue,thick] (0,0) \ground;
	        \end{tikzpicture}
	    }\qquad
	    \subfloat[Combining symbols with the signalflow library]{
	        \begin{tikzpicture}
	            \node[input]  (in)                   {$x(t)$};
	            \node[delay]  (del) [right from=in]  {$T$};
	            \node[coordinate] (out) [right from=del] {};
	            % signal paths
	            \path[r>] (in)  -- (del);
	            \path[r] (del) -- (out) \antenna \ground;
	        \end{tikzpicture}
	    }
	\end{figure}
	
	\end{document}
snippet diagrams simple-flow-chart
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Simple flow chart
	:Tags: Diagrams
	
	With PGF/TikZ you can draw flow charts with relative ease. This flow chart from [1]_
	outlines an algorithm for identifying the parameters of an autonomous underwater vehicle model. 
	
	Note that relative node
	placement has been used to avoid placing nodes explicitly. This feature was
	introduced in PGF/TikZ >= 1.09.
	
	.. [1] Bossley, K.; Brown, M. & Harris, C. Neurofuzzy identification of an autonomous underwater vehicle `International Journal of Systems Science`, 1999, 30, 901-913 
	
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	
	% Define block styles
	\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
	    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
	\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
	    text width=5em, text centered, rounded corners, minimum height=4em]
	\tikzstyle{line} = [draw, -latex']
	\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
	    minimum height=2em]
	    
	\begin{tikzpicture}[node distance = 2cm, auto]
	    % Place nodes
	    \node [block] (init) {initialize model};
	    \node [cloud, left of=init] (expert) {expert};
	    \node [cloud, right of=init] (system) {system};
	    \node [block, below of=init] (identify) {identify candidate models};
	    \node [block, below of=identify] (evaluate) {evaluate candidate models};
	    \node [block, left of=evaluate, node distance=3cm] (update) {update model};
	    \node [decision, below of=evaluate] (decide) {is best candidate better?};
	    \node [block, below of=decide, node distance=3cm] (stop) {stop};
	    % Draw edges
	    \path [line] (init) -- (identify);
	    \path [line] (identify) -- (evaluate);
	    \path [line] (evaluate) -- (decide);
	    \path [line] (decide) -| node [near start] {yes} (update);
	    \path [line] (update) |- (identify);
	    \path [line] (decide) -- node {no}(stop);
	    \path [line,dashed] (expert) -- (init);
	    \path [line,dashed] (system) -- (init);
	    \path [line,dashed] (system) |- (evaluate);
	\end{tikzpicture}
	
	
	\end{document}
snippet graphs sine-and-cosine-functions-animation
	% Sine and Cosine functions animation
	%
	% Author:
	% Efraín Soto Apolinar.
	% http://www.aprendematematicas.org/
	% 
	% This animation helps explain the 
	% geometric interpretation of the 
	% sine and cosine functions.
	%
	
	\documentclass[spanish,10pt]{beamer}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Sine and Cosine functions animation
	
	This animation helps explain the 
	geometric interpretation of the 
	sine and cosine functions.
	\end{comment}
	
	
	\usepackage[ansinew]{inputenc} % Language = Spanish
	%
	\usepackage{color}
	\usepackage{tikz}
	\usepackage{hyperref}
	\hypersetup{pdfpagemode=FullScreen}
	\usepackage{ifthen}
	\usepackage{animate}
	%
	\usetheme{Warsaw} 
	\usecolortheme{whale}
	%
	%
	%
	\newcounter{angle}
	\setcounter{angle}{0}
	%
	\begin{document}
	%
	%
	%
	\begin{frame}[fragile]{Sine and Cosine functions}
	\begin{center}
	\begin{animateinline}[loop, poster = first, controls]{30}
	%
	\whiledo{\theangle<359}{
	%
	    \begin{tikzpicture}
	    % Axis
	    \draw[thick,->,blue] (-3,0)--(3,0) node[below] {$x$}; % x axis
	    \draw[thick,->,blue] (0,-3)--(0,3) node[left] {$y$}; % y axis
	    \draw[red,thick] (0,0) circle (2.5cm);
	    \node[red,below] at (2.6,0) {1};
	    \node[red,above] at (0.1,-2.5) {1};
	    %
	    \draw[ultra thick,cyan] (0,0) -- (0,0 |- \theangle:2.5cm); % UpOn x axis
	    \draw[ultra thick,orange] (0,0) -- (\theangle:2.5cm |- 0,0); % UpOn y axis
	    %
	    \draw[densely dotted,orange] (\theangle:2.5cm) -- (\theangle:2.5cm |- 0,0); % vertical line
	    \draw[densely dotted,cyan] (\theangle:2.5cm) -- (0,0 |- \theangle:2.5cm); % horizontal line
	    \draw[ultra thick,red,->,rotate=\theangle] (0,0) -- (2.5,0); 
	    \node[red,orange,right] at (0,-3.5) 
	            {\footnotesize$\cos(\theangle^{\mathrm{o}}) = \pgfmathcos{\theangle}\pgfmathresult$};
	    \node[red,cyan,right] at (0,-3.1) 
	            {\footnotesize$\sin(\theangle^{\mathrm{o}}) = \pgfmathsin{\theangle}\pgfmathresult$};
	    \end{tikzpicture}
	    %
	    \stepcounter{angle}
	    \ifthenelse{\theangle<359}{
	            \newframe
	    }{
	            \end{animateinline}
	    }
	}
	\end{center}
	\end{frame}
	%
	%
	%
	\end{document}
snippet networking skype-topology
	% Skype network topology
	% Author Fiandrino Claudio 2011
	% http://claudiofiandrino.altervista.org/
	\documentclass{article}
	\usepackage{tikz}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{7pt}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Skype network topology
	:Tags: Networking; Foreach; Node Positioning; Layers; Styles; Graphs
	:Author: Claudio Fiandrino
	:Slug: skype-topology
	
	Skype uses a decentralized network topology with super nodes
	and normal clients. This diagram shows the architecture.
	\end{comment}
	\definecolor{lavander}{cmyk}{0,0.48,0,0}
	\definecolor{violet}{cmyk}{0.79,0.88,0,0}
	\definecolor{burntorange}{cmyk}{0,0.52,1,0}
	
	\def\lav{lavander!90}
	\def\oran{orange!30}
	
	\tikzstyle{peers}=[draw,circle,violet,bottom color=\lav,
	                  top color= white, text=violet,minimum width=10pt]
	\tikzstyle{superpeers}=[draw,circle,burntorange, left color=\oran,
	                       text=violet,minimum width=20pt]
	\tikzstyle{legendsp}=[rectangle, draw, burntorange, rounded corners,
	                     thin,bottom color=\oran, top color=white,
	                     text=burntorange, minimum width=2.5cm]
	\tikzstyle{legendp}=[rectangle, draw, violet, rounded corners, thin,
	                     bottom color=\lav, top color= white,
	                     text= violet, minimum width= 2.5cm]
	\tikzstyle{legend_general}=[rectangle, rounded corners, thin,
	                           burntorange, fill= white, draw, text=violet,
	                           minimum width=2.5cm, minimum height=0.8cm]
	\begin{document}
	\begin{tikzpicture}[auto, thick]
	  % Place super peers and connect them
	  \foreach \place/\name in {{(0,-1)/a}, {(2,0)/b}, {(2,2)/c}, {(0,2)/d},
	           {(-2,0)/e}}
	    \node[superpeers] (\name) at \place {};
	  \foreach \source/\dest in {a/b, a/c, a/d, b/c, c/d,a/e,d/e}
	    \path (\source) edge (\dest);
	   %
	   % Place normal peers
	  \foreach \pos/\i in {above left of/1, left of/2, below left of/3}
	    \node[peers, \pos = e] (e\i) {};
	   \foreach \speer/\peer in {e/e1,e/e2,e/e3}
	    \path (\speer) edge (\peer);
	   %
	   \foreach \pos/\i in {above right of/1, right of/2, below right of/3}
	    \node[peers, \pos =b ] (b\i) {};
	   \foreach \speer/\peer in {b/b1,b/b2,b/b3}
	   \path (\speer) edge (\peer);
	   %
	   \node[peers, above of=d] (d1){};
	   \path (d) edge (d1);
	   %
	   \foreach \pos/\i in {below left of/1, below of/2}
	   \node[peers, \pos =a ] (a\i) {};
	   \foreach \speer/\peer in {a/a1,a/a2}
	   \path (\speer) edge (\peer);
	   %%%%%%%%
	   % Legends
	   \node[legendsp] at (5,0) {\small{Super-peers}};
	   \node[legendp] at (5,2) {\small{Normal peers}};
	   \node[legend_general] at (0,4) {\small{\textsc{Skype-topology}}};
	\end{tikzpicture}
	\end{document}
snippet diagrams smart-bubbles
	% A diagram of TeX engines
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A diagram of TeX engines
	:Tags: Diagrams;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-bubbles
	
	A diagram of TeX engines using the
	clever smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\usepackage{metalogo}
	\usepackage{dtklogos}
	\begin{document}
	\smartdiagram[bubble diagram]{\TeX\ engines,
	  \TeX\ (dvi), pdf\TeX, \XeTeX, \LuaTeX, Con\TeX t}
	\end{document}
snippet diagrams smart-circle
	% A circular diagram of a TeX workflow
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A circular diagram of a TeX workflow
	:Tags: Diagrams;Flowcharts;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-circle
	
	A diagram showing a TeX workflow using the
	clever smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\begin{document}
	\smartdiagram[circular diagram:clockwise]{Edit,
	  pdf\LaTeX, Bib\TeX/ biber, make\-index, pdf\LaTeX}
	\end{document}
snippet diagrams smart-constellation
	% A diagram of TeX software
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A circular diagram of a TeX workflow
	:Tags: Diagrams;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-constellation
	
	A diagram presenting TeX software using the
	smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\begin{document}
	\smartdiagram[constellation diagram]{\TeX\ software,
	  Editor, Compiler, Converter, PDF Reader}
	\end{document}
snippet diagrams smart-description
	% A descriptive diagram of TikZ tasks
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A descriptive diagram of TikZ tasks
	:Tags: Diagrams;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-description
	
	A diagram showing various TikZ drawing tasks, using the
	smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\begin{document}
	\smartdiagram[descriptive diagram]{
	  {Style,{Define shapes, colors, shading,
	          and line styles for nodes and arrows}},
	  {Position, {Place nodes using a matrix,
	              relative or absolute positioning}},
	  {Relation, Insert edges or arrows
	             between selected nodes},
	  {Label, Add labels on edges or arrows}}
	\end{document}
snippet diagrams smart-flowchart
	% A flowchart of a TeX workflow
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A flowchart of a TeX workflow
	:Tags: Diagrams;Flowcharts;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-flowchart
	
	A flowchart showing a common TeX workflow, using the
	smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\begin{document}
	\smartdiagram[flow diagram:horizontal]{Edit,
	  \LaTeX, Bib\TeX/ biber, make\-index, \LaTeX}
	\end{document}
snippet diagrams smart-priority
	% A bottom-up chart of a TeX workflow
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A bottom-up chart of a TeX workflow
	:Tags: Diagrams;Flowcharts;Smartdiagram;Cookbook
	:Author: Stefan Kottwitz
	:Slug: smart-priority
	
	A priority chart showing a common TeX workflow
	from bottom to top, using the smartdiagram package.
	\end{comment}
	\usepackage{smartdiagram}
	\begin{document}
	\smartdiagram[priority descriptive diagram]{
	  Develop a document structure,
	  Choose a document class,
	  Select suitable packages,
	  Setup the document preamble,
	  Write your document,
	  Finetune the layout}
	\end{document}
snippet maps smooth-maps
	% Smooth map of manifolds and smooth spaces
	% Author: Andrew Stacey
	% Source: http://www.math.ntnu.no/~stacey/Seminars/ottawa.html
	\documentclass{article}
	\thispagestyle{empty}
	%\def\pgfsysdriver{pgfsys-tex4ht.def}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Smooth maps
	:Grid: 1x2
	
	Illustrations from the talk "`Comparative Smootheology: Workshop on Smooth Structures in Ottawa`__". 
	More illustrations from the talk are available on the `author's web site`_. 
	 
	:Source:   `<http://www.math.ntnu.no/~stacey/Seminars/ottawa.html>`_ 
	
	.. _author's web site: 
	.. __:  http://www.math.ntnu.no/~stacey/Seminars/ottawa.html
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	    % \x runs over the angles at which to draw the circles defining the
	    % torus
	    \foreach \x in {90,89,...,-90} { % change 89 to 80 or 45 for speed
	    % \elrad is the x-radius of the ellipse (technically, a circle seen
	    % from side on at angle \x).  The 'max' is because at small angles
	    % then the real ellipse is too thin and the torus doesn't ``fill
	    % out'' nicely.
	    \pgfmathsetmacro\elrad{20*max(cos(\x),.1)}
	    % We draw the torus from the back to the front to get the right
	    % layering effect.  To tint it, we define colours according to the
	    % angle, but need different colours for the left and right pieces.
	    % It'd be nice if the xcolor colour specification could take something
	    % computed by pdfmath, such as {red!\tint} but it doesn't appear to
	    % work, so we define the colours explicitly.
	    \pgfmathsetmacro\ltint{.9*abs(\x-45)/180}
	    \pgfmathsetmacro\rtint{.9*(1-abs(\x+45)/180)}
	    \definecolor{currentcolor}{rgb}{\ltint, 0, \ltint}
	    % This draws the right-hand circle.
	    \draw[color=currentcolor,fill=currentcolor] 
	        (xyz polar cs:angle=\x,y radius=.75,x radius=1.5) 
	        ellipse (\elrad pt and 20pt);
	    % This sets the colour correctly for the left-hand circle ...
	    \definecolor{currentcolor}{rgb}{\rtint, 0, \rtint}
	    % ... and draws it
	    \draw[color=currentcolor,fill=currentcolor] 
	        (xyz polar cs:angle=180-\x,radius=.75,x radius=1.5) 
	        ellipse (\elrad pt and 20pt);
	    % End of foreach statement
	    }
	    % Spheres are *much* easier!
	    \shadedraw[shading=ball,ball color=purple, white] (6.5,0) circle (1.5);
	    % As are the subsets of Euclidean space
	    \draw[fill=cyan] (-1,-4) rectangle (1,-3);
	    \draw[fill=cyan] (5.5,-4) rectangle (7.5,-3);
	    % The next three draw the maps, slightly curved for aesthetics.
	    \draw[->] (0,-2.8) .. controls (-.2,-2.2) .. (0,-1.6) 
	        node[pos=0.5, auto=left] {\(\psi\)};
	    \draw[->] (6.5,-1.6) .. controls (6.7,-2.2) .. (6.5,-2.8) 
	        node[pos=0.5, auto=left] {\(\phi^{-1}\)};
	    \draw[->] (2.5,0) .. controls (3.5,.2) .. (4.5,0) 
	        node[pos=0.5, auto=left] {\(f\)};
	    % Now we want to draw the codomains of the charts.  Sticking cosines
	    % and sines directly into the coordinates doesn't seem to work so
	    % we define macros to hold the sines and cosines of the angles.
	    % \elrad is the angle on the torus at which to start.
	    \pgfmathsetmacro\elrad{cos(-135)}
	    % the circle drawn at the specific angle on the torus looks like an
	    % ellipse, \xrad and \yrad compute its major and minor semi-axes.
	    \pgfmathsetmacro\xrad{1.5cm-20pt*\elrad}
	    \pgfmathsetmacro\yrad{.75cm-20pt*sin(-135)}
	    % This draws the codomain of the chart on the torus.
	    \path[fill=cyan, fill opacity=.35] 
	        (xyz polar cs:angle=-135,radius=.75,x radius=1.5) 
	        ++(20pt*\elrad,0) arc (0:45:20*\elrad pt and 20pt) 
	        arc (-135:-45:\xrad pt and \yrad pt) 
	        arc (45:-45:-20*\elrad pt and 20pt) 
	        arc (-45:-135:\xrad pt and \yrad pt) 
	        arc (-45:0:20*\elrad pt and 20pt);
	    % Now we do the same for the sphere.
	    % We do this by drawing some great circles (aka ellipses) on the
	    % sphere and then ``clipping'' an overlaid (and slightly trans:parent)
	    % sphere by those great circles.  Each great circle actually specifies
	    % one side of the ``clip'' so to make sure that the clip is big enough
	    % the arcs are completed by big rectangles (otherwise the clipping
	    % would join the end points directly).
	    \pgfmathsetmacro\tell{-sin(10)}
	    \pgfmathsetmacro\bell{sin(50)}
	    \pgfmathsetmacro\rell{1.5 * sin(50)}
	    \begin{scope}
	        \clip (6.5,0) +(-1.5,0) arc (-180:0:1.5 and 1.5*\tell) 
	            -- ++(0,-1.5) -- ++(-3,0) -- ++(0,1.5);
	        \clip (6.5,0) +(-1.5,0) arc (-180:0:1.5 and 1.5*\bell) 
	            -- ++(0,1.5) -- ++(-3,0) -- ++(0,-1.5);
	        \clip (6.5,0) +(0,1.5)  arc (90:-90:\rell cm and 1.5 cm) 
	            -- ++(-1.5,0) -- ++(0,3) -- ++(1.5,0);
	        \clip (6.5,0) +(0,1.5)  arc (90:-90:-\rell cm and 1.5 cm) 
	            -- ++(1.5,0) -- ++(0,3) -- ++(-1.5,0);
	        \fill[cyan, fill opacity=0.35] (6.5,0) circle (1.5);
	    \end{scope}
	\end{tikzpicture}
	
	\begin{tikzpicture}
	    \draw[fill=cyan] (0,0) rectangle (1,-1);
	    \draw[gray,fill=cyan!40!white] (8,0) rectangle (9,-1);
	    \draw[gray,fill=cyan!40!white] (0,-5) rectangle (1,-6);
	    \draw[fill=cyan] (8,-5) rectangle (9,-6);
	    \foreach \x in {90,89,...,-90} { % change 89 to 80 for speed
	        % \elrad is the x-radius of the ellipse (technically, a circle seen
	        % from side on at angle \x).  The 'max' is because at small angles
	        % then the real ellipse is too thin and the torus doesn't ``fill
	        % out'' nicely.
	        \pgfmathsetmacro\elrad{20*max(cos(\x),.1)}
	        \pgfmathsetmacro\lscale{1-abs(\x-45)/180}
	        \pgfmathsetmacro\rscale{abs(\x+45)/180}
	        % We draw the torus from the back to the front to get the right
	        % layering effect.  To tint it, we define colours according to the
	        % angle, but need different colours for the left and right pieces.
	        % It'd be nice if the xcolor colour specification could take something
	        % computed by pdfmath, such as {red!\tint} but it doesn't appear to
	        % work, so we define the colours explicitly.
	        \pgfmathsetmacro\ltint{.9*abs(\x-45)/180}
	        \pgfmathsetmacro\rtint{.9*(1-abs(\x+45)/180)}
	        \definecolor{currentcolor}{rgb}{\ltint, 0, \ltint}
	        % This draws the right-hand circle.
	        \draw[color=currentcolor,fill=currentcolor] (4.3cm,-.5cm) 
	            +(xyz polar cs:angle=\x,y radius=.75,x radius=1.5) 
	            ellipse (\elrad*\lscale pt and 20*\lscale pt);
	        % This sets the colour correctly for the left-hand circle ...
	        \definecolor{currentcolor}{rgb}{\rtint, 0, \rtint}
	        % ... and draws it
	        \draw[color=currentcolor,fill=currentcolor] (4.3cm,-.5cm) 
	            +(xyz polar cs:angle=180-\x,radius=.75,x radius=1.5) 
	            ellipse (\elrad*\rscale pt and 20*\rscale pt);
	    % End of foreach statement
	    }
	    \shadedraw[shading=ball,ball color=red] (3,-5.5) 
	        .. controls (3.5,-5.5) and (4,-4.5) .. (4.5,-4.5) 
	        .. controls (5,-4.5) and (6,-5) .. (6,-5.5) 
	        .. controls (6,-6) and (5,-6.5) .. (4.5,-6.5) 
	        .. controls (4,-6.5) and (3.5, -5.5) .. (3,-5.5);
	    \draw[->] (1.2,-0.5) -- node[auto=left] {\(\phi\)} (2.4,-0.5);
	    \draw[->, color=gray] (1.2,-5.5) -- (2.4,-5.5);
	    \draw[->, color=gray] (6.4,-0.5) -- (7.8,-0.5);
	    \draw[->] (6.4,-5.5) -- node[auto=left] {\(\psi\)} (7.8,-5.5);
	    \draw[->] (4.5,-1.8) -- node[auto=left] {\(f\)} (4.5,-4);
	\end{tikzpicture}
	\end{document}
snippet arrows snake-lemma
	% The Snake Lemma
	% Author: Andrew Stacey
	% Source: http://tex.stackexchange.com/questions/3892/
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Snake Lemma
	:Tags: Arrows;Matrices;Mathematics
	:Author: Andrew Stacey
	:Slug: snake-lemma
	This example uses the tikz-cd package because of the "asymmetrical rectangle"
	node style, and it loads the matrix and calc libraries for cleaner code.
	A special focus is on drawing the arrow for the connecting homomorphism,
	answering a question of Jamie Weigandt on TeX.SE.
	\end{comment}
	\usepackage{amsmath}
	\usepackage{tikz-cd}
	\usetikzlibrary{matrix, calc, arrows}
	
	\DeclareMathOperator{\coker}{coker}
	
	\begin{document}
	\begin{tikzpicture}[>=triangle 60]
	  \matrix[matrix of math nodes,column sep={60pt,between origins},row
	    sep={60pt,between origins},nodes={asymmetrical rectangle}] (s)
	  {
	    &|[name=ka]| \ker f &|[name=kb]| \ker g &|[name=kc]| \ker h \\
	    %
	    &|[name=A]| A' &|[name=B]| B' &|[name=C]| C' &|[name=01]| 0 \\
	    %
	    |[name=02]| 0 &|[name=A']| A &|[name=B']| B &|[name=C']| C \\
	    %
	    &|[name=ca]| \coker f &|[name=cb]| \coker g &|[name=cc]| \coker h \\
	  };
	  \draw[->] (ka) edge (A)
	            (kb) edge (B)
	            (kc) edge (C)
	            (A) edge (B)
	            (B) edge node[auto] {\(p\)} (C)
	            (C) edge (01)
	            (A) edge node[auto] {\(f\)} (A')
	            (B) edge node[auto] {\(g\)} (B')
	            (C) edge node[auto] {\(h\)} (C')
	            (02) edge (A')
	            (A') edge node[auto] {\(i\)} (B')
	            (B') edge (C')
	            (A') edge (ca)
	            (B') edge (cb)
	            (C') edge (cc)
	  ;
	  \draw[->,gray] (ka) edge (kb)
	                 (kb) edge (kc)
	                 (ca) edge (cb)
	                 (cb) edge (cc)
	  ;
	  \draw[->,gray,rounded corners] (kc) -| node[auto,text=black,pos=.7]
	    {\(\partial\)} ($(01.east)+(.5,0)$) |- ($(B)!.35!(B')$) -|
	    ($(02.west)+(-.5,0)$) |- (ca);
	\end{tikzpicture}
	\end{document}
snippet fractals snowflakes
	% Snowflakes with TikZ
	% Author: JLDiaz
	\documentclass{article}
	\usepackage[textwidth=6cm]{geometry}% just for the preview
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Snowflakes with TikZ
	:Tags: Fractals;Decorative drawings
	:Author: JLDiaz
	:Slug: snowflakes
	
	One of the easiest approach for drawing snowflakes with TikZ
	is using Lindenmayer systems.
	
	This code defines Lindenmayer rules for drawing a single "arm"
	of the snowflake. Symmetry should be crucial. Then this arm is
	repeated rotated 60 degrees each time to produce the complete snowflake.
	
	By changing the Lindenmayer rules, the angle and the line width, you
	can get a lot of nice variations.
	
	You may notice some scaling, this is just for getting similar
	dimensions, because we have different line widths.
	
	This code was written by JLDiaz and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{lindenmayersystems}
	
	\pgfdeclarelindenmayersystem{A}{
	    \rule{F -> FF[+F][-F]}
	}
	
	\pgfdeclarelindenmayersystem{B}{
	    \rule{F -> ffF[++FF][--FF]}
	}
	
	\pgfdeclarelindenmayersystem{C}{
	    \symbol{G}{\pgflsystemdrawforward}
	    \rule{F -> F[+F][-F]FG[+F][-F]FG}
	}
	
	\pgfdeclarelindenmayersystem{D}{
	    \symbol{G}{\pgflsystemdrawforward}
	    \symbol{H}{\pgflsystemdrawforward}
	    \rule{F -> H[+HG][-HG]G}
	    \rule{G -> HF}
	}
	
	\tikzset{
	    type/.style={l-system={#1, axiom=F,order=3,step=4pt,angle=60},
	      blue, opacity=0.4, line width=.5mm, line cap=round   
	    },
	}
	
	\newcommand\drawsnowflake[2][scale=0.2]{
	    \tikz[#1]
	    \foreach \a in {0,60,...,300}  {
	    \draw[rotate=\a,#2] l-system;
	    };
	}
	
	\begin{document}
	\begin{center}
	\foreach \width in {.2,.4,...,.8} 
	{  \drawsnowflake[scale=0.3]{type=A, line width=\width mm} }
	
	\foreach \width in {.2,.4,...,.8} 
	{  \drawsnowflake[scale=0.38]{type=A, l-system={angle=90}, line width=\width mm} }    
	
	\foreach \width in {.2,.4,...,.8} 
	{  \drawsnowflake[scale=0.3]{type=B, line width=\width mm} }
	
	\foreach \width in {.2,.4,...,.8} 
	{  \drawsnowflake{type=B, l-system={angle=30}, line width=\width mm} }
	
	\drawsnowflake[scale=0.24]{type=C, l-system={order=2}, line width=0.2mm}
	\drawsnowflake[scale=0.25]{type=C, l-system={order=2}, line width=0.4mm}
	\drawsnowflake[scale=0.25]{type=C, l-system={order=2,axiom=fF}, line width=0.2mm}
	\drawsnowflake[scale=0.32]{type=C, l-system={order=2,axiom=---fff+++F}, line width=0.2mm}
	
	\drawsnowflake[scale=0.38]{type=D, l-system={order=4,angle=60,axiom=GF}, line width=0.7mm}
	\drawsnowflake[scale=0.38]{type=D, l-system={order=4,angle=60,axiom=GfF}, line width=0.7mm}
	\drawsnowflake[scale=0.38]{type=D, l-system={order=4,angle=60,axiom=FG}, line width=0.7mm}
	\drawsnowflake[scale=0.38]{type=D, l-system={order=4,angle=60,axiom=FfG}, line width=0.7mm}
	\end{center}
	\end{document}
snippet decorations sontrol-safety-system
	% Principle of separated control and safety systems.
	% Author: Erno Pentzin (2013)
	\documentclass{article}
	\usepackage{tikz} 
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Principle of separated control and safety systems
	:Tags: Decorations;Markings
	:Author: Erno Pentzin
	:Slug: sontrol-safety-system
	
	Adapted from the figure in the book by Gruhn and Cheddie (2006).
	\end{comment}
	\usetikzlibrary{decorations.markings}
	\begin{document}
	
	\begin{tikzpicture}[
		decoration={
			markings,
			mark=at position 1cm with {\arrow[black]{stealth}},
		},
		path/.style={
			->,
			>=stealth,
			postaction=decorate
		},
		every node/.style={font=\sffamily}
	]
	
	% Boxes
	\node [
		draw,
		yshift=2cm,
		minimum width=4cm,
	] (control) {Control System};
	\node [
		draw,
		minimum width=5cm,
		minimum height=1cm,
	] (process) {Process/Equipment};
	\node [
		draw,
		yshift=-2cm,
		minimum width=4cm,
	] (safety) {Safety System};
	
	% Connecting Arrows
	\draw[path] (control.east) -- ++(1,0) |- ([yshift=-0.25cm] process.north east);
	\draw[path] ([yshift=-0.25cm] process.north west) -- ++(-1,0) |- (control.west);
	\draw[path] ([yshift=0.25cm] process.south west) -- ++(-1,0) |- (safety.west);
	\draw[path] (safety.east) -- ++(1,0) |- ([yshift=0.25cm] process.south east);
	
	\end{tikzpicture}
	
	\end{document}
snippet grids spherical-and-cartesian-grids
	% Author: Marco Miani
	
	\documentclass[12pt]{article}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	
	
	\begin{comment}
	:Title: Spherical and cartesian grids
	
	Representation of spherical (red) and cartesian (black) computational grids used 
	by SWAN_. Latter gives an example of unstructured grids. Conversion from former
	to latter involves a deformation factor which is acceptable within a given spatial limit.
	
	The drawing is based on Tomas M. Trzeciak's 
	`Stereographic and cylindrical map projections example`__.
	
	.. __: http://www.texample.net/tikz/examples/map-projections/
	.. _SWAN: http://www.texample.net/tikz/examples/swan-wave-model/
	
	\end{comment}
	
	\usetikzlibrary{positioning}
	%% helper macros
	
	% The 3D code is based on The drawing is based on Tomas M. Trzeciak's 
	% `Stereographic and cylindrical map projections example`: 
	% http://www.texample.net/tikz/examples/map-projections/
	\newcommand\pgfmathsinandcos[3]{%
	  \pgfmathsetmacro#1{sin(#3)}%
	  \pgfmathsetmacro#2{cos(#3)}%
	}
	\newcommand\LongitudePlane[3][current plane]{%
	  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	  \pgfmathsinandcos\sint\cost{#3} % azimuth
	  \tikzset{#1/.style={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
	}
	\newcommand\LatitudePlane[3][current plane]{%
	  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
	  \pgfmathsinandcos\sint\cost{#3} % latitude
	  \pgfmathsetmacro\yshift{\cosEl*\sint}
	  \tikzset{#1/.style={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}} %
	}
	\newcommand\DrawLongitudeCircle[2][1]{
	  \LongitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	   % angle of "visibility"
	  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	  \draw[current plane,thin,black] (\angVis:1) arc (\angVis:\angVis+180:1);
	  \draw[current plane,thin,dashed] (\angVis-180:1) arc (\angVis-180:\angVis:1);
	}%this is fake: for drawing the grid
	\newcommand\DrawLongitudeCirclered[2][1]{
	  \LongitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	   % angle of "visibility"
	  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	  \draw[current plane,red,thick] (150:1) arc (150:180:1);
	  %\draw[current plane,dashed] (-50:1) arc (-50:-35:1);
	}%for drawing the grid
	\newcommand\DLongredd[2][1]{
	  \LongitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	   % angle of "visibility"
	  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	  \draw[current plane,black,dashed, ultra thick] (150:1) arc (150:180:1);
	}
	\newcommand\DLatred[2][1]{
	  \LatitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
	  % angle of "visibility"
	  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
	  \draw[current plane,dashed,black,ultra thick] (-50:1) arc (-50:-35:1);
	
	}
	\newcommand\fillred[2][1]{
	  \LongitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	   % angle of "visibility"
	  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
	  \draw[current plane,red,thin] (\angVis:1) arc (\angVis:\angVis+180:1);
	
	}
	
	\newcommand\DrawLatitudeCircle[2][1]{
	  \LatitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
	  % angle of "visibility"
	  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
	  \draw[current plane,thin,black] (\angVis:1) arc (\angVis:-\angVis-180:1);
	  \draw[current plane,thin,dashed] (180-\angVis:1) arc (180-\angVis:\angVis:1);
	}%Defining functions to draw limited latitude circles (for the red mesh)
	\newcommand\DrawLatitudeCirclered[2][1]{
	  \LatitudePlane{\angEl}{#2}
	  \tikzset{current plane/.prefix style={scale=#1}}
	  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
	  % angle of "visibility"
	  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
	  %\draw[current plane,red,thick] (-\angVis-50:1) arc (-\angVis-50:-\angVis-20:1);
	\draw[current plane,red,thick] (-50:1) arc (-50:-35:1);
	
	}
	
	\tikzset{%
	  >=latex,
	  inner sep=0pt,%
	  outer sep=2pt,%
	  mark coordinate/.style={inner sep=0pt,outer sep=0pt,minimum size=3pt,
	    fill=black,circle}%
	}
	\usepackage{amsmath}
	\usetikzlibrary{arrows}
	\pagestyle{empty}
	\usepackage{pgfplots}
	\usetikzlibrary{calc,fadings,decorations.pathreplacing}
	
	\begin{document}
	\begin{figure}[ht!]
		\begin{tikzpicture}[scale=1,every node/.style={minimum size=1cm}]
		%% some definitions
		
		\def\R{4} % sphere radius
		
		\def\angEl{25} % elevation angle
		\def\angAz{-100} % azimuth angle
		\def\angPhiOne{-50} % longitude of point P
		\def\angPhiTwo{-35} % longitude of point Q
		\def\angBeta{30} % latitude of point P and Q
		
		%% working planes
		
		\pgfmathsetmacro\H{\R*cos(\angEl)} % distance to north pole
		\LongitudePlane[xzplane]{\angEl}{\angAz}
		\LongitudePlane[pzplane]{\angEl}{\angPhiOne}
		\LongitudePlane[qzplane]{\angEl}{\angPhiTwo}
		\LatitudePlane[equator]{\angEl}{0}
		\fill[ball color=white!10] (0,0) circle (\R); % 3D lighting effect
		\coordinate (O) at (0,0);
		\coordinate[mark coordinate] (N) at (0,\H);
		\coordinate[mark coordinate] (S) at (0,-\H);
		\path[xzplane] (\R,0) coordinate (XE);
		
	    %defining points outsided the area bounded by the sphere
		\path[qzplane] (\angBeta:\R+5.2376) coordinate (XEd);
		\path[pzplane] (\angBeta:\R) coordinate (P);%fino alla sfera
		\path[pzplane] (\angBeta:\R+5.2376) coordinate (Pd);%sfora di una quantità pari a 10 dopo la sfera
		\path[pzplane] (\angBeta:\R+5.2376) coordinate (Td);%sfora di una quantità pari a 10 dopo la sfera
		\path[pzplane] (\R,0) coordinate (PE);
	    \path[pzplane] (\R+4,0) coordinate (PEd);
		\path[qzplane] (\angBeta:\R) coordinate (Q);
		\path[qzplane] (\angBeta:\R) coordinate (Qd);%sfora di una quantità pari a 10 dopo la sfera
		
		\path[qzplane] (\R,0) coordinate (QE);
	    \path[qzplane] (\R+4,0) coordinate (QEd);%sfora di una quantità 10 dalla sfera sul piano equat.
	
	
	    \DrawLongitudeCircle[\R]{\angPhiOne} % pzplane
	    \DrawLongitudeCircle[\R]{\angPhiTwo} % qzplane
	    \DrawLatitudeCircle[\R]{\angBeta}
	    \DrawLatitudeCircle[\R]{0} % equator
		%labelling north and south
		\node[above=8pt] at (N) {$\mathbf{N}$};
		\node[below=8pt] at (S) {$\mathbf{S}$};
		
		\draw[-,dashed, thick] (N) -- (S);
		\draw[->] (O) -- (P);
		\draw[dashed] (XE) -- (O) -- (PE);
		\draw[dashed] (O) -- (QE);
		%connecting Points outside the sphere
		\draw[-,dashed,black,very thick] (O) -- (Pd);
		\draw[-,dashed,black,very thick] (O) -- (PEd);
	    \draw[-,dashed,black,very thick] (O) -- (QEd);
	    \draw[-,dashed,black,very thick] (O) -- (XEd);
	    \draw[dashed] (XE) -- (O) -- (PE);
	    %draw black thick flat grid
	    \draw[-,ultra thick,black] (Pd) -- (PEd) node[below, left] {$P_1$};%verticale sinistro
	    \draw[-,ultra thick,black] (PEd) -- (QEd)node[below, right] {$P_3$};%orizzontale inferiore
	    \draw[-,ultra thick,black] (Pd)-- (XEd)node[above, right] {$P_2$};%orizzontale superiore	
	    \draw[-,ultra thick,black] (XEd) -- (QEd);	
	    		
		\draw[pzplane,->,thin] (0:0.5*\R) to[bend right=15]
		    node[midway,right] {$\lambda$} (\angBeta:0.5*\R);
		\path[pzplane] (0.5*\angBeta:\R) node[right] {$$};
		\path[qzplane] (0.5*\angBeta:\R) node[right] {$$};
		\draw[equator,->,thin] (\angAz:0.5*\R) to[bend right=30]
		    node[pos=0.4,above] {$\phi_1$} (\angPhiOne:0.5*\R);
		\draw[equator,->,thin] (\angAz:0.6*\R) to[bend right=35]
		    node[midway,below] {$\phi_2$} (\angPhiTwo:0.6*\R);
				\path[xzplane] (0:\R) node[below] {$$};
		\path[xzplane] (\angBeta:\R) node[below left] {$$};
	    \foreach \t in {0,2,...,30} { \DrawLatitudeCirclered[\R]{\t} }
		\foreach \t in {130,133,...,145} { \DrawLongitudeCirclered[\R]{\t} }
		
		%drawing grids on the spere invoking DLongredd and DrawLongitudeCirclered
		
		\foreach \t in {130,145,...,145} { \DLongredd[\R+3]{\t} }
		\foreach \t in {130,133,...,145} { \DrawLongitudeCirclered[\R+3]{\t} }
	
		\foreach \t in {0,30,...,30} { \DLatred[\R+3]{\t} }
	    \foreach \t in {0,2,...,30} { \DrawLatitudeCirclered[\R+3]{\t} }
		
	    %labelling
	    \draw[-latex,thick](4,-5.5)node[left]{$\mathsf{Grid(s)\ in\ Fig. \ (\ref{fig:Grid})}$}
	    	         to[out=0,in=270] (5.8,-2.3);
	    \draw[thick](3.6,-6)node[left]{$[\mathsf{Rectilinear}]$};
	    	
	\end{tikzpicture}
		\caption[Representation of spherical and regular computational grids used by SWAN]
	    {Representation of spherical (red) and cartesian (black) co-ordinate systems. Latter 
	    gives an example of unstructured grids. Both unstructured. Conversion from former 
	    to latter involves a deformation factor which is acceptable within a given spatial limit. 
	    For my case, only unstructured flat meshes are employed (\textit{Lisboa} Geodetic 
	    datum: black grid on the right). Confront above represented points ($P_1,P_2,P_3$) with 
	    Fig.(\ref{fig:Grid}). \\Mathematically frames change accordingly: see Eq.(\ref{eq:actbal2sph}).}
		\label{fig:frames}
	\end{figure}
	
	
	
	\end{document} 
snippet plots spherical-polar-pots-with-3dplot
	%harmonics.tex: produces spherical harmonic plots using the 3dplot package
	% Author: Jeff Hein
	\documentclass{minimal}
	
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title:  Spherical polar pots with 3dplot
	:Zip: 3dplot.sty
	
	The 3dplot package has been extended to handle the plotting of user-specified functions in spherical polar coordinates.  In this example, a spherical harmonic is rendered, where the fill hue represents the complex phase angle. More info about spherical harmonics can be found at `<http://en.wikipedia.org/wiki/Spherical_harmonics>`_.
	
	The 3dplot.sty package can be found at `<http://www.heinjd.com/dev/latex/3dplot/3dplot.sty>`_.
	
	Documentation for the 3dplot.sty package can be found at `<http://www.heinjd.com/dev/latex/3dplot/3dplot_documentation.pdf>`_.
	\end{comment}
	
	\usepackage{tikz}           %for TikZ graphics
	\usepackage{3dplot} %for 3dplot functionality
	
	\usepackage[active,tightpage]{preview}      %generates a tightly fitting border around the work
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{2mm}
	
	\begin{document}
	\tdplotsetmaincoords{70}{135}
	\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	{sqrt(15/2)*sin(\tdplottheta)*cos(\tdplottheta)}{black}{\tdplotphi}%
	    {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	    {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	    {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	\end{tikzpicture}
	
	%Here's some more examples.
	%L = 0
	%\begin{tikzpicture}[scale=2,line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{1}{black}{0}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 1, M_L = -1
	%\begin{tikzpicture}[scale=2,line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(3/2)*sin(\tdplottheta)}{black}{-\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 1, M_L = 0
	%\begin{tikzpicture}[scale=2,line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(3)*cos(\tdplottheta)}{black}{0}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 1, M_L = +1
	%\begin{tikzpicture}[scale=2,line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(3/2)*sin(\tdplottheta)}{black}{\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 2, M_L = -2
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(15/2)/2*sin(\tdplottheta)^2}{black}{-2*\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 2, M_L = -1
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(15/2)*sin(\tdplottheta)*cos(\tdplottheta)}{black}{-\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 2, M_L = 0
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(5)/2*(3*cos(\tdplottheta)^2 - 1 )}{black}{-\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 2, M_L = 1
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(15/2)*sin(\tdplottheta)*cos(\tdplottheta)}{black}{\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	%
	%L = 2, M_L = +2
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(15/2)/2*sin(\tdplottheta)^2}{black}{2*\tdplotphi}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	
	%L = 3, M_L = 0
	%\begin{tikzpicture}[line join=bevel,tdplot_main_coords, fill opacity=.7]
	%\tdplotsphericalsurfaceplot[parametricfill]{72}{36}%
	%{sqrt(7)/2*(5*cos(\tdplottheta)^3 - 3*cos(\tdplottheta))}{black}{0}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (2,0,0) node[anchor=north east]{$x$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,2,0) node[anchor=north west]{$y$};}%
	%   {\draw[color=black,thick,->] (0,0,0) -- (0,0,2) node[anchor=south]{$z$};}%
	%\end{tikzpicture}
	
	
	\end{document}
snippet diagrams spiderweb-diagram
	% Spiderweb Diagram
	%
	% Author: Dominik Renzel
	% Date; 2009-11-11
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage,floats]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Spiderweb diagram
	
	Such a diagram defines a set of dimensions D = {D1,...,Dn} and a common scale unit 
	range from 0 to a maximal value U. Each individual sample contains a sequence of 
	pairs (Dx,Vx) with 0 <= Vx <= U for all Dx in D.
	  
	The diagram is rendered as a spiderweb, where the D dimension axes meet each 
	other in the origin in an angle of 360/D and are each divided in U units. Each 
	sample is rendered as half-opaque colored path along the particular value unit nodes 
	on each dimension. Overlapping parts will be rendered in a composite color.
	
	\end{comment}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes}
	
	\begin{document}
	
	\newcommand{\D}{7} % number of dimensions (config option)
	\newcommand{\U}{7} % number of scale units (config option)
	
	\newdimen\R % maximal diagram radius (config option)
	\R=3.5cm 
	\newdimen\L % radius to put dimension labels (config option)
	\L=4cm
	
	\newcommand{\A}{360/\D} % calculated angle between dimension axes  
	
	\begin{figure}[htbp]
	 \centering
	
	\begin{tikzpicture}[scale=1]
	  \path (0:0cm) coordinate (O); % define coordinate for origin
	
	  % draw the spiderweb
	  \foreach \X in {1,...,\D}{
	    \draw (\X*\A:0) -- (\X*\A:\R);
	  }
	
	  \foreach \Y in {0,...,\U}{
	    \foreach \X in {1,...,\D}{
	      \path (\X*\A:\Y*\R/\U) coordinate (D\X-\Y);
	      \fill (D\X-\Y) circle (1pt);
	    }
	    \draw [opacity=0.3] (0:\Y*\R/\U) \foreach \X in {1,...,\D}{
	        -- (\X*\A:\Y*\R/\U)
	    } -- cycle;
	  }
	
	  % define labels for each dimension axis (names config option)
	  \path (1*\A:\L) node (L1) {\tiny Security};
	  \path (2*\A:\L) node (L2) {\tiny Content Quality};
	  \path (3*\A:\L) node (L3) {\tiny Performance};
	  \path (4*\A:\L) node (L4) {\tiny Stability};
	  \path (5*\A:\L) node (L5) {\tiny Usability};
	  \path (6*\A:\L) node (L6) {\tiny Generality};
	  \path (7*\A:\L) node (L7) {\tiny Popularity};
	
	  % for each sample case draw a path around the web along concrete values
	  % for the individual dimensions. Each node along the path is labeled
	  % with an identifier using the following scheme:
	  %
	  %   D<d>-<v>, dimension <d> a number between 1 and \D (#dimensions) and
	  %             value <v> a number between 0 and \U (#scale units)
	  %
	  % The paths will be drawn half-opaque, so that overlapping parts will be
	  % rendered in a composite color.
	
	  % Example Case 1 (red)
	  %
	  % D1 (Security): 0/7; D2 (Content Quality): 5/7; D3 (Performance): 0/7;
	  % D4 (Stability): 6/7; D5 (Usability): 0/7; D6 (Generality): 5/7;
	  % D7 (Popularity): 0/7
	  \draw [color=red,line width=1.5pt,opacity=0.5]
	    (D1-0) --
	    (D2-5) --
	    (D3-0) --
	    (D4-6) --
	    (D5-0) --
	    (D6-5) --
	    (D7-0) -- cycle;
	
	  % Example Case 2 (green)
	  %
	  % D1 (Security): 2/7; D2 (Content Quality): 2/7; D3 (Performance): 5/7;
	  % D4 (Stability): 1/7; D5 (Usability): 4/7; D6 (Generality): 1/7;
	  % D7 (Popularity): 7/7
	  \draw [color=green,line width=1.5pt,opacity=0.5]
	    (D1-2) --
	    (D2-2) --
	    (D3-5) --
	    (D4-1) --
	    (D5-4) --
	    (D6-1) --
	    (D7-7) -- cycle;
	
	  % Example Case 3 (blue)
	  %
	  % D1 (Security): 1/7; D2 (Content Quality): 7/7; D3 (Performance): 4/7;
	  % D4 (Stability): 4/7; D5 (Usability): 3/7; D6 (Generality): 5/7;
	  % D7 (Popularity): 2/7
	  \draw [color=blue,line width=1.5pt,opacity=0.5]
	    (D1-1) --
	    (D2-7) --
	    (D3-4) --
	    (D4-4) --
	    (D5-3) --
	    (D6-5) --
	    (D7-2) -- cycle;
	
	\end{tikzpicture}
	\caption{Spiderweb Diagram (\D~Dimensions, \U-Notch Scale, 3 Samples)}
	\label{fig:spiderweb}
	\end{figure}
	
	\end{document}
snippet plots standard-deviation
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage[x11names, rgb]{xcolor}
	\usepackage{tikz}
	
	% GNUPLOT required
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Standard deviation
	:Tags: Plots, GNUPLOT, Foreach
	
	A nice illustration of the standard deviation and confidence intervals. 
	
	
	| Author: Till Tantau
	| Source: The `latex-beamer-users`_ mailing list
	
	.. _latex-beamer-users: http://www.nabble.com/plotting-a-normal-distribution-curve-t1891442.html
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	
	\begin{tikzpicture}[scale=1.25]
	    \colorlet{col1}{blue!70}
	    \colorlet{col2}{blue!60}
	    \colorlet{col3}{blue!50}
	    \colorlet{col4}{blue!40}
	   %\draw [help lines] (-4.25,-1.25) grid (4.25,1.5);
	   %\draw [help lines,step=0.25cm] (-2.99,0) grid (2.99,0.99);
	
	   \draw[->] (0,-1.25) -- (0,1.5) node [above]
	     {$\displaystyle
	        \frac{1}{\sigma\sqrt{2\pi}}\exp\biggl(\frac{-x^2}{2\sigma^2}\biggr)
	     $};
	
	   \begin{scope}[smooth,draw=gray!20,y=0.3989422804cm]
	        \filldraw [fill=col3] plot[id=f1,domain=-3:-2] function {exp(-x*x/2)}
	            -- (-2,0) -- (-3,0) -- cycle;
	        \filldraw [fill=col2] plot[id=f2,domain=-2:-1] function {exp(-x*x/2)}
	            -- (-1,0) -- (-2,0) -- cycle;
	        \filldraw [fill=col1] plot[id=f3,domain=-1:0]  function {exp(-x*x/2)}
	            -- (0,0)  -- (-1,0) -- cycle;
	        \filldraw [fill=col1] plot[id=f4,domain=0:1] function {exp(-x*x/2)}
	            -- (1,0)  --  (0,0) -- cycle;
	        \filldraw [fill=col2] plot[id=f5,domain=1:2] function {exp(-x*x/2)}
	            -- (2,0)  -- (1,0) -- cycle;
	        \filldraw [fill=col3] plot[id=f6,domain=2:3] function {exp(-x*x/2)}
	            -- (3,0)  -- (2,0) -- cycle;
	        \draw[black] plot[id=f7,domain=-4.25:4.25,samples=100]
	            function {exp(-x*x/2)};
	   \end{scope}
	       \draw[->] (-4.25,0) -- (4.25,0) node [right] {$x$};
	
	    \foreach \pos/\label in {-3/$-3\sigma$,-2/$-2\sigma$,-1/$-\sigma$,
	            1/$\sigma$,2/$2\sigma$,3/$3\sigma$}
	        \draw (\pos,0) -- (\pos,-0.1) (\pos cm,-3ex) node
	            [anchor=base,fill=white,inner sep=1pt]  {\label};
	
	    \draw (-0.1,1) -- (.1,1) node [right,fill=white,inner sep=1pt] {$\sigma$};
	
	    \foreach \pos/\percent/\height in {1/34/0.5,2/14/0.25,3/2/0.125,4/0.1/0.1}
	    {
	      \node[text=col\pos,anchor=base,yshift=2pt,xshift=-0.625cm,
	        fill=white,inner sep=1pt] at (\pos,\height) {$\percent\%$};
	      \node[text=col\pos,anchor=base,yshift=2pt,xshift=.625cm,
	        fill=white,inner sep=1pt]  at (-\pos,\height) {$\percent\%$};
	    }
	\end{tikzpicture}
	
	
	\end{document}
snippet graphs star-graph
	% Star graph
	% Author: Anthony Labarre <http://homepages.ulb.ac.be/~alabarre/home.html>
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Star graph
	:Author: Anthony Labarre
	
	The star graph of order n has the set of all permutations of {1,2,...,n} as
	vertex set and has an edge between any two vertices such that the
	corresponding permutations can be obtained from one another by swapping the
	first element with any other element (e.g. (1 2 3 4) will be connected to
	(3 2 1 4)). This drawing shows the star graph of order 4.
	
	*Note*. You can find many examples of beautiful graphs in Anthony Labarre's publications_ (especially his PhD thesis). Almost all of the graphs have been drawn using TikZ.
	
	.. _publications: http://homepages.ulb.ac.be/~alabarre/publications.html
	
	\end{comment}
	
	\newcommand{\LD}{\langle}
	\newcommand{\RD}{\rangle}
	
	\begin{document}
	
	\begin{center}
	\begin{tikzpicture}
	    \tikzstyle{every node}=[draw,circle,fill=white,minimum size=4pt,
	                            inner sep=0pt]
	
	    % First, draw the inner hexagon with a ``pin'' -- namely, (3214)
	    \draw (0,0) node (1234) [label=left:$\LD 1\ 2\ 3\ 4\RD$] {}
	        -- ++(0:2.0cm) node (2134) [label=right:$\LD 2\ 1\ 3\ 4\RD$] {}
	        -- ++(300:2.0cm) node (4132) [label=left:$\LD 4\ 1\ 3\ 2\RD$] {}
	        -- ++(240:2.0cm) node (1432) [label=right:$\LD 1\ 4\ 3\ 2\RD$] {}
	        -- ++(180:2.0cm) node (2431) [label=left:$\LD 2\ 4\ 3\ 1\RD$] {}
	        -- ++(120:2.0cm) node (4231) [label=right:$\LD 4\ 2\ 3\ 1\RD$] {}
	        -- (1234) % shape is closed, we now connect it to an outer vertex:
	        -- ++(120:2.0cm) node (3214) [label=120:$\LD 3\ 2\ 1\ 4\RD$] {};
	
	    % Second, draw the ``outer backbone''
	    \draw (3214)
	        -- ++(60:2.0cm) node (2314) [label=left:$\LD 2\ 3\ 1\ 4\RD$] {}
	        -- ++(0:2.0cm) node (1324) [label=right:$\LD 1\ 3\ 2\ 4\RD$] {}
	        -- ++(300:2.0cm) node (3124) [label=60:$\LD 3\ 1\ 2\ 4\RD$] {}
	        -- ++(0:2.0cm) node (4123) [label=right:$\LD 4\ 1\ 2\ 3\RD$] {}
	        -- ++(300:2.0cm) node (2143) [label=right:$\LD 2\ 1\ 4\ 3\RD$] {}
	        -- ++(240:2.0cm) node (3142) [label=right:$\LD 3\ 1\ 4\ 2\RD$] {}
	        -- ++(300:2.0cm) node (1342) [label=right:$\LD 1\ 3\ 4\ 2\RD$] {}
	        -- ++(240:2.0cm) node (4312) [label=right:$\LD 4\ 3\ 1\ 2\RD$] {}
	        -- ++(180:2.0cm) node (3412) [label=-60:$\LD 3\ 4\ 1\ 2\RD$] {}
	        -- ++(240:2.0cm) node (2413) [label=right:$\LD 2\ 4\ 1\ 3\RD$] {}
	        -- ++(180:2.0cm) node (1423) [label=left:$\LD 1\ 4\ 2\ 3\RD$] {}
	        -- ++(120:2.0cm) node (3421) [label=-120:$\LD 3\ 4\ 2\ 1\RD$] {}
	        -- ++(180:2.0cm) node (4321) [label=left:$\LD 4\ 3\ 2\ 1\RD$] {}
	        -- ++(120:2.0cm) node (2341) [label=left:$\LD 2\ 3\ 4\ 1\RD$] {}
	        -- ++(60:2.0cm) node (3241) [label=left:$\LD 3\ 2\ 4\ 1\RD$] {}
	        -- ++(120:2.0cm) node (1243) [label=left:$\LD 1\ 2\ 4\ 3\RD$] {}
	        -- ++(60:2.0cm) node (4213) [label=left:$\LD 4\ 2\ 1\ 3\RD$] {}
	        -- (3214);
	
	    % Add missing ``straight'' edges
	    \draw (3241) -- (4231);
	    \draw (3421) -- (2431);
	    \draw (1432) -- (3412);
	    \draw (4132) -- (3142);
	    \draw (2134) -- (3124);
	
	    % And finally, add missing ``curved'' edges
	    \draw (2341) to [out=-35,in=215] (1342);
	    \draw (1243) to [out=35,in=-215] (2143);
	    \draw (4123) to [out=270,in=30] (1423);
	    \draw (2314) to [out=-30,in=90] (4312);
	    \draw (1324) to [out=210,in=90] (4321);
	    \draw (4213) to [out=270,in=150] (2413);
	
	\end{tikzpicture}
	\end{center}
	
	\end{document}
snippet manual state-machine
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	
	\documentclass{article}
	
	\usepackage{pgf}
	\usepackage{tikz}
	\usetikzlibrary{arrows,automata}
	\usepackage[latin1]{inputenc}
	\usepackage{verbatim}
	
	\begin{document}
	
	\begin{comment}
	:Title: State machine
	:Tags: Manual, Automata, Graphs
	
	Another examle from the manual.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,
	                    semithick]
	  \tikzstyle{every state}=[fill=red,draw=none,text=white]
	
	  \node[initial,state] (A)                    {$q_a$};
	  \node[state]         (B) [above right of=A] {$q_b$};
	  \node[state]         (D) [below right of=A] {$q_d$};
	  \node[state]         (C) [below right of=B] {$q_c$};
	  \node[state]         (E) [below of=D]       {$q_e$};
	
	  \path (A) edge              node {0,1,L} (B)
	            edge              node {1,1,R} (C)
	        (B) edge [loop above] node {1,1,L} (B)
	            edge              node {0,1,L} (C)
	        (C) edge              node {0,1,L} (D)
	            edge [bend left]  node {1,0,R} (E)
	        (D) edge [loop below] node {1,1,R} (D)
	            edge              node {0,1,R} (A)
	        (E) edge [bend left]  node {1,0,R} (A);
	\end{tikzpicture}
	
	\end{document}
snippet 3d sudoku-3d-cube
	% :Author: Stefan Kottwitz
	% :Source: TeXblog - TikZ: shaded cube
	%          http://texblog.net/latex-archive/graphics/tikz-cube-3d/
	\documentclass[12pt]{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	
	:Title: Sudoku 3D cube
	:Tags: 3D, Transformations
	
	This example shows how to create an effective 3D effect using the ``slant`` transformation.
	Shading has been added to enhance the 3D impression. Read more about this example over
	at TeXblog_. 
	
	.. _TeXblog: http://texblog.net/latex-archive/graphics/tikz-cube-3d/
	
	:Author: Stefan Kottwitz
	:Source: `TeXblog - TikZ: shaded cube`__
	
	.. __: http://texblog.net/latex-archive/graphics/tikz-cube-3d/
	
	\end{comment}
	
	\usetikzlibrary{positioning}
	\begin{document}
	\large
	\pagestyle{empty}
	\begin{tikzpicture}[every node/.style={minimum size=1cm},on grid]
	\begin{scope}[every node/.append style={yslant=-0.5},yslant=-0.5]
	  \shade[right color=gray!10, left color=black!50] (0,0) rectangle +(3,3);
	  \node at (0.5,2.5) {9};
	  \node at (1.5,2.5) {7};
	  \node at (2.5,2.5) {1};
	  \node at (0.5,1.5) {2};
	  \node at (1.5,1.5) {4};
	  \node at (2.5,1.5) {8};
	  \node at (0.5,0.5) {5};
	  \node at (1.5,0.5) {3};
	  \node at (2.5,0.5) {6};
	  \draw (0,0) grid (3,3);
	\end{scope}
	\begin{scope}[every node/.append style={yslant=0.5},yslant=0.5]
	  \shade[right color=gray!70,left color=gray!10] (3,-3) rectangle +(3,3);
	  \node at (3.5,-0.5) {3};
	  \node at (4.5,-0.5) {9};
	  \node at (5.5,-0.5) {7};
	  \node at (3.5,-1.5) {6};
	  \node at (4.5,-1.5) {1};
	  \node at (5.5,-1.5) {5};
	  \node at (3.5,-2.5) {8};
	  \node at (4.5,-2.5) {2};
	  \node at (5.5,-2.5) {4};
	  \draw (3,-3) grid (6,0);
	\end{scope}
	\begin{scope}[every node/.append style={
	    yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	  ]
	  \shade[bottom color=gray!10, top color=black!80] (6,3) rectangle +(-3,-3);
	  \node at (3.5,2.5) {1};
	  \node at (3.5,1.5) {4};
	  \node at (3.5,0.5) {7};
	  \node at (4.5,2.5) {5};
	  \node at (4.5,1.5) {6};
	  \node at (4.5,0.5) {8};
	  \node at (5.5,2.5) {2};
	  \node at (5.5,1.5) {3};
	  \node at (5.5,0.5) {9};
	  \draw (3,0) grid (6,3);
	\end{scope}
	\end{tikzpicture}
	\end{document}
snippet foreach sudoku
	% Sudoku
	% Author: Roberto Bonvallet
	\documentclass{article}
	\usepackage[pdftex,active,tightpage]{preview}
	\usepackage{tikz}
	\usepackage{mathpazo}
	\PreviewEnvironment{tikzpicture}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Sudoku
	:Tags: Foreach;Scopes;Games
	:Author: Roberto Bonvallet
	:Slug: sudoku
	\end{comment}
	
	\newcounter{row}
	\newcounter{col}
	
	\newcommand\setrow[9]{
	  \setcounter{col}{1}
	  \foreach \n in {#1, #2, #3, #4, #5, #6, #7, #8, #9} {
	    \edef\x{\value{col} - 0.5}
	    \edef\y{9.5 - \value{row}}
	    \node[anchor=center] at (\x, \y) {\n};
	    \stepcounter{col}
	  }
	  \stepcounter{row}
	}
	
	\begin{document}
	\begin{tikzpicture}[scale=.5]
	
	  \begin{scope}
	    \draw (0, 0) grid (9, 9);
	    \draw[very thick, scale=3] (0, 0) grid (3, 3);
	
	    \setcounter{row}{1}
	    \setrow { }{2}{ }  {5}{ }{1}  { }{9}{ }
	    \setrow {8}{ }{ }  {2}{ }{3}  { }{ }{6}
	    \setrow { }{3}{ }  { }{6}{ }  { }{7}{ }
	
	    \setrow { }{ }{1}  { }{ }{ }  {6}{ }{ }
	    \setrow {5}{4}{ }  { }{ }{ }  { }{1}{9}
	    \setrow { }{ }{2}  { }{ }{ }  {7}{ }{ }
	
	    \setrow { }{9}{ }  { }{3}{ }  { }{8}{ }
	    \setrow {2}{ }{ }  {8}{ }{4}  { }{ }{7}
	    \setrow { }{1}{ }  {9}{ }{7}  { }{6}{ }
	
	    \node[anchor=center] at (4.5, -0.5) {Unsolved Sudoku};
	  \end{scope}
	
	  \begin{scope}[xshift=12cm]
	    \draw (0, 0) grid (9, 9);
	    \draw[very thick, scale=3] (0, 0) grid (3, 3);
	
	    \setcounter{row}{1}
	    \setrow { }{2}{ }  {5}{ }{1}  { }{9}{ }
	    \setrow {8}{ }{ }  {2}{ }{3}  { }{ }{6}
	    \setrow { }{3}{ }  { }{6}{ }  { }{7}{ }
	
	    \setrow { }{ }{1}  { }{ }{ }  {6}{ }{ }
	    \setrow {5}{4}{ }  { }{ }{ }  { }{1}{9}
	    \setrow { }{ }{2}  { }{ }{ }  {7}{ }{ }
	
	    \setrow { }{9}{ }  { }{3}{ }  { }{8}{ }
	    \setrow {2}{ }{ }  {8}{ }{4}  { }{ }{7}
	    \setrow { }{1}{ }  {9}{ }{7}  { }{6}{ }
	
	    \node[anchor=center] at (4.5, -0.5) {Solved Sudoku};
	
	    \begin{scope}[blue, font=\sffamily\slshape]
	      \setcounter{row}{1}
	      \setrow {4}{ }{6}  { }{7}{ }  {3}{ }{8}
	      \setrow { }{5}{7}  { }{9}{ }  {1}{4}{ }
	      \setrow {1}{ }{9}  {4}{ }{8}  {2}{ }{5}
	
	      \setrow {9}{7}{ }  {3}{8}{5}  { }{2}{4}
	      \setrow { }{ }{3}  {7}{2}{6}  {8}{ }{ }
	      \setrow {6}{8}{ }  {1}{4}{9}  { }{5}{3}
	
	      \setrow {7}{ }{4}  {6}{ }{2}  {5}{ }{1}
	      \setrow { }{6}{5}  { }{1}{ }  {9}{3}{ }
	      \setrow {3}{ }{8}  { }{5}{ }  {4}{ }{2}
	    \end{scope}
	
	  \end{scope}
	
	\end{tikzpicture}
	\end{document}
snippet clipping sunset
	% Sunset
	% Author: Elena Botoeva
	\documentclass{article}
	\usepackage[margin=0.3cm, paperwidth=10.6cm, paperheight=6.6cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Sunset
	:Tags: Clipping;Decorations;Fadings;Random;Decorative Drawings
	:Author: Elena Botoeva
	:Slug: sunset
	
	Sunset over a line of mountains
	\end{comment}
	\usetikzlibrary{fadings}
	\usetikzlibrary{decorations}
	\usepgflibrary{decorations.pathmorphing}
	
	\tikzfading[name=fade out, inner color=transparent!0,
	  outer color=transparent!100]
	
	\pagestyle{empty}
	\begin{document}
	
	\begin{center}
	  \begin{tikzpicture}
	    
	    \clip (-5,-3) rectangle (5,3);
	
	    % the sky
	    \fill[blue!10!black] (-6,1) rectangle (6,3);
	    \fill[yellow] (-6,-3) rectangle (6,1);
	    \fill[inner color=blue!50!,outer color=blue!10!black] (-12,-6) rectangle (9,2);
	
	    % orange fadings
	    \draw[draw=none] 
	    [postaction={path fading=north,fill=orange!80!yellow,opacity=0.6}]
	    (-7,-2.5) rectangle (7,-1.5);%
	    \draw[draw=none] 
	    [postaction={path fading=north,fill=orange,opacity=0.8}]
	    (-7,-2.5) rectangle (7,-2);
	
	    % the line of mountains
	    \fill[black]
	    decorate [decoration={random steps,segment length=3pt,amplitude=1pt}] %
	    {(-5,-2.25) -- (-3.5,-2.25)}%
	    decorate [decoration={random steps,segment length=5pt,amplitude=4pt}] %
	    {-- (-2.5,-2.25) -- (-1,-2.25)}%
	    decorate [decoration={random steps,segment length=3pt,amplitude=1pt}] %
	    {-- (-1,-2.25) -- (5,-2.25)}%
	    -- (5,-3) -- (-5,-3) -- (-5,-2.25);
	
	    % a planet or a star
	    \draw[color=white] (3.6,1) circle (0.005);
	  \end{tikzpicture}  
	\end{center}
	\end{document}
snippet intersections supersonic-nozzle
	% Supersonic technical drawing
	% Author: Michele Muccioli
	\documentclass{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Supersonic nozzle technical drawing
	:Tags: Intersections;Patterns;Intersection;Diagrams; Physics;
	:Author: Michele Muccioli
	:Slug: supersonic-nozzle
	This is a cold air supersonic nozzle I used for my master thesis.
	The super sonic flow is reachable with a  total upstream pressure
	of 7.7bar.
	\end{comment}
	\usepackage{tikz}
	\usetikzlibrary{calc,patterns,arrows,shapes.arrows,intersections}
	\usetikzlibrary{decorations}
	\usepackage{wasysym}
	\usepackage{siunitx}
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% SECTION PATTERN DEFINITION %
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\newlength\thickness
	\pgfdeclarepatternformonly[\thickness]{section}
	{\pgfpointorigin}
	{\pgfpoint{1cm}{1cm}}
	{\pgfpoint{1cm}{1cm}}
	{
	\pgfsetlinewidth{\thickness}
	\pgfpathmoveto{\pgfpoint{0cm}{0cm}}
	\pgfpathlineto{\pgfpoint{1cm}{1cm}}
	\pgfpathclose
	\pgfsetlinewidth{\thickness}
	\pgfpathmoveto{\pgfpoint{0cm}{.5cm}}
	\pgfpathlineto{\pgfpoint{.5cm}{1cm}}
	\pgfpathclose
	\pgfsetlinewidth{\thickness}
	\pgfpathmoveto{\pgfpoint{.5cm}{0cm}}
	\pgfpathlineto{\pgfpoint{1cm}{.5cm}}
	\pgfusepath{stroke}
	}
	
	\tikzset{
	thickness/.store in = \thickness,
	thickness           = 0.5pt
	}
	%%%%%%%%%%%%%%%%%%%%%%%%%
	% DIMENSION DECORATIONS %
	%%%%%%%%%%%%%%%%%%%%%%%%%
	\makeatletter
	%-> New if
	\newif\if@dim@connection
	
	%-> New TeX dimensions
	\newdimen\dim@x
	\newdimen\dim@y
	\newdimen\dim@sep
	\newdimen\dim@overline
	\newdimen\dim@overlineI
	\newdimen\dim@overlineII
	\newdimen\dim@text@translation
	
	% x=, y=
	%\newif\iftikz@isdimension
	%\def\tikz@checkunit#1{%
	%  \pgfmathparse{#1}%
	%  \let\iftikz@isdimension=\ifpgfmathunitsdeclared%
	%}
	%\tikz@checkunit{1}
	%\iftikz@isdimension
	%true
	%\else
	%false
	%\fi
	
	% output scale
	%  \pgf@pt@x=\pgf@x%
	%  \pgf@pt@y=\pgf@y%
	%  \let\pgf@pt@aa=\pgf@tempaa%
	%  \let\pgf@pt@ba=\pgf@tempba%
	%  \let\pgf@pt@ab=\pgf@tempab%
	%  \let\pgf@pt@bb=\pgf@tempbb%
	%  \def\pgf@trans@idtest{#1,#2,#3,#4}%
	%  \ifx\pgf@trans@idtest\pgf@trans@idtext%
	%  \else%
	%    \pgf@pt@identityfalse%->\ifpgf@pt@identity
	%  \fi%
	
	%-> Horizontal dimension
	\pgfdeclaredecoration{Hdim}{final}{%
	\state{final}{%
	% Setting needed dimensions from pgfkeys values.
	\tikz@checkunit{\pgfkeysvalueof{/pgf/decoration/distance}}
	\iftikz@isdimension
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}}
	\else
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}*\pgf@yy}
	\fi
	\pgfmathsetlength{\dim@x}{\pgfdecoratedpathlength*cos(\pgfdecoratedangle)}
	\pgfmathsetlength{\dim@y}{\pgfdecoratedpathlength*sin(\pgfdecoratedangle)}
	\pgfmathsetlength{\dim@overline}{\pgfkeysvalueof{/pgf/decoration/overline}}
	\pgfmathsetlength{\dim@text@translation}{\pgfkeysvalueof{/pgf/decoration/text translation}}
	% Setting text to write from pgfkeys value.
	\def\dim@text{\pgfkeysvalueof{/pgf/decoration/text}}
	% The overline verse (where it points. Positive or negative) depends
	% on dimension sep and angle of the segment to dimension.
	\ifdim0pt<\dim@sep
		% Case with positive dimension sep.
		% Normal behaviour.
		\pgfmathsetlength{\dim@overlineI}{\dim@overline}
		\pgfmathsetlength{\dim@overlineII}{\dim@overline}
	\else
		% Case with negative dimension sep.
		% The value of dimension overline I is different from
		% dimension overline II and it depends on the
		% quadrant where the the segment is.
		\pgfmathparse{abs(\dim@sep)<abs(\dim@y)}
		\if\pgfmathresult1
			% true
			\ifnum180<\pgfdecoratedangle
				\pgfmathsetlength{\dim@overlineI}{-\dim@overline}
				\pgfmathsetlength{\dim@overlineII}{\dim@overline}
			\else
				\pgfmathsetlength{\dim@overlineI}{\dim@overline}
				\pgfmathsetlength{\dim@overlineII}{-\dim@overline}
			\fi
		\else
			% false
			\pgfmathsetlength{\dim@overlineI}{-\dim@overline}
			\pgfmathsetlength{\dim@overlineII}{-\dim@overline}
		\fi
	\fi
	% Set to rotation transformation because we want dimension
	% only the horizontal distance between two points.
	\pgftransformrotate{-\pgfdecoratedangle}
	% The drawing depends on segment to dimension orientation
	\ifnum180<\pgfdecoratedangle
		% FIRST POINT HIGHER
		%
		% Node drawing. It can be translate along the path with
		% text translation option.
		{
	 	\pgftransformshift{\pgfpoint{\dim@x/2+\dim@text@translation}{\dim@sep}}
		% Capturing the TikZ picture font size
		\dim@text@font
		\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
		}
		% Drawing the connection segments.
		\pgfpathmoveto{\pgfpoint{0pt}{\dim@sep+\dim@overlineI}}
		% Check if the first connection line must be drawn.
		\if@dim@connection
			\pgfpathlineto{\pgfpoint{0pt}{0pt}}
		\else
			\pgfpathlineto{\pgfpoint{0pt}{\dim@sep-\dim@overlineI}}
		\fi 
		\pgfpathmoveto{\pgfpoint{\dim@x}{\dim@sep+\dim@overlineII}}
		% Check if the second connection line must be drawn.
		\if@dim@connection
			\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
		\else
			\pgfpathlineto{\pgfpoint{\dim@x}{\dim@sep-\dim@overlineII}}
		\fi
		% Draw an extra line if node text lies outside of the
		% dimension.
		\pgfmathparse{abs(.5\dim@x)<abs(\dim@text@translation)}
		\if\pgfmathresult1
			% Dimension label outside.
			\ifdim0pt<\dim@text@translation
				% Text lies on right.
				\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@sep}}
			\else
				% Text lies on left.
				\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
				\pgfpathlineto{\pgfpoint{0pt}{\dim@sep}}
			\fi
		\fi
		% Draw the dimension segments with arrows.
		\pgfsetarrowsstart{\dim@arrow@type}
		\pgfsetarrowsend{\dim@arrow@type}
		\pgfpathmoveto{\pgfpoint{0pt}{\dim@sep}}
		\pgfpathlineto{\pgfpoint{\dim@x}{\dim@sep}}
		% Finally put all the stuff on paper.
		\pgfusepath{stroke}
	\else
		% FIRST POINT LOWER
		%
		% Node drawing. It can be translate along the path with
		% text translation option.
		{
	 	\pgftransformshift{\pgfpoint{\dim@x/2+\dim@text@translation}{\dim@y+\dim@sep}}
		% Capturing the TikZ picture font size
		\dim@text@font
		\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
		}
		% Drawing the connection segments.
		\pgfpathmoveto{\pgfpoint{0pt}{\dim@y+\dim@sep+\dim@overlineI}}
		% Check if the first connection line must be drawn.
		\if@dim@connection
			\pgfpathlineto{\pgfpoint{0pt}{0pt}}
		\else
			\pgfpathlineto{\pgfpoint{0pt}{\dim@y+\dim@sep-\dim@overlineI}}		
		\fi
		\pgfpathmoveto{\pgfpoint{\dim@x}{\dim@y+\dim@sep+\dim@overlineII}}
		% Check if the second connection line must be drawn.
		\if@dim@connection
			\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
		\else
			\pgflineto{\pgfpoint{\dim@x}{\dim@y+\dim@sep-\dim@overlineII}}
		\fi
		% Draw an extra line if node text lies outside of the
		% dimension.
		\pgfmathparse{abs(.5\dim@x)<abs(\dim@text@translation)}
		\if\pgfmathresult1
			% Dimension label outside.
			\ifdim0pt<\dim@text@translation
				% Text lies on right.
				\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y+\dim@sep}}
			\else
				% Text lies on left.
				\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
				\pgfpathlineto{\pgfpoint{0pt}{\dim@y+\dim@sep}}
			\fi
		\fi
		% Draw the dimension segments with arrows.
		\pgfsetarrowsstart{\dim@arrow@type}
		\pgfsetarrowsend{\dim@arrow@type}
		\pgfpathmoveto{\pgfpoint{0pt}{\dim@y+\dim@sep}}
		\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y+\dim@sep}}
		% Finally put all the stuff on paper.
		\pgfusepath{stroke}
	\fi
	}}
	
	
	%-> Vertical dimension (NOT UTILISED IN THE FOLLOWING DRAWING)
	\pgfdeclaredecoration{Vdim}{final}{%
	\state{final}{%
	% Setting needed dimensions from pgfkeys values.
	\tikz@checkunit{\pgfkeysvalueof{/pgf/decoration/distance}}
	\iftikz@isdimension
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}}
	\else
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}*\pgf@yy}
	\fi
	\pgfmathsetlength{\dim@x}{\pgfdecoratedpathlength*cos(\pgfdecoratedangle)}
	\pgfmathsetlength{\dim@y}{\pgfdecoratedpathlength*sin(\pgfdecoratedangle)}
	\pgfmathsetlength{\dim@overline}{\pgfkeysvalueof{/pgf/decoration/overline}}
	\pgfmathsetlength{\dim@text@translation}{\pgfkeysvalueof{/pgf/decoration/text translation}}
	% Setting text to write from pgfkeys value.
	\def\dim@text{\pgfkeysvalueof{/pgf/decoration/text}}
	% The overline verse (where it points. Positive or negative) depends
	% on dimension sep and angle of the segment to dimension.
	\ifdim0pt<\dim@sep
		% Case with positive dimension sep.
		% Normal behaviour.
		\pgfmathsetlength{\dim@overlineI}{\dim@overline}
		\pgfmathsetlength{\dim@overlineII}{\dim@overline}
	\else
		% Case with negative dimension sep.
		% The value of dimension overline I is different from
		% dimension overline II and it depends on the
		% quadrant where the the segment is.
		\pgfmathparse{abs(\dim@sep)<abs(\dim@x)}
		\if\pgfmathresult1
			% true
			\ifnum90<\pgfdecoratedangle
				\ifnum270<\pgfdecoratedangle
					\pgfmathsetlength{\dim@overlineI}{\dim@overline}
					\pgfmathsetlength{\dim@overlineII}{-\dim@overline}
				\else
					\pgfmathsetlength{\dim@overlineI}{-\dim@overline}
					\pgfmathsetlength{\dim@overlineII}{\dim@overline}
				\fi
			\else
				\pgfmathsetlength{\dim@overlineI}{\dim@overline}
				\pgfmathsetlength{\dim@overlineII}{-\dim@overline}
			\fi
		\else
			% false
			\pgfmathsetlength{\dim@overlineI}{-\dim@overline}
			\pgfmathsetlength{\dim@overlineII}{-\dim@overline}
		\fi
	\fi
	% Set to rotation transformation because we want dimension
	% only the horizontal distance between two points.
	\pgftransformrotate{-\pgfdecoratedangle}
	\ifnum180<\pgfdecoratedangle
		%
		% FIRST POINT HIGHER
		%
		\ifnum270>\pgfdecoratedangle
			% Third quadrant
			% Node drawing. It can be translate along the path with
			% text translation option.
			{
	 		\pgftransformshift{\pgfpoint{\dim@sep}{\dim@y/2-\dim@text@translation}}
			% In this case, the node must e rotated.
			\pgftransformrotate{-90}
			% Capturing the TikZ picture font size
			\dim@text@font
			\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
			}
			% Drawing the connection segments.
			\pgfpathmoveto{\pgfpoint{\dim@sep+\dim@overlineI}{0pt}}
			% Check if the first connection line must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{0pt}{0pt}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@sep-\dim@overlineI}{0pt}}
			\fi
			\pgfpathmoveto{\pgfpoint{\dim@sep+\dim@overlineII}{\dim@y}}
			% Check if the second connection line must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@sep-\dim@overlineII}{\dim@y}}
			\fi
			% Draw an extra line if node text lies outside of the
			% dimension.
			\pgfmathparse{abs(.5\dim@y)<abs(\dim@text@translation)}
			\if\pgfmathresult1
				% Dimension label outside.
				\ifdim0pt<\dim@text@translation
					% Text lies on right.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
					\pgfpathlineto{\pgfpoint{\dim@sep}{\dim@y}}
				\else
					% Text lies on left.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
					\pgfpathlineto{\pgfpoint{\dim@sep}{0pt}}
				\fi
			\fi
			% Draw the dimension segments with arrows. 
			\pgfsetarrowsstart{\dim@arrow@type}
			\pgfsetarrowsend{\dim@arrow@type}
			\pgfpathmoveto{\pgfpoint{\dim@sep}{0pt}}
			\pgfpathlineto{\pgfpoint{\dim@sep}{\dim@y}}
			% Finally put all the stuff on paper.
			\pgfusepath{stroke}
		\else
			% Fourth quadrant
			% Node drawing. It can be translate along the path with
			% text translation option.
			{
	 		\pgftransformshift{\pgfpoint{\dim@x+\dim@sep}{\dim@y/2-\dim@text@translation}}
			% In this case, the node must e rotated.
			\pgftransformrotate{-90}
			% Capturing the TikZ picture font size
			\dim@text@font
			\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
			}
			% Drawing the connection segments.
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep+\dim@overlineI}{0pt}}
			% Check if the first dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{0pt}{0pt}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep-\dim@overlineI}{0pt}}
			\fi
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep+\dim@overlineII}{\dim@y}}
			% Check if the second dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep-\dim@overlineII}{\dim@y}}
			\fi
			% Draw an extra line if node text lies outside of the
			% dimension.
			\pgfmathparse{abs(.5\dim@y)<abs(\dim@text@translation)}
			\if\pgfmathresult1
				% Dimension label outside.
				\ifdim0pt<\dim@text@translation
					% Text lies on right.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
					\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{\dim@y}}
				\else
					% Text lies on left.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
					\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{0pt}}
				\fi
			\fi
			% Draw the dimension segments with arrows.
			\pgfsetarrowsstart{\dim@arrow@type}
			\pgfsetarrowsend{\dim@arrow@type}
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep}{0pt}}
			\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{\dim@y}}
			% Finally put all the stuff on paper.
			\pgfusepath{stroke}
		\fi
	\else
		%
		% FIRST POINT LOWER
		%
		\ifnum90>\pgfdecoratedangle
			% First quadrant
			% Node drawing. It can be translate along the path with
			% text translation option.
			{
	 		\pgftransformshift{\pgfpoint{\dim@x+\dim@sep}{\dim@y/2-\dim@text@translation}}
			% In this case, the node must e rotated.
			\pgftransformrotate{-90}
			% Capturing the TikZ picture font size
			\dim@text@font
			\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
			}
			% Drawing the connection segments.
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep+\dim@overlineI}{0pt}}
			% Check if the first dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{0pt}{0pt}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep-\dim@overlineI}{0pt}}
			\fi
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep+\dim@overlineII}{\dim@y}}
			% Check if the second dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep-\dim@overlineII}{\dim@y}}
			\fi
			% Draw an extra line if node text lies outside of the
			% dimension.
			\pgfmathparse{abs(.5\dim@y)<abs(\dim@text@translation)}
			\if\pgfmathresult1
				% Dimension label outside.
				\ifdim0pt<\dim@text@translation
					% Text lies on right.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
					\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{\dim@y}}
				\else
					% Text lies on left.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
					\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{0pt}}
				\fi
			\fi
			% Draw the dimension segments with arrows.
			\pgfsetarrowsstart{\dim@arrow@type}
			\pgfsetarrowsend{\dim@arrow@type}
			\pgfpathmoveto{\pgfpoint{\dim@x+\dim@sep}{0pt}}
			\pgfpathlineto{\pgfpoint{\dim@x+\dim@sep}{\dim@y}}
			% Finally put all the stuff on paper. 
			\pgfusepath{stroke}
		\else 
			% Second quadrant
			% Node drawing. It can be translate along the path with
			% text translation option.
			{
	 		\pgftransformshift{\pgfpoint{\dim@sep}{\dim@y/2-\dim@text@translation}}
			% In this case, the node must e rotated.
			\pgftransformrotate{-90}
			% Capturing the TikZ picture font size
			\dim@text@font
			\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
			}
			% Drawing the connection segments.
			\pgfpathmoveto{\pgfpoint{\dim@sep+\dim@overlineI}{0pt}}
			% Check if the first dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{0pt}{0pt}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@sep-\dim@overlineI}{0pt}}
			\fi
			\pgfpathmoveto{\pgfpoint{\dim@sep+\dim@overlineII}{\dim@y}}
			% Check if the second dimension connection must be drawn.
			\if@dim@connection
				\pgfpathlineto{\pgfpoint{\dim@x}{\dim@y}}
			\else
				\pgfpathlineto{\pgfpoint{\dim@sep-\dim@overlineII}{\dim@y}}
			\fi
			% Draw an extra line if node text lies outside of the
			% dimension.
			\pgfmathparse{abs(.5\dim@y)<abs(\dim@text@translation)}
			\if\pgfmathresult1
				% Dimension label outside.
				\ifdim0pt<\dim@text@translation
					% Text lies on right.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
					\pgfpathlineto{\pgfpoint{\dim@sep}{0pt}}
				\else
					% Text lies on left.
					\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
					\pgfpathlineto{\pgfpoint{\dim@sep}{\dim@y}}
				\fi
			\fi
			% Draw the dimension segments with arrows.
			\pgfsetarrowsstart{\dim@arrow@type}
			\pgfsetarrowsend{\dim@arrow@type}
			\pgfpathmoveto{\pgfpoint{\dim@sep}{0pt}}
			\pgfpathlineto{\pgfpoint{\dim@sep}{\dim@y}}
			% Finally put all the stuff on paper. 
			\pgfusepath{stroke}
		\fi
	\fi
	}}
	
	%-> Along the dimension
	\pgfdeclaredecoration{dim}{final}{
	\state{final}{%
	% Check if the dimension inserted has unit
	\tikz@checkunit{\pgfkeysvalueof{/pgf/decoration/distance}}
	\iftikz@isdimension
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}}
	\else
		\pgfmathsetlength{\dim@sep}{\pgfkeysvalueof{/pgf/decoration/distance}*\pgf@yy}
	\fi
	% Overline value if function of the sep sign.
	\ifdim0pt>\dim@sep
		\pgfmathsetlength{\dim@overline}{-\pgfkeysvalueof{/pgf/decoration/overline}}
	\else
		\pgfmathsetlength{\dim@overline}{\pgfkeysvalueof{/pgf/decoration/overline}}
	\fi
	\pgfmathsetlength{\dim@text@translation}{\pgfkeysvalueof{/pgf/decoration/text translation}}
	% Setting the text to be inserted into the dimension node.
	\def\dim@text{\pgfkeysvalueof{/pgf/decoration/text}}
	{
	\pgftransformshift{\pgfpoint{\pgfdecoratedpathlength/2+\dim@text@translation}{\dim@sep}}
	% Capturing the TikZ picture font size
	\dim@text@font
	\pgfnode{rectangle}{south}{\dim@text}{\dim@text@nodename}{\pgfusepath{discard}}
	}
	\pgfpathmoveto{\pgfpoint{0pt}{\dim@sep+\dim@overline}}
	% Check if the first connection line mus b drawn
	\if@dim@connection
		\pgfpathlineto{\pgfpoint{0pt}{0pt}}
	\else
		\pgfpathlineto{\pgfpoint{0pt}{\dim@sep-\dim@overline}}
	\fi
	\pgfpathmoveto{\pgfpoint{(\pgfdecoratedpathlength}{\dim@sep+\dim@overline}}
	% Check if the first connection line mus b drawn
	\if@dim@connection
		\pgfpathlineto{\pgfpoint{\pgfdecoratedpathlength}{0pt}}
	\else
		\pgfpathlineto{\pgfpoint{(\pgfdecoratedpathlength}{\dim@sep-\dim@overline}}
	\fi
	% Draw an extra line if node text lies outside of the
	% dimension.
	\pgfmathparse{abs(.5*\pgfdecoratedpathlength)<abs(\dim@text@translation)}
	\if\pgfmathresult1
		% Dimension label outside.
		\ifdim0pt<\dim@text@translation
			% Text lies on right.
			\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south east}}
			\pgfpathlineto{\pgfpoint{\pgfdecoratedpathlength}{\dim@sep}}
		\else
			% Text lies on left.
			\pgfpathmoveto{\pgfpointanchor{\dim@text@nodename}{south west}}
			\pgfpathlineto{\pgfpoint{0pt}{\dim@sep}}
		\fi
	\fi
	\pgfsetarrowsstart{\dim@arrow@type}
	\pgfsetarrowsend{\dim@arrow@type}
	\pgfpathmoveto{\pgfpoint{0pt}{\dim@sep}}
	\pgfpathlineto{\pgfpoint{\pgfdecoratedpathlength}{\dim@sep}} 
	\pgfusepath{stroke}
	\pgfpathmoveto{\pgfpoint{0pt}{0pt}}
	}}
	
	%-> Initial values
	\pgfkeys{/pgf/decoration/.cd,
	         distance/.initial         = 10pt,
	         overline/.initial         = 1mm,
	         text/.initial             = {},
	         text translation/.initial = 0pt,
	         text node name/.store in  = \dim@text@nodename,
	         text node name            = dim_text,
	         >/.store in               = \dim@arrow@type,
	         >                         = latex,
	         connection/.is if         = @dim@connection,
	         connection                = false,
	         font/.store in            = \dim@text@font,
	         font                      = \tikz@textfont,
	}
	\makeatother
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% COMMANDS TO CALL DIMENSION DECORATIONS %
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\newcommand\Hdimension[1][]{\path[decorate,decoration={Hdim,#1}]}
	\newcommand\Vdimension[1][]{\path[decorate,decoration={Vdim,#1}]}
	\newcommand\dimension[1][]{\path[decorate,decoration={dim,#1}]}
	
	\begin{document}
	\begin{tikzpicture}[x         = 1mm,
	                    y         = 1mm,
	                    >         = latex,
	                    line join = round,
	                    font      = \small]
	
	%%%%%%%%%%%%%%%%%%
	% NOZZLE DRAWING %
	%%%%%%%%%%%%%%%%%%
	%-> Origin definition
	\coordinate (o) at (0,0);
	
	%-> Nozzle
	% Symmetric characteristic is used in a
	% foreach command where the cycle is made
	% for upper part (up) with positive sign (+)
	% and lower part (down) with negative sign (-)
	\foreach \pos/\sign in {up/+,down/-}{
	
	%%-> Points definitions
	\coordinate (A\pos)        at ($(o)+(0,\sign11.5)$);
	\coordinate (B\pos)        at ($(A\pos)+(0,\sign5.075)$);
	\coordinate (C\pos)        at ($(B\pos)+(20,0)$);
	\coordinate (D\pos)        at ($(C\pos)+(0,-\sign1.575)$);
	\coordinate (E\pos)        at ($(D\pos)+(10,0)$);
	\coordinate (F\pos)        at ($(E\pos)+(0,\sign11)$);
	\coordinate (G\pos)        at ($(F\pos)+(0,\sign8)$);
	\coordinate (H\pos)        at ($(G\pos)+(0,\sign6)$);
	\coordinate (I\pos)        at ($(H\pos)+(10,0)$);
	\coordinate (L\pos)        at (G\pos-|I\pos);
	\coordinate (M\pos)        at (F\pos-|I\pos);
	\coordinate (N\pos)        at (E\pos-|I\pos);
	\coordinate (O\pos)        at ($(N\pos)+(100,0)$);
	\coordinate (P\pos)        at ($(O\pos)+(10,-\sign10)$);
	\coordinate (throat_\pos)  at ($(P\pos)-(43.8,\sign1.15)$);
	\coordinate (IN_\pos)      at ($(A\pos)+(92.74,0)$);
	\coordinate (center1_\pos) at ($(o)+(92.74,\sign4.5)$);
	\coordinate (center2_\pos) at ($(throat_\pos)+(0,\sign7)$);
	
	%%-> Draw nozzle main body
	\draw[fill,
	      pattern    = section,
	      line width = 1.1pt]
	\ifnum\sign1>0
	        (center1_\pos)++(45:7)arc(45:90:7)--
	\else
	        (center1_\pos)++(-45:7)arc(315:270:7)--
	\fi
	(A\pos)--
	(B\pos)--
	(C\pos)--
	(D\pos)--
	(E\pos)--
	(F\pos)--
	(G\pos)--
	(H\pos)--
	(I\pos)--
	(L\pos)--
	(M\pos)--
	(N\pos)--
	(O\pos)--
	(P\pos)--
	(throat_\pos)
	\ifnum\sign1>0
	      arc(270:225:7)
	\else
	     arc(90:135:7)
	\fi
	--cycle;
	
	%%-> Draw holes on the flange
	\draw[fill       = white,
	      line width = 1.1pt] (G\pos)rectangle(M\pos);
	
	%%-> Draw symmetric axis on flange holes
	\draw[dash pattern = on 3pt off 5pt on 6pt off 5pt,
	      line width   = 1pt] ($(F\pos)!.5!(G\pos)-(5,0)$)--
	                          ($(L\pos)!.5!(M\pos)+(5,0)$);
	
	%%-> screw drawing
	\draw[dashed] (D\pos)--(D\pos-|A\pos);
	}
	
	%%-> Nozzle input and output closure
	\draw[line width = 1.1pt](Adown)--(Aup)
	                         (Pdown)--(Pup);
	
	%%-> Nozzle symmetry line
	\draw[dash pattern = on 3pt off 5pt on 6pt off 5pt,
	      line width   = 1pt] ($(Adown)!.5!(Aup)-(5,0)$)--($(Pdown)!.5!(Pup)+(5,0)$);
	
	%%%%%%%%%%%%%%
	% DIMENSIONS %
	%%%%%%%%%%%%%%
	% Macro to see the dimension
	% inserted. For debug.
	\newif\ifdimension
	\dimensionfalse
	%\dimensiontrue % if true, you will see the dimension number (%x) on the draw
	\newcount\Ndim=0
	\def\SeeDim#1{\ifdimension\global\advance\Ndim by 1 \the\Ndim\else#1\fi}
	%-> 1
	\Hdimension[text      = \SeeDim{10},
	            distance  = 3]  (Hup) --  (Iup);
	
	%-> 2
	\Hdimension[text     = \SeeDim{10},
	            distance = 3] (Cup)--(Hup);
	
	%-> 3
	\Hdimension[text     = \SeeDim{20},
	            distance = 26.425] (Bup)--(Cup);
	
	%-> 4
	\Hdimension[text     = \SeeDim{100},
	            distance = 3] (Iup)--(Oup);
	
	%-> 5
	\Hdimension[text     = \SeeDim{10},
	            distance = 28] (Oup)--(Pup);
	
	%-> 6
	\dimension[text     = \SeeDim{\diameter30},
	           distance = -25] (Odown)--(Oup);
	
	%-> 7
	\Hdimension[text     = \SeeDim{43.8},
	            distance = -48.15] (throat_down)--(Odown);
	
	%-> 8
	\Hdimension[text     = \SeeDim{92.74},
	            distance = -40.5] (IN_down)--(Bdown);
	
	%-> 9
	\dimension[text             = \SeeDim{\diameter7.7},
	           text translation = -7mm,
	           distance         = 20] (throat_down)--(throat_up);
	
	%-> 10
	\dimension[text     = \SeeDim{\diameter10},
	           distance = -8] (Pdown)--(Pup);
	
	%-> 11 (by hand)
	\draw[->] (center1_up)--++(45:7)node[sloped,
	                                     above     = .4mm,
	                                     pos       = .3,
	                                     inner sep = 0.5pt]{\SeeDim{R7}};
	
	%-> 12 (by hand)
	\draw[->] (center2_up)--++(225:7)node[above     = .4mm,
	                                      pos       = .4,
	                                      inner sep = 0.5pt,
	                                      rotate    = 45,
	                                      fill      = white]{\SeeDim{R7}};
	
	%-> 13 (by hand)
	\coordinate (raccordo_up)   at ($(center1_up)+(45:7)$);
	\coordinate (raccordo_down) at ($(center1_down)+(-45:7)$);
	\draw (raccordo_up)--++(135:20);
	\draw (raccordo_down)--++(225:20);
	\path[name path=C1](raccordo_up)--++(-45:20);
	\path[name path=C2](raccordo_down)--++(45:20);
	\path[name intersections={of=C1 and C2}];
	\coordinate (C90) at (intersection-1);
	\draw[<->] ($(C90)+(135:30)$)arc[start angle = 135,
	                                 delta angle = 90,
	                                 radius      = 30];
	\def\angle{35}
	\node[rotate = \angle+45,
	      anchor = south] at ($(C90)+(135+\angle:30)$){\SeeDim{\ang{90}}};
	
	%-> 14
	\dimension[text             = \SeeDim{\diameter60},
	           distance         = -5,
	           >                = angle 45,
	           text translation = .5cm] ($(Ldown)!.5!(Mdown)$)--($(Lup)!.5!(Mup)$);
	
	%-> 15
	\dimension[text             = \SeeDim{\diameter80},
	           distance         = -10,
	           text translation = .5cm] (Idown)--(Iup);
	
	%-> 16
	\dimension[text             = \SeeDim{\diameter8 ($\times$4)},
	           distance         = 10,
	           text translation = -12mm] (Gdown)--(Fdown);
	
	%-> 17
	\dimension[text     = \SeeDim{G1'},
	           distance = 10] (Bdown)--(Bup);
	
	%-> 18
	\dimension[text     = \SeeDim{\diameter23},
	           distance = 5] (Adown)--(Aup);
	
	% Dimensions scale
	\node[anchor = north west] at (current bounding box.south west)
	{All dimensions are in millimeters};
	\end{tikzpicture}
	\end{document}
snippet wave swan-wave-model
	%Author: Marco Miani
	%SWAN (developed by SWAN group, TU Delft, The Netherlands) is a wave spectral numerical model.
	%For Simlating WAves Nearshore, it is necessary to define spatial grids of
	%physical dominant factors (wind friction, dissipation) as well as define a COMPUTATIONAL
	%grid on which the model performs its (spectral) calculations: budgeting energy spectra over
	%each cell of the (computational) grid. Grids might have different spatial resolution and extension.
	
	\documentclass[12pt]{article}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: SWAN wave model
	
	SWAN_ (developed by SWAN group, TU Delft, The Netherlands) is a wave spectral numerical model. For Simlating WAves Nearshore, it is necessary to define spatial grids of
	physical dominant factors (wind friction, dissipation) as well as define a COMPUTATIONAL
	grid on which the model performs its (spectral) calculations: budgeting energy spectra over
	each cell of the (computational) grid. Grids might have different spatial resolution and extension.
	
	.. _SWAN: http://vlm089.citg.tudelft.nl/swan/index.htm
	
	\end{comment}
	\usetikzlibrary{positioning}
	\begin{document}
	\pagestyle{empty}
	
	
	\begin{tikzpicture}[scale=.9,every node/.style={minimum size=1cm},on grid]
			
	    %slanting: production of a set of n 'laminae' to be piled up. N=number of grids.
	    \begin{scope}[
	            yshift=-83,every node/.append style={
	            yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	            ]
	        % opacity to prevent graphical interference
	        \fill[white,fill opacity=0.9] (0,0) rectangle (5,5);
	        \draw[step=4mm, black] (0,0) grid (5,5); %defining grids
	        \draw[step=1mm, red!50,thin] (3,1) grid (4,2);  %Nested Grid
	        \draw[black,very thick] (0,0) rectangle (5,5);%marking borders
	        \fill[red] (0.05,0.05) rectangle (0.35,0.35);
	        %Idem as above, for the n-th grid:
	    \end{scope}
	    	
	    \begin{scope}[
	    	yshift=0,every node/.append style={
	    	    yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	    	             ]
	        \fill[white,fill opacity=.9] (0,0) rectangle (5,5);
	        \draw[black,very thick] (0,0) rectangle (5,5);
	        \draw[step=5mm, black] (0,0) grid (5,5);
	    \end{scope}
	    	
	    \begin{scope}[
	    	yshift=90,every node/.append style={
	    	yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	    	             ]
	    	\fill[white,fill opacity=.9] (0,0) rectangle (5,5);
	    	\draw[step=10mm, black] (1,1) grid (4,4);
	    	\draw[black,very thick] (1,1) rectangle (4,4);
	    	\draw[black,dashed] (0,0) rectangle (5,5);
	    \end{scope}
	    	
	    \begin{scope}[
	    	yshift=170,every node/.append style={
	    	    yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	    	  ]
	        \fill[white,fill opacity=0.6] (0,0) rectangle (5,5);
	        \draw[step=10mm, black] (2,2) grid (5,5);
	        \draw[step=2mm, green] (2,2) grid (3,3);
	        \draw[black,very thick] (2,2) rectangle (5,5);
	        \draw[black,dashed] (0,0) rectangle (5,5);
	    \end{scope}
	    	
	    \begin{scope}[
	        yshift=-170,every node/.append style={
	        yslant=0.5,xslant=-1},yslant=0.5,xslant=-1
	                  ]
	        %marking border
	        \draw[black,very thick] (0,0) rectangle (5,5);
	
	       	%drawing corners (P1,P2, P3): only 3 points needed to define a plane.
	        \draw [fill=lime](0,0) circle (.1) ;
	        \draw [fill=lime](0,5) circle (.1);
	        \draw [fill=lime](5,0) circle (.1);
	        \draw [fill=lime](5,5) circle (.1);
	
	        %drawing bathymetric hypotetic countours on the bottom grid:    	
	        \draw [ultra thick](0,1) parabola bend (2,2) (5,1)  ;
	        \draw [dashed] (0,1.5) parabola bend (2.5,2.5) (5,1.5) ;
	        \draw [dashed] (0,2) parabola bend (2.7,2.7) (5,2)  ;
	        \draw [dashed] (0,2.5) parabola bend (3.5,3.5) (5,2.5)  ;
	        \draw [dashed] (0,3.5)  parabola bend (2.75,4.5) (5,3.5);
	        \draw [dashed] (0,4)  parabola bend (2.75,4.8) (5,4);
	        \draw [dashed] (0,3)  parabola bend (2.75,3.8) (5,3);
	        \draw[-latex,thick](2.8,1)node[right]{$\mathsf{Shoreline}$}
	                 to[out=180,in=270] (2,1.99);
	    \end{scope} %end of drawing grids
	
	    %putting arrows and labels:
	    \draw[-latex,thick] (6.2,2) node[right]{$\mathsf{Bathymetry}$}
	         to[out=180,in=90] (4,2);
	
	    \draw[-latex,thick](5.8,-.3)node[right]{$\mathsf{Comp.\ G.}$}
	        to[out=180,in=90] (3.9,-1);
	
	    \draw[-latex,thick](5.9,5)node[right]{$\mathsf{Wind\ G.}$}
	        to[out=180,in=90] (3.6,5);
	
	    \draw[-latex,thick](5.9,8.4)node[right]{$\mathsf{Friction\ G.}$}
	        to[out=180,in=90] (3.2,8);
	
	    \draw[-latex,thick,red](5.3,-4.2)node[right]{$\mathsf{G. Cell}$}
	        to[out=180,in=90] (0,-2.5);
	
	    \draw[-latex,thick,red](4.3,-1.9)node[right]{$\mathsf{Nested\ G.}$}
	        to[out=180,in=90] (2,-.5);
	
	    \draw[-latex,thick](4,-6)node[right]{$\mathsf{Batymetry}$}
	        to[out=180,in=90] (2,-5);	
	    %drawing points on grid's conrners.
	    \fill[black,font=\footnotesize]
	        (-5,-4.3) node [above] {$P_{1}$}
	        (-.3,-5.6) node [below] {$P_{2}$}
	        (5.5,-4) node [above] {$P_{3}$};	
	\end{tikzpicture}
	
	\end{document}
snippet foreach symmetries
	% Symmetries of the plane
	% Author: Cristóbal Camarero Coterillo
	\documentclass[a4paper, 12pt, landscape]{article}
	\usepackage[utf8]{inputenc}
	\usepackage{textcomp}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Symmetries of the plane
	:Tags: Foreach;Mathematics
	:Author: Cristóbal Camarero Coterillo
	:Slug: symmetries
	\end{comment}
	\usetikzlibrary{shapes,calc,decorations.pathmorphing,decorations.fractals}
	\usepackage[bookmarks=true]{hyperref}
	
	%landscape tuning
	\setlength{\oddsidemargin}{0in}		% default=0in
	\setlength{\textwidth}{9in}		% default=9in
	\setlength{\columnsep}{0.5in}		% default=10pt
	\setlength{\columnseprule}{1pt}		% default=0pt (no line)
	\setlength{\textheight}{5.85in}		% default=5.15in
	\setlength{\topmargin}{-0.15in}		% default=0.20in
	\setlength{\headsep}{0.25in}		% default=0.35in
	\setlength{\parskip}{1.2ex}
	\setlength{\parindent}{0mm}
	
	%PDF Settings
	\newcommand\titulo{Symmetries of the plane}
	\newcommand\autor{\href{http://www.alumnos.unican.es/ccc66}
	  {Cristóbal Camarero Coterillo}}
	\hypersetup{
	    %bookmarks=true,         % show bookmarks bar?
	    unicode=false,          % non-Latin characters in Acrobats bookmarks
	    pdftoolbar=true,        % show Acrobats toolbar?
	    pdfmenubar=true,        % show Acrobats menu?
	    pdffitwindow=true,      % page fit to window when opened
	    pdftitle={\titulo},     % title
	    pdfauthor={\autor},     % author
	    pdfsubject={symmetries of the plane in tikz},	% subject of the document
	    pdfnewwindow=true,      % links in new window
	    pdfkeywords={plane,symmetry,orbifold},% list of keywords
		pdfpagemode=None,		% avoid auto open bookmarks
	    colorlinks=false,       % false: boxed links; true: colored links
	    linkcolor=red,          % color of internal links
	    citecolor=green,        % color of links to bibliography
	    filecolor=magenta,      % color of file links
	    urlcolor=cyan           % color of external links
	}
	
	\begin{document}
	%%%<
	\title{\titulo}
	\author{\autor}
	\date{}
	\maketitle%
	
	An implementation of all 17 plane symmetries in Ti\textit{k}Z.
	With the orbifold signature these are the following:
	
	\[\color{red}
	\begin{array}{ccccc}
	*632				&	*442					&	*333					&	*2222					&	**	\\
						&							&							&	{\color{blue}2}\!*\!22	&	*\times\\
						&	{\color{blue}4}\!*\!2	&	{\color{blue}3}\!*\!3	&	{\color{blue}22}*		&		\\
						&							&							&	{\color{blue}22}\times	&\times\times\\
	{\color{blue}632}	&	{\color{blue}442}		&	{\color{blue}333}		&	{\color{blue}2222}		&	{\color{blue}\circ}\\
	\end{array}
	\]
	
	For their meaning and more pretty pictures see \textit{``The Symmetries of Things''}
	by John H. Conway, Heidi Burgiel and Chaim Goodman-Strauss.\\
	
	A brief comment about the orbifold signature:
	A number $\color{blue}n$ before $\color{red}*$ represent a \textbf{gyration
	point} of order $n$, thus in $\color{blue}632$ we have three effectively
	distinct points with respective orders 6, 3 and 2.  Each $\color{red}*$
	represent a kaleidoscope, a kaleidoscope which is not followed by a number is a
	mirror, a following number $\color{red}n$ represent a point where $n$
	\textbf{mirror lines} cross.  Thus, in $\color{red}*333$ we have a kaleidoscope
	with 3 different points, in each one, there are crossing 3 mirrors.  In
	$\color{blue}4\!\color{red}*\!2$ we have a gyration point of order 4, the four
	neighbour point are actually the same point, a point where 2 mirrors cross.
	The $\color{red}\times$ is called a \textbf{miracle} and represent a reflection
	which cannot be explained by a mirror line.  Finally, the $\color{blue}\circ$
	is called a \textbf{wonder} and represents translations which
	are not explained by any previous symbol.
	%%%>
	
	\newsavebox{\piece}%A TeX box to store the base tile (or orbifold)
	\clearpage
	
	%*632
	\phantomsection\addcontentsline{toc}{chapter}{*632}%Add to PDF bookmarks
	\savebox{\piece}{%We create the base tile
	\begin{tikzpicture}[overlay]
	\node[star,draw=red!50!black,inner sep=1pt] at (0.7,0.3) {};
	\node[red,anchor=base] at (0.55,0.05) {\tiny $*632$};
	\draw[thin] (0,0) -- ++(0:1) -- ++(120:0.5) --cycle;
	\end{tikzpicture}}
	\begin{center}%We replicate the tile according to the symmetry
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
	%The \i loop creates a supertile which can tile by translations
	%which is done by the \a and \b loops
		\foreach \a in {0,...,7}
		\foreach \b in {0,...,7}
		\foreach \i in {0,1,2,3,4,5}
		{
			\path (0,0)
				++(0:\a) ++(60:\a) ++(0:\b) ++(-60:\b)
				node[rotate=\i*60] {\usebox{\piece}}
				node[rotate=\i*60,yscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%632
	\phantomsection\addcontentsline{toc}{chapter}{632}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue] at (0.3,0.4) {\tiny 632};
	\draw[thin] (0,0) -- ++(0:1) -- ++(120:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,8}
		\foreach \i in {0,1,2,3,4,5}
		{
			\path (0,0)
				++(0:\a) ++(60:\a) ++(0:\b) ++(-60:\b)
				node[rotate=\i*60] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%*442
	\phantomsection\addcontentsline{toc}{chapter}{*442}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[arrow box,arrow box arrows={south:0.5cm,west:0.5cm},draw=red!50!black,inner sep=4pt] at (0.8,0.8) {};
	\node[red,anchor=base] at (0.4,0.05) {\tiny $*442$};
	\draw[thin] (0,0) -- ++(0:1) -- ++(90:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,7}
		\foreach \i in {0,1,2,3}
		{
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*90] {\usebox{\piece}}
				node[rotate=\i*90,yscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%4*2
	\phantomsection\addcontentsline{toc}{chapter}{4*2}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[single arrow,draw,shape border rotate=90,inner sep=0pt,minimum height=.5cm] at (0.5,0.6) {\tiny up};
	\node[blue] at (0.3,0.3) {\tiny 4\color{red}$*$2};
	\draw[thin] (0,0) -- ++(0:1) -- ++(90:1) -- ++(180:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,4}
		\foreach \b in {0,...,3}
		\foreach \i in {0,1,2,3}
		{
			\path (0,0) ++(0:4*\a) ++(90:4*\b)
				node[rotate=\i*90] {\usebox{\piece}}
				+(2,0) node[rotate=\i*90,xscale=-1] {\usebox{\piece}}
				+(0,2) node[rotate=\i*90,yscale=-1] {\usebox{\piece}}
				+(2,2) node[rotate=\i*90] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%442
	\phantomsection\addcontentsline{toc}{chapter}{442}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue] at (0.3,0.4) {\tiny 442};
	\draw[red!40!green] (1,0) -- (14/29,35/29);
	\draw[densely dotted,red] (14/29,35/29) -- (1,1);
	\draw[thin] (0,0) -- ++(0:1) -- ++(90:1) -- ++(180:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,6}
		\foreach \i in {0,1,2,3}
		{
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*90] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%*333
	\phantomsection\addcontentsline{toc}{chapter}{*333}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[regular polygon,regular polygon sides=3,draw=green,inner sep=2pt] at (0.5,0.55) {};
	\node[red] at (0.45,0.2) {\tiny $*333$};
	\draw[thin] (0,0) -- ++(0:1) -- ++(120:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,7}
		\foreach \i in {0,1,2}
		{
			\path (0,0)
				++(0:\a) ++(60:\a) ++(0:\b) ++(-60:\b)
				node[rotate=\i*120] {\usebox{\piece}}
				node[rotate=\i*120-60,xscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%3*3
	\phantomsection\addcontentsline{toc}{chapter}{3*3}
	\pgfmathparse{sqrt(3)/3}
	\let\altitude=\pgfmathresult
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue] at (0,-0.2) {\tiny 3\color{red}$*$3};
	\draw[thin,decorate,decoration={coil,amplitude=.5pt,segment length=0.5*\altitude cm}] (0,0) -- ++(-30:\altitude);
	\draw[thin,dashed] (0,0) ++(-30:\altitude) -- ++(-1,0);
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,11}
		\foreach \b in {0,...,12}
		\foreach \i in {0,1,2}
		{
			\path (0,0)
				++(90:\a*\altitude) ++(30:\a*\altitude) ++(-30:\b*\altitude) ++(30:\b*\altitude)
				node[rotate=\i*120] {\usebox{\piece}}
				+(0,-\altitude) node[rotate=\i*120,yscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%333
	\phantomsection\addcontentsline{toc}{chapter}{333}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\draw[red] (0.2,0.17) circle (2pt);
	\draw[blue] (0.6,0.3) circle (3pt);
	\node at (-0.1,0.5) {p};
	\node[blue] at (0.3,0.7) {\tiny 333};
	\draw[thick] (0,0) -- ++(0:1) -- ++(120:1) -- ++(180:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,8}
		\foreach \i in {0,1,2}
		{
			\path (0,0) ++(0:\a) ++(60:\a) ++(0:\b) ++(-60:\b)
				node[rotate=\i*120] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%*2222
	\phantomsection\addcontentsline{toc}{chapter}{*2222}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[arrow box,arrow box arrows={south:0.5cm,west:0.5cm},draw=red!50!black,inner sep=4pt] at (0.8,0.8) {};
	\node[red] at (0.3,0.4) {\tiny $*2222$};
	\draw[thin] (0,0) -- ++(0:1) -- ++(90:1) -- ++(180:1) --cycle;
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,9}
		\foreach \b in {0,...,7}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*180] {\usebox{\piece}}
				node[rotate=\i*180,yscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%2*22
	\phantomsection\addcontentsline{toc}{chapter}{2*22}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue] at (0.0,0.4) {\tiny 2\color{red}$*$22};
	\draw[very thin,red,densely dotted] (0,0) ++(0:0.5) -- ++(90:1) -- ++(180:1) -- ++(-90:1);
	\draw[very thick,decoration=Cantor set] (0,0) decorate{decorate{++(0:0.5) -- ++(90:1) -- ++(180:1) -- ++(-90:1)}};
	\draw[thin,decoration=Koch curve type 2,color=blue!60!black] decorate{decorate{decorate{(-0.5,0)--(0.5,0)}}};
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,3}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(0:2*\a) ++(90:4*\b)
				node[rotate=\i*180] {\usebox{\piece}}
				+(0,2) node[rotate=\i*180,yscale=-1] {\usebox{\piece}}
				+(1,0) node[rotate=\i*180,xscale=-1] {\usebox{\piece}}
				+(1,2) node[rotate=\i*180] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%22*
	\phantomsection\addcontentsline{toc}{chapter}{22*}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue,anchor=base east] at (0.5,0.05) {\tiny 22\color{red}$*$};
	\draw[thick,blue,rounded corners] (0,0.2) -- ++(0.4,0.3) -- ++(-0.8,0.3) --(0,1);
	\draw[thin] (0,0) -- ++(0:0.5) -- ++(90:1) -- ++(180:1) -- ++(-90:1) --cycle;
	\fill[red] (-0.5,0.6) arc[start angle=90,end angle=-90,x radius=0.2cm,y radius=0.3cm];
	\fill[red] (0.5,0.6) arc[start angle=-90,end angle=90,x radius=0.17cm,y radius=0.21cm];
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,6}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*180] {\usebox{\piece}}
				+(1,0) node[rotate=\i*180,xscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%22x
	\phantomsection\addcontentsline{toc}{chapter}{22\texttimes}
	\def\miraclelength{0.3}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue,anchor=base east] at (0.5,0.05) {\tiny 22\color{red}$\times$};
	\draw[thick,blue,rounded corners] (0,0.2) -- (0.4,0.5) -- (-0.4,0.4) --(0,1);
	\draw[thick,dashdotted,red!50!black] (0,0) ++(0:0.5) -- ++(90:1);
	\fill[red] (.1,0.7) circle (0.15cm);
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,6}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*180] {\usebox{\piece}}
				+(1,\miraclelength) node[rotate=\i*180,xscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%2222
	\phantomsection\addcontentsline{toc}{chapter}{2222}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue,anchor=base east] at (0.5,0.05) {\tiny 2222};
	\draw[thick,blue,rounded corners] (0,0.2) -- ++(0.4,0.3) -- ++(-0.8,0.3) --(0,1);
	\draw[draw=gray,double={blue!50!green},rounded corners] (-0.5,0.5) -- (-0.3,0.3) -- (0.3,0.8) -- (0.5,0.5);
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,6}
		\foreach \i in {0,1}
		{
			\pgfmathparse{-(-1)^\i}
			\let\res=\pgfmathresult
			\path (0,0) ++(0:2*\a) ++(90:2*\b)
				node[rotate=\i*180] {\usebox{\piece}}
				+(1,\res) node[rotate=\i*180] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%**
	\phantomsection\addcontentsline{toc}{chapter}{**}
	\def\repetition{1.0}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[red,draw=red!80!black,shape=rectangle callout,anchor=center] at (0.5,0.5) {\tiny **};
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,8}
		\foreach \b in {0,...,12}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(0:2*\a) ++(90:\b*\repetition)
				node {\usebox{\piece}}
				node[xscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%*x
	\phantomsection\addcontentsline{toc}{chapter}{*\texttimes}
	\def\repetition{2.0}
	\def\miraclelength{0.5}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\draw[red,fill=red!10,rounded corners] (0,0) -- (1.0,1.0) arc[start angle=0,end angle=180,x radius=0.5cm,y radius=0.5cm];
	\node[red,anchor=base west] at (0.1,0.7) {\small $*\times$};
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,7}
		\foreach \b in {0,...,5}
		\foreach \i in {0,1}
		{
			\path (0,0) ++(2*\a,\miraclelength*\a) ++(90:\b*\repetition)
				node {\usebox{\piece}}
				node[xscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%xx
	\phantomsection\addcontentsline{toc}{chapter}{\texttimes\texttimes}
	\def\repetition{2.0}
	\def\miraclelength{0.5}
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\draw[green,thick] (1.0,0.5) -- (0.3,0) (1.0,0.5) -- (0.8,0) (1.3,0.0) -- (1.55,0.2) -- (1.8,0.0);
	\node[draw,shape=starburst,red,starburst point height=0.3cm,inner sep=0pt] at (1.0,0.5) {\small $\times\times$};
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,7}
		\foreach \b in {0,...,5}
		{
			\path (0,0) ++(0:\repetition*\a) ++(90:2*\b)
				node {\usebox{\piece}}
				+(0:\miraclelength) node[yscale=-1] {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	
	%o
	\phantomsection\addcontentsline{toc}{chapter}{o}
	\def\repetitionax{1.0}
	\def\repetitionay{0.2}
	\def\repetitionbx{0.5}
	\def\repetitionby{2.0}
	\pgfmathparse{0.5*(\repetitionax+\repetitionbx)}
	\let\repetitioncx=\pgfmathresult
	\pgfmathparse{0.5*(\repetitionay+\repetitionby)}
	\let\repetitioncy=\pgfmathresult
	\savebox{\piece}{%
	\begin{tikzpicture}[overlay]
	\node[blue,anchor=center] at (\repetitioncx,\repetitioncy) {\small $\circ$};
	\fill[blue!80!black] (0,0) circle (0.3cm);
	\fill[blue!80] (0.5,0.4) circle (0.2cm);
	\fill[blue!40!green] (0.2,0.8) circle (0.25cm);
	\fill[blue!60!red] (0.6,1.5) circle (0.15cm);
	\end{tikzpicture}}
	\begin{center}
	\begin{tikzpicture}[every node/.style={anchor=center,draw=none}]
		\foreach \a in {0,...,14}
		\foreach \b in {0,...,5}
		{
			\path (0,0) ++(\repetitionax*\a,\repetitionay*\a) ++(\repetitionbx*\b,\repetitionby*\b)
				node {\usebox{\piece}};
		}
	\end{tikzpicture}
	\end{center}
	\clearpage
	\end{document}
snippet system system-combination
	% System Combination
	% Harish K Krishnamurthy <www.ece.neu.edu/~hkashyap/>
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows,shadows}
	\usepackage{amsmath,bm,times}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: System Combination
	:Author: Harish K Krishnamurthy
	
	A block diagram of system combination technique of combining several Automatic Speech Recognition Systems (ASRs) to determine best word sequence outputs is shown here. The training and validation phase are the important phases.
	
	\end{comment}
	
	\newcommand{\mx}[1]{\mathbf{\bm{#1}}} % Matrix command
	\newcommand{\vc}[1]{\mathbf{\bm{#1}}} % Vector command
	
	\begin{document}
	% Define the layers to draw the diagram
	\pgfdeclarelayer{background}
	\pgfdeclarelayer{foreground}
	\pgfsetlayers{background,main,foreground}
	
	% Define block styles used later
	
	\tikzstyle{sensor}=[draw, fill=blue!20, text width=5em, 
	    text centered, minimum height=2.5em,drop shadow]
	\tikzstyle{ann} = [above, text width=5em, text centered]
	\tikzstyle{wa} = [sensor, text width=10em, fill=red!20, 
	    minimum height=6em, rounded corners, drop shadow]
	\tikzstyle{sc} = [sensor, text width=13em, fill=red!20, 
	    minimum height=10em, rounded corners, drop shadow]
	
	% Define distances for bordering
	\def\blockdist{2.3}
	\def\edgedist{2.5}
	
	\begin{tikzpicture}
	    \node (wa) [wa]  {System Combination};
	    \path (wa.west)+(-3.2,1.5) node (asr1) [sensor] {$ASR_1$};
	    \path (wa.west)+(-3.2,0.5) node (asr2)[sensor] {$ASR_2$};
	    \path (wa.west)+(-3.2,-1.0) node (dots)[ann] {$\vdots$}; 
	    \path (wa.west)+(-3.2,-2.0) node (asr3)[sensor] {$ASR_N$};    
	   
	    \path (wa.east)+(\blockdist,0) node (vote) [sensor] {$\theta_0,\theta_1,...,\theta_M$\\Estimated Parameters};
	
	    \path [draw, ->] (asr1.east) -- node [above] {} 
	        (wa.160) ;
	    \path [draw, ->] (asr2.east) -- node [above] {} 
	        (wa.180);
	    \path [draw, ->] (asr3.east) -- node [above] {} 
	        (wa.200);
	    \path [draw, ->] (wa.east) -- node [above] {} 
	        (vote.west);
	
	               
	    \path (wa.south) +(0,-\blockdist) node (asrs) {System Combination - Training};
	  
	    \begin{pgfonlayer}{background}
	        \path (asr1.west |- asr1.north)+(-0.5,0.3) node (a) {};
	        \path (wa.south -| wa.east)+(+0.5,-0.3) node (b) {};
	        \path (vote.east |- asrs.east)+(+0.5,-0.5) node (c) {};
	          
	        \path[fill=yellow!20,rounded corners, draw=black!50, dashed]
	            (a) rectangle (c);           
	        \path (asr1.north west)+(-0.2,0.2) node (a) {};
	            
	    \end{pgfonlayer}
	    
	    % Validation Layer is the same except that there are a set of nodes and links which are added
	   
	
	    \path (wa.south)+(-2.0,-7.5) node (syscomb) [sc] {\textbf{System Combination \\Algorithm}\\Estimated Parameters\\from training};
	    \path (syscomb.west)+(-2.2,1.5) node (asrt1) [sensor] {$ASR_1$};
	    \path (syscomb.west)+(-2.2,0.5) node (asrt2)[sensor] {$ASR_2$};
	    \path (syscomb.west)+(-2.2,-1.0) node (dots)[ann] {$\vdots$}; 
	    \path (syscomb.west)+(-2.2,-2.0) node (asrt3)[sensor] {$ASR_N$};    
	
	    \path [draw, ->] (asrt1.east) -- node [above] {} 
	        (syscomb.160) ;
	    \path [draw, ->] (asrt2.east) -- node [above] {} 
	        (syscomb.180);
	    \path [draw, ->] (asrt3.east) -- node [above] {} 
	        (syscomb.200);
	
	               
	    \path (wa.south) +(0,-\blockdist) node (sct) {System Combination - Training};
	 
	
	    \path (syscomb.east)+(1.0,0.0) node (bwtn) {};
	
	    % Note how the single nodes are repeated using for loop
	    \foreach \x in {0,1,...,4} 
	    { 
	        \draw (bwtn.east)+(\x,0) node (asr\x-2)[]{}; 
	        \fill (bwtn.east)+(\x,0) circle (0.1cm); 
	    }
	   
	    \path [draw, ->] (syscomb.east) -- node [above] {} 
	        (bwtn.east);
		\path [draw, ->] (asr0-2) -- node [above] {@} 
	        (asr1-2);
	    \path [draw, -] (asr1-2) -- node [above] {b} 
	        (asr2-2);
	    \path [draw, -] (asr2-2) -- node [above] {z} 
	        (asr3-2);
	    \path [draw, -] (asr3-2) -- node [above] {} 
	        (asr4-2);
	
	    \path [draw, ->] (asr0-2) edge[bend  right]  node [below] {@} 
	        (asr1-2);
	    \path [draw, ->] (asr1-2) edge[bend  right]  node [below] {b} 
	        (asr2-2);
	    \path [draw, ->] (asr2-2) edge[bend  right]  node [below] {c} 
	        (asr3-2);
	    \path [draw, ->] (asr4-2) node[]{} (asr4-2)+(1.0,0);
	
	    \begin{scope}[looseness=1.6]
	        \path [draw, ->] (asr0-2) edge[bend  right=90]  node [below] {a} 
	            (asr1-2);
	        \path [draw, ->] (asr1-2) edge[bend  right=90]  node [below] {b} 
	            (asr2-2);
	        \path [draw, ->] (asr2-2) edge[bend  right=90]  node [below] {c} 
	            (asr3-2);
	    \end{scope}
	    \path (asr3-2.east)+(1.5,0.0) node (bw)[sensor] {Best Word Sequence\\$\arg\max$};    
	
	    \path [draw, -] (asr1-2.east) node [below] {} 
	        (bw.west);
	          
	    \begin{pgfonlayer}{background}
	        \path (asrt1.west)+(-0.5,1.0) node (g) {};
	        \path (bw.east |- syscomb.south)+(0.5,-1.5) node (h) {};
	         
	        \path[fill=yellow!20,rounded corners, draw=black!50, dashed]
	            (g) rectangle (h);
	
	        \path [draw, ->] (vote.south) edge[bend  left=90]  node [below] {Used in validation} 
	            (syscomb.30);            
	
	    \end{pgfonlayer}
	    
	    \path (asr1-2.south) +(-\blockdist,-\blockdist) 
	        node (asrs) {System Combination - Validation};
	
	\end{tikzpicture}
	
	\end{document}
snippet states tcp-state-machine
	%% Copyright 2009 Ivan Griffin
	%
	% This work may be distributed and/or modified under the
	% conditions of the LaTeX Project Public License, either version 1.3
	% of this license or (at your option) any later version.
	% The latest version of this license is in
	%   http://www.latex-project.org/lppl.txt
	% and version 1.3 or later is part of all distributions of LaTeX
	% version 2005/12/01 or later.
	%
	% This work has the LPPL maintenance status `maintained'.
	% 
	% The Current Maintainer of this work is Ivan Griffin
	%
	% This work consists of the files tcp_state_machine.tex
	
	%Description
	%-----------
	%tcp_state_machine.tex - an example file illustrating the TCP (RFC 793)
	%                        state machine
	
	%Created 2009-11-20 by Ivan Griffin.  Last updated: 2009-11-20
	%-------------------------------------------------------------
	
	
	
	\documentclass{article}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title:  TCP state machine
	
	\end{comment}
	
	\usetikzlibrary{calc,backgrounds}
	\usepackage[active,tightpage]{preview}
	
	\begin{document}
	\begin{preview}
	\begin{tikzpicture}[>=latex]
	
	  %
	  % Styles for states, and state edges
	  %
	  \tikzstyle{state} = [draw, very thick, fill=white, rectangle, minimum height=3em, minimum width=7em, node distance=8em, font={\sffamily\bfseries}]
	  \tikzstyle{stateEdgePortion} = [black,thick];
	  \tikzstyle{stateEdge} = [stateEdgePortion,->];
	  \tikzstyle{edgeLabel} = [pos=0.5, text centered, font={\sffamily\small}];
	
	  %
	  % Position States
	  %
	  \node[state, name=closedStart] {CLOSED};
	  \node[state, name=listen, below of=closedStart] {LISTEN};
	  \node[state, name=synSent, below of=listen, right of=listen, xshift=8em] {SYN\_SENT};
	  \node[state, name=synRcvd, below of=listen, left of=listen, xshift=-8em] {SYN\_RCVD};
	  \node[state, name=established, below of=listen, node distance=14em] {ESTABLISHED};
	  \node[state, name=finWait1, below of=established, left of=established, node distance=7em, xshift=-9em] {FIN\_WAIT\_1};
	  \node[state, name=finWait2, below of=finWait1] {FIN\_WAIT\_2};
	  \node[state, name=closeWait, below of=established, right of=established, node distance=7em, xshift=9em] {CLOSE\_WAIT};
	  \node[state, name=closing, below of=established, node distance=14em] {CLOSING};
	  \node[state, name=lastAck, below of=closeWait] {LAST\_ACK};
	  \node[state, name=timeWait, below of=closing] {TIME\_WAIT};
	
	  %
	  % Connect States via edges
	  %
	  \draw ($(closedStart.south) + (-.5em,0)$) 
	      edge[stateEdge] node[edgeLabel, xshift=-3em]{\emph{Passive open}} 
	      ($(listen.north) + (-.5em,0)$); 
	  \draw ($(listen.north) + (.5em,0)$) 
	      edge[stateEdge] node[edgeLabel, xshift=2em]{\emph{Close}} 
	      ($(closedStart.south) + (.5em,0)$);
	
	  \draw ($(listen.south) + (-1em,0)$) 
	      edge[stateEdge, bend left=22.5] node[edgeLabel, xshift=-2em, yshift=1em]{SYN/SYN + ACK} 
	      ($(synRcvd.east) + (0,1em)$);
	  \draw ($(listen.south) + (1em,0)$) 
	      edge[stateEdge, bend right=22.5] node[edgeLabel, xshift=1em, yshift=1em]{\emph{Send}/SYN} 
	      ($(synSent.west) + (0,1em)$);
	
	  \draw ($(synRcvd.north) + (.5em,0)$) 
	      edge[stateEdge, bend left=45] node[edgeLabel,xshift=-4em]{\emph{Timeout}/RST} 
	      ($(closedStart.west) + (0,-.5em)$);
	
	  \draw ($(synSent.north) + (-.5em,0)$) 
	      edge[stateEdge, bend right=45] node[edgeLabel,xshift=-1em, yshift=-1em]{\emph{Close}} 
	      ($(closedStart.east) + (0,-.5em)$);
	  \draw ($(closedStart.east) + (0,.5em)$) 
	      edge[stateEdge, bend left=45] node[edgeLabel,xshift=4em]{\emph{Active open}/SYN} 
	      ($(synSent.north) + (.5em,0)$);
	
	  \draw (synSent.west) 
	      edge[stateEdge] node[edgeLabel, yshift=1em]{SYN/SYN + ACK} 
	      (synRcvd.east);
	  \draw (synRcvd) 
	      edge[stateEdge] node[edgeLabel, xshift=-2.5em]{\emph{Close}/FIN} 
	      (finWait1);
	
	  \draw ($(synRcvd.east) + (0,-1em)$) 
	      edge[stateEdge, bend left=22.5] node[edgeLabel, xshift=-1em, yshift=-1em]{ACK} 
	      ($(established.north) + (-1em,0)$);
	  \draw ($(synSent.west) + (0,-1em)$) 
	      edge[stateEdge, bend right=22.5] node[edgeLabel, xshift=3em, yshift=-1em]{SYN + ACK/ACK} 
	      ($(established.north) + (1em,0)$);
	
	  \draw ($(established.south) + (-1em,0)$) 
	      edge[stateEdge, bend left=22.5] node[edgeLabel, xshift=-1em, yshift=1em]{\emph{Close}/FIN} 
	      ($(finWait1.east) + (0,.5em)$);
	  \draw ($(established.south) + (1em,0)$) 
	      edge[stateEdge, bend right=22.5] node[edgeLabel, xshift=1em, yshift=1em]{FIN/ACK} 
	      ($(closeWait.west) + (0,1em)$);
	
	  \draw (finWait1.south) 
	      edge[stateEdge] node[edgeLabel, xshift=-2em]{ACK} 
	      (finWait2.north);
	  \draw ($(finWait1.east) + (0,-.5em)$) 
	      edge[stateEdge, bend left=22.5] node[edgeLabel, yshift=1em]{ACK} 
	      (closing.north);
	  \draw (finWait1.south east) 
	      edge[stateEdge] node[edgeLabel, xshift=1em, yshift=2em, text width=3em]{FIN + ACK/ACK} 
	      (timeWait.north west);
	
	  \draw (finWait2.south) 
	      edge[stateEdge, bend right=22.5] node[edgeLabel, xshift=-2em, yshift=-1em]{FIN/ACK} 
	      (timeWait.west);
	
	  \draw (closing) 
	      edge[stateEdge] node[edgeLabel, xshift=-2em]{ACK} 
	      (timeWait);
	
	  \draw (closeWait) 
	      edge[stateEdge] node[edgeLabel,xshift=2.5em]{\emph{Close}/FIN} 
	      (lastAck);
	
	  %
	  % Connect lastAck to closed is slightly more complicated
	  % no direct line-of-sight, so we need to take the scenic route
	  %
	  \coordinate (lastAck2ClosedA) at ($(lastAck.east) + (2em,0)$);
	  \coordinate (lastAck2ClosedB) at ($(closedStart.north -| lastAck.east) + (2em,1em)$);
	  \coordinate (lastAck2ClosedC) at ($(closedStart.north) + (0.5em,1em)$);
	  \draw (lastAck.east) edge[stateEdgePortion] (lastAck2ClosedA);
	  \draw (lastAck2ClosedA) edge[stateEdgePortion] node[edgeLabel,xshift=-1.5em, yshift=-4em]{ACK} (lastAck2ClosedB);
	  \draw (lastAck2ClosedB) edge[stateEdgePortion] (lastAck2ClosedC);
	  \draw (lastAck2ClosedC) edge[stateEdge] ($(closedStart.north) + (0.5em,0)$);
	
	  %
	  % likewise for timeWait to closed
	  %
	  \coordinate (timeWait2ClosedA) at ($(timeWait.south) + (0,-1em)$);
	  \coordinate (timeWait2ClosedB) at ($(timeWait.south -| finWait2.west) + (-2em,-1em)$);
	  \coordinate (timeWait2ClosedC) at ($(closedStart.north -| finWait2.west) + (-2em,1em)$);
	  \coordinate (timeWait2ClosedD) at ($(closedStart.north) + (-0.5em,1em)$);
	  \draw (timeWait.south) edge[stateEdgePortion] (timeWait2ClosedA);
	  \draw (timeWait2ClosedA) edge[stateEdgePortion] (timeWait2ClosedB);
	  \draw (timeWait2ClosedB) edge[stateEdgePortion] (timeWait2ClosedC);
	  \draw (timeWait2ClosedC) edge[stateEdgePortion] 
	    node[edgeLabel, text width=12.25em, yshift=1.5em]{\emph{Timeout after two maximum segment lifetimes (2*MSL)}} 
	    (timeWait2ClosedD);
	  \draw (timeWait2ClosedD) edge[stateEdge] ($(closedStart.north) + (-0.5em,0)$);
	
	  % draw dotted lines around passive and active closes
	  \begin{pgfonlayer}{background}
	    \draw [join=round,black,dotted] ($(closeWait.north west) + (-1em, -1em)$) rectangle ($(lastAck.south east) + (1em, 1em)$);
	    \draw [join=round,black,dotted] ($(finWait1.north west) + (-1em, -1em)$) rectangle ($(timeWait.south east) + (1em, 1em)$);
	  \end{pgfonlayer}
	
	\end{tikzpicture}
	\end{preview}
	\end{document}
snippet plots temperature-and-rain-sparklines
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Temperature and rain sparklines
	:Tags: Plots, Sparklines, Clipping
	
	This is my first sparklines_ experiment. The graphics show
	daily rainfall and average temperatures in Oslo during the year 2005. A total of 730 data points
	fitted in an area less then 3.2 square cm! The length of the x axis is only 3.6 cm. I've also
	included a version of the temperature sparkline where I've used colors to distinguish between 
	above and below zero temperatures. Visually it is a bit difficult to read, but it's
	implementation is a nice example of path clipping.
	
	PGF/TikZ is well suited for creating sparklines for print. Plotting data at arbitrary scales is straightforward,
	and control of line widths and alignment is precise. 
	
	To run this example you'll need the following data files:
	
	- `temperaturesOslo.txt`_
	- `rainOslo.txt`_
	
	
	.. _sparklines: http://en.wikipedia.org/wiki/Sparkline
	.. _temperaturesOslo.txt: http://www.fauskes.net/media/pgftikzexamples/data/temperaturesOslo.txt
	.. _rainOslo.txt: http://www.fauskes.net/media/pgftikzexamples/data/rainOslo.txt
	
	\end{comment}
	
	\begin{document}
	
	\def\temperaturedata{data/temperaturesOslo.txt}
	\def\raindata{data/rainOslo.txt}
	
	\tikzstyle{maxmark} = [mark=*,mark options={color=red,scale=15}]
	\tikzstyle{minmark} = [mark=*,mark options={color=blue,scale=15}]
	
	\pagestyle{empty}
	
	\begin{tabular}{lllll}
	    Temp. (${}^\circ$C) &%
	    %
	    %
	    \begin{tikzpicture}[xscale=0.01, yscale=0.01]
	        % Draw the zero line
	        \draw[ultra thin, black!50] (1,0)--(365,0);
	        % Draw average temperature
	        \draw[ultra thin, black!20] (1,7.5)--(365,5.5);
	        % Plot temperature data and mark the maximum temperature
	        \draw[ultra thin] plot[smooth,maxmark, mark indices={192} ] 
	            file {\temperaturedata};
	        % Draw the minimum temperature mark.     
	        \draw[ultra thin] plot[smooth,only marks, minmark, mark indices={61}] 
	            file {\temperaturedata};
	    \end{tikzpicture}
	    %
	    %
	    & $\textcolor{blue}{-11.7^\circ}$ & 
	    $\textcolor{black!50}{7.5^\circ}$ & 
	    $\textcolor{red}{24.8^\circ}$\\
	    Rain \hfill(mm) &%
	    %
	    % Draw rainfall data
	    \begin{tikzpicture}[xscale=0.01, yscale=0.01]
	        \begin{scope}[ycomb, yscale=0.6]
	            \draw[black, thin] plot[] file {\raindata};
	        \end{scope}
	    \end{tikzpicture}
	    %
	    &  & $\textcolor{black!50}{1.5}$ & $\textcolor{red}{15}$\\
	    &
	    %
	    % In this plot I use color coding to distinguish temperatures below
	    % and above zero degrees. The plot is drawn twice and clipped to
	    % achieve the desired effect. Visually the above plot is probably
	    % better. 
	    \begin{tikzpicture}[xscale=0.01, yscale=0.01]
	        \draw[ultra thin, black!50] (1,7.5)--(365,5.5);
	        \begin{scope}
	            \clip (1,0) rectangle (365, 30);
	            \draw[ultra thin,red] plot[smooth] file {\temperaturedata};
	        \end{scope}
	        \begin{scope}
	        \clip (1,0) rectangle (365,-11.8);
	        \draw[ultra thin, blue] plot[smooth] file {\temperaturedata};
	        \end{scope}
	    \end{tikzpicture}
	    %
	\end{tabular}
	
	\end{document}
snippet clipping terminals
	% Hidden and exposed terminal problems in Wi-Fi
	% Author: Philip Withnall
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Hidden and exposed terminal problems in Wi-Fi
	:Tags: Clipping;Decorations;Computer Science;Electrical Engineering
	:Author: Philip Withnall
	:Slug: terminals
	
	The hidden and exposed terminal/node problems in wireless
	communications, commonly encountered with Wi-Fi networks.
	\end{comment}
	\usetikzlibrary{decorations.pathreplacing} % for expanding waves
	
	% Style for radio transmission paths.
	\tikzstyle{transmission}=[decorate, decoration={expanding waves, angle=7,
	                          segment length=2}]
	
	% Path definition for a base station. Parameters
	%  1. Node name.
	%  2. Node label.
	%  3. Path graphic options.
	\newcommand{\basestation}[3]{%
		\path[draw, thick, #3] (0, 0) node(#1){#2}
				(0*120+90:0.5cm) --
				(1*120+90:0.5cm) --
				(2*120+90:0.5cm) -- cycle
	}
	
	\begin{document}
	\begin{center}
	\begin{tikzpicture}
		% Shade the intersection where signals collide.
		\begin{scope}
			\clip (-2, 0) circle [radius=2.5];
			\fill[fill=purple!20] (2, 0) circle [radius=2.5];
		\end{scope}
	
		% Signal radii.
		\draw[red] (-2, 0) circle [radius=2.5]; % A
		\draw[dashed, green] (0, 0) circle [radius=2.5]; % B
		\draw[blue] (2, 0) circle [radius=2.5]; % C
	
		% Base stations.
		\basestation{BS1}{A}{red, shift={(-2, 0)}};
		\basestation{BS2}{B}{green};
		\basestation{BS3}{C}{blue, shift={(2, 0)}};
	
		% Signal arrows.
		\draw[red, transmission] (BS1) -- (BS2);
		\draw[blue, transmission] (BS3) -- (BS2);
	\end{tikzpicture}
	
	\medskip
	
	% Exposed terminal problem.
	\begin{tikzpicture}
		% Signal radii.
		\draw[dashed, red] (-2, 0) circle [radius=2.5]; % A
		\draw[green] (0, 0) circle [radius=2.5]; % B
		\draw[dashed, blue] (2, 0) circle [radius=2.5]; % C
		\draw[dashed, orange] (4, 0) circle [radius=2.5]; % D
	
		% Base stations.
		\basestation{BS1}{A}{red, shift={(-2, 0)}};
		\basestation{BS2}{B}{green};
		\basestation{BS3}{C}{blue, shift={(2, 0)}};
		\basestation{BS4}{D}{orange, shift={(4, 0)}};
	
		% Signal arrows.
		\draw[green, transmission] (BS2) -- (BS1);
		\draw[green, transmission] (BS2) -- (BS3);
		\draw[blue, transmission, dotted] (BS3) -- (BS4);
	\end{tikzpicture}
	\end{center}
	\end{document}
snippet fadings text-fading
	% Fading text
	% Author: Elke Schubert
	\documentclass[border=10pt,varwidth]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Fading text
	:Tags: Fading;Styles;Fun
	:Author: Elke Schubert
	:Slug: text-fading
	
	Here we would like to add a color fading to single characters and whole text.
	It should be possible to use the shaded text within normal text, without an
	additional border and aligned at the normal text base line. 
	
	We define a command \fadingtext[<color options>]{<text>} and furthermore
	a style fading text for defining preset colors.
	
	\phantom is used to define a place holder node, we use the same node for
	aligning at the surrounding text's base line, and this node is then
	shaded with the previously defined fading.
	
	The example shows, how the style is set. Note, that the middle color
	has to be set as the last one. So, if you change a color later, re-set
	the middle color (or it's removed).
	
	This example was written by Elke Schubert on TikZ.de.
	http://tikz.de/farbverlauf-auf-einem-text/
	\end{comment}
	\usepackage{tikz}
	\usetikzlibrary{fadings}
	\tikzset{fading text/.style={}}
	
	\newcommand\fadingtext[2][]{%
	  \begin{tikzfadingfrompicture}[name = fading letter]
	    \node[text = transparent!0, inner xsep = 0pt, outer xsep = 0pt] {#2};
	  \end{tikzfadingfrompicture}%
	  \begin{tikzpicture}[baseline = (textnode.base)]
	    \node[inner sep = 0pt, outer sep = 0pt] (textnode) {\phantom{#2}}; 
	    \shade[path fading = fading letter, fading text, #1, fit fading = false]
	    (textnode.south west) rectangle (textnode.north east);% 
	  \end{tikzpicture}% 
	}
	
	\usepackage{lipsum}
	\begin{document}
	\tikzset{fading text/.style = {left color = red, right color = red!50!blue,
	  middle color = green}}
	\setlength\fboxsep{0pt}
	\fbox{\scalebox{4}{\fadingtext[left color = green, right color = red]{$4$}}}
	For testing the alignment: \fadingtext{Here is a colored sample sentence.} 
	
	\noindent\fadingtext[top color = orange, bottom color = purple,
	  middle color=.]{\parbox[b]{\linewidth}{\strut\lipsum[1]}}
	\end{document}
snippet styles textronics-oscilloscope
	% TeXtronics oscilloscope
	% Author: Hugues Vermeiren
	\documentclass[a4paper,12pt,oneside]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: TeXtronics oscilloscope
	:Tags: Styles;Scopes;Physics; Fun
	:Author: Hugues Vermeiren
	:Slug: textronics-oscilloscope
	The TeXtronics oscilloscope! It is a basic 2-channels oscilloscope,
	the kind of machine most students have used in their labs.
	
	Ideally, it should be parameterized so as to be able to easily change
	the signals and the positions of the different controls.
	\end{comment}
	
	\begin{document}
	\def\scl{0.6}%scaling factor of the picture
	\begin{tikzpicture}[
	  scale=\scl,
	  controlpanels/.style={yellow!30!brown!20!,rounded corners,draw=black,thick},
	  screen/.style={green!50!black!60!,draw=black,thick},
	  trace/.style={green!60!yellow!40!, ultra thick},
	  smallbutton/.style={white,draw=black, thick},
	  axes/.style={thick}]
	  \fill[green!30!blue!30!,rounded corners,draw=black,thick](0,0)
	    rectangle (27.75,13.25);
	  \fill[fill=black!40!,draw=black,thick,rounded corners](0.25,0.25)
	    rectangle (27.5,13.00);
	  % Screen, centered around the origin then shifted for easy plotting
	  \begin{scope}[xshift=7cm,yshift=8cm,samples=150]
	    \fill[black!60!,rounded corners,draw=black,thick](-5.3,-4.3)
	      rectangle (5.3,4.3);
	    \fill[screen] (-5.0,-4.0) rectangle (5.0,4.0);
	    \draw[trace] plot(\x,{1+2.4*sin((2.5*\x +1) r)}); % r for radians...
	    \draw[trace] plot(\x,{-1+1.25*sin((0.75*\x) r});
	    \draw[thin] (-5.0,-4.0) grid (5.0,4.0);
	    \draw[axes] (-5,0)--(5,0); % Time axis
	    \draw[axes] (0,-4)--(0,4);
	    \foreach \i in {-4.8,-4.6,...,4.8} \draw (\i,-0.1)--(\i,0.1);
	    \foreach \i in {-3.8,-3.6,...,3.8} \draw (-0.1,\i)--(0.1,\i);
	  \end{scope}
	  % Feet
	  \fill[black!70!,rounded corners,xshift=2cm] (0,-.5) rectangle (2,0);
	  \fill[black!70!,rounded corners,xshift=23.75cm] (0,-.5) rectangle (2,0);
	  % Lower left panel
	  \fill[controlpanels] (0.6,0.5) rectangle (13.5,3.0);
	  \path (0.8,0.9) node[scale=\scl,right]{$\mathbf{TeXtronics\,1 - v.1.01}$};
	  % Lower right panel
	  \fill[controlpanels] (13.7,0.5) rectangle (27.1,6.2);
	  %Channels
	  % CH I
	  \draw[thick] (14.8,1.5) circle (0.7cm);
	  \fill[gray,draw=black,thick] (14.8,1.5) circle (0.5cm);
	  \fill[white,draw=black,thick] (14.8,1.5) circle (0.3cm);
	  \node[scale={1.5*\scl}] at (14.8,2.5) {CH I};
	  \draw[thick] (16.2,1.5) circle (0.4cm);
	  \fill[black!60!] (16.2,1.5) circle (0.3cm);
	  \draw[thick] (16.6,1.5) --(17,1.5)--(17,1.0);
	  \draw[thick] (16.7,1.0)--(17.3,1.0);
	  \draw[thick] (16.8,0.85)--(17.2,0.85);
	  \draw[thick] (16.9,0.70)--(17.1,0.70);
	  \draw[thick] (26.0,1.5) circle (0.7cm);
	  % CH II
	  \fill[gray,draw=black,thick] (26,1.5) circle (0.5cm);
	  \fill[white,draw=black,thick] (26,1.5) circle (0.3cm);
	  \node[scale={1.5*\scl}] at (26,2.5) {CH II};
	  \draw[thick] (24.6,1.5) circle (0.4cm);
	  \fill[black!60!] (24.6,1.5) circle (0.3cm);
	  \draw[thick] (24.2,1.5) --(23.7,1.5)--(23.7,1.0);
	  \draw[thick] (23.4,1.0)--(24.0,1.0);
	  \draw[thick] (23.5,0.85)--(23.9,0.85);
	  \draw[thick] (23.6,0.70)--(23.8,0.70);
	  \draw[thick] (26.0,1.5) circle (0.7cm);
	  % Y-pos
	  \fill[smallbutton] (14.8,4.9) circle (0.3cm);
	  \node[scale={\scl}] at (14.8,5.5) {Y-pos I};
	  \fill[smallbutton] (26.0,4.9) circle (0.3cm);
	  \node[scale={\scl}] at (26.0,5.5) {Y-pos II};
	  % Volt/div the foreach loop draws the two buttons
	  \foreach \i / \b in {18/75,22.5/345}{
	  %Second parameter of the loop is the angle of the index mark 
	  \begin{scope}[xshift=\i cm,yshift=3.8cm,scale=0.85]
	    \node[scale=\scl] at (0,2.3) {Volts/Div};
	    \node[scale=\scl,black] at (-1,-2.4) {V};
	    \node[scale=\scl,blue]  at (1,-2.4) {mV};
	    \clip[rounded corners] (-2,-2) rectangle (2,2);
	    \fill[black!30!,rounded corners,draw=black,thick] (-2,-2)
	      rectangle (2,2);
	    \fill[blue!50!black!20!,draw=black,thick]
	      (30:1.1)--(30:3)--(3,-3)--(-90:3)--(-90:1.1) arc (-90:30:1.1);
	    \draw[very thick,rounded corners](-2,-2) rectangle (2,2);
	    \draw[thick] (0,0) circle (1.0);
	    \foreach \i in {0,30,...,330}
	      \draw[thick] (\i:1.2)--(\i:2.5);
	    \foreach \i/\j in {15/50,45/.1,75/.2,105/.5,135/1,165/2,195/5,225/10,
	      255/20,285/5,315/10,345/20} \node[scale=\scl,black] at (\i:1.7) {\j};
	    \fill[blue!30!black!60!,draw=black,thick] (0,0) circle (0.8cm);
	    % Here you set the right Volts/Div button
	    \draw[ultra thick,red] (\b:0.3)--(\b:1.2);
	  \end{scope}}
	% Upper right panel
	  \fill[controlpanels] (13.7,6.5) rectangle (27.1,12.75);
	  %On-Off button
	  \draw[rounded corners,thick,blue] (13.9,10.5) rectangle (15.9,12.5);
	  \fill[fill=red,draw=black,thick,rounded corners] (14.4,10.8) rectangle (15.3,11.2);
	  \node[scale=\scl] at (14.8,12) {\textbf{Power}};
	  \node[scale=\scl] at (14.8,11.5) {\textbf{On/Off}};
	  % Focus-Intensity buttons
	  \draw[rounded corners,thick,blue] (13.9,7.0) rectangle (15.9,10.0);
	  \fill[smallbutton] (14.9,7.5) circle (0.3cm);
	  \node[scale=\scl] at (14.9,8.2) {\textbf{Focus}};
	  \fill[smallbutton] (14.9,9) circle (0.3cm);
	  \node[scale=\scl] at (14.9,9.6) {\textbf{Intens}};
	  % X-pos
	  \fill[smallbutton] (24.5,9.9) circle (0.3cm);
	  \node[scale={\scl}] at (24.5,10.5) {X-pos};
	  % Time/Div
	  \begin{scope}[xshift=21cm,yshift=9.5cm,scale=1]
	    \node[scale={1.25*\scl}]  at (0,2.4) {Time/Div};
	    \clip[rounded corners] (-2.2,-2) rectangle (2.2,2);
	    \fill[black!30!,rounded corners,draw=black,thick] (-2.2,-2) rectangle (2.2,2);
	    \fill[blue!50!black!20!,draw=black,thick]
	      (45:1.1)--(45:3)--(3,-3)--(-90:3)--(-90:1.1) arc (-90:45:1.1);
	    \fill[green!50!black!40!,draw=black,thick]
	      (45:1.1)--(45:3) arc(45:207:3) --(207:1.1) arc (207:45:1.1);
	    \draw[very thick,rounded corners](-2.2,-2) rectangle (2.2,2);
	    \node[scale={1.25*\scl}] at (-1.6,-1.6) {$s$};
	    \node[scale={1.25*\scl}] at (1.6,-1.6) {$\mu{}\,s$};
	    \node[scale={1.25*\scl}] at (-1.6,1.6) {$m\,s$};
	    \draw[thick] (0,0) circle (1.0);
	    \foreach \i in {-72,-54,...,262} \draw[thick] (\i:1.15)--(\i:1.35);
	    \foreach \i/\j in {-72/.5,-54/1,-36/2,-18/5,0/10,18/20,36/50,54/.1,72/.2,90/.5,
	      108/1,126/2,144/5,162/10,180/20,198/50,216/.1,234/.2,252/.5}
	      \node[scale=\scl,black] at (\i:1.7){\j};
	    \fill[blue!30!black!60!,draw=black,thick] (0,0) circle (0.8cm);
	    % Here you set the Time/Div button
	    \draw[ultra thick,red] (-18:0.3)--(-18:1.2);	
	    % X-pos
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet nodes text-shape
	% Fitting text to a shape
	% Author: Paul Gaborit
	\documentclass{article}
	\usepackage[english]{babel}
	\usepackage{blindtext}
	\usepackage[T1]{fontenc}
	\usepackage{shapepar}
	\usepackage{microtype}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Fitting text to a shape
	:Tags: Nodes and shapes;Fit;Paths;Decorative drawings
	:Author: Paul Gaborit
	:Slug: text-shape
	
	A given text is fitted to specified paths. This code automatically uses
	the shapepar package with TikZ. 
	
	The \shapeparnode macro uses six parameters:
	
	    1. (optional - default: empty) a style for the node (font size, color...)
	    2. the horizontal margin (a distance)
	    3. the vertical margin (a distance)
	    4. the left boundary (a continuous vertical path)
	    5. the right boundary (a continuous vertical path)
	    6. the text (a single paragraph without \par or empty line)
	
	The \shapeparnodeaccuracy can be locally redefined and gives the accuracy
	to compute the shape (default: 2 lines per em).
	
	The code was written by Paul Gaborit and posted on TeX.SE. Slight modification for using english blind text.
	\end{comment}
	\usetikzlibrary{calc,fit,intersections}
	\def\shapeparnodeaccuracy{2}
	\newcommand\shapeparnode[6][]{
	  % 6 parameters:
	  % style for node (default:empty),
	  % h margin, v margin, left path, right path, text (just one paragraph!)
	
	  % name left and right paths and compute there bounding boxes
	  \begin{scope}[local bounding box=leftbb]
	    \path[name path global=left, xshift=#2] #4;
	  \end{scope}
	  \node[inner ysep=-#3, inner xsep=0pt, fit=(leftbb)](leftbb){};
	  \begin{scope}[local bounding box=rightbb]
	    \path[name path global=right, xshift=-#2] #5;
	  \end{scope}
	  \node[inner ysep=-#3, inner xsep=0pt, fit=(rightbb)](rightbb){};
	
	  % global bounding box
	  \path let
	  \p1=(leftbb.north west), \p2=(leftbb.south west),
	  \p3=(rightbb.north east), \p4=(rightbb.south east)
	  in
	  \pgfextra{
	    \pgfmathsetmacro{\ymin}{(\y1 < \y3) ? \y1 : \y3}
	    \pgfmathsetmacro{\ymax}{(\y2 > \y4) ? \y2 : \y4}
	    \typeout{ymin \ymin}
	    \typeout{ymax \ymax}
	  } node[inner sep=0, fit={(\x1,\ymin pt)(\x3,\ymax pt)}](mybb){};
	
	  % compute nb steps
	  \path let \p1=(mybb.north), \p2=(mybb.south) in
	  \pgfextra{
	    \pgfmathsetmacro{\fnthght}{1em/\shapeparnodeaccuracy}
	    \pgfmathtruncatemacro{\nbsteps}{(\y1-\y2)/\fnthght}
	    \xdef\nbsteps{\nbsteps}
	    \typeout{nb steps \nbsteps}
	  };
	
	  % horizontal references
	  \path (mybb.north) -- (mybb.south)
	  \foreach \cnt in {0, 1, ..., \nbsteps}{
	    \pgfextra{\pgfmathsetmacro{\pos}{\cnt/\nbsteps}}
	    coordinate[pos=\pos] (ref \cnt)
	  };
	
	  % left and right boundaries coordinates
	  \foreach \cnt in {0, 1, ..., \nbsteps}{
	    % an horizontal line from left to right
	    \path[name path=ltor]
	      (mybb.west |- ref \cnt) --  (mybb.east |- ref \cnt);
	    % same line from right to left
	    \path[name path=rtol]
	      (mybb.east |- ref \cnt) -- (mybb.west |- ref \cnt);
	    % left boundary
	    \path[name intersections={of=rtol and left, by={l \cnt}, sort by=rtol}];
	    % right boundary
	    \path[name intersections={of=ltor and right, by={r \cnt}, sort by=ltor}];
	  }
	  % start point (and initial value of boundshape)
	  \path let \p1=(l 0) in 
	  \pgfextra{
	    \pgfmathsetmacro{\xstart}{\x1}
	    \xdef\boundshape{{0}{0}b{\xstart}}
	    \xdef\xmin{\xstart}
	    \xdef\xmax{\xstart}
	  };
	
	  % top and bottom
	  \path let \p1=(l 0), \p2=(l \nbsteps) in
	  \pgfextra{
	    \pgfmathsetmacro{\ystart}{\y1}\xdef\ystart{\ystart}
	    \pgfmathsetmacro{\yending}{\y2}\xdef\yending{\yending}
	  };
	  % incremental definition of boundshape
	  \foreach \cnt in {0, 1, ..., \nbsteps}{
	    \path let \p1=(l \cnt), \p2=(r \cnt) in
	    \pgfextra{
	      \pgfmathsetmacro{\start}{\x1}
	      \pgfmathsetmacro{\len}{\x2-\x1}
	      \pgfmathsetmacro{\ypos}{\cnt/\nbsteps*(\ystart - \yending)}
	      {\let\\=\relax \xdef\boundshape{\boundshape\\{\ypos}t{\start}{\len}}}
	      \pgfmathsetmacro{\xmin}{(\xmin < \start) ? \xmin : \start}
	      \xdef\xmin{\xmin}
	      \pgfmathsetmacro{\xmax}{(\xmax > \start + \len) ? \xmax : \start + \len}
	      \xdef\xmax{\xmax}
	    };
	  }
	  % draw the node with text in a shapepar
	  \pgfmathsetmacro{\ymax}{\ystart - \yending}
	  {\let\\=\relax \xdef\boundshape{\boundshape\\{\ymax}e{0}}}
	  \node[#1, text width=\xmax pt - \xmin pt, align=flush left,
	  anchor=north west, inner sep=0]
	  at (mybb.north west -| \xmin pt, 0)
	  {\Shapepar[1pt]{\boundshape}#6\par};
	}
	
	\begin{document}%
	\begin{tikzpicture}
	  \begin{scope}[yshift=-22cm] % third example
	    \footnotesize
	    \def\radius{3.1}
	    \def\pathone{(3,0)
	      arc(90:225:\radius)
	      arc (45:-45:\radius/2.415)
	      arc(135:270:\radius)}
	    \def\pathtwo{(3,-4*\radius)
	      arc(-90:0:\radius)
	      arc(180:90:\radius)
	      arc(270:180:\radius)
	      arc(0:90:\radius)}
	    \fill[top color=lime, bottom color=orange, middle color=yellow, draw=white]
	    \pathone -- \pathtwo -- cycle;
	    \shapeparnode[text=black, font=\footnotesize]
	      {2em}{1em}{\pathone}{\pathtwo}{\blindtext[2]}%
	    %\draw[orange] \pathone;
	    %\draw[orange] \pathtwo;
	  \end{scope}
	\end{tikzpicture}
	\end{document}
snippet beamer tex-workflow
	\documentclass{beamer}
	
	\usepackage[latin1]{inputenc}
	\usepackage{times}
	\usepackage{tikz}
	
	\usepackage{verbatim}
	\usetikzlibrary{arrows,shapes}
	
	
	\begin{document}
	\begin{comment}
	:Title: The TeX work flow
	:Slug: tex-workflow
	:Tags: Beamer, Diagrams
	:Use page: 6
	
	I spotted this well-known diagram of the TeX work flow in [1]_, where it was used to 
	illustrate when a step-by-step presentation technique is appropriate. With Beamer 
	and TikZ it is quite easy to gradually draw a diagram, since the ``\path`` construct
	is overlay aware.  Download the PDF to see it in action.
	
	.. [1] Veytsmann, B. (2006). `Design of Presentations: Notes on
	       Principles and LaTeX Implementation`__. *The PracTeX Journal*, 4
	
	.. __: http://www.tug.org/pracjourn/2006-4/veytsman-design/
	\end{comment}
	
	\begin{frame}
	\frametitle{The \TeX\ work flow}
	
	
	\tikzstyle{format} = [draw, thin, fill=blue!20]
	\tikzstyle{medium} = [ellipse, draw, thin, fill=green!20, minimum height=2.5em]
	
	\begin{figure}
	\begin{tikzpicture}[node distance=3cm, auto,>=latex', thick]
	    % We need to set at bounding box first. Otherwise the diagram
	    % will change position for each frame.
	    \path[use as bounding box] (-1,0) rectangle (10,-2);
	    \path[->]<1-> node[format] (tex) {.tex file};
	    \path[->]<2-> node[format, right of=tex] (dvi) {.dvi file}
	                  (tex) edge node {\TeX} (dvi);
	    \path[->]<3-> node[format, right of=dvi] (ps) {.ps file}
	                  node[medium, below of=dvi] (screen) {screen}
	                  (dvi) edge node {dvips} (ps)
	                        edge node[swap] {xdvi} (screen);
	    \path[->]<4-> node[format, right of=ps] (pdf) {.pdf file}
	                  node[medium, below of=ps] (print) {printer}
	                  (ps) edge node {ps2pdf} (pdf)
	                       edge node[swap] {gs} (screen)
	                       edge (print);
	    \path[->]<5-> (pdf) edge (screen)
	                        edge (print);
	    \path[->, draw]<6-> (tex) -- +(0,1) -| node[near start] {pdf\TeX} (pdf);
	\end{tikzpicture}
	\end{figure}
	\end{frame}
	\end{document}
snippet 3d the-3dplot-package
	%% Copyright 2009 Jeffrey D. Hein
	%
	% This work may be distributed and/or modified under the
	% conditions of the LaTeX Project Public License, either version 1.3
	% of this license or (at your option) any later version.
	% The latest version of this license is in
	%   http://www.latex-project.org/lppl.txt
	% and version 1.3 or later is part of all distributions of LaTeX
	% version 2005/12/01 or later.
	%
	% This work has the LPPL maintenance status `maintained'.
	% 
	% The Current Maintainer of this work is Jeffrey D. Hein.
	%
	% This work consists of the files 3dplot.sty and 3dplot.tex
	
	%Description
	%-----------
	%3dplot.tex - an example file demonstrating the use of the 3dplot.sty package.
	
	%Created 2009-11-07 by Jeff Hein.  Last updated: 2009-11-09
	%----------------------------------------------------------
	
	%Update Notes
	%------------
	
	%2009-11-07: Created file along with 3dplot.sty package
	
	
	\documentclass{article}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title:  The 3dplot package
	:Zip: 3dplot.sty
	
	The 3dplot package provides straightforward ways to define three-dimensional coordinate frames through which to plot in TikZ.  The user can specify the orientation of the main coordinate frame, and use standard TikZ commands and coordinates to render their tikzfigure.  A secondary coordinate frame is provided to allow rotations and translations with respect to the main coordinate frame.
	
	The 3dplot.sty package can be found at `<http://www.heinjd.com/dev/latex/3dplot/3dplot.sty>`_.
	
	Documentation for the 3dplot.sty package can be found at `<http://www.heinjd.com/dev/latex/3dplot/3dplot_documentation.pdf>`_.
	\end{comment}
	
	\usepackage{tikz}   %TikZ is required for this to work.  Make sure this exists before the next line
	
	\usepackage{3dplot} %requires 3dplot.sty to be in same directory, or in your LaTeX installation
	
	\usepackage[active,tightpage]{preview}  %generates a tightly fitting border around the work
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{2mm}
	
	\begin{document}
	
	%Angle Definitions
	%-----------------
	
	%set the plot display orientation
	%synatax: \tdplotsetdisplay{\theta_d}{\phi_d}
	\tdplotsetmaincoords{60}{110}
	
	%define polar coordinates for some vector
	%TODO: look into using 3d spherical coordinate system
	\pgfmathsetmacro{\rvec}{.8}
	\pgfmathsetmacro{\thetavec}{30}
	\pgfmathsetmacro{\phivec}{60}
	
	%start tikz picture, and use the tdplot_main_coords style to implement the display 
	%coordinate transformation provided by 3dplot
	\begin{tikzpicture}[scale=5,tdplot_main_coords]
	
	%set up some coordinates 
	%-----------------------
	\coordinate (O) at (0,0,0);
	
	%determine a coordinate (P) using (r,\theta,\phi) coordinates.  This command
	%also determines (Pxy), (Pxz), and (Pyz): the xy-, xz-, and yz-projections
	%of the point (P).
	%syntax: \tdplotsetcoord{Coordinate name without parentheses}{r}{\theta}{\phi}
	\tdplotsetcoord{P}{\rvec}{\thetavec}{\phivec}
	
	%draw figure contents
	%--------------------
	
	%draw the main coordinate system axes
	\draw[thick,->] (0,0,0) -- (1,0,0) node[anchor=north east]{$x$};
	\draw[thick,->] (0,0,0) -- (0,1,0) node[anchor=north west]{$y$};
	\draw[thick,->] (0,0,0) -- (0,0,1) node[anchor=south]{$z$};
	
	%draw a vector from origin to point (P) 
	\draw[-stealth,color=red] (O) -- (P);
	
	%draw projection on xy plane, and a connecting line
	\draw[dashed, color=red] (O) -- (Pxy);
	\draw[dashed, color=red] (P) -- (Pxy);
	
	%draw the angle \phi, and label it
	%syntax: \tdplotdrawarc[coordinate frame, draw options]{center point}{r}{angle}{label options}{label}
	\tdplotdrawarc{(O)}{0.2}{0}{\phivec}{anchor=north}{$\phi$}
	
	
	%set the rotated coordinate system so the x'-y' plane lies within the
	%"theta plane" of the main coordinate system
	%syntax: \tdplotsetthetaplanecoords{\phi}
	\tdplotsetthetaplanecoords{\phivec}
	
	%draw theta arc and label, using rotated coordinate system
	\tdplotdrawarc[tdplot_rotated_coords]{(0,0,0)}{0.5}{0}{\thetavec}{anchor=south west}{$\theta$}
	
	%draw some dashed arcs, demonstrating direct arc drawing
	\draw[dashed,tdplot_rotated_coords] (\rvec,0,0) arc (0:90:\rvec);
	\draw[dashed] (\rvec,0,0) arc (0:90:\rvec);
	
	%set the rotated coordinate definition within display using a translation
	%coordinate and Euler angles in the "z(\alpha)y(\beta)z(\gamma)" euler rotation convention
	%syntax: \tdplotsetrotatedcoords{\alpha}{\beta}{\gamma}
	\tdplotsetrotatedcoords{\phivec}{\thetavec}{0}
	
	%translate the rotated coordinate system
	%syntax: \tdplotsetrotatedcoordsorigin{point}
	\tdplotsetrotatedcoordsorigin{(P)}
	
	%use the tdplot_rotated_coords style to work in the rotated, translated coordinate frame
	\draw[thick,tdplot_rotated_coords,->] (0,0,0) -- (.5,0,0) node[anchor=north west]{$x'$};
	\draw[thick,tdplot_rotated_coords,->] (0,0,0) -- (0,.5,0) node[anchor=west]{$y'$};
	\draw[thick,tdplot_rotated_coords,->] (0,0,0) -- (0,0,.5) node[anchor=south]{$z'$};
	
	%WARNING:  coordinates defined by the \coordinate command (eg. (O), (P), etc.)
	%cannot be used in rotated coordinate frames.  Use only literal coordinates.  
	
	%draw some vector, and its projection, in the rotated coordinate frame
	\draw[-stealth,color=blue,tdplot_rotated_coords] (0,0,0) -- (.2,.2,.2);
	\draw[dashed,color=blue,tdplot_rotated_coords] (0,0,0) -- (.2,.2,0);
	\draw[dashed,color=blue,tdplot_rotated_coords] (.2,.2,0) -- (.2,.2,.2);
	
	%show its phi arc and label
	\tdplotdrawarc[tdplot_rotated_coords,color=blue]{(0,0,0)}{0.2}{0}{45}{anchor=north west,color=black}{$\phi'$}
	
	%change the rotated coordinate frame so that it lies in its theta plane.
	%Note that this overwrites the original rotated coordinate frame
	%syntax: \tdplotsetrotatedthetaplanecoords{\phi'}
	\tdplotsetrotatedthetaplanecoords{45}
	
	%draw theta arc and label
	\tdplotdrawarc[tdplot_rotated_coords,color=blue]{(0,0,0)}{0.2}{0}{55}{anchor=south west,color=black}{$\theta'$}
	
	\end{tikzpicture}
	
	\end{document}
snippet olympic the-olympic-rings
	% Olympic rings
	% Author: Paul Gaborit
	\documentclass[a4paper]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,floats,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{document}
	
	\begin{comment}
	:Title: The Olympic rings
	
	\end{comment}
	
	
	\begin{tikzpicture}
	 \definecolor{r1}{RGB}{0,129,188}
	 \definecolor{r2}{RGB}{252,177,49}
	 \definecolor{r3}{RGB}{35,34,35}
	 \definecolor{r4}{RGB}{0,157,87}
	 \definecolor{r5}{RGB}{238,50,78}
	 \begin{scope}
	   \clip (-6,2) rectangle (6,-.9);
	   \foreach \col/\xp/\yp in {
	     r5/4/0, r4/2/-1.8, r3/0/0,
	     r2/-2/-1.8, r1/-4/0
	   } {
	     \path[draw=white,line width=.08cm,
	     fill=\col,even odd rule]
	     (\xp, \yp) circle (1.9cm)
	     (\xp, \yp) circle (1.5cm);
	   }
	 \end{scope}
	 \begin{scope}
	   \clip (-6,-.9) rectangle (6,-3.8);
	   \foreach \col/\xp/\yp in {
	     r1/-4/0, r2/-2/-1.8, r3/0/0,
	     r4/2/-1.8, r5/4/0
	   } {
	     \path[draw=white,line width=.08cm,
	     fill=\col,even odd rule]
	     (\xp, \yp) circle (1.9cm)
	     (\xp, \yp) circle (1.5cm);
	   }
	 \end{scope}
	\end{tikzpicture}
	\end{document}
snippet diagrams the-perrin-jablonski-diagram
	% The Perrin - Jablonski diagram
	% Germain Salvato-Vallverdu - mai 2009
	% http://germain.salvato-vallverdu.perso.sfr.fr
	
	% % % technical area
	% chemistry
	% physics
	
	% % % short description
	% The Perrin - Jablonski diagram is convenient for
	% visualizing in a simple way, all possible photophysical processes
	% in molecular system.
	
	\documentclass[11pt,a4paper]{article}
	\usepackage[utf8]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage[francais]{babel}
	\usepackage[top=3cm,left=0cm,right=0cm,bottom=3cm]{geometry}
	
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: The Perrin - Jablonski diagram
	
	The Perrin - Jablonski diagram is convenient for
	visualizing in a simple way, all possible photophysical processes
	in molecular system.
	
	\end{comment}
	
	% shadows only for title
	\usetikzlibrary{decorations.pathmorphing,shadows} 
	
	\usepackage{hyperref}
	\hypersetup{%
	pdfauthor={Germain Salvato-Vallverdu},%
	pdftitle={Perrin - Jablonski diagram},% 
	pdfkeywords={Tikz,latex,Conditions périodiques aux limites,boundaries condition,simulation},%
	pdfcreator={PDFLaTeX},%
	pdfproducer={PDFLaTeX},%
	}
	
	\title{Perrin - Jablonski diagram}
	\author{Germain Salvato-Vallverdu}
	
	\pagestyle{empty}
	
	\begin{document}
	\sffamily
	
	% colors
	\definecolor{turquoise}{rgb}{0 0.41 0.41}
	\definecolor{rouge}{rgb}{0.79 0.0 0.1}
	\definecolor{vert}{rgb}{0.15 0.4 0.1}
	\definecolor{mauve}{rgb}{0.6 0.4 0.8}
	\definecolor{violet}{rgb}{0.58 0. 0.41}
	\definecolor{orange}{rgb}{0.8 0.4 0.2}
	\definecolor{bleu}{rgb}{0.39, 0.58, 0.93}
	
	\begin{preview}
	\begin{center}
	
	\begin{tikzpicture}
	\begin{huge}
	    \node[at={(0,0)},text=bleu]{\bfseries Perrin -- Jablonski diagram};
	    \node[at={(0,0)},above,yscale=-1,scope fading=south,
	    opacity=0.5,text=bleu]{\bfseries Perrin -- Jablonski diagram};
	\end{huge}
	\end{tikzpicture}
	
	\vspace{1cm}
	
	\begin{tikzpicture}
	
	    % styles
	    \tikzstyle{elec} = [line width=2pt,draw=black!80]
	    \tikzstyle{vib} = [thick,draw=black!30]
	    \tikzstyle{trans} = [line width=2pt,->]
	    \tikzstyle{transCI} = [trans,dashed,draw=vert]
	    \tikzstyle{transCS} = [trans,dashed,draw=violet]
	    \tikzstyle{relax} = [draw=orange,ultra thick,decorate,decoration=snake]
	    \tikzstyle{rv} = [rotate=90,text=orange,pos=0.5,yshift=3mm]
	
	    % fondamental
	    \path[elec] (0,0)  -- ++ (14,0)
	        node[below,pos=0.5,yshift=-1mm] {\large Ground state $S_0$};
	    \path[vib] (0,0.2) -- ++ (14,0);
	    \path[vib] (0,0.4) -- ++ (13,0);
	    \foreach \i in {1,2,...,30} {
	        \path[vib] (0,0.4 + \i*0.2) -- ++ ({2 + 10*exp(-0.2*\i)},0);
	    }
	
	    % T1
	    \path[elec] (11,4) -- ++ (3,0) node[anchor=south west] {\large $T_1$};
	    \foreach \i in {1,2,...,6} {
	        \path[vib] (11,4 + \i*0.2) -- ++ (3,0);
	    }
	
	    % S1
	    \path[elec] (4,5) node[anchor=south east] {\large $S_1$} -- ++ (5,0);
	    \foreach \i in {1,2,...,6} {
	        \path[vib] (4,5 + \i*0.2) -- ++ (5,0);
	    }
	    \foreach \i in {1,2,...,12} {
	        \path[vib] ({7.5 - 1*exp(-0.3*\i)},6.2+\i*0.2) -- (9,6.2+\i*0.2);
	    }
	
	    % S2
	    \path[elec] (4,8) node[anchor=south east] {\large $S_2$} -- ++ (2,0);
	    \foreach \i in {1,2,...,6} {
	        \path[vib] (4,8 + \i*0.2) -- ++ (2,0);
	    }
	
	    % absorption
	    \path[trans,draw=turquoise] (4.5,0) -- ++(0,9)
	        node[rotate=90,pos=0.35,text=turquoise,yshift=-3mm] {\large Absorption};
	
	    % fluo
	    \path[trans,draw=rouge](7,5) -- ++(0,-4.4)
	        node[rotate=90,pos=0.5,text=rouge,yshift=-3mm] {\large Fluorescence};
	
	    % phosphorescence
	    \path[trans,draw=mauve] (13,4) -- ++(0,-3.4)
	        node[rotate=90,pos=0.5,text=mauve,yshift=-3mm] {\large Phosphorescence};
	
	    % Conversion interne
	    \path[transCI] (4,5) -- ++(-1.9,0) node[below,pos=0.5,text=vert] {\large IC};
	    \path[transCI] (6,8) -- ++(1.3,0)  node[above,pos=0.5,text=vert]  {\large IC};
	
	    % Croisement intersysteme
	    \path[transCS] (9,5)  -- ++(2,0)    node[below,pos=0.5,text=violet] {\large ISC};
	    \path[transCS] (11,4) -- ++(-2.5,0) node[below,pos=0.5,text=violet] {\large ISC};
	
	    % relaxation vib
	    \path[relax] (5.5,8.8) -- ++(0,-0.8) node[rv] {\textbf{VR}};
	    \path[relax] (8,8)     -- ++(0,-3)   node[rv] {\textbf{VR}};
	    \path[relax] (1,5)     -- ++(0,-5)   node[rv] {\textbf{VR}};
	    \path[relax] (11.5,5)  -- ++(0,-1)   node[rv] {\textbf{VR}};
	
	\end{tikzpicture}
	
	\end{center}
	\vspace{1cm}
	
	\begin{tikzpicture}
	    \node[at={(0,0)},text=bleu]{\bfseries Legend};
	    \node[at={(0,0)},above,yscale=-1,scope fading=south,
	    opacity=0.5,text=bleu]{\bfseries Legend};
	\end{tikzpicture}
	
	\begin{itemize}
	    \item[] \tikz {\path[line width=2pt,->,dashed,draw=vert] 
	        (0,0) -- (1,0) node[above,pos=0.5,text=vert] {IC};} Internal Conversion,
	        $S_i\,\longrightarrow\,S_j$ non radiative transition.
	
	    \item[] \tikz {\path[line width=2pt,->,dashed,draw=violet] 
	        (0,0) -- (1,0) node[above,pos=0.5,text=violet] {ISC};} InterSystem Crossing,
	        $S_i\,\longrightarrow\,T_j$ non radiative transition.
	
	    \item[] \tikz {\path[line width=2pt,draw=orange,ultra thick,
	        decorate,decoration=snake] (0,0) -- (1,0) node[above,pos=0.5,text=orange] {RV};} 
	        Vibrationnal Relaxation.
	\end{itemize}
	\end{preview}
	\end{document}
snippet annotations three-link-annotated
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{patterns}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Annotated manipulator
	:Slug: three-link-annotated
	:Tags: Annotations, Physics & chemistry
	
	This example shows how you can annotate a technical drawing.
	The three link manipulator is the same as `another example`_ in the gallery.
	I've used macros extensively to avoid duplicating code.
	
	.. _another example: http://www.fauskes.net/pgftikzexamples/three-link-manipulator/
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	% Note. This illustration was originally made with PSTricks. Conversion to
	% PGF/TikZ was straightforward. However, I could probably have made it more
	% elegant.
	
	% Define a variable as a length
	% Input:
	%   #1 Variable name
	%   #2 Value
	%
	% Example:
	%   \nvar{\varx}{2cm}
	\newcommand{\nvar}[2]{%
	    \newlength{#1}
	    \setlength{#1}{#2}
	}
	
	% Define a few constants for drawing
	\nvar{\dg}{0.3cm}
	\def\dw{0.25}\def\dh{0.5}
	\nvar{\ddx}{1.5cm}
	
	% Define commands for links, joints and such
	\def\link{\draw [double distance=1.5mm, very thick] (0,0)--}
	\def\joint{%
	    \filldraw [fill=white] (0,0) circle (5pt);
	    \fill[black] circle (2pt);
	}
	\def\grip{%
	    \draw[ultra thick](0cm,\dg)--(0cm,-\dg);
	    \fill (0cm, 0.5\dg)+(0cm,1.5pt) -- +(0.6\dg,0cm) -- +(0pt,-1.5pt);
	    \fill (0cm, -0.5\dg)+(0cm,1.5pt) -- +(0.6\dg,0cm) -- +(0pt,-1.5pt);
	}
	\def\robotbase{%
	    \draw[rounded corners=8pt] (-\dw,-\dh)-- (-\dw, 0) --
	        (0,\dh)--(\dw,0)--(\dw,-\dh);
	    \draw (-0.5,-\dh)-- (0.5,-\dh);
	    \fill[pattern=north east lines] (-0.5,-1) rectangle (0.5,-\dh);
	}
	
	% Draw an angle annotation
	% Input:
	%   #1 Angle
	%   #2 Label
	% Example:
	%   \angann{30}{$\theta_1$}
	\newcommand{\angann}[2]{%
	    \begin{scope}[red]
	    \draw [dashed, red] (0,0) -- (1.2\ddx,0pt);
	    \draw [->, shorten >=3.5pt] (\ddx,0pt) arc (0:#1:\ddx);
	    % Unfortunately automatic node placement on an arc is not supported yet.
	    % We therefore have to compute an appropriate coordinate ourselves.
	    \node at (#1/2-2:\ddx+8pt) {#2};
	    \end{scope}
	}
	
	% Draw line annotation
	% Input:
	%   #1 Line offset (optional)
	%   #2 Line angle
	%   #3 Line length
	%   #5 Line label
	% Example:
	%   \lineann[1]{30}{2}{$L_1$}
	\newcommand{\lineann}[4][0.5]{%
	    \begin{scope}[rotate=#2, blue,inner sep=2pt]
	        \draw[dashed, blue!40] (0,0) -- +(0,#1)
	            node [coordinate, near end] (a) {};
	        \draw[dashed, blue!40] (#3,0) -- +(0,#1)
	            node [coordinate, near end] (b) {};
	        \draw[|<->|] (a) -- node[fill=white] {#4} (b);
	    \end{scope}
	}
	
	% Define the kinematic parameters of the three link manipulator.
	\def\thetaone{30}
	\def\Lone{2}
	\def\thetatwo{30}
	\def\Ltwo{2}
	\def\thetathree{30}
	\def\Lthree{1}
	
	\begin{tikzpicture}
	    \robotbase
	    \angann{\thetaone}{$\theta_1$}
	    \lineann[0.7]{\thetaone}{\Lone}{$L_1$}
	    \link(\thetaone:\Lone);
	    \joint
	    \begin{scope}[shift=(\thetaone:\Lone), rotate=\thetaone]
	        \angann{\thetatwo}{$\theta_2$}
	        \lineann[-1.5]{\thetatwo}{\Ltwo}{$L_2$}
	        \link(\thetatwo:\Ltwo);
	        \joint
	        \begin{scope}[shift=(\thetatwo:\Ltwo), rotate=\thetatwo]
	            \angann{\thetathree}{$\theta_3$}
	            \lineann[0.7]{\thetathree}{\Lthree}{$L_3$}
	            \draw [dashed, red,rotate=\thetathree] (0,0) -- (1.2\ddx,0pt);
	            \link(\thetathree:\Lthree);
	            \joint
	            \begin{scope}[shift=(\thetathree:\Lthree), rotate=\thetathree]
	                \grip
	            \end{scope}
	        \end{scope}
	    \end{scope}
	\end{tikzpicture}
	
	
	\end{document}
snippet macros three-link-manipulator
	\documentclass{article}
	
	\usepackage[latin1]{inputenc}
	\usepackage{tikz}
	\usetikzlibrary{patterns}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Three link manipulator
	:Tags: Macros, Physics & chemistry
	
	One of the nicest things about programming illustrations, is that it's easy
	to change parameters. In this example I've parameterized a three link manipulator
	using a macro. I can then draw the manipulator in different positions with just one
	line of code.
	
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	% Note. This illustration was originally made with PSTricks. Conversion to
	% PGF/TikZ was straightforward. However, I could probably have made it more
	% elegant.
	
	% Define a variable as a length
	\newcommand{\nvar}[2]{%
	    \newlength{#1}
	    \setlength{#1}{#2}
	}
	
	% Define a few constants for drawing
	\nvar{\dg}{0.3cm}
	\def\dw{0.25}\def\dh{0.5}
	% Define commands for links, joints and such
	\def\link{\draw [double distance=1.5mm, very thick] (0,0)--}
	\def\joint{%
	    \filldraw [fill=white] (0,0) circle (5pt);
	    \fill[black] circle (2pt);
	}
	\def\grip{%
	    \draw[ultra thick](0cm,\dg)--(0cm,-\dg);
	    \fill (0cm, 0.5\dg)+(0cm,1.5pt) -- +(0.6\dg,0cm) -- +(0pt,-1.5pt);
	    \fill (0cm, -0.5\dg)+(0cm,1.5pt) -- +(0.6\dg,0cm) -- +(0pt,-1.5pt);
	}
	
	\def\robotbase{%
	    \draw[rounded corners=8pt] (-\dw,-\dh)-- (-\dw, 0) --
	        (0,\dh)--(\dw,0)--(\dw,-\dh);
	    \draw (-0.5,-\dh)-- (0.5,-\dh);
	    \fill[pattern=north east lines] (-0.5,-1) rectangle (0.5,-\dh);
	}
	
	% This macro draws a three link manipulator.
	% Input parameters:
	%   #1 theta_1
	%   #2 L_1
	%   #3 theta_2
	%   #4 L_2
	%   #5 theta_3
	%   #6 L_3
	%
	% Example:
	%   \threelink{60}{2}{-70}{2}{30}{1}
	\newcommand{\threelink}[6]{%
	    \robotbase
	    \link(#1:#2);
	    \joint
	    \begin{scope}[shift=(#1:#2), rotate=#1]
	        \link(#3:#4);
	        \joint
	        \begin{scope}[shift=(#3:#4), rotate=#3]
	            \link(#5:#6);
	            \joint
	            \begin{scope}[shift=(#5:#6), rotate=#5]
	                \grip
	            \end{scope}
	        \end{scope}
	    \end{scope}
	}
	
	\begin{tikzpicture}
	    \threelink{60}{2}{-90}{2}{-60}{1}
	    \begin{scope}[xshift=4cm]
	        \threelink{60}{2}{-110}{2}{90}{1}
	    \end{scope}
	    \begin{scope}[shift={(2cm, -3.2cm)}]
	        % Illustration of two different solutions to the inverse kinematic
	        % problem.
	        \begin{scope}[dashed]
	            \threelink{-10}{2}{70}{2}{-40}{1}
	        \end{scope}
	        \threelink{60}{2}{-70}{2}{30}{1}
	    \end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet electrical throttle-valve
	% Model of a throttle valve that is used inside an internal
	% combustion engine. The mechatronic system is modelled
	% by simplified subsystems that allow an easier description.
	% Was used in a student project at technical university Berlin
	%
	% Author: Mathias Busse, Germany (busse@teco.edu)
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Model of a throttle valve
	:Tags: Electrical Engineering;Circuitikz
	:Author: Mathias Busse
	:Slug: throttle-valve
	
	Model of a throttle valve that is used inside an internal
	combustion engine. The mechatronic system is modelled
	by simplified subsystems that allow an easier description.
	Was used in a student project at technical university Berlin.
	
	Author: Mathias Busse, Germany (busse@teco.edu)
	\end{comment}
	\usepackage[european]{circuitikz}
	\usetikzlibrary{decorations.pathreplacing}
	\begin{document}
	
	\begin{circuitikz}
	%	\draw [help lines] (-1,-2) grid (12,5);
	
		% electrical equivalent circuit
		\draw (0,3) to[V, v_=$U_R$] (0,0);
		\draw (0,3) to[R, i>^=$I_A$, l=$R_A$] (3,3);
		\draw (3,3) to[L, l=$L_A$] (4,3);
	
		\draw (4,3) -- (5,3);
		\draw (5,3) to[V, v_=$U_i$] (5,0);
		\draw (0,0) -- (5,0);
	
		% drive
		\draw[fill=black] (4.85,0.85) rectangle (5.15,2.15);
		\draw[fill=white] (5,1.5) ellipse (.45 and .45);
	
		% transmission gear one
		\draw[fill=black!50] (6.7,1.49)
			ellipse (.08 and 0.33);
		\draw[fill=black!50, color=black!50] (6.7,1.82)
			rectangle (6.5,1.16);
		\draw[fill=white] (6.5,1.49)
			ellipse (.08 and 0.33);
		\draw (6.5,1.82) -- (6.7,1.82);
		\draw (6.5,1.16) -- (6.7,1.16);
	
		% shaft drive -> transmission
		\draw[fill=black] (5.45,1.45) rectangle (6.5,1.55);
	
		% momentum arrow of drive -> transmission
		\draw[line width=0.7pt,<-] (5.8,1) arc (-30:30:1);
	
		% transmission gear two
		\draw[fill=black!50] (6.7,0.40)
			ellipse (.13 and 0.67);
		\draw[fill=black!50, color=black!50] (6.7,1.07)
			rectangle (6.5,-0.27);
		\draw[fill=white] (6.5,0.40)
			ellipse (.13 and 0.67);
		\draw (6.5,1.07) -- (6.7,1.07);
		\draw (6.5,-0.27) -- (6.7,-0.27);
	
		% transmission gear three
		\draw[fill=black!50] (6.85,1.14)
			ellipse (.08 and 0.3);
		\draw[fill=black!50, color=black!50] (6.85,1.44)
			rectangle (6.65,0.84);
		\draw[fill=white] (6.65,1.14)
			ellipse (.08 and 0.3);
		\draw (6.65,1.44) -- (6.86,1.44);
		\draw (6.65,0.84) -- (6.86,0.84);
	
		% transmission shaft from gear two to moment of inertia
		\draw[fill=black] (6.84,0.38) rectangle (7.8,0.48);
	
		% moment of inertia
		\draw[fill=white] (8.5,0.42)
			ellipse (.15 and 0.4);
		\draw[fill=white, color=white] (7.9, 0.82)
			rectangle (8.49, 0.02);
		\draw (7.8,0.42) ellipse (.15 and 0.4);
		\draw (7.8,0.82) -- (8.5,0.82);
		\draw (7.8,0.02) -- (8.5,0.02);
	
		% momentum arrow between transmission and moment of inertia
		\draw[line width=0.7pt,<-] (7.2,-0.07) arc (-30:30:1);
	
		% shaft right from moment of inertia
		\draw[fill=black] (8.65,0.38) rectangle (10.9,0.48);
	
		% brake shoe
		\draw[fill=black] (9.55,{0.53+0.00})
			-- +(-0.2,0.3) -- +(0.5,0.3) -- +(0.3,0.0);
		\draw[fill=black] (9.55,{0.33-0.00})
			-- +(-0.2,-0.3) -- +(0.5,-0.3) -- +(0.3,0.0);
	
		% momentum arrow (left hand side of brake shoe)
		\draw[line width=0.7pt,->] (9.05,-0.07) arc (-30:30:1);
	
		% spring
		\draw [domain=0:{-4.5*pi}, variable=\t, samples=200,
			   line width=1pt]
			plot( {10.52+0.4 + 0.15*(\t*0.1)*cos(\t r)},
				  {0.40 + 0.15*(\t*0.3)*sin(\t r)});
	
		% momentum arrow (left hand side of spring)
		\draw[line width=0.7pt,->] (10.4,-0.07) arc (-30:30:1);
	
		% spring wall mount
		\draw[fill=black]
			(10.9,{1.03-0.2}) rectangle (10.95,{1.03+0.2});
		\foreach \x in {0,...,5}
		\draw[line width=0.8pt]
			({10.55+0.4},{1.03-0.18+\x*0.07}) -- +(0.1,0.05);
	
		% descriptions inside graphic
		\draw (5.85,2.2) node {$\omega_A, M_A$};
		\draw (7.29,1.11) node {$\omega_K$};
		\draw (8.25,0.44) node {$J$};
		\draw (9.05,1.15) node {$M_R$};
		\draw (10.4,1.15) node {$M_F$};
		\draw (6.6,-0.5) node {$v$};
	
		% descriptions of subsystems under graphic
		\draw [decorate,decoration={brace,amplitude=10pt},
				xshift=0pt, yshift=0pt]
				(5.5,-0.75) -- (-0.5,-0.75)
				node[black,midway,yshift=-20pt]
					{electromagnetic subsystem};
		\draw [decorate,decoration={brace,amplitude=10pt},
				xshift=0pt, yshift=0pt]
				(11.4,-0.75) -- (6,-0.75)
				node[black,midway,yshift=-20pt]
					{mechanical subsystem};
	\end{circuitikz}
	
	\end{document}
snippet tikzdevice tikzdevice-demo
	% tikzDevice demonstration
	% Author: Cameron Bracken
	\documentclass{article}
	\usepackage{tikz}
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{0pt}%
	%%%>
	
	\begin{comment}
	:Title: tikzDevice - TikZ output from R
	:Slug: tikzdevice-demo
	:Grid: 2x1
	
	An example of output from the R package tikzDevice_ .  R plotting command are output at a very low level as TikZ commands.  tikzDevice combines the computational power of R with the graphical beauty of and font consistancy of TikZ.  For details please see the vignette available with the package, available here__.
	
	.. __: http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/*checkout*/pkg/inst/doc/tikzDevice.pdf?&root=tikzdevice
	.. _tikzDevice: http://r-forge.r-project.org/projects/tikzdevice/
	
	The following R code was used to generate the first plot::
	
		#Load the tikzDevice package, if you dont have it, install with: 
		#  install.packages("tikzDevice", repos="http://R-Forge.R-project.org")
		require(tikzDevice)
		
		# The following wwill create normal.tex in the working 
		# directory the first time this is run it may take a long time because the
		# process of calulating string widths for proper placement is 
		# computationally intensive, the results will get cached for the current R 
		# session or will get permenantly cached if you set 
		# options( tikzMetricsDictionary='/path/to/dictionary' ) which will be
		# created if it does not exist.  Also if the flag standAlone is not set to
		# TRUE then a file is created which can be included with \include{}
		tikz('normal.tex', standAlone = TRUE, width=5, height=5)
		
		# Normal distribution curve
		x <- seq(-4.5,4.5,length.out=100)
		y <- dnorm(x)
		
		# Integration points
		xi <- seq(-2,2,length.out=30)
		yi <- dnorm(xi)
		
		# plot the curve
		plot(x,y,type='l',col='blue',ylab='$p(x)$',xlab='$x$')
		# plot the panels
		lines(xi,yi,type='s')
		lines(range(xi),c(0,0))
		lines(xi,yi,type='h')
		
		#Add some equations as labels 
		title(main="$p(x)=\\frac{1}{\\sqrt{2\\pi}}e^{-\\frac{x^2}{2}}$")
		int <- integrate(dnorm,min(xi),max(xi),subdivisions=length(xi))
		text(2.8, 0.3, paste("\\small$\\displaystyle\\int_{", min(xi), 
		    "}^{", max(xi), "}p(x)dx\\approx", round(int[['value']],3), 
		    '$', sep=''))
		
		#Close the device
		dev.off()
		
		# Compile the tex file
		tools::texi2dvi('normal.tex',pdf=T)
		
		# optionally view it:
		# system(paste(getOption('pdfviewer'),'normal.pdf'))
	
	The second plot::
	
		#Load the tikzDevice package, if you dont have it, install with: 
		#  install.packages("tikzDevice", repos="http://R-Forge.R-project.org")
		require(tikzDevice)
		
		#Names of LaTeX symbols
		syms <- c('alpha','theta','tau','beta','vartheta','pi','upsilon','gamma',
		          'varpi','phi','delta','kappa','rho','varphi','epsilon','lambda',
		          'varrho','chi','varepsilon','mu','sigma','psi','zeta','nu',
		          'varsigma','omega','eta','xi','Gamma','Lambda','Sigma','Psi',
		          'Delta', 'Xi','Upsilon','Omega','Theta','Pi','Phi')
		len <- length(syms)
		
		# random colors (red, green, blue)
		r <- round(runif(len), 2)
		g <- round(runif(len), 2)
		b <- round(runif(len), 2)
		
		# calculate dummy data points
		x <- runif(50,1,10)
		y <- x + rnorm(length(x))
		fit <- lm(y ~ x)
		rsq <- summary(fit)$r.squared
		rsq <- signif(rsq,4)
		
		# plot the result, will create symbol-regression.tex in the working 
		# directory the first time this is run it may take a long time because the
		# process of calulating string widts for proper placement is 
		# computationally intensive, the results will get cached for the current R 
		# session or will get permenantly cached if you set 
		# options( tikzMetricsDictionary='/path/to/dictionary' ) which will be
		# created if it does not exist.  Also if the flag standAlone is not set to
		# TRUE then a file is created which can be included with \include{}
		tikz('symbol-regression.tex',standAlone = TRUE, width = 5,height = 5)
		
		# plot the box and the regression line
		plot(x, y, type='n', xlab='', ylab='')
		box()
		abline(fit)
		
		# add the latex symbols as points
		text(x, y, paste('\\color[rgb]{',r,',',g,',',b,'}{$\\',syms,'$}',sep=''))
		# Display the correlation coefficient
		mtext(paste("Linear model: $R^{2}=",rsq,"$" ),line=0.5)
		# and the equation of the line
		legend('bottomright', legend = paste("$y = ", round(coef(fit)[2],3), 
		    'x +', round(coef(fit)[1],3), '$', sep=''), bty= 'n')
		
		# Close the device
		dev.off()
		
		# Compile the tex file
		tools::texi2dvi('symbol-regression.tex',pdf=T)
		# optionally view it:
		# system(paste(getOption('pdfviewer'),'symbol-regression.pdf'))
	
	
	\end{comment}
	
	\begin{document}
	
	% Created by tikzDevice
	\begin{tikzpicture}[x=1pt,y=1pt]
	\draw[color=white,opacity=0] (0,0) rectangle (361.35,361.35);
	\begin{scope}
	\path[clip] ( 49.20, 61.20) rectangle (336.15,312.15);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,1.00}
	\definecolor[named]{fillColor}{rgb}{1.00,1.00,1.00}
	
	\draw[color=drawColor,line cap=round,line join=round,] ( 59.83, 70.49) --
		( 62.51, 70.50) --
		( 65.20, 70.51) --
		( 67.88, 70.52) --
		( 70.56, 70.53) --
		( 73.25, 70.55) --
		( 75.93, 70.58) --
		( 78.61, 70.62) --
		( 81.30, 70.67) --
		( 83.98, 70.75) --
		( 86.67, 70.85) --
		( 89.35, 70.99) --
		( 92.03, 71.18) --
		( 94.72, 71.43) --
		( 97.40, 71.76) --
		(100.08, 72.19) --
		(102.77, 72.74) --
		(105.45, 73.44) --
		(108.14, 74.34) --
		(110.82, 75.46) --
		(113.50, 76.87) --
		(116.19, 78.59) --
		(118.87, 80.71) --
		(121.55, 83.26) --
		(124.24, 86.32) --
		(126.92, 89.96) --
		(129.61, 94.23) --
		(132.29, 99.20) --
		(134.97,104.93) --
		(137.66,111.45) --
		(140.34,118.82) --
		(143.03,127.03) --
		(145.71,136.10) --
		(148.39,146.00) --
		(151.08,156.68) --
		(153.76,168.05) --
		(156.44,180.02) --
		(159.13,192.45) --
		(161.81,205.16) --
		(164.50,217.98) --
		(167.18,230.69) --
		(169.86,243.06) --
		(172.55,254.85) --
		(175.23,265.83) --
		(177.91,275.76) --
		(180.60,284.42) --
		(183.28,291.61) --
		(185.97,297.17) --
		(188.65,300.94) --
		(191.33,302.86) --
		(194.02,302.86) --
		(196.70,300.94) --
		(199.38,297.17) --
		(202.07,291.61) --
		(204.75,284.42) --
		(207.44,275.76) --
		(210.12,265.83) --
		(212.80,254.85) --
		(215.49,243.06) --
		(218.17,230.69) --
		(220.85,217.98) --
		(223.54,205.16) --
		(226.22,192.45) --
		(228.91,180.02) --
		(231.59,168.05) --
		(234.27,156.68) --
		(236.96,146.00) --
		(239.64,136.10) --
		(242.32,127.03) --
		(245.01,118.82) --
		(247.69,111.45) --
		(250.38,104.93) --
		(253.06, 99.20) --
		(255.74, 94.23) --
		(258.43, 89.96) --
		(261.11, 86.32) --
		(263.80, 83.26) --
		(266.48, 80.71) --
		(269.16, 78.59) --
		(271.85, 76.87) --
		(274.53, 75.46) --
		(277.21, 74.34) --
		(279.90, 73.44) --
		(282.58, 72.74) --
		(285.27, 72.19) --
		(287.95, 71.76) --
		(290.63, 71.43) --
		(293.32, 71.18) --
		(296.00, 70.99) --
		(298.68, 70.85) --
		(301.37, 70.75) --
		(304.05, 70.67) --
		(306.74, 70.62) --
		(309.42, 70.58) --
		(312.10, 70.55) --
		(314.79, 70.53) --
		(317.47, 70.52) --
		(320.15, 70.51) --
		(322.84, 70.50) --
		(325.52, 70.49);
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	\definecolor[named]{fillColor}{rgb}{1.00,1.00,1.00}
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 74.59, 61.20) -- (310.76, 61.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 74.59, 61.20) -- ( 74.59, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (133.63, 61.20) -- (133.63, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (192.68, 61.20) -- (192.68, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (251.72, 61.20) -- (251.72, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (310.76, 61.20) -- (310.76, 55.20);
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 74.59, 37.20) {-4};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (133.63, 37.20) {-2};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (192.68, 37.20) {0};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (251.72, 37.20) {2};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (310.76, 37.20) {4};
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20, 70.49) -- ( 49.20,303.71);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20, 70.49) -- ( 43.20, 70.49);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,128.79) -- ( 43.20,128.79);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,187.10) -- ( 43.20,187.10);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,245.41) -- ( 43.20,245.41);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,303.71) -- ( 43.20,303.71);
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20, 70.49) {0.0};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,128.79) {0.1};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,187.10) {0.2};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,245.41) {0.3};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,303.71) {0.4};
	
	\draw[color=drawColor,line cap=round,line join=round,fill opacity=0.00,] ( 49.20, 61.20) --
		(336.15, 61.20) --
		(336.15,312.15) --
		( 49.20,312.15) --
		( 49.20, 61.20);
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (192.68, 13.20) {$x$};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 13.20,186.67) {$p(x)$};
	\end{scope}
	\begin{scope}
	\path[clip] ( 49.20, 61.20) rectangle (336.15,312.15);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	\definecolor[named]{fillColor}{rgb}{1.00,1.00,1.00}
	
	\draw[color=drawColor,line cap=round,line join=round,] (133.63,101.97) --
		(137.70,101.97) --
		(137.70,111.57) --
		(141.78,111.57) --
		(141.78,123.10) --
		(145.85,123.10) --
		(145.85,136.60) --
		(149.92,136.60) --
		(149.92,151.99) --
		(153.99,151.99) --
		(153.99,169.06) --
		(158.06,169.06) --
		(158.06,187.48) --
		(162.14,187.48) --
		(162.14,206.71) --
		(166.21,206.71) --
		(166.21,226.11) --
		(170.28,226.11) --
		(170.28,244.93) --
		(174.35,244.93) --
		(174.35,262.34) --
		(178.42,262.34) --
		(178.42,277.51) --
		(182.50,277.51) --
		(182.50,289.67) --
		(186.57,289.67) --
		(186.57,298.17) --
		(190.64,298.17) --
		(190.64,302.54) --
		(194.71,302.54) --
		(194.71,302.54) --
		(198.78,302.54) --
		(198.78,298.17) --
		(202.85,298.17) --
		(202.85,289.67) --
		(206.93,289.67) --
		(206.93,277.51) --
		(211.00,277.51) --
		(211.00,262.34) --
		(215.07,262.34) --
		(215.07,244.93) --
		(219.14,244.93) --
		(219.14,226.11) --
		(223.21,226.11) --
		(223.21,206.71) --
		(227.29,206.71) --
		(227.29,187.48) --
		(231.36,187.48) --
		(231.36,169.06) --
		(235.43,169.06) --
		(235.43,151.99) --
		(239.50,151.99) --
		(239.50,136.60) --
		(243.57,136.60) --
		(243.57,123.10) --
		(247.65,123.10) --
		(247.65,111.57) --
		(251.72,111.57) --
		(251.72,101.97);
	
	\draw[color=drawColor,line cap=round,line join=round,] (133.63, 70.49) --
		(251.72, 70.49);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (133.63, 70.49) -- (133.63,101.97);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (137.70, 70.49) -- (137.70,111.57);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (141.78, 70.49) -- (141.78,123.10);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (145.85, 70.49) -- (145.85,136.60);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (149.92, 70.49) -- (149.92,151.99);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (153.99, 70.49) -- (153.99,169.06);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (158.06, 70.49) -- (158.06,187.48);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (162.14, 70.49) -- (162.14,206.71);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (166.21, 70.49) -- (166.21,226.11);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (170.28, 70.49) -- (170.28,244.93);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (174.35, 70.49) -- (174.35,262.34);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (178.42, 70.49) -- (178.42,277.51);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (182.50, 70.49) -- (182.50,289.67);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (186.57, 70.49) -- (186.57,298.17);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (190.64, 70.49) -- (190.64,302.54);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (194.71, 70.49) -- (194.71,302.54);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (198.78, 70.49) -- (198.78,298.17);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (202.85, 70.49) -- (202.85,289.67);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (206.93, 70.49) -- (206.93,277.51);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (211.00, 70.49) -- (211.00,262.34);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (215.07, 70.49) -- (215.07,244.93);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (219.14, 70.49) -- (219.14,226.11);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (223.21, 70.49) -- (223.21,206.71);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (227.29, 70.49) -- (227.29,187.48);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (231.36, 70.49) -- (231.36,169.06);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (235.43, 70.49) -- (235.43,151.99);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (239.50, 70.49) -- (239.50,136.60);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (243.57, 70.49) -- (243.57,123.10);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (247.65, 70.49) -- (247.65,111.57);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (251.72, 70.49) -- (251.72,101.97);
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.20] at (192.68,332.61) {\bfseries $p(x)=\frac{1}{\sqrt{2\pi}}e^{-\frac{x^2}{2}}$};
	\end{scope}
	\begin{scope}
	\path[clip] ( 49.20, 61.20) rectangle (336.15,312.15);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.85,0.14}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (275.34,242.91) {\small$\displaystyle\int_{-2}^{2}p(x)dx\approx0.954$};
	\end{scope}
	\end{tikzpicture}
	
	% Created by tikzDevice
	\begin{tikzpicture}[x=1pt,y=1pt]
	\draw[color=white,opacity=0] (0,0) rectangle (361.35,361.35);
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	\definecolor[named]{fillColor}{rgb}{1.00,1.00,1.00}
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 85.85, 61.20) -- (333.27, 61.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 85.85, 61.20) -- ( 85.85, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (147.71, 61.20) -- (147.71, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (209.56, 61.20) -- (209.56, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (271.42, 61.20) -- (271.42, 55.20);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] (333.27, 61.20) -- (333.27, 55.20);
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 85.85, 37.20) {2};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (147.71, 37.20) {4};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (209.56, 37.20) {6};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (271.42, 37.20) {8};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (333.27, 37.20) {10};
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20, 63.12) -- ( 49.20,305.58);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20, 63.12) -- ( 43.20, 63.12);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,111.62) -- ( 43.20,111.62);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,160.11) -- ( 43.20,160.11);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,208.60) -- ( 43.20,208.60);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,257.09) -- ( 43.20,257.09);
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20,305.58) -- ( 43.20,305.58);
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20, 63.12) {0};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,111.62) {2};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,160.11) {4};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,208.60) {6};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,257.09) {8};
	
	\node[rotate= 90.00,color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 37.20,305.58) {10};
	
	\draw[color=drawColor,line cap=round,line join=round,fill opacity=0.00,] ( 49.20, 61.20) --
		(336.15, 61.20) --
		(336.15,312.15) --
		( 49.20,312.15) --
		( 49.20, 61.20);
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\draw[color=drawColor,line cap=round,line join=round,fill opacity=0.00,] ( 49.20, 61.20) --
		(336.15, 61.20) --
		(336.15,312.15) --
		( 49.20,312.15) --
		( 49.20, 61.20);
	\end{scope}
	\begin{scope}
	\path[clip] ( 49.20, 61.20) rectangle (336.15,312.15);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	\definecolor[named]{fillColor}{rgb}{1.00,1.00,1.00}
	
	\draw[color=drawColor,line cap=round,line join=round,fill=fillColor,] ( 49.20, 85.48) -- (336.15,298.11);
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (313.38,267.41) {\color[rgb]{0.95,0.37,0.61}{$\alpha$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (255.89,220.10) {\color[rgb]{0.25,0.19,0.96}{$\theta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (157.64,156.70) {\color[rgb]{0.01,0.59,0.86}{$\tau$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (252.20,252.52) {\color[rgb]{0.06,0.97,0.59}{$\beta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (266.05,264.91) {\color[rgb]{0.58,0.68,0.27}{$\vartheta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (201.46,183.96) {\color[rgb]{0.06,0.22,0.92}{$\pi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (114.32,104.15) {\color[rgb]{0.5,1,0.97}{$\upsilon$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (221.03,221.07) {\color[rgb]{0.53,0.27,0.52}{$\gamma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (122.68,113.28) {\color[rgb]{0.05,0.76,0.18}{$\varpi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (234.76,237.56) {\color[rgb]{0.38,0.06,0.67}{$\phi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (127.78,162.08) {\color[rgb]{0.64,0.74,0.08}{$\delta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (103.11,170.94) {\color[rgb]{0.17,0.29,0.42}{$\kappa$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (133.93,173.30) {\color[rgb]{0.99,0.46,0.23}{$\rho$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (283.10,299.61) {\color[rgb]{0.12,0.46,0.19}{$\varphi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 92.76,101.27) {\color[rgb]{0.07,0.1,0.6}{$\epsilon$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 78.61,141.67) {\color[rgb]{0.71,0.99,0.15}{$\lambda$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (205.33,206.44) {\color[rgb]{0.75,0.45,1}{$\varrho$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (323.48,296.47) {\color[rgb]{0.99,0.43,0.85}{$\chi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (160.05,190.05) {\color[rgb]{0.71,0.39,0.84}{$\varepsilon$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (130.35,147.26) {\color[rgb]{0.23,0.3,0.81}{$\mu$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 93.34,129.54) {\color[rgb]{0.63,0.91,0.6}{$\sigma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 63.09, 94.68) {\color[rgb]{0.73,0.06,0.34}{$\psi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (170.12,136.63) {\color[rgb]{0.83,0.34,0.23}{$\zeta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (104.12,117.92) {\color[rgb]{0.76,0.91,0.79}{$\nu$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (156.42,159.32) {\color[rgb]{0.58,0.62,0.1}{$\varsigma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (311.05,242.53) {\color[rgb]{0.87,0.23,0.31}{$\omega$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (119.32, 68.00) {\color[rgb]{0.32,0.25,0.91}{$\eta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (290.27,276.96) {\color[rgb]{0.52,0.55,0.81}{$\xi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (272.69,240.80) {\color[rgb]{0.95,0.47,0.77}{$\Gamma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (323.86,259.35) {\color[rgb]{0.19,0.33,0.29}{$\Lambda$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (316.84,300.36) {\color[rgb]{0.83,0.19,0.85}{$\Sigma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (212.44,219.81) {\color[rgb]{0.63,0.72,1}{$\Psi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 62.80, 73.28) {\color[rgb]{0.84,0.27,0.45}{$\Delta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (122.08,115.12) {\color[rgb]{0.61,0.99,0.51}{$\Xi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (282.69,260.19) {\color[rgb]{0.29,0.38,0.47}{$\Upsilon$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (325.52,278.19) {\color[rgb]{0.82,0.34,0.77}{$\Omega$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (305.39,265.82) {\color[rgb]{0.89,0.59,0.1}{$\Theta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 59.83,107.32) {\color[rgb]{0.83,0.57,0.68}{$\Pi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (221.53,206.66) {\color[rgb]{0.57,0.62,0.94}{$\Phi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (269.87,257.47) {\color[rgb]{0.95,0.37,0.61}{$\alpha$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at ( 61.81, 85.84) {\color[rgb]{0.25,0.19,0.96}{$\theta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (185.41,177.77) {\color[rgb]{0.01,0.59,0.86}{$\tau$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (133.01,153.08) {\color[rgb]{0.06,0.97,0.59}{$\beta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (174.84,173.93) {\color[rgb]{0.58,0.68,0.27}{$\vartheta$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (255.59,237.04) {\color[rgb]{0.06,0.22,0.92}{$\pi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (259.43,237.55) {\color[rgb]{0.5,1,0.97}{$\upsilon$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (299.47,266.64) {\color[rgb]{0.53,0.27,0.52}{$\gamma$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (144.59,152.66) {\color[rgb]{0.05,0.76,0.18}{$\varpi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (253.93,215.44) {\color[rgb]{0.38,0.06,0.67}{$\phi$}};
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (240.93,219.40) {\color[rgb]{0.64,0.74,0.08}{$\delta$}};
	\end{scope}
	\begin{scope}
	\path[clip] (  0.00,  0.00) rectangle (361.35,361.35);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\node[color=drawColor,anchor=base,inner sep=0pt, outer sep=0pt, scale=  1.00] at (192.67,318.15) {Linear model: $R^{2}= 0.8983 $};
	\end{scope}
	\begin{scope}
	\path[clip] ( 49.20, 61.20) rectangle (336.15,312.15);
	\definecolor[named]{drawColor}{rgb}{0.25,0.33,0.33}
	\definecolor[named]{fillColor}{rgb}{0.00,0.45,0.37}
	\definecolor[named]{drawColor}{rgb}{0.00,0.00,0.00}
	
	\node[color=drawColor,anchor=base west,inner sep=0pt, outer sep=0pt, scale=  1.00] at (249.56, 69.76) {$y = 0.945x +0.152$};
	\end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet timing tikz-timing
	% Timing Diagram using the 'tikz-timing' package (v0.5 - 2009/05/15).
	%
	% (c) Copyright 2009 - Martin Scharrer <martin@scharrer-online.de>
	%
	% This code is open source under the GPLv3 and/or the LPPL v1.3 (or later).
	% Please feel free to use, change and copy it for your own benefit.
	%
	
	\documentclass{article}
	\usepackage{tikz-timing}[2009/05/15]
	
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Timing diagram with the tikz-timing package
	:Slug: tikz-timing
	
	This example shows how to make a timing diagram with the `tikz-timing package`_. 
	This timing diagram was used by the package author in a recent work and 
	shows several clock and pulse signals. The relationship between the clock and 
	signal edges is shown using horizontal lines.
	
	Timing diagrams like this can be done using the ``tikztimingtable`` 
	environment which has the same syntax as a ``tabular`` environment with two 
	columns. The first column holds the signal name, the second one the timing 
	characters. See the `package manual`_  for detailed information about them.
	
	.. _tikz-timing package: http://www.ctan.org/tex-archive/help/Catalogue/entries/tikz-timing.html
	.. _package manual: http://www.ctan.org/tex-archive/graphics/pgf/contrib/tikz-timing/tikz-timing.pdf
	
	\end{comment}
	
	\pagestyle{empty}
	\def\degr{${}^\circ$}
	
	\newif\ifcomment
	
	% Activate the following line to compile document with comments:
	%\commenttrue
	
	\begin{document}
	
	\ifcomment
	\newcommand{\qv}[1]{`\texttt{#1}'}
	
	\title{TikZ-Timing Example}
	\author{Martin Scharrer\\martin@scharrer-online.de}
	\maketitle
	
	\section{Step-By-Step Guide}
	\subsection{Intro}
	This example shows how to make a timing diagram with the \texttt{tikz-timing} 
	package. This timing diagram was used by the package author in a recent work and 
	shows several clock and pulse signals. The relationship between the clock and 
	signal edges is shown using horizontal lines.
	
	Timing diagrams like this can be done using the \texttt{tikztimingtable} 
	environment which has the same syntax as a \texttt{tabular} environment with two 
	columns. The first column holds the signal name, the second one the timing 
	characters. See the package manual for detailed information about them.
	
	\subsection{Clock Signals}
	Clock signals can be generated with the \qv{C} character.  Here we want a clock 
	signal which is two unit width wide and without slope, so we use \qv{2C} for 
	every half clock period.  We also use the \emph{repetition mode} to get the 
	number of clock periods we want: \qv{12\{2C\}}.
	
	To shift the different clocks horizontal we use single \qv{H} or \qv{L} 
	characters at the start. Also the \emph{initial character} is used so that the 
	clock signals start with an edge if needed. The \emph{glitch} character \qv{G} 
	is used at the end of two clocks so that the signal ends with an edge.
	
	\par\bigskip
	\begin{verbatim}
	\begin{tikztimingtable}
	  Clock 128\,MHz 0\degr    & H   12{2C} G \\ % ends with edge
	  Clock 128\,MHz 90\degr   & [C] 12{2C} C \\ % starts with edge
	  Clock 128\,MHz 180\degr  & C   12{2C} G \\ % ends with edge
	  Clock 128\,MHz 270\degr  &     12{2C} C \\
	\end{tikztimingtable}
	\end{verbatim}
	\begin{tikztimingtable}
	  Clock 128\,MHz 0\degr    & H   12{2C} G \\ % ends with edge
	  Clock 128\,MHz 90\degr   & [C] 12{2C} C \\ % starts with edge
	  Clock 128\,MHz 180\degr  & C   12{2C} G \\ % ends with edge
	  Clock 128\,MHz 270\degr  &     12{2C} C \\
	\end{tikztimingtable}
	
	\subsection{Pulse and other Signals}
	The pulses are simply set using \qv{H} (high) or \qv{L} (low) signals. The 
	number before the characters is the width. Note that \qv{LLL}, \qv{3L}, \qv{2LL} 
	or \qv{3\{L\}} all result in the same signal: a low signal with three times the 
	unit width.
	
	An empty line can be inserted to produce a vertical space between groups of 
	signals.
	
	\begin{verbatim}
	\begin{tikztimingtable}
	  Coarse Pulse                          & 3L 16H 6L \\
	  Coarse Pulse - Delayed 1              & 4L 16H 5L \\
	  Coarse Pulse - Delayed 2              & 5L 16H 4L \\
	  Coarse Pulse - Delayed 3              & 6L 16H 3L \\
	  \\ % Gives vertical space
	  Final Pulse Set                       & 3L 16H 6L \\
	  Final Pulse $\overline{\mbox{Reset}}$ & 6L 16H 3L \\
	  Final Pulse                           & 3L 19H 3L \\
	\end{tikztimingtable}
	\end{verbatim}
	\begin{tikztimingtable}
	  Coarse Pulse                          & 3L 16H 6L \\
	  Coarse Pulse - Delayed 1              & 4L 16H 5L \\
	  Coarse Pulse - Delayed 2              & 5L 16H 4L \\
	  Coarse Pulse - Delayed 3              & 6L 16H 3L \\
	  \\ % Gives vertical space
	  Final Pulse Set                       & 3L 16H 6L \\
	  Final Pulse $\overline{\mbox{Reset}}$ & 6L 16H 3L \\
	  Final Pulse                           & 3L 19H 3L \\
	\end{tikztimingtable}
	
	\subsection{Drawing Relationship Lines}
	To draw own lines inside the timing diagram use \verb+\extracode+ after the last 
	table line. Any kind of PGF/TikZ macros can be placed between this macro and the 
	end of the table environment. The coordinate origin is on the baseline of the 
	first timing line. See also the package manual for more information.
	
	To simplify the drawing process we simply add named notes into the timing line 
	using the \qv{N(\textit{name})} character. All start points are called 
	\qv{A\textit{number}} and all corresponding end points are called 
	\qv{B\textit{number}}. The notes are placed at the appropriate positions and do 
	not produce any graphic but only name the current position. Some repetition must 
	be spited in multiple parts to allow the notes to be set:
	
	\begin{verbatim}
	  Clock 128\,MHz 0\degr    & H         12{2C}             G \\ % without notes
	  Clock 128\,MHz 0\degr    & H 2C N(A1) 8{2C} N(A5) 3{2C} G \\ % with    notes
	\end{verbatim}
	
	The lines are then drawn using the \texttt{foreach} loop of the PGF package.
	The background layer is used to not overdraw the timing signals. The predefined 
	style \qv{help lines} is used to get gray thin lines.
	This code must be placed after the \verb+\extracode+ macro.
	
	\begin{verbatim}
	  \begin{pgfonlayer}{background}
	    \foreach \n in {1,...,8}
	      \draw [help lines] (A\n) -- (B\n);
	  \end{pgfonlayer}
	\end{verbatim}
	
	This shows that the consistent naming of the nodes makes the drawing code very 
	simple.
	
	\subsection{Adding Table Rules}
	To add \texttt{booktab} like table rules simply add the command 
	\verb+\tablerules+ to the \texttt{extracode} section.
	
	\section{Final Code and Result}
	
	\begin{verbatim}
	\def\degr{${}^\circ$}
	\begin{tikztimingtable}
	  Clock 128\,MHz 0\degr    & H 2C N(A1) 8{2C} N(A5) 3{2C} G\\
	  Clock 128\,MHz 90\degr   & [C] 2{2C} N(A2) 8{2C} N(A6) 2{2C} C\\
	  Clock 128\,MHz 180\degr  & C 2{2C} N(A3) 8{2C} N(A7) 2{2C} G\\
	  Clock 128\,MHz 270\degr  & 3{2C} N(A4) 8{2C} N(A8) 2C C\\
	  Coarse Pulse             & 3L 16H 6L \\
	  Coarse Pulse - Delayed 1 & 4L N(B2) 16H N(B6) 5L \\
	  Coarse Pulse - Delayed 2 & 5L N(B3) 16H N(B7) 4L \\
	  Coarse Pulse - Delayed 3 & 6L 16H 3L \\
	  \\
	  Final Pulse Set          & 3L 16H N(B5) 6L \\
	  Final Pulse $\overline{\mbox{Reset}}$ & 6L N(B4) 16H 3L \\
	  Final Pulse              & 3L N(B1) 19H N(B8) 3L \\
	\extracode
	  \tablerules
	  \begin{pgfonlayer}{background}
	    \foreach \n in {1,...,8}
	      \draw [help lines] (A\n) -- (B\n);
	  \end{pgfonlayer}
	\end{tikztimingtable}
	\end{verbatim}
	\fi % ifcomment
	
	\def\degr{${}^\circ$}
	\begin{tikztimingtable}
	  Clock 128\,MHz 0\degr    & H 2C N(A1) 8{2C} N(A5) 3{2C} G\\
	  Clock 128\,MHz 90\degr   & [C] 2{2C} N(A2) 8{2C} N(A6) 2{2C} C\\
	  Clock 128\,MHz 180\degr  & C 2{2C} N(A3) 8{2C} N(A7) 2{2C} G\\
	  Clock 128\,MHz 270\degr  & 3{2C} N(A4) 8{2C} N(A8) 2C C\\
	  Coarse Pulse             & 3L 16H 6L \\
	  Coarse Pulse - Delayed 1 & 4L N(B2) 16H N(B6) 5L \\
	  Coarse Pulse - Delayed 2 & 5L N(B3) 16H N(B7) 4L \\
	  Coarse Pulse - Delayed 3 & 6L 16H 3L \\
	  \\
	  Final Pulse Set          & 3L 16H N(B5) 6L \\
	  Final Pulse $\overline{\mbox{Reset}}$ & 6L N(B4) 16H 3L \\
	  Final Pulse              & 3L N(B1) 19H N(B8) 3L \\
	\extracode
	  \tablerules
	  \begin{pgfonlayer}{background}
	    \foreach \n in {1,...,8}
	      \draw [help lines] (A\n) -- (B\n);
	  \end{pgfonlayer}
	\end{tikztimingtable}
	%
	\end{document}
snippet time timetable
	%!TEX encoding = UTF-8 Unicode
	% Author: Laurent Dutriaux
	\documentclass[a4paper,11pt]{article}
	\usepackage[utf8]{inputenc}
	\usepackage{fourier} % Utilisation des polices texte
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Timetable
	
	A simple example of a timetable. The main purpose is to provide an easy input of sequences, namely::
	
	    \node[event] at (Day,beginning at Hour) {Text}+ 
	    
	with consistent node styles and positioning. 
	\end{comment}
	
	\usetikzlibrary[positioning]
	\usetikzlibrary{patterns}
	\usepackage[french]{babel} % styles français
	\title{A simple Timetable}
	\author{Laurent Dutriaux}
	\date{\today}
	\newcommand{\daywidth}{2.2 cm}
	\begin{document}
	
	\maketitle
	
	\begin{tikzpicture}[x=\daywidth, y=-1cm, node distance=0 cm,outer sep = 0pt]
	% Style for Days
	\tikzstyle{day}=[draw, rectangle,  minimum height=1cm, minimum width=\daywidth, fill=yellow!20,anchor=south west]
	% Style for hours
	\tikzstyle{hour}=[draw, rectangle, minimum height=1 cm, minimum width=1.5 cm, fill=yellow!30,anchor=north east]
	
	% Styles for events
	% Duration of sequences
	\tikzstyle{hours}=[rectangle,draw, minimum width=\daywidth, anchor=north west,text centered,text width=5 em]
	\tikzstyle{1hour}=[hours,minimum height=1cm]
	\tikzstyle{2hours}=[hours,minimum height=2cm]
	\tikzstyle{3hours}=[hours,minimum height=3cm]
	%Style for type of sequence 
	\tikzstyle{Ang2h}=[2hours,fill=green!20]
	\tikzstyle{Phys2h}=[2hours,fill=red!20]
	\tikzstyle{Math2h}=[2hours,fill=blue!20]
	\tikzstyle{TIPE2h}=[2hours,fill=blue!10]
	\tikzstyle{TP2h}=[2hours, pattern=north east lines, pattern color=magenta]
	\tikzstyle{G3h}=[3hours, pattern=north west lines, pattern color=magenta!60!white]
	\tikzstyle{Planche}=[1hour,fill=white]
	% Positioning labels for days and hours
	\node[day] (lundi) at (1,8) {Lundi};
	\node[day] (mardi) [right = of lundi] {Mardi};
	\node[day] (mercredi) [right = of mardi] {Mercredi};
	\node[day] (jeudi) [right = of mercredi] {Jeudi};
	\node[day] (vendredi) [right = of jeudi] {Vendredi};
	\node[hour] (8-9) at (1,8) {8-9};
	\node[hour] (9-10) [below = of 8-9] {9-10};
	\node[hour] (10-11) [below= of 9-10] {10-11};
	\node[hour] (11-12) [below = of 10-11] {11-12};
	\node[hour] (12-13) [below  = of 11-12] {12-13};
	\node[hour] (13-14) [below = of 12-13] {13-14};
	\node[hour] (14-15) [below = of 13-14] {14-15};
	\node[hour] (15-16) [below = of 14-15] {15-16};
	\node[hour] (16-17) [below = of 15-16] {16-17};
	\node[hour] (17-18) [below = of 16-17] {17-18};
	\node[hour] (18-19) [below = of 17-18] {18-19};
	%Position of sequences
	\node[Ang2h] at (1,10) {Anglais};
	\node[Phys2h] at (1,8) {Physique};
	\node[Phys2h] at (2,8) {Physique};
	\node[Phys2h] at (4,8) {Physique};
	\node[Phys2h] at (5,10) {Physique};
	\node[Math2h] at (2,10) {Maths};
	\node[Math2h] at (2,14) {Maths};
	\node[Math2h] at (3,8) {Maths};
	\node[Math2h] at (4,10) {Maths};
	\node[Math2h] at (5,8) {Maths};
	\node[TIPE2h] at (1,14) {TIPE};
	\node[TIPE2h] at (1,16) {TIPE};
	\node[TIPE2h] at (2,16) {TIPE};
	\node[TIPE2h] at (3,10) {TIPE};
	\node[TIPE2h] at (5,14) {TIPE};
	\node[TIPE2h] at (5,16) {TIPE};
	\node[TP2h] at (3,14) {Phys ou SI};
	\node[TP2h] at (3,16) {SI ou Phys};
	\node[Planche] at (1,13) {Planche};
	\node[Planche] at (1,18) {Colle};
	\node[Planche] at (4,13.5) {Planche};
	\end{tikzpicture}
	
	
	\end{document}
snippet diagrams timing-diagram
	% Some macros for logic timing diagrams.
	%
	% Author: ir. Pascal T. Wolkotte and Jochem Rutgers, University of Twente
	\documentclass{article}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Timing diagram
	:Tags: Diagrams, Macro packages
	
	Demonstration of ``timing.sty``, a convenient set of macros for drawing
	logic timing diagrams. Written by Pascal Wolkotte and Jochem Rutgers.
	
	The macros are also available as a separate sty file:
	
	- `timing.sty`_
	
	.. _timing.sty: /media/pgftikzexamples/circuits/timing.sty
	
	:Authors: ir. Pascal T. Wolkotte and Jochem Rutgers, University of Twente
	
	
	\end{comment}
	
	% Start of timing.sty
	
	% Some macros for logic timing diagrams.
	%
	% Author: ir. Pascal T. Wolkotte and Jochem Rutgers, University of Twente
	% Version: 0.1
	% Date: 2007/10/11
	
	\usepackage{tikz}
	
	\newcounter{wavenum}
	
	\setlength{\unitlength}{1cm}
	% advance clock one cycle, not to be called directly
	\newcommand*{\clki}{
	  \draw (t_cur) -- ++(0,.3) -- ++(.5,0) -- ++(0,-.6) -- ++(.5,0) -- ++(0,.3)
	    node[time] (t_cur) {};
	}
	
	\newcommand*{\bitvector}[3]{
	  \draw[fill=#3] (t_cur) -- ++( .1, .3) -- ++(#2-.2,0) -- ++(.1, -.3)
	                         -- ++(-.1,-.3) -- ++(.2-#2,0) -- cycle;
	  \path (t_cur) -- node[anchor=mid] {#1} ++(#2,0) node[time] (t_cur) {};
	}
	
	% \known{val}{length}
	\newcommand*{\known}[2]{
	    \bitvector{#1}{#2}{white}
	}
	
	% \unknown{length}
	\newcommand*{\unknown}[2][XXX]{
	    \bitvector{#1}{#2}{black!20}
	}
	
	% \bit{1 or 0}{length}
	\newcommand*{\bit}[2]{
	  \draw (t_cur) -- ++(0,.6*#1-.3) -- ++(#2,0) -- ++(0,.3-.6*#1)
	    node[time] (t_cur) {};
	}
	
	% \unknownbit{length}
	\newcommand*{\unknownbit}[1]{
	  \draw[ultra thick,black!50] (t_cur) -- ++(#1,0) node[time] (t_cur) {};
	}
	
	% \nextwave{name}
	\newcommand{\nextwave}[1]{
	  \path (0,\value{wavenum}) node[left] {#1} node[time] (t_cur) {};
	  \addtocounter{wavenum}{-1}
	}
	
	% \clk{name}{period}
	\newcommand{\clk}[2]{
	    \nextwave{#1}
	    \FPeval{\res}{(\wavewidth+1)/#2}
	    \FPeval{\reshalf}{#2/2}
	    \foreach \t in {1,2,...,\res}{
	        \bit{\reshalf}{1}
	        \bit{\reshalf}{0}
	    }
	}
	
	% \begin{wave}[clkname]{num_waves}{clock_cycles}
	\newenvironment{wave}[3][clk]{
	  \begin{tikzpicture}[draw=black, yscale=.7,xscale=1]
	    \tikzstyle{time}=[coordinate]
	    \setlength{\unitlength}{1cm}
	    \def\wavewidth{#3}
	    \setcounter{wavenum}{0}
	    \nextwave{#1}
	    \foreach \t in {0,1,...,\wavewidth}{
	      \draw[dotted] (t_cur) +(0,.5) node[above] {t=\t} -- ++(0,.4-#2);
	      \clki
	    }
	}{\end{tikzpicture}}
	
	%%% End of timing.sty
	\usepackage{verbatim}
	
	\begin{document}
	\begin{wave}{13}{5}
	 \nextwave{req\_addr} \bit{0}{.2} \bit{1}{1} \bit{0}{3} \bit{1}{1} \bit{0}{.8}
	 \nextwave{inst\_addr} \unknown[X]{.5} \known{addr}{1} \unknown{4.5}
	 \nextwave{link\_addrs} \unknown{1.2} \known{map}{1} \unknown{3.8}
	 \nextwave{link\_load} \unknown{2.2} \known{vam}{1} \unknown{2.8}
	 \nextwave{link\_load\_r} \unknown{3.1} \known{val}{1} \unknown{1.9}
	 \nextwave{simulate} \bit{0}{3.1} \bit{1}{1} \bit{0}{1.9}
	 \nextwave{output} \unknown{3.3} \known{}{.5} \known{}{.5} \unknown{1.7}
	 \nextwave{prev\_output} \unknown{3.2} \known{old}{1} \unknown{1.8}
	 \nextwave{differs} \unknownbit{3.3} \bit{1}{.5} \bit{1}{.4} \unknownbit{1.8}
	 \nextwave{differs\_r} \unknownbit{4.1} \bit{1}{1} \unknownbit{.9}
	 \nextwave{dep\_addr} \unknown{4.2} \known{dep}{1} \unknown[X]{.8}
	 \nextwave{req} \unknown{4.3} \known{req}{1} \unknown[X]{.7}
	\end{wave}
	
	\end{document}
snippet manual title-graphics
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usetikzlibrary{trees,snakes}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Title graphics
	:Tags: Manual, Snakes, Trees
	
	This example is from the title page of the TikZ and PGF manual.
	
	**Update:** 
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	\end{comment}
	
	\tikzstyle{level 1}=[sibling angle=120]
	\tikzstyle{level 2}=[sibling angle=60]
	\tikzstyle{level 3}=[sibling angle=30]
	\tikzstyle{every node}=[fill]
	\tikzstyle{edge from parent}=[snake=expanding waves,segment length=1mm,
	                              segment angle=10,draw]
	\begin{tikzpicture}[grow cyclic,shape=circle,very thick,level distance=13mm,
	                    cap=round]
	\node {} child [color=\A] foreach \A in {red,green,blue}
	    { node {} child [color=\A!50!\B] foreach \B in {red,green,blue}
	        { node {} child [color=\A!50!\B!50!\C] foreach \C in {black,gray,white}
	            { node {} }
	        }
	    };
	\end{tikzpicture}
	
	\end{document}
snippet diagrams tkz-2d
	% The tkz-2d package
	% Author: Alain Matthes (http://altermundus.fr/)
	
	\documentclass[]{article}
	\usepackage{tikz}
	\usetikzlibrary{arrows,%
	                plotmarks}
	\usepackage{tkz-2d}
	\usepackage[np,autolanguage]{numprint}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: The tkz-2d package
	:Slug: tkz-2d
	:Tags: Diagrams
	:Grid: 2x2
	
	The package ``tkz-2d`` is a set of convenient macros for drawing in a plane ( fundamental
	two-dimensional object) with a Cartesian coordinate system. The package aims to
	provide a high-level user interface to build graphics relatively simply.
	
	The package is written by the very productive Alain Matthes. Documentation_, with an 
	impressive number of examples, is now available in English. 
	
	:Download: `Altermundus`_
	:Author: `Alain Matthes`_
	:Source: `Altermundus`_
	
	.. _Alain Matthes: http://altermundus.fr/index.html
	.. _Altermundus: http://altermundus.fr/pages/download.html
	.. _examples: http://www.altermundus.fr/pages/math/graphtheory.html
	.. _Documentation: http://altermundus.fr/pages/downloads/TKZdoc-2d.pdf
	
	
	\end{comment}
	
	\begin{document}
	
	\begin{tikzpicture}
	
	  \tkzInit[ymin=-1]
	  \path[coordinate] (0,0) coordinate(A)%
	                    (6,0) coordinate(D)
	                    (8,0) coordinate(B)
	                    (4,0) coordinate(I);
	  \tkzDrawPoint[color=red](A,B,D)
	  \tkzSegment(A/B)
	  \clip (A)--(9,0)--(9,6)--(0,6)--cycle;
	  \tkzCircle*(A,B)
	  \tkzLineOrth[kr=1,kl=0](A,D)(D)
	  \tkzInterLCR(D,dr)(I,4 cm){C}{J}
	  \tkzDrawPoint[color=red,pos=above right](C)
	  \tkzLineOrth[kr=1,kl=1,prefix=t1](I,C)(C)
	  \tkzLineOrth[kr=1,kl=0,prefix=t2](A,B)(B)
	  \tkzInterLL[color=red](C,t1r)(B,t2r){T}
	  \tkzInterLL[color=red](A,T)(C,D){P}
	  \tkzSegment(A/T)
	\end{tikzpicture}
	
	\begin{tikzpicture}[scale = 1.75]
	   \tkzInit[xmax = 8,ymax=8] \tkzClip
	   \tkzPoint*(0,0){B} \tkzPoint*(8,0){C}%
	   \tkzPoint*(0,8){A} \tkzPoint*(8,8){D}
	   \tkzPolygon(B,C,D,A)
	   \path[clip] (B)--(C)--(D)--(A)--cycle;
	   \tkzPoint*(4,8){F}\tkzPoint*(4,0){E}\tkzPoint*(4,4){Q}
	   \tkzTgtFromP(F,F,A)(B){G}{H}
	   \tkzInterLL*(F,G)(C,D){J}
	   \tkzInterLL*(A,J)(F,E){K}
	   \tkzProjection*(B,A)(K/M)
	   \tkzFillPolygon[color = green](A,B,C,D)
	   \tkzCircle[style = {fill = orange}](B,A)
	   \tkzCircle[style = {fill = blue!50!black}](M,A)
	   \tkzCircle[style = {fill = purple}](E,B)
	   \tkzCircle[style = {fill = yellow}](K,Q)
	\end{tikzpicture}
	
	\begin{tikzpicture}
	   \tkzInit[xmin=-1,xmax=1.2,xstep=.2,ymin=-1,ymax=1.2,ystep=.2]
	   \tkzX[gradsize=\scriptstyle]
	   \tkzY[gradsize=\scriptstyle]
	   \tkzPoint(0,0){O}
	   \tkzPoint[pos=above right](1,0){A}
	   \FPcos\Mx{1}\FPsin\My{1}
	   \tkzPoint[pos=above right](1,1){T}
	   \tkzPoint[coord,%
	             mark     = *,%
	             size     = 1pt,%
	             pos      = above right](\Mx,\My){M}
	   \tkzSegment[color=red,colorlabel=red,label=1\,u](A/T,O/M)
	   \draw[color=blue] (0,0) circle (5cm);
	   \path (A) arc (0:40:5) node[rotate=-45,above,color=red] {1\,u};
	   \begin{scope}
	   \path[clip](O)--(A)--(M)--cycle;
	   \draw[color=blue,fill=red] (0,0) circle (.5cm);
	   \end{scope}
	   \begin{scope}
	   \path[clip](O)--(A)--(T)--(M)--cycle;
	   \draw[color=red] (0,0) circle (5cm);
	   \end{scope}
	   \path[clip] (0,0) circle (5cm);\tkzGrid(-1,-1)(1,1)
	   \tkzText[color= red](0.3,0.15){$1$\,rad}
	   \tkzText[style={draw},color= red](0.55,-0.15){$\scriptstyle\cos(1)$}
	  \tkzText[style={draw},color= red](-0.23,0.83){$\scriptstyle\sin(1)$}
	 \end{tikzpicture}  
	 
	\begin{tikzpicture}
	    \tkzInit\tkzClip
	    \tkzPoint[pos=below right](2,1){A}%
	    \tkzPoint[pos=below](9,4){B}%
	    \tkzPoint[pos=below left](3,7){C}%
	    \tkzLine(A/B,B/C,A/C)
	    \tkzBisector[kl=0,kr=3,color=blue,style=dashed](B,A,C){x}
	    \tkzBisector[kl=0,kr=3,color=blue,style=dashed](A,B,C){y}
	    \tkzInterLL(A,x)(B,y){I}
	    \tkzProjection*(A,B)(I/c)
	    \tkzProjection*(A,C)(I/b)
	    \tkzProjection*(B,C)(I/a)
	    \tkzSegment[color=red,style=dotted,lw=1pt](I/a,I/b,I/c)
	    \tkzRightAngle(A/c/I,B/a/I,C/b/I)
	    \tkzMarkAngle[size = 1,%
	        style = ai,%
	        fillcolor = red!50](I/A/C)
	    \tkzMarkAngle[size = 0.75,%
	        style = ai,%
	        fillcolor = red!50](I/A/B)
	    \tkzMarkAngle[size = 1,%
	        style = aii,%
	        fillcolor = blue!50](I/B/C)
	    \tkzMarkAngle[size = 0.75,%
	        style = aii,%
	        fillcolor = blue!50](I/B/A)
	    \tkzCircle(I,a)
	\end{tikzpicture}
	
	\end{document}
snippet graphs tkz-berge
	% The tkz-berge graph package
	% Author: Alain Matthes (http://altermundus.fr/)
	
	\documentclass[]{article}
	\usepackage{tikz}
	\usepackage{tikz,fullpage}
	\usetikzlibrary{arrows,%
	                petri,%
	                topaths}%
	\usepackage{tkz-berge}
	\usepackage[position=top]{subfig}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: The tkz-berge graph package
	:Slug: tkz-berge
	:Tags: Graphs
	
	The ``tkz-berge`` package is a set of convenient macros for drawing typical textbook graphs.
	It is built on top of TikZ' node and edge constructs, but adds several shortcuts for placing, 
	arranging  and connecting vertices. Visit the package's home page to see  more_ examples_.
	
	Documentation_ only available in French. However, the code and the numerous examples speak for themselves.
	
	:Download: `tkz-berge.sty`_
	:Author: `Alain Matthes`_
	:Source: `Altermundus`_
	
	.. _Alain Matthes: http://altermundus.fr/index.html
	.. _Altermundus: http://www.altermundus.fr/pages/pdflatex/graph.html
	.. _more: http://www.altermundus.fr/pages/pdflatex/graph.html
	.. _examples: http://www.altermundus.fr/pages/math/graphtheory.html
	.. _Documentation: http://www.altermundus.fr/pages/downloads/doc-TKZberge.pdf
	.. _tkz-berge.sty: http://www.altermundus.fr/pages/downloads/tkz-berge.sty
	
	\end{comment}
	
	\begin{document}
	\begin{figure}
	\centering
	\subfloat[]{
	\begin{tikzpicture}[scale=0.75,transform shape]
	  \Vertex[x=0,y=0](K)
	  \Vertex[x=0,y=2](F)
	  \Vertex[x=-1,y=4](D)
	  \Vertex[x=3,y=7](H)
	  \Vertex[x=8,y=5](B)
	  \Vertex[x=9,y=2](N)
	  \Vertex[x=5,y=0](M)
	  \Vertex[x=3,y=1](S)
	  \tikzstyle{LabelStyle}=[fill=white,sloped]
	  \tikzstyle{EdgeStyle}=[bend left]
	  \Edge[label=$120$](K)(F)
	  \Edge[label=$650$](H)(S)
	  \Edge[label=$780$](H)(M)
	  \Edge[label=$490$](D)(B)
	  \Edge[label=$600$](D)(M)
	  \Edge[label=$580$](B)(M)
	  \Edge[label=$600$](H)(N)
	  \Edge[label=$490$](F)(H)
	  \tikzstyle{EdgeStyle}=[bend right]
	  \Edge[label=$630$](S)(B)
	  \Edge[label=$210$](S)(N)
	  \Edge[label=$230$](S)(M)
	\end{tikzpicture}
	}
	\subfloat[]{
	\begin{tikzpicture}[scale=0.75,transform shape]
	  \tikzstyle{every node}=[node distance = 4cm,%
	                          bend angle    = 45,%
	                          fill          = gray!30]
	  \Vertex(P)
	  \NOEA{P}(B)
	  \SOEA{P}(M)
	  \NOEA{B}(D)
	  \SOEA{B}(C)
	  \SOEA{C}(L)
	  \tikzstyle{EdgeStyle}=[pre and post]
	  \Edge[label=$4$](P)(M)
	  \Edge[label=$9$](C)(M)
	  \Edge[label=$4$](C)(L)
	  \Edge[label=$5$](C)(D)
	  \Edge[label=$10$](B)(M)
	  \tikzstyle{EdgeStyle}=[pre and post,bend right]
	  \Edge[label=$11$](L)(D)
	  \tikzstyle{EdgeStyle}=[post]
	  \Edge[label=$3$](C)(B)
	  \Edge[label=$10$](D)(B)
	  \Edge[label=$10$](L)(M)
	  \Edge[label=$10$](B)(P)
	\end{tikzpicture}
	}
	\end{figure}
	\end{document}
snippet linknodes tkz-linknodes-examples
	% Author: Alain Matthes (http://altermundus.com/)
	\documentclass[a4paper,11pt]{article}
	\usepackage[utf8]{inputenc}
	\usepackage[upright]{fourier}
	\usepackage{amsmath,tkz-linknodes}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Tkz-linknodes examples
	
	Demonstration of the `tkz-linknodes package`_, a package that makes it easy to link
	elements in an amsmath align or aligned environment.
	
	.. _tkz-linknodes package: http://www.ctan.org/tex-archive/help/Catalogue/entries/tkz-linknodes.html
	
	\end{comment}
	\begin{document}
	
	\parindent=0pt
	\begin{preview}
	\begin{center}
	  \fbox{%
	  \begin{minipage}{10cm}
	        \begin{NodesList}[margin=2 cm]
	       \begin{align}
	     3\left(x^2-\frac{2}{3}\right) &= 4                             \AddNode\\
	       3x^2-2  &= 4                                                 \AddNode\\
	       3x^2    &= 6                                                 \AddNode\\
	       \intertext{\hfil isolate the term with the variable \hfil}
	        x^2    &= 2                                                 \AddNode\\
	 \sqrt{x^2}    &= \sqrt{2}                                          \AddNode\\
	      |x|      &= \sqrt{2}                                          \AddNode\\
	       x       &= \pm\sqrt{2}                                       \AddNode
	         \end{align}
	 \LinkNodes{expand}%
	 \LinkNodes{$+2$}%
	 \LinkNodes{$\div 3$}
	 \LinkNodes{$\sqrt{\ldots}$}
	 \LinkNodes{$\sqrt{x}=|x|$}
	 \LinkNodes{so that}
	   \end{NodesList}
	  \end{minipage}}
	\end{center}
	
	This example is from  MathMode.pdf of Herbert Vo\ss
	
	\begin{NodesList}[margin=1cm]
	  \begin{displaymath}\displaywidth=.2\linewidth
	    \begin{aligned}
	    y &= 2x^2 -3x +5                          \AddNode\\
	  & \hphantom{= \ 2\left(x^2-\frac{3}{2}\,x\right. }%
	      \textcolor{blue}{%
	        \overbrace{\hphantom{+\left(\frac{3}{4}\right)^2- %
	          \left(\frac{3}{4}\right)^2}}^{=0}}   \\
	  &= 2\left(\textcolor{red}{%
	       \underbrace{%
	           x^2-\frac{3}{2}\,x + \left(\frac{3}{4}\right)^2}%
	   }%
	   \underbrace{%
	        - \left(\frac{3}{4}\right)^2 + \frac{5}{2}}%
	   \right)                                      \AddNode\\
	   &= 2\left(\qquad\textcolor{red}{\left(x-\frac{3}{4}\right)^2}
	   \qquad + \ \frac{31}{16}\qquad\right)  \AddNode\\
	y
	   &= 2\left(x\textcolor{cyan}{-\frac{3}{4}}\right)^2\textcolor{blue}{+\frac{31}{8}}\AddNode
	\end{aligned}
	         \end{displaymath}
	{%
	\tikzset{LabelStyle/.append style = {left,text=red}}
	    \LinkNodes{%
	    \begin{minipage}{5cm}
	      $2x^2 -3x$ is the beginning of an algebraic identity %
	       (binomial formula)
	      \end{minipage}}
	       \LinkNodes{$(a-b)^2=a^2-2ab+b^2$}
	       \LinkNodes{after simplication, the result is}%
	}
	\end{NodesList}
	\end{preview}
	
	
	\end{document}
snippet data tkz-orm-example
	% Title: Example for tkz-orm v0.1 2010/01/25
	% Author: Jakob Voß
	% Site: http://tug.ctan.org/tex-archive/graphics/pgf/contrib/tkz-orm/
	%
	% This is an example for the 'tkz-orm' package included in its
	% documentation. It redraws a diagram found in Halpin & Morgan's
	% "Information modeling and relational databases" p 902.
	\documentclass{article}
	\usepackage{tkz-orm}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Example for tkz-orm v0.1 2010/01/25
	:Slug: tkz-orm-example
	:Author: Jakob Voß
	:Site: http://tug.ctan.org/tex-archive/graphics/pgf/contrib/tkz-orm/
	:Tags: Data Model; Computer science; Diagrams; Block diagrams; Node positioning; Macro packages
	
	This is an example for the `tkz-orm package <http://texcatalogue.sarovar.org/entries/tkz-orm.html>`_ included in its
	documentation. It redraws a diagram found in Halpin & Morgan's
	"Information modeling and relational databases" p 902.
	\end{comment}
	
	\begin{document}
	\begin{tikzpicture}[orm]
	    \entity (E) {Employee\ormind{1}\\(.nr)};
	
	    \binary[left=of E.north west, unique=2, label=\ormleft{has}] (h) {};
	    \binary[left=of E.south west, unique=1-2,
	         label=below:\ormleft{uses\ormind{2, 3}}] (u) {};
	
	    \entity[left=of h] (Rank) {Rank\\(.code)};
	    \entity[left=of u] (Car) {CompanyCar\\(.regNr)};
	    \node[constraint=text, align=left, anchor=east] at (Rank.west)
	        {$\{$`Exec',\\`NonExec'$\}$};
	
	    \plays[mandatory] (E) to (h.east);
	    \plays (h) to (Rank) (E) to (u.east) (u) to (Car);
	
	    \binary[right=of E.north east, unique, label=was born on] (b) {};
	    \binary[right=of E.south east, unique, label=below:was hired on] (i) {};
	
	    \entity[right=1.8 of E] (Date) {Date\\(mdy)};
	
	    \plays[mandatory] (E) to (b.west) (E) to (i.west);
	    \plays (b.east) to (Date) (i.east) to (Date);
	
	    \node[role name, anchor=south west] at (b.east) {[birthdate]};
	    \node[role name, anchor=north west] at (i.east) {[hiredate]};
	
	    \rules at (-.4, -2) {
	        \node[rule=1] {{\ormbf For each} Employee, birthdate $<$ hiredate.};\\
	        \node[rule=2] {
	             {\ormbf Each} Employee {\ormbf who} has Rank `NonExec' uses
	             {\ormbf at most one} CompanyCar.};\\
	        \node[rule=3] {
	             {\ormbf Each} Employee {\ormbf who} has Rank `Exec' uses
	             {\ormbf some} CompanyCar.};\\
	    };
	\end{tikzpicture}
	\end{document}
snippet plots tkz-plot2d
	% Demonstration of tkz-plot2d
	% Author: Alain Matthes
	% Note: Requires GNUPLOT
	\documentclass{article}
	\usepackage[usenames,dvipsnames]{xcolor}
	\usepackage{tikz,tkz-plot2d,amsmath}
	\usetikzlibrary{arrows}%
	\usepackage[np,autolanguage]{numprint}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: tkz-plot2d
	:Tags: Plots, GNUPLOT
	
	A collection of plots created with the TikZ-based `tkz-plot2d`_ package.
	Provides among other things, convenient macros for creating axes and grids.
	
	Requires GNUPLOT_. Documentation_ only available in French.
	
	:Author: Alain Matthes
	:Source: `Altermundus.fr`_
	
	.. _documentation: http://www.altermundus.fr/pages/downloads/doc-TKZplot2d.pdf
	.. _tkz-plot2d: http://www.altermundus.fr/pages/pdflatex/plot2d.html
	.. _Altermundus.fr: http://www.altermundus.fr/pages/pdflatex/tikz.html
	.. _GNUPLOT: http://www.fauskes.net/pgftikzexamples/gnuplot-basics/
	
	
	\end{comment}
	
	\begin{document}
	
	
	\begin{tikzpicture}[xscale=4,yscale=1]
	    \tkzinit[xmax=3,ymax=3,ymin=-4];
	    \tkzgrid
	    \tkzx
	    \tkzy
	    \tkzfct[color=red](0.35..3){-3/(x*x) +4/(3*x-1)}
	    \tkzfct[color=blue](0.35..3){-3/(x*x) +27/(4*(3*x-1))}
	    \tkzfct[color=orange](0.35..3){-3/(x*x) +8/(3*x-1)}
	    \tkzfct[color=green](0.35..3){-3/(x*x) +7/(3*x-1)}
	    \node[draw,inner sep =10pt,fill=orange!30] at (2,-2)%
	        {$f(x)=-\dfrac{3}{x^2}+\dfrac{8\alpha}{3x-1}$%
	    \hspace{.5cm} avec%
	    \ $\alpha \in%
	    \left\{\dfrac{1}{2}~;~\dfrac{27}{32}~;~\dfrac{7}{8}~;~1\right\}$};
	\end{tikzpicture}%
	%
	\begin{tikzpicture}[scale=1]
	    \tkzinit[xmin=-2,xmax=3,ymax=3]
	    \tkzgrid[color=orange](-2,0)(3,3)
	    \tkzx[orig]
	    \tkzy
	    \tkzfct[label = false,%
	    samples = 200,%
	    lw = 1pt,
	    color = red](-1..2)%
	    {(x*x*x+x*x)**(0.5)}
	    \tkztg{\tkzfcta}(0)
	    \tkztxt[style = {draw},%
	    color = red,%
	    bkgcolor = orange!20](2,1)%
	    {$f(x)=\sqrt{x^3+x^2}$}
	\end{tikzpicture}\\%
	%
	%
	\begin{tikzpicture}[scale=1.4]%
	    \tkzinit[xmax=800,xstep=100,ymax=2000,ystep=400]
	    \tkzgrid[xstep=100,ystep=400](0,0)(800,2000)
	    \tkzx
	    \tkzy
	    \tkzfct[lw=0.8pt](0..800)%
	        {(1./90000)*\x*\x*\x-(1./100)*\x*\x+(113./36)*\x}
	    \tkzpt[coord](450,400){A}
	    \tkzpt(800,1800){}
	    \tkztg[color=blue,lw=.8pt,kr=300,kl=450]{\tkzfcta}(450)
	    \tkztxt[style    = draw,%
	            color    = black,%
	            bkgcolor = bistre!50]%
	        (300,1200)%
	    {$f(x)=\dfrac{1}{90000}x^3 -\dfrac{1}{{100}}x^2 +\dfrac{113}{36}x$}
	\end{tikzpicture}%
	%
	\begin{tikzpicture}%
	    \tkzinit[xmax=6,ymax=7]
	    \tkzgrid(0,0)(6,7)
	    \tkzx
	    \tkzy
	    \tkzfct[label=false](0..6){x}
	    \tkzfct[label=false](6..-0.5){log(x)}
	    \tkzairefg[color=orange!60](1..5){\tkzfctgnua}{\tkzfctgnub}
	    \rep%
	\end{tikzpicture}%
	
	
	\end{document}
snippet overlays todo-notes
	% Todo notes
	% Author: Henrik Skov Midtiby
	% Source: http://midtiby.blogspot.com/2007/09/todo-notes-in-latex.html
	%         http://midtiby.blogspot.com/2008/05/updated-todonotes-package.html
	%         http://midtiby.blogspot.com/2008/07/todonotes-version-2008-07-28.html
	% PDFTeX required. Remember to compile the document twice.
	% Uses the remember picture feature
	
	\documentclass[a4paper]{article}
	
	\usepackage[colorlinks]{hyperref}
	\usepackage[colorinlistoftodos]{todonotes}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Todo notes
	:Tags: Overlays, Remember picture
	
	A clever and elegant way of placing todo notes in your document.
	The notes are shown in the margin and overlays are used to show where the
	notes were inserted. You can also create a list of todo notes with hyperlinks.
	
	.. admonition:: Update 2008-10-22
	
	    The todonotes packge is now `available on CTAN`_. Check out the documentation_ for an overview of all the features.
	    
	.. _available on CTAN: http://www.ctan.org/tex-archive/help/Catalogue/entries/todonotes.html
	.. _documentation: http://www.tex.ac.uk/tex-archive/macros/latex/contrib/todonotes/todonotes.pdf
	    
	
	:Author: Henrik Skov Midtiby
	:Source: `Midtiby notes`_
	
	.. _Midtiby notes: http://midtiby.blogspot.com/2008/07/todonotes-version-2008-07-28.html
	.. _released: http://midtiby.blogspot.com/2008/07/todonotes-version-2008-07-28.html
	.. _todonotes.sty: todonotes.sty
	
	\end{comment}
	
	
	
	\begin{document}
	
	\listoftodos
	
	Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nulla
	\todo{Plain todonotes.}%
	urna. Maecenas interdum nunc in augue. Mauris quis massa in ante
	tincidunt mollis. Proin imperdiet. Donec porttitor pede id est. Sed
	in ante. Integer id arcu. Nam lectus nisl, posuere sit amet,
	imperdiet ut, tristique ac, lorem. In erat. In commodo enim.
	\todo[color=blue!40]{Todonote with a different color.}%
	Phasellus libero ipsum, tempor a, pharetra consequat, pellentesque
	sit amet, sem. Praesent ut augue luctus elit adipiscing ultricies.
	Vestibulum suscipit cursus leo. Nullam molestie justo.
	
	Morbi dui. Morbi convallis mi sed sem. Nulla convallis lacus vitae
	risus. Phasellus adipiscing. Nullam tortor. Sed laoreet aliquam
	ante. Vestibulum diam. Pellentesque nec leo. Pellentesque velit.
	\todo[nolist]{Todonote that is only shown in the margin and not in
	the list of todos.}%
	Praesent congue mi eu ipsum cursus fringilla. Etiam leo erat,
	tristique et, pharetra eget, mollis vitae, velit. In hac habitasse
	\todo[size=\small, color=green!40]{A note with a small fontsize.}%
	platea dictumst. In quam nibh, facilisis et, laoreet non, facilisis
	tempus, justo. Class aptent taciti sociosqu ad litora torquent per
	conubia nostra, per inceptos himenaeos.
	
	\todo[inline]{testing testing}
	
	Donec nulla lectus, faucibus sit amet, auctor non, consectetuer
	quis, pede. Nullam dictum. Nullam suscipit, ligula in scelerisque
	\todo[noline]{A note with no line back to the text.}%
	posuere, sapien purus rutrum magna, vitae pharetra leo quam vel
	tortor. Donec eleifend condimentum sapien. Etiam sed orci. Aliquam
	\todo[inline, color=red!50]{Inline todonotes.}%
	tempor. Pellentesque egestas tortor id eros. Donec mauris justo,
	commodo id, pellentesque id, eleifend non, mi. Duis venenatis
	sagittis metus. Donec tempus metus id lacus. Praesent vel diam.
	Morbi nec ante. Vestibulum varius felis ac lacus. Nulla vitae neque
	\todo[inline, color=green!40]{A note with no line back to the text.}%
	in nibh bibendum volutpat. Quisque accumsan diam. Aenean ultricies
	nisl ac lacus. Aliquam posuere. Aenean venenatis tortor in felis.
	
	\end{document}
snippet styles torn-paper
	% Torn paper with matching torn edges
	% Author: Jose Luis Diaz
	\documentclass[a5paper]{article}
	\usepackage{lipsum}   % To generate test text
	\usepackage{framed}
	\usepackage{ifthen}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{center}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Torn paper with matching torn edges
	:Tags: Styles;Fractals;Decorative drawings;Fun
	:Author: Jose Luis Diaz
	:Slug: torn-paper
	
	This example is similar to: http://texample.net/tikz/examples/framed-tikz/
	
	Fractal decorations are used to achieve a torn paper effect.
	The bottom of one piece matched the top of the next one.
	This is done by resetting the random seed before drawing each border.
	However, you get the "same" random border in all your fragments,
	which is not nice. You want randomness in each new bottom border,
	but exactly the same randomness in the next top border. In order to get this,
	you need a global counter which is increased in each "paper fragment",
	and which is used as seed for the bottom border.
	
	It is neccesary to use \pgfextra to be able of setting the seed in the middle
	of the path (i.e: between top and bottom borders).
	
	In addition, there is the problem that both paths (top and bottom) have to be
	drawn in the same direction in order to get the same contour. 
	
	In order to fill the piece of paper with a background, it is not possible
	to draw both top and bottom borders in the same direction (eg. left to right).
	So the solution involves drawing one piece of paper visiting its corners in
	clockwise direction, and the following one in counter-clockwise direction.
	I use the counter mathseed and draw in one direction or the other based
	on \isodd{mathseed}.
	
	The algorithm that draws the fractal border tends to produce "spikes" towards
	its right (in the advance direction), and "cloud borders" towards its left. So,
	a box drawn in clockwise direction would have a "cloudy" aspect, while one
	drawn in counterclockwise direction would have a "spiky" aspect.
	
	The assymetry can be make less apparent if the bottom border is drawn with
	a negative amplitude (which reverses the side towards the spikes appear).
	This is easy to achieve by defining two irregular border styles,
	which are used alternatively. 
	
	This code was written by Jose Luis Diaz and published on TeX.SE.
	\end{comment}
	\usepackage[margin=1cm]{geometry}% for screen preview
	\usetikzlibrary{decorations.pathmorphing,calc,shadows.blur,shadings}
	
	\newcounter{mathseed}
	\setcounter{mathseed}{3}
	\pgfmathsetseed{\arabic{mathseed}} % To have predictable results
	% Define a background layer, in which the parchment shape is drawn
	\pgfdeclarelayer{background}
	\pgfsetlayers{background,main}
	
	% This is the base for the fractal decoration. It takes a random point between the start and end, and
	% raises it a random amount, thus transforming a segment into two, connected at that raised point
	% This decoration can be applied again to each one of the resulting segments and so on, in a similar
	% way of a Koch snowflake.
	\pgfdeclaredecoration{irregular fractal line}{init}
	{
	  \state{init}[width=\pgfdecoratedinputsegmentremainingdistance]
	  {
	    \pgfpathlineto{\pgfpoint{random*\pgfdecoratedinputsegmentremainingdistance}{(random*\pgfdecorationsegmentamplitude-0.02)*\pgfdecoratedinputsegmentremainingdistance}}
	    \pgfpathlineto{\pgfpoint{\pgfdecoratedinputsegmentremainingdistance}{0pt}}
	  }
	}
	
	
	% define some styles
	\tikzset{
	   paper/.style={draw=black!10, blur shadow, every shadow/.style={opacity=1, black}, shade=bilinear interpolation,
	                 lower left=black!10, upper left=black!5, upper right=white, lower right=black!5, fill=none},
	   irregular cloudy border/.style={decoration={irregular fractal line, amplitude=0.2},
	           decorate,
	     },
	   irregular spiky border/.style={decoration={irregular fractal line, amplitude=-0.2},
	           decorate,
	     },
	   ragged border/.style={ decoration={random steps, segment length=7mm, amplitude=2mm},
	           decorate,
	   }
	}
	
	\def\tornpaper#1{%
	\ifthenelse{\isodd{\value{mathseed}}}{%
	\tikz{
	  \node[inner sep=1em] (A) {#1};  % Draw the text of the node
	  \begin{pgfonlayer}{background}  % Draw the shape behind
	  \fill[paper] % recursively decorate the bottom border
	     \pgfextra{\pgfmathsetseed{\arabic{mathseed}}\addtocounter{mathseed}{1}}%
	      {decorate[irregular cloudy border]{decorate{decorate{decorate{decorate[ragged border]{
	        (A.north west) -- (A.north east)
	      }}}}}}
	      -- (A.south east)
	     \pgfextra{\pgfmathsetseed{\arabic{mathseed}}}%
	      {decorate[irregular spiky border]{decorate{decorate{decorate{decorate[ragged border]{
	      -- (A.south west)
	      }}}}}}
	      -- (A.north west);
	  \end{pgfonlayer}}
	}{%
	\tikz{
	  \node[inner sep=1em] (A) {#1};  % Draw the text of the node
	  \begin{pgfonlayer}{background}  % Draw the shape behind
	  \fill[paper] % recursively decorate the bottom border
	     \pgfextra{\pgfmathsetseed{\arabic{mathseed}}\addtocounter{mathseed}{1}}%
	      {decorate[irregular spiky border]{decorate{decorate{decorate{decorate[ragged border]{
	        (A.north east) -- (A.north west)
	      }}}}}}
	      -- (A.south west)
	     \pgfextra{\pgfmathsetseed{\arabic{mathseed}}}%
	      {decorate[irregular cloudy border]{decorate{decorate{decorate{decorate[ragged border]{
	      -- (A.south east)
	      }}}}}}
	      -- (A.north east);
	  \end{pgfonlayer}}
	}}
	
	\begin{document}
	\begin{center}
	\noindent
	\tornpaper{
	\parbox{.9\textwidth}{\lipsum[11]}
	}
	
	\noindent
	\tornpaper{
	\parbox{.9\textwidth}{\lipsum[15]}
	}
	
	\noindent
	\tornpaper{
	\parbox{.9\textwidth}{\lipsum[5]}
	}
	\end{center}
	\end{document}
snippet beamer towers-of-hanoi
	%Towers of Hanoi illustrated and computed by TeX. The problem is solved in
	%TeX and for every move the situation is drawn. The idea and visualization were
	%by Martin Hofmann, Berteun Damman programmed the actual recursion.
	%
	% Authors: Martin Hofmann and Berteun Damman
	
	% This is needed for a hyperref/beamer interaction bug
	\RequirePackage{atbegshi}
	\documentclass{beamer}
	
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Towers of Hanoi
	:Tags: Beamer; Foreach; Macros; Mathematics; Computer Science;
	:Author: Martin Hofmann, Berteun Damman
	:Page: 9
	
	Towers of Hanoi illustrated and computed by TeX. The problem is solved in
	TeX and for every move the situation is drawn. The idea and visualization were
	by Martin Hofmann, Berteun Damman programmed the actual recursion.
	\end{comment}
	
	\usepackage{scalefnt}
	
	\hypersetup{pdfpagemode=FullScreen}
	\usetheme{Warsaw}
	
	\usepackage{tikz}
	\usetikzlibrary{shadows,patterns,shapes}
	
	% The logic for Hanoi, we record the discs at every pole
	% as a comma separated list ending with a '.'; i.e. the
	% starting list for 4 discs would be 1,2,3,4,.
	\newcount\ndiscs
	\def\initpoles#1{
	    \def\disclist{}
	    \foreach \n in {1,...,#1} {
	        \xdef\disclist{\disclist\n,}
	    }
	    \expandafter\xdef\csname pole 1\endcsname{\disclist.}
	    \expandafter\gdef\csname pole 2\endcsname{.}
	    \expandafter\gdef\csname pole 3\endcsname{.}
	}
	
	% Delimited macro; #1 is everything up to the first ',' and
	% #2 everything after it.
	\def\head#1,#2.{#1}
	\def\tail#1,#2.{#2}
	
	% This macro updates the disc lists, its arguments are the name
	% names of the macro's corresponding to the poles, for example
	% 'pole 1' and 'pole 3'.
	\def\movedisc#1#2{
	    \edef\lista{\csname #1\endcsname}
	    \edef\listb{\csname #2\endcsname}
	    \expandafter\xdef\csname #2\endcsname{\expandafter\head\lista,\listb}
	    \expandafter\xdef\csname #1\endcsname{\expandafter\tail\lista.}
	}
	
	% Updates the lists and then draws a new frame.
	\def\move#1#2{
	    \movedisc{pole #1}{pole #2}
	    \gdef\fmsg{\node[anchor=north] at (3.8,-.5) {Moved disc from pole #1 to pole #2.};}
	    \drawpoles
	}
	
	% This macro boils down to a well-known recursive solution, as given
	% here for example: http://en.wikipedia.org/wiki/Towers_of_Hanoi#Recursive_solution
	%
	% #1 Pole to move from
	% #2 Pole to move to
	% #3 Pole to use as scratch
	% #4 Number of disks
	\def\rhanoi#1#2#3#4{
	    \ifnum#4>1
	        {\advance#4 by -1 \rhanoi#1#3#2#4}
	        \move{#1}{#3}
	        {\advance#4 by -1 \rhanoi#2#1#3#4}
	    \else
	        \move{#1}{#3}
	    \fi
	}
	
	% Below is the TikZ code to draw the towers:
	\tikzset{
	    disc/.style={shade, shading=radial, rounded rectangle,minimum height=.5cm,
	        inner color=#1!20, outer color=#1!60!gray},
	    disc 1/.style={disc=yellow, minimum width=15mm},
	    disc 2/.style={disc=orange, minimum width=20mm},
	    disc 3/.style={disc=red, minimum width=25mm},
	    disc 4/.style={disc=green, minimum width=30mm},
	    disc 5/.style={disc=blue, minimum width=35mm},
	    disc 6/.style={disc=purple, minimum width=40mm},
	}
	
	% Define some colors, I don't like plain green and brown.
	\definecolor{darkgreen}{rgb}{0.2,0.55,0}
	\definecolor{darkbrown}{rgb}{0.375,0.25,0.125}
	
	\newcommand{\pole}{
	  \fill[darkbrown] (-1.6cm, 0) rectangle (1.6cm,0.25cm)
	    (-1.25mm,2.5mm) rectangle (1.25mm,4.25cm);
	}
	
	% Because the list starts with the topmost disc, we
	% use two recursive macro's to invert the drawing process.
	\newcount\curlevel
	
	% This macro checks whether the list is empty, if not,
	% it calls \rdrawdiscs which removes one element and
	% calls this one again.
	\def\drawdiscs#1.{
	    % If #1 is empty, this expands to \if.. which is true, otherwise
	    % we're safe to assume there's at least one element.
	    \expandafter\if#1..\else
	        \rdrawdiscs#1.
	        \advance\curlevel by 1\relax
	    \fi
	}
	
	\def\rdrawdiscs#1,#2.{
	    \drawdiscs#2.
	    {\edef\n{\the\curlevel}
	        % Draw the actual disk.
	        \node[disc #1,yshift={\n*5mm}] {#1};
	    }
	}
	
	\def\discs#1{
	    \curlevel=1
	    \expandafter\drawdiscs#1
	}
	
	% Draws the whole situation based on the lists.
	\def\drawpoles{
	    \begin{frame}{\ftitle}
	    \begin{tikzpicture}
	        \foreach \n/\x in {1/0cm,2/3.8cm,3/7.6cm} {
	            \begin{scope}[xshift=\x]
	                \pole
	                \expandafter\discs\csname pole \n\endcsname
	            \end{scope}
	        }
	        % Macro that either contains something like OK or
	        % the last move.
	        \fmsg
	        % We use this to prevent the picture from jumping between
	        % frames.
	        \useasboundingbox (-1.6cm,-1.2cm) rectangle (9.2cm,4.25cm);
	    \end{tikzpicture}
	    \end{frame}
	}
	
	% Main macro, inits the lists for the current number, sets a title
	% for the frame and starts the recursion.
	\def\hanoi#1{
	    \ndiscs=#1
	    \initpoles{#1}
	    \ifnum\ndiscs=1
	        \xdef\ftitle{Tower of Hanoi -- \the\ndiscs\ Disc}
	    \else
	        \xdef\ftitle{Tower of Hanoi -- \the\ndiscs\ Discs}
	    \fi
	    \gdef\fmsg{}
	    % Starting frame.
	    \drawpoles
	    % Recursion draws a new frame for every step.
	    \rhanoi{1}{2}{3}{\ndiscs}
	    % Final frame.
	    \gdef\fmsg{\node[] at (3.8,2.5) {\Huge\scalefont{2}\color{darkgreen}OK};}
	    \drawpoles
	}
	
	\begin{document}
	    \hanoi{1}
	    \hanoi{2}
	    \hanoi{3}
	    \hanoi{4}
	
	    % For 5 discs we don't show everything (although it could be done).
	    \ndiscs=5
	    \initpoles{5}
	    \def\ftitle{Tower of Hanoi -- \the\ndiscs\ Disc}
	    \def\fmsg{\node[cloud, draw, fill=gray!20, aspect=2] at (3.8,2.5) {\Huge\scalefont{2}?};}
	    \drawpoles
	\end{document}
snippet fadings transmission-electron-microscope
	% Transmission Electron Microscope System
	% Author: Eric Jensen
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Transmission Electron Microscope System
	:Tags: Fadings;Shadings;Optics
	:Author: Eric Jensen
	:Slug: transmission-electron-microscope
	The general Transmission Electron Microscope (TEM) system. At the top of the TEM is the source of the free electrons. Directly below the source is the condenser system. The condenser system focuses the electrons onto the sample. Below the sample is the objective lens and aperture which collect and convey the electrons to the projector system. The projector system (drawn here as a large lens) usually consists of 2-3 lenses and 1-3 apertures. The imaging surface shown here could be a phosphor screen or the entrance to a CCD camera imaging system.
	\end{comment}
	\usetikzlibrary{calc, decorations.pathmorphing, fadings, shadings}
	
	\begin{document}
	\begin{tikzpicture}
		\draw[gray,fill=gray,path fading=south] (0,0) rectangle +(0.3,-0.3);% <- MAGIC
			% (if this is not present none of the shadings work)
	
		%top
		\shade[left color=black!10!white,right color=black!40!white] (-1,0.75)
			-- ++(2,0) -- ++(0.25,-0.25) -- ++(-2.5,0) -- cycle;
		\draw (-1,0.75) -- ++(2,0) -- ++(0.25,-0.25) -- ++(-2.5,0) -- cycle;
	
		%source
		\shade[left color=black!10!white,right color=black!40!white] (1.25,0.5)
			-- ++(0,-1.75) -- ++(-2.5,0) -- ++(0,1.75) -- cycle;
		\draw (1.25,0.5) -- ++(0,-1.75) -- ++(-2.5,0) -- ++(0,1.75) -- cycle;
	
		%top condenser system
		\shade[left color=black!10!white,right color=black!40!white] (1.25,-1.25)
			-- ++(0.25,-0.25) -- ++(-3,0) -- ++(0.25,0.25) -- cycle;
		\draw (1.25,-1.25) -- ++(0.25,-0.25) -- ++(-3,0) -- ++(0.25,0.25) -- cycle;
	
		%condenser system
		\shade[left color=black!10!white,right color=black!40!white] (1.5,-1.5)
			-- ++(0,-2) -- ++(-3,0) -- ++(0,2) -- cycle;
		\draw (1.5,-1.5) -- ++(0,-2) -- ++(-3,0) -- ++(0,2) -- cycle;
	
		%condenser bottom
		\shade[left color=black!10!white,right color=black!40!white] (1.5,-3.5)
			-- ++(-0.25,-0.25) -- ++(-2.5,0) -- ++(-0.25,0.25) -- cycle;
		\draw (1.5,-3.5) -- ++(-0.25,-0.25) -- ++(-2.5,0) -- ++(-0.25,0.25) -- cycle;
	
		%specimen and objective
		\shade[left color=black!10!white,right color=black!40!white] (1.25,-3.75)
			-- ++(0,-2.5) -- ++(-2.5,0) -- ++(0,2.5) -- cycle;
		\draw (1.25,-3.75) -- ++(0,-2.5) -- ++(-2.5,0) -- ++(0,2.5) -- cycle;
	
		%projector system top
		\shade[left color=black!10!white,right color=black!40!white] (1.25,-6.25)
			-- ++(0.25,-0.25) -- ++(-3,0) -- ++(0.25,0.25) -- cycle;
		\draw (1.25,-6.25) -- ++(0.25,-0.25) -- ++(-3,0) -- ++(0.25,0.25) -- cycle;
	
		%projector system
		\shade[left color=black!10!white,right color=black!40!white] (1.5,-6.5)
			-- ++(0,-1.5) -- ++(-3,0) -- ++(0,1.5) -- cycle;
		\draw (1.5,-6.5) -- ++(0,-1.5) -- ++(-3,0) -- ++(0,1.5) -- cycle;
	
		%image
		\shade[left color=black!10!white,right color=black!40!white] (1.5,-8)
			-- ++(1,-1.5) -- ++(0,-0.75) -- ++(-5,0) -- ++(0,0.75) -- ++(1,1.5) -- cycle;
		\draw (1.5,-8) -- ++(1,-1.5) -- ++(0,-0.75) -- ++(-5,0) -- ++(0,0.75)
			-- ++(1,1.5) -- cycle;
	
		%sample entrance
		\shade[left color=black!10!white,right color=black!40!white] (-1.25,-4.5)
			-- ++(-0.5,0) -- ++(-0.2,-0.2) -- ++(0,-0.6) -- ++(0.2,-0.2)
			-- ++(0.5,0) -- cycle;
		\draw (-1.25,-4.5) -- ++(-0.5,0) -- ++(-0.2,-0.2) -- ++(0,-0.6)
			-- ++(0.2,-0.2)  -- ++(0.5,0) -- cycle;
	
		%sample holder
		\draw[fill=black] (-1.95,-4.8) -- ++(-0.08,0) -- ++(-0.02,-0.02)
			-- ++(0,-0.36) -- ++(0.02,-0.02) -- ++(0.08,0) -- cycle;
	
		%inside
		\begin{scope}
			\path[clip,decoration={random steps, segment length=6pt, amplitude=2pt},
				decorate] (0,0.5) -- ++(0.4,0) -- ++(0.4,-0.4) -- ++(0,-8.5)
				-- ++(1,-1.3) -- ++(-0.4,-0.4) -- ++(-2.8,0) -- ++(-0.4,0.4)
				-- ++(1,1.3) -- ++(0,8.5) -- ++(0.4,0.4) -- cycle;
			\shade[left color=black!40!white,right color=black!10!white] (-1,0.75)
				-- ++(2,0) -- ++(0.25,-0.25) -- ++(0,-1.75) -- ++(0.25,-0.25) -- ++(0,-2)
				-- ++(-0.25,-0.25) -- ++(0,-2.5) -- ++(0.25,-0.25) -- ++(0,-1.5)
				-- ++(1,-1.5) -- ++(0,-0.75) -- ++(-5,0) -- ++(0,0.75) -- ++(1,1.5)
				-- ++ (0,1.5) -- ++(0.25,0.25) -- ++(0,2.5) -- ++(-0.25,0.25) -- ++(0,2)
				-- ++(0.25,0.25) -- ++(0,1.75) -- cycle;
	 
	 	%source
		\draw (-0.25,0.15) -- ++(0,-0.05) .. controls +(0,-0.08) and +(-0.08,0)
			.. ++(0.1,-0.1) -- ++(0.05,0) .. controls +(0.08,0) and +(0,0.08)
			.. ++(0.1,-0.1) .. controls +(0,0.08) and +(-0.08,0) .. ++(0.1,0.1) --
			++(0.05,0) .. controls +(0.08,0) and +(0,-0.08) .. ++(0.1,0.1) -- ++(0,0.05);
	
		%C1
		\draw[fill=brown!80!yellow] (-0.4,-1.75) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (-0.4,-1.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (-0.4,-1.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (-0.4,-1.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
		\draw[fill=brown!80!yellow] (0.9,-1.75) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (0.9,-1.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (0.9,-1.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (0.9,-1.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
	
		%C2
		\draw[fill=brown!80!yellow] (-0.4,-2.75) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (-0.4,-2.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (-0.4,-2.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (-0.4,-2.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
		\draw[fill=brown!80!yellow] (0.9,-2.75) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (0.9,-2.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (0.9,-2.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (0.9,-2.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
	
		%condenser aperture
		\draw[fill=black] (-1,-3.45) -- ++(0.6,0) -- ++(-0.1,-0.1)
			-- ++(-0.5,0) -- cycle;
		\draw[fill=black] (1,-3.45) -- ++(-0.6,0) -- ++(0.1,-0.1)
			-- ++(0.5,0) -- cycle;
	
		%specimen
		\draw[fill=brown!70!yellow] (-1,-4.95) -- ++(0.75,0) -- ++(0.05,-0.045)
			-- ++(0,-0.01) -- ++(-0.05,-0.045) -- ++(-0.75,0) -- cycle;
		\draw[fill=black] (-0.2,-4.995) -- ++(0.4,0) -- ++(0,-0.01)
			-- ++(-0.4,0) -- cycle;
			
		%objective
		\draw[fill=brown!80!yellow] (-0.4,-5.25) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (-0.4,-5.25) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (-0.4,-5.25) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (-0.4,-5.25) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
		\draw[fill=brown!80!yellow] (0.9,-5.25) -- ++(-0.5,0) -- ++(0,-0.5)
			-- ++(0.5,0) -- cycle;
		\draw (0.9,-5.25) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.42)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (0.9,-5.25) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.42) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.42}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (0.9,-5.25) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
			
		%objective aperture
		\draw[fill=black] (-1,-5.95) -- ++(0.7,0) -- ++(-0.1,-0.1)
			-- ++(-0.6,0) -- cycle;
		\draw[fill=black] (1,-5.95) -- ++(-0.7,0) -- ++(0.1,-0.1)
			-- ++(0.6,0) -- cycle;
			
			
	
		%projector system
		\draw[fill=brown!80!yellow] (-0.4,-6.75) -- ++(-0.5,0)
			-- ++(0,-1) -- ++(0.5,0) -- cycle;
		\draw (-0.4,-6.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.92)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (-0.4,-6.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.92) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.92}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (-0.4,-6.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
		\draw[fill=brown!80!yellow] (0.9,-6.75) -- ++(-0.5,0) -- ++(0,-1)
			-- ++(0.5,0) -- cycle;
		\draw (0.9,-6.75) ++(-0.04,-0.04) -- ++(-0.42,0) -- ++(0,-0.92)
			-- ++(0.42,0) -- cycle;
		\begin{scope}
			\path[clip,draw] (0.9,-6.75) ++(-0.04,-0.04) -- ++(-0.42,0)
				-- ++(0,-0.92) -- ++(0.42,0) -- cycle;
			\foreach \j in {-0.07,-0.14,...,-0.92}
				\foreach \i in {-0.07,-0.14,...,-0.42} {
					\draw[fill=brown!40!yellow] (0.9,-6.75) ++(-0.04,-0.04)
						++(0.035,0.035) ++(\i,\j) circle (0.035);
				}
		\end{scope}
	
		%image
		\draw[fill=gray] (2,-10) -- ++(0,-0.2) -- ++(-4,0) -- ++(0,0.2) -- cycle;
			
		%beam
		\draw[blue] (0,-0.1) ++(260:0.3) -- (-0.3,-2) -- ++(0.6,-1) -- ++(-0.3,-2)
			-- ++(-0.3,-0.5) -- ++(0.35,-1.25);
		\draw[blue] (0,-0.1) ++(280:0.3) -- (0.3,-2) -- ++(-0.6,-1) -- ++(0.3,-2)
			-- ++(0.3,-0.5) -- ++(-0.35,-1.25);
		\draw[blue] (-0.3,-7.75) -- ++(-1,-2.25);
		\draw[blue] (0.3,-7.75) -- ++(1,-2.25);
		\draw[blue,dash pattern=on 4pt off 1pt on 1pt off 1pt on 1pt off 1pt]
			(0,-0.4) -- (0,-10);
	
		\end{scope}
	
		%labels
		\draw (2,0) node[right] {source};
		\draw (-2,-2) node[left] {C1};
		\draw (-2,-3) node[left] {C2};
		\draw (-2,-3.5) node[left] {condenser aperture};
		\draw (2,-2.5) node[right] {condenser system};
		\draw (2,-5) node[right] {sample};
		\draw (-2.3,-5) node[left] {sample holder};
		\draw (2,-5.5) node[right] {objective lens};
		\draw (2,-6) node[right] {objective aperture};
		\draw (2,-7.25) node[right] {projector system};
		\draw (3,-10) node[right] {imaging};
	
		\end{tikzpicture}
	\end{document}
snippet overlays transparent-png-overlay
	\documentclass[a5paper]{article}
	
	% Requires PGF >=  1.09
	% Note:
	%   This example works only with pdftex >= 1.30.0
	%   You have to run pdftex on the example twice!
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Transparent PNG overlay 
	:Tags: Overlays, Transparency
	
	Version 1.09 of PGF/TikZ introduced the special ``current page`` node, that can be used 
	for absolute positioning of elements on the current page. In this example I've overlayed 
	the page with a transparent PNG image to achieve an interesting effect.
	
	The example requires PDFTeX >= 1.30.0, and the document has to be compiled twice. Download the
	image used as overlay here: rblend.png__
	
	.. __: http://www.fauskes.net/media/pgftikzexamples/img/rblend.png
	
	\end{comment}
	
	\usepackage{amsmath}
	\usepackage{tikz}
	
	\begin{document}
	\thispagestyle{empty}
	
	Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec luctus 
	mollis nisl. Nullam tempor, diam non tincidunt tincidunt, nunc tortor 
	elementum odio, nec iaculis urna leo a eros. Lorem ipsum dolor sit amet,
	consectetuer adipiscing elit. Sed elit elit, pellentesque et, 
	sollicitudin a, imperdiet eget, tellus. Vestibulum et sapien. Maecenas 
	libero. Vivamus vel metus in ipsum ultricies commodo. Donec quam. Fusce 
	arcu. In est felis, sagittis vitae, vehicula ut, tristique vitae, eros. 
	Mauris ut lorem vel risus posuere elementum. Quisque volutpat ornare lorem. 
	Integer porta.
	\begin{multline}\label{eq:steeringfull}
	    \begin{bmatrix}
	        m-Y_{\dot{v}} & Y_{\dot{r}} & 0\\
	        -N_{\dot{v}} & I_z-N_{\dot{r}} & 0\\
	        0 & 0 & 1
	    \end{bmatrix}
	    \begin{bmatrix}
	        \dot{v} \\ \dot{r}\\ \dot{\psi}
	    \end{bmatrix}\\ +
	    \begin{bmatrix}
	        -Y_v & -Y_r+mu_0\\
	        -N_v & -N_r & 0\\
	        0 & -1 & 0
	    \end{bmatrix}
	    \begin{bmatrix}
	        v \\ r \\ \psi
	    \end{bmatrix} =
	    \begin{bmatrix}
	        Y_\delta \\ N_\delta \\ 0
	    \end{bmatrix}\delta_r
	\end{multline}
	
	Donec ut neque vel leo sagittis tristique. Cras et justo. Mauris lorem 
	purus, sagittis eu, consectetuer et, lacinia et, augue. Ut in velit in 
	diam semper rutrum. Nunc rhoncus. Cras tincidunt. Aenean nec quam. In commodo
	sem ac nulla. Donec fermentum metus non nisl sagittis sagittis. Vestibulum 
	sit amet nunc. Vivamus dapibus congue purus. Quisque arcu tellus, 
	pellentesque ac, tincidunt lobortis, commodo ac, purus.
	
	
	% Start of the interesting part
	% If you place the code at the beginning of the page, the image will be
	% put behind the text.
	%
	% The overlay option removes the picture from the ordinary page flow. 
	\begin{tikzpicture}[remember picture, overlay]
	    \node[inner sep=0pt] at (current page.center) {%
	        \includegraphics[width=\paperwidth,height=\paperheight]{img/rblend}%
	    };%
	\end{tikzpicture}
	
	
	\end{document}
snippet transparency transparent-shadows
	% Author: Dawid Weiss (http://www.dawidweiss.com/)
	\documentclass[a5paper]{article}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Transparent shadows
	:Tags: Transparency, Text and math
	
	An interesting technique for creating text boxes with soft semitransparent shadows.
	Can for instance be used to spice up a Beamer presentation. 
	The shadows are created by drawing a series of rectangles with varying transparency.
	
	:Author: `Dawid Weiss`_
	:Source: The `Latex-beamer-users`_ mailing list
	
	.. _Latex-beamer-users: http://www.nabble.com/Transparent-shadows-under-boxes.-tf3999121.html#a11357827
	.. _Dawid Weiss: http://www.dawidweiss.com/
	\end{comment}
	
	\usepackage[absolute,overlay]{textpos}
	\usepackage{graphicx}
	\usepackage{tikz}
	
	%
	% Boxed environment with semi-transparent shadow.
	%
	\newlength{\boxw}
	\newlength{\boxh}
	\newlength{\shadowsize}
	\newlength{\boxroundness}
	\newlength{\tmpa}
	\newsavebox{\shadowblockbox}
	
	\setlength{\shadowsize}{6pt}
	\setlength{\boxroundness}{3pt}
	
	\newenvironment{shadowblock}[1]%
	{\begin{lrbox}{\shadowblockbox}\begin{minipage}{#1}}%
	{\end{minipage}\end{lrbox}%
	\settowidth{\boxw}{\usebox{\shadowblockbox}}%
	\settodepth{\tmpa}{\usebox{\shadowblockbox}}%
	\settoheight{\boxh}{\usebox{\shadowblockbox}}%
	\addtolength{\boxh}{\tmpa}%
	\begin{tikzpicture}
	    \addtolength{\boxw}{\boxroundness * 2}
	    \addtolength{\boxh}{\boxroundness * 2}
	
	    \foreach \x in {0,.05,...,1}
	    {
	        \setlength{\tmpa}{\shadowsize * \real{\x}}
	        \fill[xshift=\shadowsize - 1pt,yshift=-\shadowsize + 1pt,
	                black,opacity=.04,rounded corners=\boxroundness]
	            (\tmpa, \tmpa) rectangle +(\boxw - \tmpa - \tmpa,
	                \boxh - \tmpa - \tmpa);
	    }
	
	    \filldraw[fill=yellow!50, draw=black!50, rounded corners=\boxroundness]
	        (0, 0) rectangle (\boxw, \boxh);
	    \draw node[xshift=\boxroundness,yshift=\boxroundness,
	        inner sep=0pt,outer sep=0pt,anchor=south west]
	             (0,0) {\usebox{\shadowblockbox}};
	\end{tikzpicture}}
	
	\begin{document}
	
	%
	% We prepare a transparent box first.
	%
	\newsavebox{\mybox}
	\begin{lrbox}{\mybox}
	\begin{shadowblock}{5cm}
	This is a block of text with a transparent
	shadow!
	\end{shadowblock}
	\end{lrbox}
	
	%
	% Over existing text
	%
	Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus in nunc
	tincidunt sapien sodales tincidunt. Nulla posuere semper nunc. Duis lacinia
	libero non arcu. Nam quis eros id tortor ultricies fermentum. Aenean vulputate
	adipiscing nulla. Etiam fermentum elit ut est. Duis at est at enim imperdiet
	vestibulum. In risus dui, malesuada eu, fermentum vel, adipiscing sodales, eros.
	Praesent egestas. Aliquam auctor. Maecenas vulputate mollis est. Nam varius. Nam
	%auctor fermentum tellus. Curabitur lacus sapien, scelerisque vulputate,
	%consectetuer laoreet, fringilla laoreet, tellus. Duis dignissim est non mauris.
	%Nam magna velit, pulvinar vel.
	
	\raisebox{2cm}[0pt][0pt]{\makebox[0pt]{\usebox{\mybox}}}
	
	
	%
	% Over a picture.
	%
	\noindent\includegraphics[width=\linewidth]{img/pipeauv}\\
	\hspace*{4cm}\raisebox{1cm}[0pt][0pt]{\makebox[0pt]{\usebox{\mybox}}}
	
	
	%
	% Absolute positioning with textpos
	%
	
	\begin{textblock}{4}(2,5.2)
	\begin{shadowblock}{4cm}
	And a small one on top of it.
	\end{shadowblock}
	\end{textblock}
	
	\begin{textblock}{4}(0,4.5)
	\begin{shadowblock}{4cm}
	Absolutely positioned box with a lot of text.
	Absolutely positioned box with a lot of text.
	Absolutely positioned box with a lot of text.
	Absolutely positioned box with a lot of text.
	\end{shadowblock}
	\end{textblock}
	
	\end{document}
snippet mechanics transversal-loads
	% Transversal loads
	% Author: Marco Castelli
	\documentclass[border=10pt]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Transversal loads
	:Tags: Mechanics;Physics
	:Author: Marco Castelli
	:Slug: transversal-loads
	Transversal loads and bending moment on a cross section,
	created with TikZ using the structuralanalysis package.
	\end{comment}
	\usepackage{siunitx}
	\usepackage{structuralanalysis}
	\renewcommand*{\familydefault}{\sfdefault}
	\begin{document}
	\begin{tikzpicture}[every node/.append style = {font=\sffamily}]
		\point{a}{0}{2.4};
		\point{b}{2}{2.4};
		\point{c}{10}{2.4};
		\point{d}{12}{2.4};
		\point{e}{4}{0};
		\point{f}{8}{0};
		\beam{4}{a}{d}[0][0];
		\beam{4}{b}{e}[1][1];
		\beam{4}{e}{f}[1][1];
		\beam{4}{f}{c}[1][1];
		\point{asf1}{0.75}{2.6};
		\point{asf2}{11.25}{2.6};
		\point{asfT}{6}{2.4};
		\lineload{1}{asf1}{asf2}[0.4][0.4];
		\notation{1}{asfT}{Manto stradale}[above];
		\point{cord1}{0}{2.6};
		\point{cord2}{0.75}{2.6};
		\point{cordT1}{0.375}{2.4};
		\lineload{1}{cord1}{cord2}[0.4][0.4];
		\notation{1}{cordT1}{Securvia}[above];
		\point{cord3}{11.25}{2.6};
		\point{cord4}{12}{2.6};
		\point{cordT2}{11.655}{2.4};
		\lineload{1}{cord3}{cord4}[0.4][0.4];
		\notation{1}{cordT2}{Securvia}[above];
		\point{L21}{1.5}{3.3};
		\point{L22}{4.5}{3.3};
		\point{L2T1}{1.5}{3.9};
		\lineload{1}{L21}{L22}[0.6][0.6];
		\notation{1}{L2T1}{$\SI{2.5}{\kN\per\square\m}$}[left];
		\point{L23}{7.5}{3.3};
		\point{L24}{10.5}{3.3};
		\point{L2T2}{10.5}{3.9};
		\lineload{1}{L23}{L24}[0.6][0.6];
		\notation{1}{L2T2}{$\SI{2.5}{\kN\per\square\m}$}[right];
		\point{L91}{4.5}{3.3};
		\point{L92}{7.5}{3.3};
		\point{L9T}{7.5}{5};
		\lineload{1}{L91}{L92}[2.16][2.16];
		\notation{1}{L9T}{$\SI{9}{\kN\per\square\m}$}[right];
		\point{f1}{2}{5.76};
		\point{f2}{4}{5.76};
		\point{f3}{5}{5.76};
		\point{f4}{7}{5.76};
		\point{f5}{8}{5.76};
		\point{f6}{10}{5.76};
		\point{f7}{0.375}{5.76};
		\point{f8}{11.625}{5.76};
		\point{f1T}{3}{6.56};
		\point{f2T}{6}{6.56};
		\point{f3T}{9}{6.56};
		\point{f4T}{0.375}{6.56};
		\point{f5T}{11.625}{6.56};
		\load{1}{f1}[90][1][0.3];
		\load{1}{f2}[90][1][0.3];
		\load{1}{f3}[90][1][0.3];
		\load{1}{f4}[90][1][0.3];
		\load{1}{f5}[90][1][0.3];
		\load{1}{f6}[90][1][0.3];
		\load{1}{f7}[90][1][0.3];
		\load{1}{f8}[90][1][0.3];
		\notation{1}{f1T}{$\num{2}\times\SI{100}{\kN}$}[];
		\notation{1}{f2T}{$\num{2}\times\SI{150}{\kN}$}[];
		\notation{1}{f3T}{$\num{2}\times\SI{50}{\kN}$}[];
		\notation{1}{f4T}{$\SI{1.5}{\kN}$}[left];
		\notation{1}{f5T}{$\SI{1.5}{\kN}$}[right];
	\end{tikzpicture}
	\end{document}
snippet random tree-pic
	% Drawing a tree several times using the PGF 3.0 pic feature
	% Authors: Kate, Ignasi
	\documentclass[tikz]{standalone}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Drawing trees
	:Tags: Random;Pic;PGF 3.0;Decorative drawings
	:Author: Ignasi
	:Slug: tree-pic
	
	PGF 3.0 introduces `pic`, a "short picture" which can be inserted
	in any place of a tikzpicture.
	
	From the manual: A “pic” is a “short picture” (hence the short name...) that
	can be inserted anywhere in TikZ picture where you could also insert a node.
	Similarly to nodes, pics have a “shape” (called `type` to avoid confusion) that
	someone has defined. Each time a pic of a specified type is used, the type’s
	code is executed, resulting in some drawings to be added to the current picture.
	The syntax for adding nodes and adding pics to a picture are also very similar.
	The core difference is that pics are typically more complex than nodes and may
	consist of a whole bunch of nodes themselves together with complex paths
	joining them.
	
	Here we use the pic feature for drawing a tree several times.
	
	The code was written by Kate and Ignasi and published on TeX.SE.
	\end{comment}
	\usetikzlibrary{decorations.pathmorphing,calc,shapes,shapes.geometric,patterns}
	\tikzset{
	  treetop/.style = {decoration={random steps, segment length=0.4mm}, decorate},
	  trunk/.style   = {decoration={random steps, segment length=2mm,
	                    amplitude=0.2mm}, decorate}}
	
	\tikzset{
	   my tree/.pic={
	     \foreach \w/\f in {0.3/30,0.2/50,0.1/70} {
	       \fill [brown!\f!black, trunk] (-\w/2,0) rectangle +(\w,3);
	     }
	     \foreach \n/\f in {1.4/40,1.2/50,1/60,0.8/70,0.6/80,0.4/90} {
	       \fill [green!\f!black, treetop](0,3) ellipse (\n/1.5 and \n);
	     }
	   }
	}
	\begin{document}
	\begin{tikzpicture}
	  \shade[bottom color=cyan!60!black, top color=blue!20!white] (0,0)
	    rectangle (10,10);
	  \pic at (2,2)    {my tree};
	  \pic at (4,2.5)  {my tree};
	  \pic at (6,1.75) {my tree};
	\end{tikzpicture}
	\end{document}
snippet trees tree
	% A simple Tree
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A simple Tree
	:Tags: Trees;Cookbook
	:Author: Stefan Kottwitz
	:Slug: tree
	
	A simple tree with a style for all nodes.
	\end{comment}
	
	\usepackage{tikz}
	\begin{document}
	\begin{tikzpicture}[sibling distance=10em,
	  every node/.style = {shape=rectangle, rounded corners,
	    draw, align=center,
	    top color=white, bottom color=blue!20}]]
	  \node {Formulas}
	    child { node {single-line} }
	    child { node {multi-line}
	      child { node {aligned at}
	        child { node {relation sign} }
	        child { node {several places} }
	        child { node {center} } }
	      child { node {first left,\\centered,\\last right} } };
	\end{tikzpicture}
	\end{document}
snippet foreach trigonometric-hexagon
	% A hexagon for memorizing trigonometric identities
	% Author: Josef Nilsen
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: A hexagon for memorizing trigonometric identities
	:Tags: Foreach, Paths,Mathematics
	:Author: Josef Nilsen
	:Slug: trigonometric-hexagon
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[scale=4,cap=round,>=latex]
	% Radius of regular polygons
	  \newdimen\R
	  \R=0.8cm
	  \coordinate (center) at (0,0);
	 \draw (0:\R)
	     \foreach \x in {60,120,...,360} {  -- (\x:\R) }
	              -- cycle (300:\R) node[below] {$\csc \theta$}
	              -- cycle (240:\R) node[below] {$\sec \theta$}
	              -- cycle (180:\R) node[left] {$\tan \theta$}
	              -- cycle (120:\R) node[above] {$\sin \theta$}
	              -- cycle (60:\R) node[above] {$\cos \theta$}
	              -- cycle (0:\R) node[right] {$\cot \theta$};
	  \draw { (60:\R) -- (120:\R) -- (center) -- (60:\R) } [fill=gray];
	  \draw { (180:\R) -- (240:\R) -- (center) -- (180:\R) } [fill=gray];
	  \draw { (0:\R) -- (300:\R) -- (center) -- (0:\R) }  [fill=gray];
	   \R=0.1cm
	  \draw (0:\R) \foreach \x in {60,120,...,360} { -- (\x:\R) }
	    [fill=white] -- cycle (center) node {1};
	\end{tikzpicture}
	\end{document}
snippet 3d truncated-cone
	% Truncated Cone
	% Author: Mathias Magdowski
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength{\PreviewBorder}{10pt}%
	%%%>
	\begin{comment}
	:Title: Truncated Cone
	:Tags: 3D;Angles;Annotations;Basics;Mathematics;Geometry
	:Author: Mathias Magdowski
	:Slug: truncated-cone
	The graphic shows a truncated cone. The diameter of the cone changes from d_1 to d_2 along the x-direction.
	\end{comment}
	\usetikzlibrary{calc}
	\usepackage{amssymb}
	
	\begin{document}
	\begin{tikzpicture}
		\draw[dashed,color=gray] (0,0) arc (-90:90:0.5 and 1.5);% right half of the left ellipse
		\draw[semithick] (0,0) -- (4,1);% bottom line
		\draw[semithick] (0,3) -- (4,2);% top line
		\draw[semithick] (0,0) arc (270:90:0.5 and 1.5);% left half of the left ellipse
		\draw[semithick] (4,1.5) ellipse (0.166 and 0.5);% right ellipse
		\draw (-1,1.5) node {$\varnothing d_1$};
		\draw (3.3,1.5) node {$\varnothing d_2$};
		\draw[|-,semithick] (0,-0.5) -- (4,-0.5);
		\draw[|->,semithick] (4,-0.5) -- (4.5,-0.5);
		\draw (0,-1) node {$x=0$};
		\draw (4,-1) node {$x=l$};
	\end{tikzpicture}
	\end{document}
snippet chains turing-machine-2
	% Turing Machine
	% Author: Sebastian Sardina
	\documentclass[a4paper,10pt]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Turing Machine
	:Tags: Chains;Computer science
	:Author: Sebastian Sardina
	:Slug: turing-machine-2
	Partly based on Ludger Humbert's pics of Unviersal Turing Machine at
	https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2/turingmaschine-schema.tex
	\end{comment}
	\usetikzlibrary{chains,fit,shapes}
	\begin{document}
	\begin{tikzpicture}
	\tikzstyle{every path}=[very thick]
	
	\edef\sizetape{0.7cm}
	\tikzstyle{tmtape}=[draw,minimum size=\sizetape]
	\tikzstyle{tmhead}=[arrow box,draw,minimum size=.5cm,arrow box
	arrows={east:.25cm, west:0.25cm}]
	
	%% Draw TM tape
	\begin{scope}[start chain=1 going right,node distance=-0.15mm]
	    \node [on chain=1,tmtape,draw=none] {$\ldots$};
	    \node [on chain=1,tmtape] {};
	    \node [on chain=1,tmtape] (input) {b};
	    \node [on chain=1,tmtape] {b};
	    \node [on chain=1,tmtape] {a};
	    \node [on chain=1,tmtape] {a};
	    \node [on chain=1,tmtape] {a};
	    \node [on chain=1,tmtape] {a};
	    \node [on chain=1,tmtape] {};
	    \node [on chain=1,tmtape,draw=none] {$\ldots$};
	    \node [on chain=1] {\textbf{Input/Output Tape}};
	\end{scope}
	
	%% Draw TM Finite Control
	\begin{scope}
	[shift={(3cm,-5cm)},start chain=circle placed {at=(-\tikzchaincount*60:1.5)}]
	\foreach \i in {q_0,q_1,q_2,q_3,\ddots,q_n}
		\node [on chain] {$\i$};
	
	% Arrow to current state
	\node (center) {};
	\draw[->] (center) -- (circle-2);
	
	\node[rounded corners,draw=black,thick,fit=(circle-1) (circle-2) (circle-3) 
	      (circle-4) (circle-5) (circle-6),
				label=below:\textbf{Finite Control}] (fsbox)
			{};
	\end{scope}
	
	%% Draw TM head below (input) tape cell
	\node [tmhead,yshift=-.3cm] at (input.south) (head) {$q_1$};
	
	%% Link Finite Control with Head
	\path[->,draw] (fsbox.north) .. controls (4.5,-1) and (0,-2) .. node[right] 
				(headlinetext)
	 			{} 
				(head.south);
	\node[xshift=3cm] at (headlinetext)  
				{\begin{tabular}{c} 
					\textbf{Reading and Writing Head} \\  
					\textbf{(moves in both directions)} 
				 \end{tabular}};
	
	\end{tikzpicture}
	\end{document}
snippet machine turing-machine
	% Author: Ludger Humbert <https://haspe.homeip.net/cgi-bin/pyblosxom.cgi>
	% Source: 
	% https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2/turingmaschine-schema.tex
	%
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes.arrows,chains}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Turing machine
	:Slug: turing-machine
	
	An illustration of an `universal Turing machine`_.
	
	.. _universal Turing machine: http://en.wikipedia.org/wiki/Universal_Turing_machine
	
	:Source: `https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2`__
	
	.. __: https://haspe.homeip.net/projekte/ddi/browser/tex/pgf2
	.. _Ludger Humbert: https://haspe.homeip.net/cgi-bin/pyblosxom.cgi
	\end{comment}
	
	\usepackage[ngerman]{babel}
	
	
	% serifenfreier Font -- fuer Praesentation geeignet/er
	\renewcommand\familydefault{\sfdefault} 
	
	\listfiles % damit im Log alle benutzten Pakete aufgelistet werden
	
	\begin{document}
	
	\begin{tikzpicture}[
	      start chain=1 going right,start chain=2 going below,node distance=-0.15mm
	    ]
	    \node [on chain=2] {Tape};
	    \node [on chain=1] at (-1.5,-.4) {\ldots};  
	    \foreach \x in {1,2,...,11} {
	        \x, \node [draw,on chain=1] {};
	    } 
	    \node [name=r,on chain=1] {\ldots}; 
	    \node [name=k, arrow box, draw,on chain=2,
	        arrow box arrows={east:.25cm, west:0.25cm}] at (-0.335,-.65) {};    
	    \node at (1.5,-.85) {Read/write head};
	    \node [on chain=2] {};
	    \node [draw,on chain=2] {Program};
	    \chainin (k) [join]; % Verbindung vom Programm zum Leseschreibkopf
	\end{tikzpicture}
	
	\end{document}
snippet manual tutorial
	% Author: Till Tantau
	% Source: The PGF/TikZ manual
	\documentclass{minimal}
	
	\usepackage{tikz}
	%\usetikzlibrary{trees,snakes}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: A picture for Karl's students
	:Slug: tutorial
	:Tags: Manual
	
	This example is from the tutorial: A picture for Karl's students.
	
	| Author: Till Tantau
	| Source: The PGF/TikZ manual
	
	
	\end{comment}
	
	\begin{tikzpicture}[scale=3,cap=round]
	  % Local definitions
	  \def\costhirty{0.8660256}
	
	  % Colors
	  \colorlet{anglecolor}{green!50!black}
	  \colorlet{sincolor}{red}
	  \colorlet{tancolor}{orange!80!black}
	  \colorlet{coscolor}{blue}
	
	  % Styles
	  \tikzstyle{axes}=[]
	  \tikzstyle{important line}=[very thick]
	  \tikzstyle{information text}=[rounded corners,fill=red!10,inner sep=1ex]
	
	  % The graphic
	  \draw[style=help lines,step=0.5cm] (-1.4,-1.4) grid (1.4,1.4);
	
	  \draw (0,0) circle (1cm);
	
	  \begin{scope}[style=axes]
	    \draw[->] (-1.5,0) -- (1.5,0) node[right] {$x$};
	    \draw[->] (0,-1.5) -- (0,1.5) node[above] {$y$};
	
	    \foreach \x/\xtext in {-1, -.5/-\frac{1}{2}, 1}
	      \draw[xshift=\x cm] (0pt,1pt) -- (0pt,-1pt) node[below,fill=white]
	            {$\xtext$};
	
	    \foreach \y/\ytext in {-1, -.5/-\frac{1}{2}, .5/\frac{1}{2}, 1}
	      \draw[yshift=\y cm] (1pt,0pt) -- (-1pt,0pt) node[left,fill=white]
	            {$\ytext$};
	  \end{scope}
	
	  \filldraw[fill=green!20,draw=anglecolor] (0,0) -- (3mm,0pt) arc(0:30:3mm);
	  \draw (15:2mm) node[anglecolor] {$\alpha$};
	
	  \draw[style=important line,sincolor]
	    (30:1cm) -- node[left=1pt,fill=white] {$\sin \alpha$} +(0,-.5);
	
	  \draw[style=important line,coscolor]
	    (0,0) -- node[below=2pt,fill=white] {$\cos \alpha$} (\costhirty,0);
	
	  \draw[style=important line,tancolor] (1,0) --
	    node [right=1pt,fill=white]
	    {
	      $\displaystyle \tan \alpha \color{black}=
	      \frac{{\color{sincolor}\sin \alpha}}{\color{coscolor}\cos \alpha}$
	    } (intersection of 0,0--30:1cm and 1,0--1,1) coordinate (t);
	
	  \draw (0,0) -- (t);
	
	  \draw[xshift=1.85cm] node [right,text width=6cm,style=information text]
	    {
	      The {\color{anglecolor} angle $\alpha$} is $30^\circ$ in the
	      example ($\pi/6$ in radians). The {\color{sincolor}sine of
	        $\alpha$}, which is the height of the red line, is
	      \[
	      {\color{sincolor} \sin \alpha} = 1/2.
	      \]
	      By the Theorem of Pythagoras we have ${\color{coscolor}\cos^2 \alpha} +
	      {\color{sincolor}\sin^2\alpha} =1$. Thus the length of the blue
	      line, which is the {\color{coscolor}cosine of $\alpha$}, must be
	      \[
	      {\color{coscolor}\cos\alpha} = \sqrt{1 - 1/4} = \textstyle
	      \frac{1}{2} \sqrt 3.
	      \]%
	      This shows that {\color{tancolor}$\tan \alpha$}, which is the
	      height of the orange line, is
	      \[
	      {\color{tancolor}\tan\alpha} = \frac{{\color{sincolor}\sin
	          \alpha}}{\color{coscolor}\cos \alpha} = 1/\sqrt 3.
	      \]%
	    };
	\end{tikzpicture}
	
	\end{document}
snippet macros ulam-spiral
	% Ulam spiral
	% Author: Alain Matthes (http://altermundus.fr/)
	
	\documentclass[]{article}
	\usepackage{ifthen,fullpage}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Ulam spiral
	:Tags: Macros, Foreach
	
	The `Ulam spiral`_ reveals some interesting prime number patters. The code
	is an excellent example of how TeX' control logic can be used to create
	complex drawings. Experiment with the code to reveal other prime number patterns.
	
	.. _Ulam spiral: http://en.wikipedia.org/wiki/Ulam_spiral
	
	:Author: `Alain Matthes`_
	:Source: `Altermundus`_
	
	.. _Alain Matthes: http://altermundus.fr/index.html
	.. _Altermundus: http://www.altermundus.fr/pages/math/ulam.html
	\end{comment}
	
	\newcounter{cmpt}
	\newcounter{next}
	\newcounter{end}
	\makeatletter
	\newcounter{prim@a}
	\newcounter{prim@n}
	\newcounter{prim@d}
	\newcounter{prim@b}
	\newboolean{reponse}
	
	\newcommand*\primality[1]
	{\setboolean{reponse}{true}
	 \setcounter{prim@n}{#1}
	 \ifthenelse{\value{prim@n}=0}% n = 0
	   {\setboolean{reponse}{false}}
	   {\ifthenelse{\value{prim@n}=1}% n =1
	     {\setboolean{reponse}{false}}%
	     {\ifthenelse{\value{prim@n}=2}{}% n = 2
	       {\ifthenelse{\value{prim@n}=3}{}% n = 3
	         {\ifthenelse{\isodd{\value{prim@n}}}% n > 3 parité ?
	            {\setcounter{prim@a}{#1}
	             \setcounter{prim@d}{3} % n impair on continue
	            \whiledo{\value{prim@a}>\value{prim@d}}% deb whiledo
	              {\setcounter{prim@a}{\value{prim@n}/\value{prim@d}}
	               \setcounter{prim@b}{\value{prim@a}*\value{prim@d}}
	               \ifthenelse{\value{prim@b}=\value{prim@n}}%
	                 {\setboolean{reponse}{false}
	                  \setcounter{prim@d}{\value{prim@a}}}%
	                 {\addtocounter{prim@d}{2}%
	                 }%
	              }% end whiledo
	           }
	           {\setboolean{reponse}{false}}% n est pair
	         }%
	       }%
	     }%
	   }
	}%end macro
	\makeatother
	
	\newcommand*\ballcolor{%
	    \stepcounter{cmpt}
	    \primality{\value{cmpt}}
	    \ifthenelse{\boolean{reponse}}%
	        { \colorlet{colornb}{blue!50}}%
	        { \colorlet{colornb}{red!30}}%
	}
	
	\newcommand*{\ulam}[2]{%
	    \setcounter{cmpt}{#1}
	    \addtocounter{cmpt}{-1}
	    \setcounter{next}{0}
	    \setcounter{end}{#2}
	
	    \ballcolor
	    \node(place) at (0,0)  {$\mathbf\thecmpt$};
	
	    \whiledo{\value{cmpt}<\value{end}}%
	    {
	            \foreach \i in {0,...,\thenext}
	            {\ballcolor
	            \node[above of=place] (place) {$\mathbf\thecmpt$};
	        }
	
	        \foreach \i in {0,...,\thenext}
	        {
	            \ballcolor
	            \node[right of=place] (place) {$\mathbf\thecmpt$};
	        }
	        \stepcounter{next}
	
	        \foreach \i in {0,...,\thenext}
	        {
	            \ballcolor
	            \node[below of=place] (place) {$\mathbf\thecmpt$};
	        }
	
	        \foreach \i in {0,...,\thenext}
	        {
	            \ballcolor
	            \node[left of=place] (place) {$\mathbf\thecmpt$};
	        }
	        \stepcounter{next}
	    }
	    \addtocounter{next}{-1}
	    \foreach \i in {0,...,\thenext}
	    {
	        \ballcolor
	        \node[above of=place] (place) {$\mathbf\thecmpt$};}
	}
	\begin{document}
	
	\begin{center}
	  \begin{tikzpicture}
	  \tikzstyle{every node}=[draw,%
	                          rectangle,%
	                          shade,%
	                          minimum size  = 1.6cm,%
	                          ball color    = colornb,%
	                          node distance = 1.6cm]
	
	  \ulam{41}{113}
	
	  \end{tikzpicture}
	\end{center}
	\end{document}
snippet circle unit-circle
	% Unit circle
	% Author: Supreme Aryal
	% A unit circle with cosine and sine values for some
	% common angles.
	\documentclass[landscape]{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}%
	%%%>
	
	\begin{comment}
	:Title: Unit circle
	
	A unit circle with cosine and sine values for some common angles.
	\end{comment}
	
	\usepackage[top=1in,bottom=1in,right=1in,left=1in]{geometry}
	\begin{document}
	    \begin{tikzpicture}[scale=5.3,cap=round,>=latex]
	        % draw the coordinates
	        \draw[->] (-1.5cm,0cm) -- (1.5cm,0cm) node[right,fill=white] {$x$};
	        \draw[->] (0cm,-1.5cm) -- (0cm,1.5cm) node[above,fill=white] {$y$};
	
	        % draw the unit circle
	        \draw[thick] (0cm,0cm) circle(1cm);
	
	        \foreach \x in {0,30,...,360} {
	                % lines from center to point
	                \draw[gray] (0cm,0cm) -- (\x:1cm);
	                % dots at each point
	                \filldraw[black] (\x:1cm) circle(0.4pt);
	                % draw each angle in degrees
	                \draw (\x:0.6cm) node[fill=white] {$\x^\circ$};
	        }
	
	        % draw each angle in radians
	        \foreach \x/\xtext in {
	            30/\frac{\pi}{6},
	            45/\frac{\pi}{4},
	            60/\frac{\pi}{3},
	            90/\frac{\pi}{2},
	            120/\frac{2\pi}{3},
	            135/\frac{3\pi}{4},
	            150/\frac{5\pi}{6},
	            180/\pi,
	            210/\frac{7\pi}{6},
	            225/\frac{5\pi}{4},
	            240/\frac{4\pi}{3},
	            270/\frac{3\pi}{2},
	            300/\frac{5\pi}{3},
	            315/\frac{7\pi}{4},
	            330/\frac{11\pi}{6},
	            360/2\pi}
	                \draw (\x:0.85cm) node[fill=white] {$\xtext$};
	
	        \foreach \x/\xtext/\y in {
	            % the coordinates for the first quadrant
	            30/\frac{\sqrt{3}}{2}/\frac{1}{2},
	            45/\frac{\sqrt{2}}{2}/\frac{\sqrt{2}}{2},
	            60/\frac{1}{2}/\frac{\sqrt{3}}{2},
	            % the coordinates for the second quadrant
	            150/-\frac{\sqrt{3}}{2}/\frac{1}{2},
	            135/-\frac{\sqrt{2}}{2}/\frac{\sqrt{2}}{2},
	            120/-\frac{1}{2}/\frac{\sqrt{3}}{2},
	            % the coordinates for the third quadrant
	            210/-\frac{\sqrt{3}}{2}/-\frac{1}{2},
	            225/-\frac{\sqrt{2}}{2}/-\frac{\sqrt{2}}{2},
	            240/-\frac{1}{2}/-\frac{\sqrt{3}}{2},
	            % the coordinates for the fourth quadrant
	            330/\frac{\sqrt{3}}{2}/-\frac{1}{2},
	            315/\frac{\sqrt{2}}{2}/-\frac{\sqrt{2}}{2},
	            300/\frac{1}{2}/-\frac{\sqrt{3}}{2}}
	                \draw (\x:1.25cm) node[fill=white] {$\left(\xtext,\y\right)$};
	
	        % draw the horizontal and vertical coordinates
	        % the placement is better this way
	        \draw (-1.25cm,0cm) node[above=1pt] {$(-1,0)$}
	              (1.25cm,0cm)  node[above=1pt] {$(1,0)$}
	              (0cm,-1.25cm) node[fill=white] {$(0,-1)$}
	              (0cm,1.25cm)  node[fill=white] {$(0,1)$};
	    \end{tikzpicture}
	\end{document}
snippet paths valentine-heart
	% Valentine heart
	% Author: Alain Matthes
	\documentclass{article}
	\usepackage[usenames,dvipsnames]{xcolor}
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Valentine heart
	:Tags: Paths
	
	Use PGF and TikZ to create a Valentine card.
	
	:Author: `Alain Matthes`_
	
	.. _Alain Matthes: http://altermundus.fr/index.html
	
	\end{comment}
	
	
	\begin{document}
	\begin{tikzpicture}
	    \draw[ball color=BrickRed,shading=ball] (4,1) ..controls +(120:2cm)
	        and +(90:2cm) .. (0,0) .. controls  +(-90:2cm) and +(90:3cm) ..
	        (4,-8) .. controls +(90:3cm) and +(-90:2cm) ..(8,0)  .. controls
	        +(90:2cm) and  +(60:2cm) .. (4,1);
	\end{tikzpicture}
	\end{document}
snippet diagrams venn-diagram-blended
	% Venn diagramm with PGF 3.0 blend mode
	% Author: Paul Gaborit
	\documentclass[tikz,border=10pt]{standalone}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: Venn diagramm with PGF 3.0 blend mode
	:Tags: Diagrams;Blending;PGF 3.0
	:Author: Paul Gaborit
	:Slug: venn-diagram-blended
	
	With TikZ 3.0, there's a new kind of transparency: you can use `blend modes`.
	
	From the manual:
	
	A blend mode specifies how colors mix when you paint on a canvas. Normally, if you paint a red box on a green circle, the red color will completely replace the green circle. However, in some situations you might also wish the red color to somehow "mix" or "blend" with the green circle. We already saw that, using transparency, we can draw something without completely obscuring the background. Blending is a similar operation, only here we mix colors in more complicated ways.
	
	Note: Blending is a rather "advanced" feature of PDF. Most renderers, let alone printers, will have trouble rendering blending correctly.
	
	Below is an example of screen blend mode (there are 16 modes: normal, multiply, screen, overlay, darken, lighten, color dodge, color burn, hard light, soft light, difference, exclusion, hue, saturation, color, luminosity).
	
	This code was written by Paul Gaborit and published on TeX.SE.
	\end{comment}
	\begin{document}
	\begin{tikzpicture}[blend group=screen]
	  \fill[red!90!black]   ( 90:.6) circle (1);
	  \fill[green!80!black] (210:.6) circle (1);
	  \fill[blue!90!black] (330:.6) circle (1);
	\end{tikzpicture}
	\end{document}
snippet venn venn-diagram
	\documentclass{article}
	
	\usepackage{tikz}
	\usetikzlibrary{shapes,backgrounds}
	\usepackage{verbatim}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Venn diagram
	:Tags:  Clipping, Transparency
	
	This example shows how to create Venn diagrams by clipping paths.  
	
	| Authors: Till Tantau. Sligtly modified by Kjell Magne Fauske
	| Source: `pgf-users`_ mailing list
	
	.. _pgf-users: http://sourceforge.net/mailarchive/forum.php?thread_id=30896803&forum_id=45629
	
	\end{comment}
	
	
	% Suppose we have three circles or ellipses or whatever. Let us define
	% commands for their paths since we will need them repeatedly in the
	% following:
	
	\def\firstcircle{(0,0) circle (1.5cm)}
	\def\secondcircle{(45:2cm) circle (1.5cm)}
	\def\thirdcircle{(0:2cm) circle (1.5cm)}
	
	% Now we can draw the sets:
	\begin{tikzpicture}
	    \draw \firstcircle node[below] {$A$};
	    \draw \secondcircle node [above] {$B$};
	    \draw \thirdcircle node [below] {$C$};
	
	    % Now we want to highlight the intersection of the first and the
	    % second circle:
	
	    \begin{scope}
	      \clip \firstcircle;
	      \fill[red] \secondcircle;
	    \end{scope}
	
	    % Next, we want the highlight the intersection of all three circles:
	
	    \begin{scope}
	      \clip \firstcircle;
	      \clip \secondcircle;
	      \fill[green] \thirdcircle;
	    \end{scope}
	
	    % The intersection trick works pretty well for intersections. If you need
	    % the set-theoretic difference between two sets, things are a little more
	    % complicated:
	
	    % Suppose we want to highlight the part of the first circle that is not 
	    % also part of the second circle. For this, we need to clip against the 
	    % "complement" of the second circle. The trick is to add a large rectangle
	    % that encompasses everything and then use the even-odd filling rule 
	    % (see the manual again):
	
	    \begin{scope}[shift={(6cm,0cm)}]
	        \begin{scope}[even odd rule]% first circle without the second
	            \clip \secondcircle (-3,-3) rectangle (3,3);
	        \fill[yellow] \firstcircle;
	        \end{scope}
	        \draw \firstcircle node {$A$};
	        \draw \secondcircle node {$B$};
	    \end{scope}
	    
	    % When using the above, you will notice that the border lines of the
	    % original circles are erased by the intersection parts. To solve this
	    % problem, either use a background layer (see the manual) or simply draw
	    % the border lines after everything else has been drawn.
	    
	    % The last trick is to cheat and use transparency
	    \begin{scope}[shift={(3cm,-5cm)}, fill opacity=0.5]
	        \fill[red] \firstcircle;
	        \fill[green] \secondcircle;
	        \fill[blue] \thirdcircle;
	        \draw \firstcircle node[below] {$A$};
	        \draw \secondcircle node [above] {$B$};
	        \draw \thirdcircle node [below] {$C$};
	    \end{scope}
	
	
	\end{tikzpicture}
	
	% Naturally, all of this could be bundled into nicer macros, but the above 
	% should give the idea.
	
	\end{document}
snippet venn venn-diagram-with-magnifier
	% Venn diagram with magnifier
	% Author: Dennis Heidsiek
	\documentclass{minimal}
	
	\usepackage{tikz}
	\usetikzlibrary{spy}
	
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	
	\begin{document}
	\pagestyle{empty}
	
	\begin{comment}
	:Title: Venn diagram with magnifier
	
	This example shows how to add a glass to magnify a special part of a pictures.
	It makes use of the new spy library, so you'll need a recent TikZ version [1]
	to compile it.
	
	It was created by Dennis Heidsiek [2], based on the example [3],
	inspired by a sketch in [4].
	
	- [1] http://www.texample.net/tikz/builds/
	- [2] http://www.google.com/profiles/Dennis.Heidsiek
	- [3] http://www.texample.net/tikz/examples/venn-diagram/
	- [4] http://wiki.the-big-bang-theory.com/wiki/Psychic_Vortex
	
	\end{comment}
	
	% First, we define three circles:
	\def\firstcircle{(-2,0) circle (2.4)}
	\def\secondcircle{(2,0) circle (2.4)}
	\pgfmathparse{-(2.4^2-2^2)^0.5} % by pythagoras
	\let\h\pgfmathresult % shortcut for further use
	\def\thirdcircle{(0,\h) circle (0.2cm)}
	
	\begin{tikzpicture}
	 % Let's draw the scene (to magnify):
	  \begin{scope}[spy using outlines=
	      {magnification=16, size=8cm, connect spies, rounded corners}]
	    
	    % the boarder:
	    \draw[thick, rounded corners] (-5,-4) rectangle (5,4);
	    \draw (0,3.3) node[scale=2] {the universe of all jobs};
	    
	    % The transparency:
	    \begin{scope}[fill opacity=0.5]
	      \fill[red] \firstcircle;
	      \fill[green] \secondcircle;
	      \fill[blue] \thirdcircle;
	    \end{scope}
	    
	    % letterings and missing pieces:
	    \draw[align=center] \firstcircle node {what you\\would like\\to do};
	    \draw[align=center] \secondcircle node {what you\\are able\\to do};
	    \draw \thirdcircle
	      (0,-2.3) node[align=center] {em-\\ployment\\you get paid enough for};
	    \fill (0,\h+0.12) circle (0.005)
	        node[scale=0.11, align=center] {perfect\\job};
	    
	    % now we can draw the magnifying glass:
	    \spy [red] on (0,\h) in node [left] at (13.25,0);
	  \end{scope}
	\end{tikzpicture}
	
	\end{document}
snippet diagrams venn
	% A Venn diagram with PDF blending
	% Author: Stefan Kottwitz
	% https://www.packtpub.com/hardware-and-creative/latex-cookbook
	\documentclass[border=10pt]{standalone} 
	%%%<
	\usepackage{verbatim}
	%%%>
	\begin{comment}
	:Title: A Venn diagram with PDF blending
	:Tags: Diagrams;Cookbook
	:Author: Stefan Kottwitz
	:Slug: venn
	
	PDF blend mode requires TikZ version 3.0 or above.
	\end{comment}
	\usepackage{tikz}
	\begin{document}
	\begin{tikzpicture}
	  \begin{scope}[blend group = soft light]
	    \fill[red!30!white]   ( 90:1.2) circle (2);
	    \fill[green!30!white] (210:1.2) circle (2);
	    \fill[blue!30!white]  (330:1.2) circle (2);
	  \end{scope}
	  \node at ( 90:2)    {Typography};
	  \node at ( 210:2)   {Design};
	  \node at ( 330:2)   {Coding};
	  \node [font=\Large] {\LaTeX};
	\end{tikzpicture}
	\end{document}
snippet animations wankel-motor
	% Animated Wankel-Motor
	% Author: Robert Papanicola
	\documentclass{article} 
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\setlength\PreviewBorder{5pt}%
	%%%>
	\begin{comment}
	:Title: Animated Wankel-Motor
	:Tags: Animations;Physics
	:Author: Robert Papanicola
	:Slug: wankel-motor
	
	From Wikipedia: The Wankel engine is a type of internal combustion engine
	using an eccentric rotary design to convert pressure into a rotating motion
	instead of using reciprocating pistons. Its four-stroke cycle takes place in
	a space between the inside of an oval-like epitrochoid-shaped housing and
	a rotor that is similar in shape to a Reuleaux triangle but with sides that
	are somewhat flatter. The very compact Wankel engine delivers smooth
	high-rpm power. It is commonly called a rotary engine, though this name
	applies also to other completely different designs. It is the only internal
	combustion engine invented in the twentieth century to go into production.
	\end{comment}%\usepackage{pgfmath}
	\usetikzlibrary{calc}
	\usepackage{animate}
	\usepackage{fp} %[fr] utile pour les calculs de position des différentes phases du moteur
	% [fr] mais inutile pour la simulation seule
	% Useful for calculating the position of the different phases of the motor but useless for simulation only
	
	\newcommand{\Wankel}[1]{
	% \def\itheta{#1}
	\FPabs{\itheta}{#1}
	% définition des données \ data definition
	\def\OA{0.4}
	\def\OB{0.8}
	\def\AE{4}
	% \def\seuil{500}
	% \def\couleur{20}
	
	%==========
	% [fr] définition des paramètres angulaires du rotor en fonction des phases du moteur 
	% definition of angular parameters of the rotor according to the motor phases
	\def\Comp{0}
	\def\Expl{360}
	\def\Det{375}
	\def\Ech{660}
	\def\Asp{870}
	\def\decalage{125} 
	% [fr] décalage de l'origine pour positionner le rotor au début de la compression à l'instant t=0
	% [en] shift the origin to position the rotor at the start of compression at time t = 0
	\begin{tikzpicture}
	%===== [fr] Définition de quelques couleurs pales\ [en]  some color
	\colorlet{vertclair}{green!25}
	\colorlet{grisclair}{gray!60}
	\colorlet{rougepale}{red!60}
	
	% [fr] Début des test nécessaire pour colorer la chambre
	% test needed to color the combustion chamber
	\FPabs{\val}{\itheta} 
	% [fr] FPiflt et les autres tests de FP ne permettent pas de faire des
	% [fr] tests inclus dans des tests. Le premier test est donc toujours vrai,
	% [fr] le style chambre1 sera donc affecté avec [{vertclair!\pos!orange}]
	% [fr] mais ne sera affiché que si aucun des tests suivants n'est vrai.
	% FPiflt and other FP tests do not do tests included in the tests. The first
	% test is always true, the style will be affected with chambre1
	% [{vertclair! \ Pos! Orange}] but will not be displayed if any of the
	% following tests is true.
	\FPiflt{\val}{1080}
	\FPeval{\pos}{(\val-1080)/(\Ech-1080)*100} 
	\tikzstyle{chambre1}=[{vertclair!\pos!orange}]% aspiration
	% \tikzstyle{chambre2}=[ ball color={gray!\pos!red}]% détente}
	% \tikzstyle{chambre3}=[ ball color={orange!\pos!green}]% aspiration
	\def\texte{Aspiration}
	\fi
	
	% [fr] echappement / Second test, Exhaust
	\FPiflt{\val}{\Asp}
	\FPeval{\pos}{(\val-\Ech)/(\Asp-\Ech)*100} 
	\tikzstyle{chambre1}=[{vertclair!\pos!grisclair}]%echappement
	% \tikzstyle{chambre2}=[ ball color={gray!\pos!red}]% détente}
	% \tikzstyle{chambre3}=[ ball color={orange!\pos!green}]%aspiration
	\def\texte{Echappement}
	\fi
	
	% [fr] troisième test - détente  /  Third test - relaxation
	
	\FPiflt{\val}{\Ech}
	\FPeval{\pos}{(\val-\Det)/(\Ech-\Det)*100} 
	\tikzstyle{chambre1}=[ {grisclair!\pos!rougepale}]%détente}
	% \tikzstyle{chambre2}=[ ball color={gray!\pos!red}]%compression
	% \tikzstyle{chambre3}=[ ball color={orange!\pos!green}]%aspiration
	\def\texte{Detente}
	\fi
	
	% [fr] quatrième test - explosion /  Fourth test - explosion
	\FPiflt{\val}{\Det}
	\FPeval{\pos}{(\val-\Expl)/(\Det-\Expl)*100} 
	\tikzstyle{chambre1}=[ {rougepale!\pos!red}]%Explosion
	% \tikzstyle{chambre2}=[ ball color={gray!\pos!red}]%détente}
	% \tikzstyle{chambre3}=[ ball color={orange!\pos!green}]%aspiration
	\def\texte{Explosion}
	\fi
	
	% [fr] cinquième test / Fifth test - aspiration
	\FPiflt{\val}{\Expl}
	\FPeval{\pos}{(\val-\Comp)/(\Expl-\Comp)*100} 
	\tikzstyle{chambre1}=[ {red!\pos!orange}]%compression
	% \tikzstyle{chambre2}=[ ball color={gray!\pos!red}]%détente}
	% \tikzstyle{chambre3}=[ ball color={orange!\pos!green}]%aspiration
	\def\texte{Compression}
	\fi
	
	\FPtrunc{\pos}{\pos}{0}
	
	% [fr] Ajout du décalage pour dessiner le rotor en position initiale
	% [en] Adding the offset to draw the rotor in the first position
	\FPeval{\itheta}{0-(\decalage+\itheta)}
	
	% [fr] début du dessin 
	\draw (-5,-4.5) rectangle (5,4.5); %cadre pour imposer les dimensions du dessin
	
	%[fr}dessin du stator / drawing of the stator
	\begin{scope}% stator
	  \coordinate (A) at (\itheta:\OA);  %[fr] Le point A tourne autour de O
	  % [fr] avec l'angle itheta
	  % [en]Point A turns around point O the angle with itheta
	  \coordinate (O) at (0,0);% Origine
	
	  \filldraw[thick,black,domain=0:1080,smooth,variable=\t,fill=gray,samples=50]
	  plot ({.4*cos(\t)+4*cos(.333333*\t)},{.4*sin(\t)+4*sin(.333333*\t)})
	  plot ({.42*cos(-\t)+4.2*cos(-.333333*\t)},{.42*sin(-\t)+4.2*sin(-.333333*\t)});
	  \fill[white](0.3,3) rectangle (0.5,4); % dessin des soupapes
	      % (admission echappement) 
	  \fill[white](-0.3,3) rectangle (-0.5,4);
	  \filldraw[red](-0.4,-3.5) rectangle (-0.5,-3.7);% Bougie
	
	  % [fr]Coloriage des chambres en fonction de la phase de fonctionnement,
	  % [fr]le rotor sera dessine par dessus et masquera le surplus
	  % [fr](le bord intérieur est linéaire et non incurvé).
	  % Coloring of the rooms according to the operating phase, the rotor will be
	  % plotted on top and hide the rest (the inner edge is straight, not curved).
	  % Chambre 1
	  \fill[thick,black,domain=-1*(\itheta):-1*(\itheta+360),smooth,variable=\t,
	    chambre1] plot ({.4*cos(-\t)+4*cos(-.333333*\t)},
	    {.4*sin(-\t)+4*sin(-.333333*\t)});
	
	  % affichage des paramètres
	  % \FPtrunc{\itheta}{\itheta}{0}
	  % \FPtrunc{\val}{\val}{0}
	  % \node at (0,6){$\theta$=\itheta,pos=\pos,val=\val};
	
	  \draw[black](O) circle (\OB); %Dessin du pignon fixe
	  \draw(O) -- (A);
	\end{scope}
	
	% [fr] Dessin du rotor / Draw the rotor
	\begin{scope}[shift={(A)},rotate={\itheta}] % le repere est tourné de itheta
	  % [fr] les trois points, C, D, E sont définis en polaire dans ce repère
	  % [en] the three points, C, D, E are defined in the polar reference
	  \coordinate (E) at ({-\itheta*\OB/(\OB+\OA)}:\AE); 
	  \coordinate (C) at ({-\itheta*\OB/(\OB+\OA)+120}:\AE);
	  \coordinate (D) at ({-\itheta*\OB/(\OB+\OA)+240}:\AE);
	  \draw[red](A) -- (E);
	  \filldraw [bend left=29.5,red,fill=red!50] (A) circle (\OA+\OB)% dessin et coloriage du rotor
	    (E) to (D) to (C) to (E);
	\end{scope}
	
	\node at (0,-4) {\texte};  % le texte affiche la phase de fonctionnement
	\end{tikzpicture}
	}
	
	\begin{document}
	\begin{preview}
	% [fr] Animation avec le package animate
	% Animation with the animate package
	\begin{animateinline}[controls,loop]{12}
	  \multiframe{72}{ixb=0+15}{
	    \Wankel{\ixb}}
	\end{animateinline}
	\vfill
	%{fr] Pour dessiner le rotor dans un position particulière
	% To draw the rotor in a particular position
	\begin{center}
	  \Wankel{200}
	\end{center}
	\end{preview}
	\end{document}
snippet plots weather-stations-data
	\documentclass{article}
	
	\usepackage[utf8]{inputenc}
	\usepackage{tikz}
	\usepackage{dcolumn}
	\usepackage{booktabs}
	\usepackage{lscape}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Weather stations data
	:Tags: Plots, Sparklines, Macros, Charts
	
	This table shows one year of daily average temperatures and rainfall data from a handful of
	weather stations in Norway. The report was generated from a data set downloaded
	from `www.met.no`_. A Python script was used to do the necessary data crunching and
	text formatting. For details about the plotting, see my first `sparklines experiment`_ entry.
	
	To compile this example you'll need this include file:
	
	- `weatherdata.txt`_
	
	.. _www.met.no: http://www.met.no
	.. _weatherdata.txt: http://www.fauskes.net/media/pgftikzexamples/data/weatherdata.txt
	.. _sparklines experiment: http://www.fauskes.net/pgftikzexamples/temperature-and-rain-sparklines/
	\end{comment}
	
	
	\begin{document}
	\pagestyle{empty}
	
	\input{data/weatherdata.txt}
	
	% Plot a tiny temperature graph
	% Input:
	%   #1 Plot data
	%   #2 Mark indices
	%   #3 Mean temperature
	\newcommand{\tempplot}[3]{%
	    \begin{tikzpicture}[xscale=0.01, yscale=0.01]
	        \draw[ultra thin, black!50] (1,0)--(365,0);
	        \draw[ultra thin, black!20] (1,#3)--(365,#3);
	        \draw[ultra thin] plot[smooth,mark=*, mark indices={#2},
	            mark options={color=red,scale=20}] #1;
	    \end{tikzpicture}%
	}
	
	% Plot a tiny rainfall bar chart
	% Input:
	%   #1 Rainfall data
	%   #2 Mean rainfall
	\newcommand{\rainplot}[2]{%
	    \begin{tikzpicture}[xscale=0.01, yscale=0.01]
	        \begin{scope}[ycomb, yscale=0.5]
	            \draw[ultra thin, black!20] (1,#2)--(365,#2);
	            \draw[black!80, line width=0.1mm] plot #1;
	        \end{scope}
	    \end{tikzpicture}%
	}
	
	
	\newcolumntype{.}{D{.}{.}{2}}
	
	\begin{tabular}{lc...c..}
	    \multicolumn{8}{c}{Weather station data 2005}\\\toprule
	    Weather station &
	    Average temperatures (${}^\circ$C) &
	    \multicolumn{1}{c}{Min} &
	    \multicolumn{1}{c}{Mean} &
	    \multicolumn{1}{c}{Max} &
	    Daily rainfall (mm)&
	    \multicolumn{1}{c}{Mean} &
	    \multicolumn{1}{c}{Max}\\\midrule
	    RYGGE & \tempplot{coordinates {\ryggeTEMPDATA}}
	    {61,190}{7.5} & -10.5 & 7.5 & 23.8 &
	    \rainplot{coordinates {\ryggeRAINDATA}}{2.0} & 2.0 & 34.8 \\
	    NESBYEN - TODOKK & \tempplot{coordinates {\nesbyentodokkTEMPDATA}}
	        {353,184}{4.8} & -16.8 & 4.8 & 21.8 &
	    \rainplot{coordinates {\nesbyentodokkRAINDATA}}{1.2} & 1.2 & 35.9 \\
	    TORUNGEN FYR & \tempplot{coordinates {\torungenfyrTEMPDATA}}
	        {61,191}{8.5} & -6.0 & 8.5 & 21.8 &
	    \rainplot{coordinates {\torungenfyrRAINDATA}}{2.1} & 2.1 & 35.9 \\
	    SOLA & \tempplot{coordinates {\solaTEMPDATA}}
	        {61,231}{8.5} & -4.6 & 8.5 & 19.7 &
	    \rainplot{coordinates {\solaRAINDATA}}{3.6} & 3.6 & 48.1 \\
	    GARDERMOEN & \tempplot{coordinates {\gardermoenTEMPDATA}}
	        {61,204}{5.4} & -15.4 & 5.4 & 19.4 &
	    \rainplot{coordinates {\gardermoenRAINDATA}}{2.0} & 2.0 & 48.5 \\
	    BERGEN - FLORIDA & \tempplot{coordinates {\bergenfloridaTEMPDATA}}
	        {363,190}{8.4} & -5.3 & 8.4 & 19.3 &
	    \rainplot{coordinates {\bergenfloridaRAINDATA}}{8.4} & 8.4 & 156.5 \\
	    LÆRDAL - MOLDO & \tempplot{coordinates {\lrdalmoldoTEMPDATA}}
	        {61,284}{7.0} & -11.5 & 7.0 & 20.7 &
	    \rainplot{coordinates {\lrdalmoldoRAINDATA}}{1.8} & 1.8 & 58.1 \\
	    TAFJORD & \tempplot{coordinates {\tafjordTEMPDATA}}
	        {61,186}{7.9} & -5.8 & 7.9 & 22.6 &
	    \rainplot{coordinates {\tafjordRAINDATA}}{3.2} & 3.2 & 64.5 \\
	    VÆRNES & \tempplot{coordinates {\vrnesTEMPDATA}}
	        {58,183}{6.5} & -13.7 & 6.5 & 24.0 &
	    \rainplot{coordinates {\vrnesRAINDATA}}{2.5} & 2.5 & 37.0 \\
	    RENA - HAUGEDALEN & \tempplot{coordinates {\renahaugedalenTEMPDATA}}
	        {351,190}{3.8} & -19.8 & 3.8 & 22.4 &
	    \rainplot{coordinates {\renahaugedalenRAINDATA}}{1.9} & 1.9 & 26.6 \\
	    BODØ VI & \tempplot{coordinates {\bodviTEMPDATA}}
	        {60,185}{5.7} & -8.2 & 5.7 & 22.1 &
	    \rainplot{coordinates {\bodviRAINDATA}}{4.0} & 4.0 & 39.5 \\
	    TROMSØ & \tempplot{coordinates {\tromsTEMPDATA}}
	        {75,188}{4.1} & -8.4 & 4.1 & 19.3 &
	    \rainplot{coordinates {\tromsRAINDATA}}{3.5} & 3.5 & 38.5 \\
	    KAUTOKEINO & \tempplot{coordinates {\kautokeinoTEMPDATA}}
	        {45,189}{-0.5} & -29.9 & -0.5 & 21.1 &
	    \rainplot{coordinates {\kautokeinoRAINDATA}}{1.5} & 1.5 & 18.8 \\
	    NY-ÅLESUND & \tempplot{coordinates {\nylesundTEMPDATA}}
	        {71,188}{-3.4} & -24.4 & -3.4 & 13.2 &
	    \rainplot{coordinates {\nylesundRAINDATA}}{0.9} & 0.9 & 29.1 \\
	    JAN MAYEN & \tempplot{coordinates {\janmayenTEMPDATA}}
	        {97,203}{0.6} & -11.6 & 0.6 & 11.1 &
	    \rainplot{coordinates {\janmayenRAINDATA}}{2.0} & 2.0 & 23.3 \\\bottomrule
	\end{tabular}
	
	%\end{landscape}
	\end{document}
snippet mathematics windshield-wiper
	% Windshield wiper - drawing for calculating the area swept by the blade
	% Author: Jimi Oke
	\documentclass{article}
	\usepackage[margin=2cm]{geometry}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{5pt}
	%%%>
	\begin{comment}
	:Title: Windshield wiper
	:Tags: Mathematics; Geometry
	:Author: Jimi Oke
	:Slug: windshield-wiper
	A windshield or windscreen is the front window of a car, a bus,
	or an aircraft, for example. Wipers are used for removing rain and
	debris from it. This drawing has been made for students who were
	calculating the area swept by the blade of the wiper.
	\end{comment}
	\usetikzlibrary{fadings}
	\begin{document}
	\begin{tikzpicture}[>=latex]
	    \tikzfading[name=fade out, inner color=transparent!0,
	         outer color=transparent!100]
	
	    % dimensions and angle
	    \draw[|<->|, xshift=0.1cm,yshift=-0.4cm] 
	    (15:0) -- (15:6) node[fill=white, midway,sloped] {36 in} ;
	
	    \draw[|<->|, xshift=-0.15cm,yshift=-0.4cm] 
	    (155:0) -- (155:2) node[fill=white, midway,sloped] {12 in} ;
	
	    \draw[<-] (15:.6) arc (15:155:.6) ;
	    \node at (45:1.1) {$0.8\pi$} ;
	
	    % background/shading
	    \fill [gray, path fading=fade out] (-8,-2) rectangle (9,8);
	
	    % sweep area
	    \filldraw[gray!50,left color=blue!25, right color=blue!30, middle color=white] 
	    (15:2) arc (15:155:2) -- (155:2) -- (155:6) arc (155:15:6) -- (15:2) ;
	
	    \draw[dashed] (15:0) -- (15:2) ;
	    \draw[dashed] (155:0) -- (155:2) ;
	    
	    % wiper blade
	    \filldraw(0,0) circle (.08cm) ;
	    \filldraw[very thick,black,double distance=1pt] (92:0) -- (92:2.2) ;
	    \draw[ultra thick] (90:2) -- (90:6) ;
	    \draw[fill=gray!90!blue] (90.5:2.2) -- (94:2.2) -- (91.5:5.5) --
	    (90.5:5.5);
	    \draw[fill=gray!90!blue]  (90:5.5) -- (91:5.5) -- (90.5:6) --
	    (90:6); 
	\end{tikzpicture}
	\end{document}
snippet charts work-breakdown-structure
	\documentclass{article}
	\usepackage{tikz}
	%%%<
	\usepackage{verbatim}
	\usepackage[active,tightpage]{preview}
	\PreviewEnvironment{tikzpicture}
	\setlength\PreviewBorder{10pt}%
	%%%>
	\begin{comment}
	:Title: Work breakdown structures aka WBS diagrams
	:Tags: Charts;Diagrams;Trees
	:Author: Gonzalo Medina
	:Slug: work-breakdown-structure
	
	A work breakdown structure (WBS) diagram, is for decomposing a task into smaller parts, which helps organizing and performing. This example diagram shows possible tasks for designing a TikZ diagram. The basis is a tree, nodes were addes below its child nodes. It was originally posted by Gonzalo Medina as TeX.SE (http://tex.stackexchange.com/q/81809/213), modified by Stefan Kottwitz.
	\end{comment}
	\usetikzlibrary{arrows,shapes,positioning,shadows,trees}
	
	\tikzset{
	  basic/.style  = {draw, text width=2cm, drop shadow, font=\sffamily, rectangle},
	  root/.style   = {basic, rounded corners=2pt, thin, align=center,
	                   fill=green!30},
	  level 2/.style = {basic, rounded corners=6pt, thin,align=center, fill=green!60,
	                   text width=8em},
	  level 3/.style = {basic, thin, align=left, fill=pink!60, text width=6.5em}
	}
	
	\begin{document}
	\begin{tikzpicture}[
	  level 1/.style={sibling distance=40mm},
	  edge from parent/.style={->,draw},
	  >=latex]
	
	% root of the the initial tree, level 1
	\node[root] {Drawing diagrams}
	% The first level, as children of the initial tree
	  child {node[level 2] (c1) {Defining node and arrow styles}}
	  child {node[level 2] (c2) {Positioning the nodes}}
	  child {node[level 2] (c3) {Drawing arrows between nodes}};
	
	% The second level, relatively positioned nodes
	\begin{scope}[every node/.style={level 3}]
	\node [below of = c1, xshift=15pt] (c11) {Setting shape};
	\node [below of = c11] (c12) {Choosing color};
	\node [below of = c12] (c13) {Adding shading};
	
	\node [below of = c2, xshift=15pt] (c21) {Using a Matrix};
	\node [below of = c21] (c22) {Relatively};
	\node [below of = c22] (c23) {Absolutely};
	\node [below of = c23] (c24) {Using overlays};
	
	\node [below of = c3, xshift=15pt] (c31) {Default arrows};
	\node [below of = c31] (c32) {Arrow library};
	\node [below of = c32] (c33) {Resizing tips};
	\node [below of = c33] (c34) {Shortening};
	\node [below of = c34] (c35) {Bending};
	\end{scope}
	
	% lines from each level 1 node to every one of its "children"
	\foreach \value in {1,2,3}
	  \draw[->] (c1.195) |- (c1\value.west);
	
	\foreach \value in {1,...,4}
	  \draw[->] (c2.195) |- (c2\value.west);
	
	\foreach \value in {1,...,5}
	  \draw[->] (c3.195) |- (c3\value.west);
	\end{tikzpicture}
	\end{document}
snippet notes yellow-notes
	%
	%
	% Author:
	% Efraín Soto Apolinar.
	% http://www.aprendematematicas.org/
	% 
	% This document contains the definition of
	% two commands to include Yellow notes in 
	% the margin of a page.
	%
	
	\documentclass[12pt]{article}
	%%%<
	\usepackage{verbatim}
	%%%>
	
	\begin{comment}
	:Title: Yellow notes
	
	This document contains the definition of
	two commands to include Yellow notes in 
	the margin of a page.
	
	\end{comment}
	
	\usepackage{color}
	\usepackage{tikz}
	\usepackage{calc}
	
	\setlength{\parskip}{0ex}
	\setlength{\parindent}{0ex}
	
	\newlength{\yellownotewidth}
	\setlength{\yellownotewidth}{2.5cm}
	\newlength{\yellownoteheight}
	\setlength{\yellownoteheight}{2.5cm}
	%   -   -   -   -   -   -   -   -   -   -   -   -
	% Yellow note...
	%   -   -   -   -   -   -   -   -   -   -   -   -
	\newcommand{\yellownote}[1]{
	\marginpar{
	    \vspace{-0.5\yellownoteheight}
	        \begin{center}
	        \begin{tikzpicture}
	            \draw[white,fill=gray!25,opacity=0.75,shift={(-0.125,-0.125)}] 
	                (0,0) rectangle (\yellownotewidth,\yellownoteheight);
	            \draw[fill=yellow!35] (0,0) rectangle (\yellownotewidth,\yellownoteheight);
	            \draw[opacity=0.45,fill=gray!50] (0.7\yellownotewidth,0) -- 
	                (0.9\yellownotewidth,0.45) -- (\yellownotewidth,0.4) -- cycle;
	            \node[blue,below] at (0.5\yellownotewidth,\yellownoteheight) {
	                \begin{minipage}{\yellownotewidth-1em}
	                    \scriptsize\sf#1
	                \end{minipage}
	            };
	        \end{tikzpicture}
	        \end{center}
	        \vspace{0.5\yellownoteheight}
	    }
	}
	
	%   -   -   -   -   -   -   -   -   -   -   -   -
	% Resizeable - Yellow note...
	%   -   -   -   -   -   -   -   -   -   -   -   -
	\newcommand{\resizeableyellownote}[3]{
	\setlength{\yellownotewidth}{#1cm}
	\setlength{\yellownoteheight}{#2cm}
	\marginpar{
	    \vspace{-0.5\yellownoteheight}
	        \begin{center}
	        \begin{tikzpicture}
	            \draw[white,fill=gray!25,opacity=0.75,shift={(-0.125,-0.125)}] 
	                (0,0) rectangle (\yellownotewidth,\yellownoteheight);
	            \draw[fill=yellow!35] (0,0) rectangle (\yellownotewidth,\yellownoteheight);
	            \draw[opacity=0.45,fill=gray!50] (0.7\yellownotewidth,0) -- 
	                (0.9\yellownotewidth,0.45) -- (\yellownotewidth,0.4) -- cycle;
	            \node[blue,below] at (0.5\yellownotewidth,\yellownoteheight) {
	                \begin{minipage}{\yellownotewidth-1em}
	                    \scriptsize\sf#3
	                \end{minipage}
	            };
	        \end{tikzpicture}
	        \end{center}
	        \vspace{0.5\yellownoteheight}
	    }
	}
	%
	% Fonts
	%
	\usepackage{slantsc}
	\usepackage[sc]{mathpazo}
	%
	%
	%
	\begin{document}
	%
	%
	%
	To include a yellow note into a document insert the 
	code:
	\begin{verbatim}
	\yellownote{
	   Message into a yellow note. We just want to see how it 
	   will look.
	}
	\end{verbatim}
	and you will see the first yellow note at the 
	margin of the page.
	\yellownote{
	Message into a yellow note. We just want to see how it 
	will look.
	}
	Include more text then...
	
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	
	And when neccesary, change the size of the yellow note 
	with the following command:
	\begin{verbatim}
	\resizeableyellownote{2.5}{1.5}{
	   Resizeable yellow note.
	}
	\end{verbatim}
	to get the second one... 
	\resizeableyellownote{2.5}{1.5}{Resizeable yellow note.}
	Each of the arguments are: \verb|{width}{height}| 
	in centimeters. You do not need to include the 
	unit in the argument. The instruction already 
	knows it. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	This text is only a test. This text is only a test. 
	
	I hope this help you improve your design.
	
	\end{document}
snippet clipping yin-and-yang
	% Yin and yang
	% Author: Thomas G. Kristensen
	\documentclass{article}
	
	\usepackage{tikz}
	\usepackage{verbatim}
	
	\begin{comment}
	:Title: Yin and yang
	:Tags: Clipping
	
	How to draw the traditional Taijitu_ symbol from Chinese philosophy.
	
	.. _Taijitu: http://en.wikipedia.org/wiki/Taijitu
	
	:Author: `Thomas G. Kristensen`_
	
	.. _Thomas G. Kristensen: http://g2k.dk/
	
	\end{comment}
	
	
	\begin{document}
	
	
	\begin{tikzpicture}
	
	  %color one half of a unit circle
	  \begin{scope}
	    \clip (0,0) circle (1cm);
	    \fill[black] (0cm,1cm) rectangle (-1cm, -1cm);
	  \end{scope}
	
	  %fill heads
	  \fill[black] (0,0.5) circle (0.5cm);
	  \fill[white] (0,-0.5) circle (0.5cm);
	
	  %fill eyes
	  \fill[white] (0,0.5) circle (0.1cm);
	  \fill[black] (0,-0.5) circle (0.1cm);
	
	  %outer line
	  \draw (0,0) circle (1cm);
	
	\end{tikzpicture}
	
	
	%%% An alternative method suggested by Robert Papanicola
	%%% There are unfortunately some visual artifacts due to
	%%% the
	%%\begin{tikzpicture}
	%%%\fill[black, rounded corners=1cm] (0,-1) -- (-1,-1) -- (-1,1) -- (0,1) {
	%%%     [rounded corners=0.5cm]-- (0.5,1) -- (0.5,0) -- (0,0) -- (-0.5,0)
	%%%     -- (-0.5,-1) -- (0,-1)} ;
	%%\fill[black, rounded corners=0.5cm] (0,-1) -- (-1,-1) -- (-1,1) -- (0,1) {
	%%     [rounded corners=0.5cm]-- (0.5,1) -- (0.5,0) -- (0,0) -- (-0.5,0)
	%%     -- (-0.5,-1) -- (0,-1)} ;
	%%\draw (0,0) circle (1cm);
	%%\draw[fill=white] (0,0.5) circle (0.1cm);
	%%\draw[fill=black] (0,-0.5) circle (0.1cm);
	%%\end{tikzpicture}
	
	\end{document}
snippet diagrams block_diagram
	\documentclass{article}
	\usepackage{tikz}
	\usetikzlibrary{shapes,arrows}

	\begin{document}
	
	\tikzstyle{block} = [draw, fill=black!5, rectangle, rounded corners, minimum height=3em, minimum width=6em]
	
	\begin{tikzpicture}[auto]
	    \node [block] (expand) {Expand CFG};
	    \node [block, below of=expand, node distance=3cm] (resolve) {Resolve S};
	    \node [block, right of=expand, below of=expand, yshift=-0.5cm, xshift=3cm] (sp) {``sp'' computation};
	    \node [block, right of=sp, node distance=4cm] (cfg) {CFG};
	    \node [left of=sp, node distance=2.5cm] (spannotation) {\parbox{1.5cm}{\small Slicing + Simulation}};
	    \node [below of=resolve, node distance=1cm] (resolveannotation) {\small Slicing + Simulation};
	
	    \draw [->] (expand) -| node [xshift=-1.8cm, yshift=0.5cm] {$G,S \rightarrow \mbox{Set of unknown jumps}$} (sp);
	    \draw [->] (expand) -| node [xshift=-0.5cm, yshift=0.5cm] {$\mbox{frontier} = \phi $} (cfg);
	    \draw [->] (sp) |- node {$G_1, S \rightarrow \mbox{Annotated with sp}$} (resolve);
	    \draw [->] (resolve) -- node {$k:=Succ(S)$} (expand);
	\end{tikzpicture}
	
	\end{document}
snippet roundedimg
	\documentclass{article}
	\usepackage{tikz}
	\usepackage{graphicx}
	
	\newcommand*{\ClipSep}{0.4cm}%
	
	\begin{document}
	\includegraphics[width=5.0cm]{images/EiffelTall.jpg}

	\begin{tikzpicture}
	\node [inner sep=0pt] at (0,0) {\includegraphics[width=5.0cm]{images/EiffelTall.jpg}};
	\draw [white, rounded corners=\ClipSep, line width=\ClipSep] 
	    (current bounding box.north west) -- 
	    (current bounding box.north east) --
	    (current bounding box.south east) --
	    (current bounding box.south west) -- cycle
	    ;
	\end{tikzpicture}
	\end{document}



